(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function tv(e,t){const n=Object.create(null),i=e.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const mt={},Ms=[],br=()=>{},dO=()=>!1,pO=/^on[^a-z]/,Qf=e=>pO.test(e),nv=e=>e.startsWith("onUpdate:"),Gt=Object.assign,rv=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},mO=Object.prototype.hasOwnProperty,We=(e,t)=>mO.call(e,t),Ae=Array.isArray,Fs=e=>sc(e)==="[object Map]",Jf=e=>sc(e)==="[object Set]",x_=e=>sc(e)==="[object Date]",Le=e=>typeof e=="function",Ft=e=>typeof e=="string",Oa=e=>typeof e=="symbol",ct=e=>e!==null&&typeof e=="object",vT=e=>ct(e)&&Le(e.then)&&Le(e.catch),yT=Object.prototype.toString,sc=e=>yT.call(e),gO=e=>sc(e).slice(8,-1),wT=e=>sc(e)==="[object Object]",iv=e=>Ft(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Jl=tv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Zf=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},vO=/-(\w)/g,Kr=Zf(e=>e.replace(vO,(t,n)=>n?n.toUpperCase():"")),yO=/\B([A-Z])/g,pu=Zf(e=>e.replace(yO,"-$1").toLowerCase()),eh=Zf(e=>e.charAt(0).toUpperCase()+e.slice(1)),Am=Zf(e=>e?`on${eh(e)}`:""),Pa=(e,t)=>!Object.is(e,t),Zl=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ff=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},bT=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let O_;const eg=()=>O_||(O_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function th(e){if(Ae(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=Ft(i)?EO(i):th(i);if(o)for(const u in o)t[u]=o[u]}return t}else{if(Ft(e))return e;if(ct(e))return e}}const wO=/;(?![^(]*\))/g,bO=/:([^]+)/,_O=/\/\*[^]*?\*\//g;function EO(e){const t={};return e.replace(_O,"").split(wO).forEach(n=>{if(n){const i=n.split(bO);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function xn(e){let t="";if(Ft(e))t=e;else if(Ae(e))for(let n=0;n<e.length;n++){const i=xn(e[n]);i&&(t+=i+" ")}else if(ct(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const IO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",TO=tv(IO);function _T(e){return!!e||e===""}function SO(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=nh(e[i],t[i]);return n}function nh(e,t){if(e===t)return!0;let n=x_(e),i=x_(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Oa(e),i=Oa(t),n||i)return e===t;if(n=Ae(e),i=Ae(t),n||i)return n&&i?SO(e,t):!1;if(n=ct(e),i=ct(t),n||i){if(!n||!i)return!1;const o=Object.keys(e).length,u=Object.keys(t).length;if(o!==u)return!1;for(const a in e){const l=e.hasOwnProperty(a),f=t.hasOwnProperty(a);if(l&&!f||!l&&f||!nh(e[a],t[a]))return!1}}return String(e)===String(t)}function AO(e,t){return e.findIndex(n=>nh(n,t))}const en=e=>Ft(e)?e:e==null?"":Ae(e)||ct(e)&&(e.toString===yT||!Le(e.toString))?JSON.stringify(e,ET,2):String(e),ET=(e,t)=>t&&t.__v_isRef?ET(e,t.value):Fs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o])=>(n[`${i} =>`]=o,n),{})}:Jf(t)?{[`Set(${t.size})`]:[...t.values()]}:ct(t)&&!Ae(t)&&!wT(t)?String(t):t;let Hn;class IT{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Hn,!t&&Hn&&(this.index=(Hn.scopes||(Hn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Hn;try{return Hn=this,t()}finally{Hn=n}}}on(){Hn=this}off(){Hn=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function TT(e){return new IT(e)}function kO(e,t=Hn){t&&t.active&&t.effects.push(e)}function ST(){return Hn}function CO(e){Hn&&Hn.cleanups.push(e)}const ov=e=>{const t=new Set(e);return t.w=0,t.n=0,t},AT=e=>(e.w&qi)>0,kT=e=>(e.n&qi)>0,NO=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=qi},RO=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const o=t[i];AT(o)&&!kT(o)?o.delete(e):t[n++]=o,o.w&=~qi,o.n&=~qi}t.length=n}},hf=new WeakMap;let ga=0,qi=1;const tg=30;let yr;const xo=Symbol(""),ng=Symbol("");class sv{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,kO(this,i)}run(){if(!this.active)return this.fn();let t=yr,n=Mi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=yr,yr=this,Mi=!0,qi=1<<++ga,ga<=tg?NO(this):P_(this),this.fn()}finally{ga<=tg&&RO(this),qi=1<<--ga,yr=this.parent,Mi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){yr===this?this.deferStop=!0:this.active&&(P_(this),this.onStop&&this.onStop(),this.active=!1)}}function P_(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Mi=!0;const CT=[];function mu(){CT.push(Mi),Mi=!1}function gu(){const e=CT.pop();Mi=e===void 0?!0:e}function Ln(e,t,n){if(Mi&&yr){let i=hf.get(e);i||hf.set(e,i=new Map);let o=i.get(n);o||i.set(n,o=ov()),NT(o)}}function NT(e,t){let n=!1;ga<=tg?kT(e)||(e.n|=qi,n=!AT(e)):n=!e.has(yr),n&&(e.add(yr),yr.deps.push(e))}function ui(e,t,n,i,o,u){const a=hf.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&Ae(e)){const f=Number(i);a.forEach((d,p)=>{(p==="length"||p>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":Ae(e)?iv(n)&&l.push(a.get("length")):(l.push(a.get(xo)),Fs(e)&&l.push(a.get(ng)));break;case"delete":Ae(e)||(l.push(a.get(xo)),Fs(e)&&l.push(a.get(ng)));break;case"set":Fs(e)&&l.push(a.get(xo));break}if(l.length===1)l[0]&&rg(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);rg(ov(f))}}function rg(e,t){const n=Ae(e)?e:[...e];for(const i of n)i.computed&&D_(i);for(const i of n)i.computed||D_(i)}function D_(e,t){(e!==yr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function xO(e,t){var n;return(n=hf.get(e))==null?void 0:n.get(t)}const OO=tv("__proto__,__v_isRef,__isVue"),RT=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Oa)),PO=uv(),DO=uv(!1,!0),LO=uv(!0),L_=MO();function MO(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Xe(this);for(let u=0,a=this.length;u<a;u++)Ln(i,"get",u+"");const o=i[t](...n);return o===-1||o===!1?i[t](...n.map(Xe)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){mu();const i=Xe(this)[t].apply(this,n);return gu(),i}}),e}function FO(e){const t=Xe(this);return Ln(t,"has",e),t.hasOwnProperty(e)}function uv(e=!1,t=!1){return function(i,o,u){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&u===(e?t?ZO:LT:t?DT:PT).get(i))return i;const a=Ae(i);if(!e){if(a&&We(L_,o))return Reflect.get(L_,o,u);if(o==="hasOwnProperty")return FO}const l=Reflect.get(i,o,u);return(Oa(o)?RT.has(o):OO(o))||(e||Ln(i,"get",o),t)?l:at(l)?a&&iv(o)?l:l.value:ct(l)?e?lv(l):ai(l):l}}const UO=xT(),jO=xT(!0);function xT(e=!1){return function(n,i,o,u){let a=n[i];if(Bs(a)&&at(a)&&!at(o))return!1;if(!e&&(!df(o)&&!Bs(o)&&(a=Xe(a),o=Xe(o)),!Ae(n)&&at(a)&&!at(o)))return a.value=o,!0;const l=Ae(n)&&iv(i)?Number(i)<n.length:We(n,i),f=Reflect.set(n,i,o,u);return n===Xe(u)&&(l?Pa(o,a)&&ui(n,"set",i,o):ui(n,"add",i,o)),f}}function VO(e,t){const n=We(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&ui(e,"delete",t,void 0),i}function qO(e,t){const n=Reflect.has(e,t);return(!Oa(t)||!RT.has(t))&&Ln(e,"has",t),n}function BO(e){return Ln(e,"iterate",Ae(e)?"length":xo),Reflect.ownKeys(e)}const OT={get:PO,set:UO,deleteProperty:VO,has:qO,ownKeys:BO},$O={get:LO,set(e,t){return!0},deleteProperty(e,t){return!0}},KO=Gt({},OT,{get:DO,set:jO}),av=e=>e,rh=e=>Reflect.getPrototypeOf(e);function Ol(e,t,n=!1,i=!1){e=e.__v_raw;const o=Xe(e),u=Xe(t);n||(t!==u&&Ln(o,"get",t),Ln(o,"get",u));const{has:a}=rh(o),l=i?av:n?hv:Da;if(a.call(o,t))return l(e.get(t));if(a.call(o,u))return l(e.get(u));e!==o&&e.get(t)}function Pl(e,t=!1){const n=this.__v_raw,i=Xe(n),o=Xe(e);return t||(e!==o&&Ln(i,"has",e),Ln(i,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Dl(e,t=!1){return e=e.__v_raw,!t&&Ln(Xe(e),"iterate",xo),Reflect.get(e,"size",e)}function M_(e){e=Xe(e);const t=Xe(this);return rh(t).has.call(t,e)||(t.add(e),ui(t,"add",e,e)),this}function F_(e,t){t=Xe(t);const n=Xe(this),{has:i,get:o}=rh(n);let u=i.call(n,e);u||(e=Xe(e),u=i.call(n,e));const a=o.call(n,e);return n.set(e,t),u?Pa(t,a)&&ui(n,"set",e,t):ui(n,"add",e,t),this}function U_(e){const t=Xe(this),{has:n,get:i}=rh(t);let o=n.call(t,e);o||(e=Xe(e),o=n.call(t,e)),i&&i.call(t,e);const u=t.delete(e);return o&&ui(t,"delete",e,void 0),u}function j_(){const e=Xe(this),t=e.size!==0,n=e.clear();return t&&ui(e,"clear",void 0,void 0),n}function Ll(e,t){return function(i,o){const u=this,a=u.__v_raw,l=Xe(a),f=t?av:e?hv:Da;return!e&&Ln(l,"iterate",xo),a.forEach((d,p)=>i.call(o,f(d),f(p),u))}}function Ml(e,t,n){return function(...i){const o=this.__v_raw,u=Xe(o),a=Fs(u),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,d=o[e](...i),p=n?av:t?hv:Da;return!t&&Ln(u,"iterate",f?ng:xo),{next(){const{value:g,done:v}=d.next();return v?{value:g,done:v}:{value:l?[p(g[0]),p(g[1])]:p(g),done:v}},[Symbol.iterator](){return this}}}}function _i(e){return function(...t){return e==="delete"?!1:this}}function HO(){const e={get(u){return Ol(this,u)},get size(){return Dl(this)},has:Pl,add:M_,set:F_,delete:U_,clear:j_,forEach:Ll(!1,!1)},t={get(u){return Ol(this,u,!1,!0)},get size(){return Dl(this)},has:Pl,add:M_,set:F_,delete:U_,clear:j_,forEach:Ll(!1,!0)},n={get(u){return Ol(this,u,!0)},get size(){return Dl(this,!0)},has(u){return Pl.call(this,u,!0)},add:_i("add"),set:_i("set"),delete:_i("delete"),clear:_i("clear"),forEach:Ll(!0,!1)},i={get(u){return Ol(this,u,!0,!0)},get size(){return Dl(this,!0)},has(u){return Pl.call(this,u,!0)},add:_i("add"),set:_i("set"),delete:_i("delete"),clear:_i("clear"),forEach:Ll(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=Ml(u,!1,!1),n[u]=Ml(u,!0,!1),t[u]=Ml(u,!1,!0),i[u]=Ml(u,!0,!0)}),[e,n,t,i]}const[zO,GO,WO,XO]=HO();function cv(e,t){const n=t?e?XO:WO:e?GO:zO;return(i,o,u)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get(We(n,o)&&o in i?n:i,o,u)}const YO={get:cv(!1,!1)},QO={get:cv(!1,!0)},JO={get:cv(!0,!1)},PT=new WeakMap,DT=new WeakMap,LT=new WeakMap,ZO=new WeakMap;function eP(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tP(e){return e.__v_skip||!Object.isExtensible(e)?0:eP(gO(e))}function ai(e){return Bs(e)?e:fv(e,!1,OT,YO,PT)}function MT(e){return fv(e,!1,KO,QO,DT)}function lv(e){return fv(e,!0,$O,JO,LT)}function fv(e,t,n,i,o){if(!ct(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=o.get(e);if(u)return u;const a=tP(e);if(a===0)return e;const l=new Proxy(e,a===2?i:n);return o.set(e,l),l}function Fi(e){return Bs(e)?Fi(e.__v_raw):!!(e&&e.__v_isReactive)}function Bs(e){return!!(e&&e.__v_isReadonly)}function df(e){return!!(e&&e.__v_isShallow)}function FT(e){return Fi(e)||Bs(e)}function Xe(e){const t=e&&e.__v_raw;return t?Xe(t):e}function ih(e){return ff(e,"__v_skip",!0),e}const Da=e=>ct(e)?ai(e):e,hv=e=>ct(e)?lv(e):e;function UT(e){Mi&&yr&&(e=Xe(e),NT(e.dep||(e.dep=ov())))}function jT(e,t){e=Xe(e);const n=e.dep;n&&rg(n)}function at(e){return!!(e&&e.__v_isRef===!0)}function wn(e){return qT(e,!1)}function VT(e){return qT(e,!0)}function qT(e,t){return at(e)?e:new nP(e,t)}class nP{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Xe(t),this._value=n?t:Da(t)}get value(){return UT(this),this._value}set value(t){const n=this.__v_isShallow||df(t)||Bs(t);t=n?t:Xe(t),Pa(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Da(t),jT(this))}}function Ne(e){return at(e)?e.value:e}function vr(e){return Le(e)?e():Ne(e)}const rP={get:(e,t,n)=>Ne(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return at(o)&&!at(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function BT(e){return Fi(e)?e:new Proxy(e,rP)}function iP(e){const t=Ae(e)?new Array(e.length):{};for(const n in e)t[n]=$T(e,n);return t}class oP{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return xO(Xe(this._object),this._key)}}class sP{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ri(e,t,n){return at(e)?e:Le(e)?new sP(e):ct(e)&&arguments.length>1?$T(e,t,n):wn(e)}function $T(e,t,n){const i=e[t];return at(i)?i:new oP(e,t,n)}class uP{constructor(t,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new sv(t,()=>{this._dirty||(this._dirty=!0,jT(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const t=Xe(this);return UT(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function aP(e,t,n=!1){let i,o;const u=Le(e);return u?(i=e,o=br):(i=e.get,o=e.set),new uP(i,o,u||!o,n)}function Ui(e,t,n,i){let o;try{o=i?e(...i):e()}catch(u){oh(u,t,n)}return o}function _r(e,t,n,i){if(Le(e)){const u=Ui(e,t,n,i);return u&&vT(u)&&u.catch(a=>{oh(a,t,n)}),u}const o=[];for(let u=0;u<e.length;u++)o.push(_r(e[u],t,n,i));return o}function oh(e,t,n,i=!0){const o=t?t.vnode:null;if(t){let u=t.parent;const a=t.proxy,l=n;for(;u;){const d=u.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,a,l)===!1)return}u=u.parent}const f=t.appContext.config.errorHandler;if(f){Ui(f,null,10,[e,a,l]);return}}cP(e,n,o,i)}function cP(e,t,n,i=!0){console.error(e)}let La=!1,ig=!1;const an=[];let Vr=0;const Us=[];let Zr=null,Io=0;const KT=Promise.resolve();let dv=null;function ei(e){const t=dv||KT;return e?t.then(this?e.bind(this):e):t}function lP(e){let t=Vr+1,n=an.length;for(;t<n;){const i=t+n>>>1;Ma(an[i])<e?t=i+1:n=i}return t}function pv(e){(!an.length||!an.includes(e,La&&e.allowRecurse?Vr+1:Vr))&&(e.id==null?an.push(e):an.splice(lP(e.id),0,e),HT())}function HT(){!La&&!ig&&(ig=!0,dv=KT.then(GT))}function fP(e){const t=an.indexOf(e);t>Vr&&an.splice(t,1)}function hP(e){Ae(e)?Us.push(...e):(!Zr||!Zr.includes(e,e.allowRecurse?Io+1:Io))&&Us.push(e),HT()}function V_(e,t=La?Vr+1:0){for(;t<an.length;t++){const n=an[t];n&&n.pre&&(an.splice(t,1),t--,n())}}function zT(e){if(Us.length){const t=[...new Set(Us)];if(Us.length=0,Zr){Zr.push(...t);return}for(Zr=t,Zr.sort((n,i)=>Ma(n)-Ma(i)),Io=0;Io<Zr.length;Io++)Zr[Io]();Zr=null,Io=0}}const Ma=e=>e.id==null?1/0:e.id,dP=(e,t)=>{const n=Ma(e)-Ma(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function GT(e){ig=!1,La=!0,an.sort(dP);const t=br;try{for(Vr=0;Vr<an.length;Vr++){const n=an[Vr];n&&n.active!==!1&&Ui(n,null,14)}}finally{Vr=0,an.length=0,zT(),La=!1,dv=null,(an.length||Us.length)&&GT()}}function pP(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||mt;let o=n;const u=t.startsWith("update:"),a=u&&t.slice(7);if(a&&a in i){const p=`${a==="modelValue"?"model":a}Modifiers`,{number:g,trim:v}=i[p]||mt;v&&(o=n.map(b=>Ft(b)?b.trim():b)),g&&(o=n.map(bT))}let l,f=i[l=Am(t)]||i[l=Am(Kr(t))];!f&&u&&(f=i[l=Am(pu(t))]),f&&_r(f,e,6,o);const d=i[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,_r(d,e,6,o)}}function WT(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(o!==void 0)return o;const u=e.emits;let a={},l=!1;if(!Le(e)){const f=d=>{const p=WT(d,t,!0);p&&(l=!0,Gt(a,p))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!u&&!l?(ct(e)&&i.set(e,null),null):(Ae(u)?u.forEach(f=>a[f]=null):Gt(a,u),ct(e)&&i.set(e,a),a)}function sh(e,t){return!e||!Qf(t)?!1:(t=t.slice(2).replace(/Once$/,""),We(e,t[0].toLowerCase()+t.slice(1))||We(e,pu(t))||We(e,t))}let On=null,XT=null;function pf(e){const t=On;return On=e,XT=e&&e.type.__scopeId||null,t}function ur(e,t=On,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&Q_(-1);const u=pf(t);let a;try{a=e(...o)}finally{pf(u),i._d&&Q_(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function km(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:u,propsOptions:[a],slots:l,attrs:f,emit:d,render:p,renderCache:g,data:v,setupState:b,ctx:_,inheritAttrs:T}=e;let S,x;const O=pf(e);try{if(n.shapeFlag&4){const B=o||i;S=Ur(p.call(B,B,g,u,b,v,_)),x=f}else{const B=t;S=Ur(B.length>1?B(u,{attrs:f,slots:l,emit:d}):B(u,null)),x=t.props?f:mP(f)}}catch(B){Ea.length=0,oh(B,e,1),S=ke(Uo)}let U=S;if(x&&T!==!1){const B=Object.keys(x),{shapeFlag:te}=U;B.length&&te&7&&(a&&B.some(nv)&&(x=gP(x,a)),U=Ks(U,x))}return n.dirs&&(U=Ks(U),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&(U.transition=n.transition),S=U,pf(O),S}const mP=e=>{let t;for(const n in e)(n==="class"||n==="style"||Qf(n))&&((t||(t={}))[n]=e[n]);return t},gP=(e,t)=>{const n={};for(const i in e)(!nv(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function vP(e,t,n){const{props:i,children:o,component:u}=e,{props:a,children:l,patchFlag:f}=t,d=u.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?q_(i,a,d):!!a;if(f&8){const p=t.dynamicProps;for(let g=0;g<p.length;g++){const v=p[g];if(a[v]!==i[v]&&!sh(d,v))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?q_(i,a,d):!0:!!a;return!1}function q_(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const u=i[o];if(t[u]!==e[u]&&!sh(n,u))return!0}return!1}function yP({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const wP=e=>e.__isSuspense;function bP(e,t){t&&t.pendingBranch?Ae(e)?t.effects.push(...e):t.effects.push(e):hP(e)}function _P(e,t){return mv(e,null,t)}const Fl={};function Jn(e,t,n){return mv(e,t,n)}function mv(e,t,{immediate:n,deep:i,flush:o,onTrack:u,onTrigger:a}=mt){var l;const f=ST()===((l=Bt)==null?void 0:l.scope)?Bt:null;let d,p=!1,g=!1;if(at(e)?(d=()=>e.value,p=df(e)):Fi(e)?(d=()=>e,i=!0):Ae(e)?(g=!0,p=e.some(B=>Fi(B)||df(B)),d=()=>e.map(B=>{if(at(B))return B.value;if(Fi(B))return Ao(B);if(Le(B))return Ui(B,f,2)})):Le(e)?t?d=()=>Ui(e,f,2):d=()=>{if(!(f&&f.isUnmounted))return v&&v(),_r(e,f,3,[b])}:d=br,t&&i){const B=d;d=()=>Ao(B())}let v,b=B=>{v=O.onStop=()=>{Ui(B,f,4)}},_;if(Va)if(b=br,t?n&&_r(t,f,3,[d(),g?[]:void 0,b]):d(),o==="sync"){const B=lD();_=B.__watcherHandles||(B.__watcherHandles=[])}else return br;let T=g?new Array(e.length).fill(Fl):Fl;const S=()=>{if(O.active)if(t){const B=O.run();(i||p||(g?B.some((te,V)=>Pa(te,T[V])):Pa(B,T)))&&(v&&v(),_r(t,f,3,[B,T===Fl?void 0:g&&T[0]===Fl?[]:T,b]),T=B)}else O.run()};S.allowRecurse=!!t;let x;o==="sync"?x=S:o==="post"?x=()=>Nn(S,f&&f.suspense):(S.pre=!0,f&&(S.id=f.uid),x=()=>pv(S));const O=new sv(d,x);t?n?S():T=O.run():o==="post"?Nn(O.run.bind(O),f&&f.suspense):O.run();const U=()=>{O.stop(),f&&f.scope&&rv(f.scope.effects,O)};return _&&_.push(U),U}function EP(e,t,n){const i=this.proxy,o=Ft(e)?e.includes(".")?YT(i,e):()=>i[e]:e.bind(i,i);let u;Le(t)?u=t:(u=t.handler,n=t);const a=Bt;Hs(this);const l=mv(o,u.bind(i),n);return a?Hs(a):Po(),l}function YT(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function Ao(e,t){if(!ct(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),at(e))Ao(e.value,t);else if(Ae(e))for(let n=0;n<e.length;n++)Ao(e[n],t);else if(Jf(e)||Fs(e))e.forEach(n=>{Ao(n,t)});else if(wT(e))for(const n in e)Ao(e[n],t);return e}function mf(e,t){const n=On;if(n===null)return e;const i=fh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let u=0;u<t.length;u++){let[a,l,f,d=mt]=t[u];a&&(Le(a)&&(a={mounted:a,updated:a}),a.deep&&Ao(l),o.push({dir:a,instance:i,value:l,oldValue:void 0,arg:f,modifiers:d}))}return e}function yo(e,t,n,i){const o=e.dirs,u=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];u&&(l.oldValue=u[a].value);let f=l.dir[i];f&&(mu(),_r(f,n,8,[e.el,l,e,t]),gu())}}function uc(e,t){return Le(e)?(()=>Gt({name:e.name},t,{setup:e}))():e}const ef=e=>!!e.type.__asyncLoader,QT=e=>e.type.__isKeepAlive;function IP(e,t){JT(e,"a",t)}function TP(e,t){JT(e,"da",t)}function JT(e,t,n=Bt){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(uh(t,i,n),n){let o=n.parent;for(;o&&o.parent;)QT(o.parent.vnode)&&SP(i,t,n,o),o=o.parent}}function SP(e,t,n,i){const o=uh(t,e,i,!0);eS(()=>{rv(i[t],o)},n)}function uh(e,t,n=Bt,i=!1){if(n){const o=n[e]||(n[e]=[]),u=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;mu(),Hs(n);const l=_r(t,n,e,a);return Po(),gu(),l});return i?o.unshift(u):o.push(u),u}}const li=e=>(t,n=Bt)=>(!Va||e==="sp")&&uh(e,(...i)=>t(...i),n),AP=li("bm"),gv=li("m"),kP=li("bu"),CP=li("u"),ZT=li("bum"),eS=li("um"),NP=li("sp"),RP=li("rtg"),xP=li("rtc");function OP(e,t=Bt){uh("ec",e,t)}const vv="components";function Et(e,t){return nS(vv,e,!0,t)||e}const tS=Symbol.for("v-ndc");function yv(e){return Ft(e)?nS(vv,e,!1)||e:e||tS}function nS(e,t,n=!0,i=!1){const o=On||Bt;if(o){const u=o.type;if(e===vv){const l=uD(u,!1);if(l&&(l===t||l===Kr(t)||l===eh(Kr(t))))return u}const a=B_(o[e]||u[e],t)||B_(o.appContext[e],t);return!a&&i?u:a}}function B_(e,t){return e&&(e[t]||e[Kr(t)]||e[eh(Kr(t))])}function vu(e,t,n,i){let o;const u=n&&n[i];if(Ae(e)||Ft(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,u&&u[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,u&&u[a])}else if(ct(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,u&&u[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=t(e[d],d,l,u&&u[l])}}else o=[];return n&&(n[i]=o),o}const og=e=>e?pS(e)?fh(e)||e.proxy:og(e.parent):null,_a=Gt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>og(e.parent),$root:e=>og(e.root),$emit:e=>e.emit,$options:e=>wv(e),$forceUpdate:e=>e.f||(e.f=()=>pv(e.update)),$nextTick:e=>e.n||(e.n=ei.bind(e.proxy)),$watch:e=>EP.bind(e)}),Cm=(e,t)=>e!==mt&&!e.__isScriptSetup&&We(e,t),PP={get({_:e},t){const{ctx:n,setupState:i,data:o,props:u,accessCache:a,type:l,appContext:f}=e;let d;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return u[t]}else{if(Cm(i,t))return a[t]=1,i[t];if(o!==mt&&We(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&We(d,t))return a[t]=3,u[t];if(n!==mt&&We(n,t))return a[t]=4,n[t];sg&&(a[t]=0)}}const p=_a[t];let g,v;if(p)return t==="$attrs"&&Ln(e,"get",t),p(e);if((g=l.__cssModules)&&(g=g[t]))return g;if(n!==mt&&We(n,t))return a[t]=4,n[t];if(v=f.config.globalProperties,We(v,t))return v[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:u}=e;return Cm(o,t)?(o[t]=n,!0):i!==mt&&We(i,t)?(i[t]=n,!0):We(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:u}},a){let l;return!!n[a]||e!==mt&&We(e,a)||Cm(t,a)||(l=u[0])&&We(l,a)||We(i,a)||We(_a,a)||We(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:We(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function $_(e){return Ae(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let sg=!0;function DP(e){const t=wv(e),n=e.proxy,i=e.ctx;sg=!1,t.beforeCreate&&K_(t.beforeCreate,e,"bc");const{data:o,computed:u,methods:a,watch:l,provide:f,inject:d,created:p,beforeMount:g,mounted:v,beforeUpdate:b,updated:_,activated:T,deactivated:S,beforeDestroy:x,beforeUnmount:O,destroyed:U,unmounted:B,render:te,renderTracked:V,renderTriggered:we,errorCaptured:G,serverPrefetch:oe,expose:k,inheritAttrs:$e,components:nt,directives:rt,filters:lt}=t;if(d&&LP(d,i,null),a)for(const De in a){const ge=a[De];Le(ge)&&(i[De]=ge.bind(n))}if(o){const De=o.call(n,n);ct(De)&&(e.data=ai(De))}if(sg=!0,u)for(const De in u){const ge=u[De],ht=Le(ge)?ge.bind(n,n):Le(ge.get)?ge.get.bind(n,n):br,It=!Le(ge)&&Le(ge.set)?ge.set.bind(n):br,Vt=Fe({get:ht,set:It});Object.defineProperty(i,De,{enumerable:!0,configurable:!0,get:()=>Vt.value,set:Ot=>Vt.value=Ot})}if(l)for(const De in l)rS(l[De],i,n,De);if(f){const De=Le(f)?f.call(n):f;Reflect.ownKeys(De).forEach(ge=>{js(ge,De[ge])})}p&&K_(p,e,"c");function de(De,ge){Ae(ge)?ge.forEach(ht=>De(ht.bind(n))):ge&&De(ge.bind(n))}if(de(AP,g),de(gv,v),de(kP,b),de(CP,_),de(IP,T),de(TP,S),de(OP,G),de(xP,V),de(RP,we),de(ZT,O),de(eS,B),de(NP,oe),Ae(k))if(k.length){const De=e.exposed||(e.exposed={});k.forEach(ge=>{Object.defineProperty(De,ge,{get:()=>n[ge],set:ht=>n[ge]=ht})})}else e.exposed||(e.exposed={});te&&e.render===br&&(e.render=te),$e!=null&&(e.inheritAttrs=$e),nt&&(e.components=nt),rt&&(e.directives=rt)}function LP(e,t,n=br){Ae(e)&&(e=ug(e));for(const i in e){const o=e[i];let u;ct(o)?"default"in o?u=ar(o.from||i,o.default,!0):u=ar(o.from||i):u=ar(o),at(u)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>u.value,set:a=>u.value=a}):t[i]=u}}function K_(e,t,n){_r(Ae(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function rS(e,t,n,i){const o=i.includes(".")?YT(n,i):()=>n[i];if(Ft(e)){const u=t[e];Le(u)&&Jn(o,u)}else if(Le(e))Jn(o,e.bind(n));else if(ct(e))if(Ae(e))e.forEach(u=>rS(u,t,n,i));else{const u=Le(e.handler)?e.handler.bind(n):t[e.handler];Le(u)&&Jn(o,u,e)}}function wv(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:u,config:{optionMergeStrategies:a}}=e.appContext,l=u.get(t);let f;return l?f=l:!o.length&&!n&&!i?f=t:(f={},o.length&&o.forEach(d=>gf(f,d,a,!0)),gf(f,t,a)),ct(t)&&u.set(t,f),f}function gf(e,t,n,i=!1){const{mixins:o,extends:u}=t;u&&gf(e,u,n,!0),o&&o.forEach(a=>gf(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const l=MP[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const MP={data:H_,props:z_,emits:z_,methods:va,computed:va,beforeCreate:gn,created:gn,beforeMount:gn,mounted:gn,beforeUpdate:gn,updated:gn,beforeDestroy:gn,beforeUnmount:gn,destroyed:gn,unmounted:gn,activated:gn,deactivated:gn,errorCaptured:gn,serverPrefetch:gn,components:va,directives:va,watch:UP,provide:H_,inject:FP};function H_(e,t){return t?e?function(){return Gt(Le(e)?e.call(this,this):e,Le(t)?t.call(this,this):t)}:t:e}function FP(e,t){return va(ug(e),ug(t))}function ug(e){if(Ae(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function gn(e,t){return e?[...new Set([].concat(e,t))]:t}function va(e,t){return e?Gt(Object.create(null),e,t):t}function z_(e,t){return e?Ae(e)&&Ae(t)?[...new Set([...e,...t])]:Gt(Object.create(null),$_(e),$_(t??{})):t}function UP(e,t){if(!e)return t;if(!t)return e;const n=Gt(Object.create(null),e);for(const i in t)n[i]=gn(e[i],t[i]);return n}function iS(){return{app:null,config:{isNativeTag:dO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jP=0;function VP(e,t){return function(i,o=null){Le(i)||(i=Gt({},i)),o!=null&&!ct(o)&&(o=null);const u=iS(),a=new Set;let l=!1;const f=u.app={_uid:jP++,_component:i,_props:o,_container:null,_context:u,_instance:null,version:fD,get config(){return u.config},set config(d){},use(d,...p){return a.has(d)||(d&&Le(d.install)?(a.add(d),d.install(f,...p)):Le(d)&&(a.add(d),d(f,...p))),f},mixin(d){return u.mixins.includes(d)||u.mixins.push(d),f},component(d,p){return p?(u.components[d]=p,f):u.components[d]},directive(d,p){return p?(u.directives[d]=p,f):u.directives[d]},mount(d,p,g){if(!l){const v=ke(i,o);return v.appContext=u,p&&t?t(v,d):e(v,d,g),l=!0,f._container=d,d.__vue_app__=f,fh(v.component)||v.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,p){return u.provides[d]=p,f},runWithContext(d){Fa=f;try{return d()}finally{Fa=null}}};return f}}let Fa=null;function js(e,t){if(Bt){let n=Bt.provides;const i=Bt.parent&&Bt.parent.provides;i===n&&(n=Bt.provides=Object.create(i)),n[e]=t}}function ar(e,t,n=!1){const i=Bt||On;if(i||Fa){const o=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Fa._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Le(t)?t.call(i&&i.proxy):t}}function qP(){return!!(Bt||On||Fa)}function BP(e,t,n,i=!1){const o={},u={};ff(u,ch,1),e.propsDefaults=Object.create(null),oS(e,t,o,u);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=i?o:MT(o):e.type.props?e.props=o:e.props=u,e.attrs=u}function $P(e,t,n,i){const{props:o,attrs:u,vnode:{patchFlag:a}}=e,l=Xe(o),[f]=e.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let g=0;g<p.length;g++){let v=p[g];if(sh(e.emitsOptions,v))continue;const b=t[v];if(f)if(We(u,v))b!==u[v]&&(u[v]=b,d=!0);else{const _=Kr(v);o[_]=ag(f,l,_,b,e,!1)}else b!==u[v]&&(u[v]=b,d=!0)}}}else{oS(e,t,o,u)&&(d=!0);let p;for(const g in l)(!t||!We(t,g)&&((p=pu(g))===g||!We(t,p)))&&(f?n&&(n[g]!==void 0||n[p]!==void 0)&&(o[g]=ag(f,l,g,void 0,e,!0)):delete o[g]);if(u!==l)for(const g in u)(!t||!We(t,g))&&(delete u[g],d=!0)}d&&ui(e,"set","$attrs")}function oS(e,t,n,i){const[o,u]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(Jl(f))continue;const d=t[f];let p;o&&We(o,p=Kr(f))?!u||!u.includes(p)?n[p]=d:(l||(l={}))[p]=d:sh(e.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(u){const f=Xe(n),d=l||mt;for(let p=0;p<u.length;p++){const g=u[p];n[g]=ag(o,f,g,d[g],e,!We(d,g))}}return a}function ag(e,t,n,i,o,u){const a=e[n];if(a!=null){const l=We(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&!a.skipFactory&&Le(f)){const{propsDefaults:d}=o;n in d?i=d[n]:(Hs(o),i=d[n]=f.call(null,t),Po())}else i=f}a[0]&&(u&&!l?i=!1:a[1]&&(i===""||i===pu(n))&&(i=!0))}return i}function sS(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const u=e.props,a={},l=[];let f=!1;if(!Le(e)){const p=g=>{f=!0;const[v,b]=sS(g,t,!0);Gt(a,v),b&&l.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!u&&!f)return ct(e)&&i.set(e,Ms),Ms;if(Ae(u))for(let p=0;p<u.length;p++){const g=Kr(u[p]);G_(g)&&(a[g]=mt)}else if(u)for(const p in u){const g=Kr(p);if(G_(g)){const v=u[p],b=a[g]=Ae(v)||Le(v)?{type:v}:Gt({},v);if(b){const _=Y_(Boolean,b.type),T=Y_(String,b.type);b[0]=_>-1,b[1]=T<0||_<T,(_>-1||We(b,"default"))&&l.push(g)}}}const d=[a,l];return ct(e)&&i.set(e,d),d}function G_(e){return e[0]!=="$"}function W_(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function X_(e,t){return W_(e)===W_(t)}function Y_(e,t){return Ae(t)?t.findIndex(n=>X_(n,e)):Le(t)&&X_(t,e)?0:-1}const uS=e=>e[0]==="_"||e==="$stable",bv=e=>Ae(e)?e.map(Ur):[Ur(e)],KP=(e,t,n)=>{if(t._n)return t;const i=ur((...o)=>bv(t(...o)),n);return i._c=!1,i},aS=(e,t,n)=>{const i=e._ctx;for(const o in e){if(uS(o))continue;const u=e[o];if(Le(u))t[o]=KP(o,u,i);else if(u!=null){const a=bv(u);t[o]=()=>a}}},cS=(e,t)=>{const n=bv(t);e.slots.default=()=>n},HP=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Xe(t),ff(t,"_",n)):aS(t,e.slots={})}else e.slots={},t&&cS(e,t);ff(e.slots,ch,1)},zP=(e,t,n)=>{const{vnode:i,slots:o}=e;let u=!0,a=mt;if(i.shapeFlag&32){const l=t._;l?n&&l===1?u=!1:(Gt(o,t),!n&&l===1&&delete o._):(u=!t.$stable,aS(t,o)),a=t}else t&&(cS(e,t),a={default:1});if(u)for(const l in o)!uS(l)&&!(l in a)&&delete o[l]};function cg(e,t,n,i,o=!1){if(Ae(e)){e.forEach((v,b)=>cg(v,t&&(Ae(t)?t[b]:t),n,i,o));return}if(ef(i)&&!o)return;const u=i.shapeFlag&4?fh(i.component)||i.component.proxy:i.el,a=o?null:u,{i:l,r:f}=e,d=t&&t.r,p=l.refs===mt?l.refs={}:l.refs,g=l.setupState;if(d!=null&&d!==f&&(Ft(d)?(p[d]=null,We(g,d)&&(g[d]=null)):at(d)&&(d.value=null)),Le(f))Ui(f,l,12,[a,p]);else{const v=Ft(f),b=at(f);if(v||b){const _=()=>{if(e.f){const T=v?We(g,f)?g[f]:p[f]:f.value;o?Ae(T)&&rv(T,u):Ae(T)?T.includes(u)||T.push(u):v?(p[f]=[u],We(g,f)&&(g[f]=p[f])):(f.value=[u],e.k&&(p[e.k]=f.value))}else v?(p[f]=a,We(g,f)&&(g[f]=a)):b&&(f.value=a,e.k&&(p[e.k]=a))};a?(_.id=-1,Nn(_,n)):_()}}}const Nn=bP;function GP(e){return WP(e)}function WP(e,t){const n=eg();n.__VUE__=!0;const{insert:i,remove:o,patchProp:u,createElement:a,createText:l,createComment:f,setText:d,setElementText:p,parentNode:g,nextSibling:v,setScopeId:b=br,insertStaticContent:_}=e,T=(I,A,R,L=null,j=null,X=null,ie=!1,Z=null,re=!!A.dynamicChildren)=>{if(I===A)return;I&&!ca(I,A)&&(L=D(I),Ot(I,j,X,!0),I=null),A.patchFlag===-2&&(re=!1,A.dynamicChildren=null);const{type:Q,ref:be,shapeFlag:fe}=A;switch(Q){case ah:S(I,A,R,L);break;case Uo:x(I,A,R,L);break;case tf:I==null&&O(A,R,L,ie);break;case xt:nt(I,A,R,L,j,X,ie,Z,re);break;default:fe&1?te(I,A,R,L,j,X,ie,Z,re):fe&6?rt(I,A,R,L,j,X,ie,Z,re):(fe&64||fe&128)&&Q.process(I,A,R,L,j,X,ie,Z,re,ee)}be!=null&&j&&cg(be,I&&I.ref,X,A||I,!A)},S=(I,A,R,L)=>{if(I==null)i(A.el=l(A.children),R,L);else{const j=A.el=I.el;A.children!==I.children&&d(j,A.children)}},x=(I,A,R,L)=>{I==null?i(A.el=f(A.children||""),R,L):A.el=I.el},O=(I,A,R,L)=>{[I.el,I.anchor]=_(I.children,A,R,L,I.el,I.anchor)},U=({el:I,anchor:A},R,L)=>{let j;for(;I&&I!==A;)j=v(I),i(I,R,L),I=j;i(A,R,L)},B=({el:I,anchor:A})=>{let R;for(;I&&I!==A;)R=v(I),o(I),I=R;o(A)},te=(I,A,R,L,j,X,ie,Z,re)=>{ie=ie||A.type==="svg",I==null?V(A,R,L,j,X,ie,Z,re):oe(I,A,j,X,ie,Z,re)},V=(I,A,R,L,j,X,ie,Z)=>{let re,Q;const{type:be,props:fe,shapeFlag:C,transition:N,dirs:M}=I;if(re=I.el=a(I.type,X,fe&&fe.is,fe),C&8?p(re,I.children):C&16&&G(I.children,re,null,L,j,X&&be!=="foreignObject",ie,Z),M&&yo(I,null,L,"created"),we(re,I,I.scopeId,ie,L),fe){for(const le in fe)le!=="value"&&!Jl(le)&&u(re,le,null,fe[le],X,I.children,L,j,ve);"value"in fe&&u(re,"value",null,fe.value),(Q=fe.onVnodeBeforeMount)&&Mr(Q,L,I)}M&&yo(I,null,L,"beforeMount");const z=(!j||j&&!j.pendingBranch)&&N&&!N.persisted;z&&N.beforeEnter(re),i(re,A,R),((Q=fe&&fe.onVnodeMounted)||z||M)&&Nn(()=>{Q&&Mr(Q,L,I),z&&N.enter(re),M&&yo(I,null,L,"mounted")},j)},we=(I,A,R,L,j)=>{if(R&&b(I,R),L)for(let X=0;X<L.length;X++)b(I,L[X]);if(j){let X=j.subTree;if(A===X){const ie=j.vnode;we(I,ie,ie.scopeId,ie.slotScopeIds,j.parent)}}},G=(I,A,R,L,j,X,ie,Z,re=0)=>{for(let Q=re;Q<I.length;Q++){const be=I[Q]=Z?ki(I[Q]):Ur(I[Q]);T(null,be,A,R,L,j,X,ie,Z)}},oe=(I,A,R,L,j,X,ie)=>{const Z=A.el=I.el;let{patchFlag:re,dynamicChildren:Q,dirs:be}=A;re|=I.patchFlag&16;const fe=I.props||mt,C=A.props||mt;let N;R&&wo(R,!1),(N=C.onVnodeBeforeUpdate)&&Mr(N,R,A,I),be&&yo(A,I,R,"beforeUpdate"),R&&wo(R,!0);const M=j&&A.type!=="foreignObject";if(Q?k(I.dynamicChildren,Q,Z,R,L,M,X):ie||ge(I,A,Z,null,R,L,M,X,!1),re>0){if(re&16)$e(Z,A,fe,C,R,L,j);else if(re&2&&fe.class!==C.class&&u(Z,"class",null,C.class,j),re&4&&u(Z,"style",fe.style,C.style,j),re&8){const z=A.dynamicProps;for(let le=0;le<z.length;le++){const ue=z[le],xe=fe[ue],Ke=C[ue];(Ke!==xe||ue==="value")&&u(Z,ue,xe,Ke,j,I.children,R,L,ve)}}re&1&&I.children!==A.children&&p(Z,A.children)}else!ie&&Q==null&&$e(Z,A,fe,C,R,L,j);((N=C.onVnodeUpdated)||be)&&Nn(()=>{N&&Mr(N,R,A,I),be&&yo(A,I,R,"updated")},L)},k=(I,A,R,L,j,X,ie)=>{for(let Z=0;Z<A.length;Z++){const re=I[Z],Q=A[Z],be=re.el&&(re.type===xt||!ca(re,Q)||re.shapeFlag&70)?g(re.el):R;T(re,Q,be,null,L,j,X,ie,!0)}},$e=(I,A,R,L,j,X,ie)=>{if(R!==L){if(R!==mt)for(const Z in R)!Jl(Z)&&!(Z in L)&&u(I,Z,R[Z],null,ie,A.children,j,X,ve);for(const Z in L){if(Jl(Z))continue;const re=L[Z],Q=R[Z];re!==Q&&Z!=="value"&&u(I,Z,Q,re,ie,A.children,j,X,ve)}"value"in L&&u(I,"value",R.value,L.value)}},nt=(I,A,R,L,j,X,ie,Z,re)=>{const Q=A.el=I?I.el:l(""),be=A.anchor=I?I.anchor:l("");let{patchFlag:fe,dynamicChildren:C,slotScopeIds:N}=A;N&&(Z=Z?Z.concat(N):N),I==null?(i(Q,R,L),i(be,R,L),G(A.children,R,be,j,X,ie,Z,re)):fe>0&&fe&64&&C&&I.dynamicChildren?(k(I.dynamicChildren,C,R,j,X,ie,Z),(A.key!=null||j&&A===j.subTree)&&lS(I,A,!0)):ge(I,A,R,be,j,X,ie,Z,re)},rt=(I,A,R,L,j,X,ie,Z,re)=>{A.slotScopeIds=Z,I==null?A.shapeFlag&512?j.ctx.activate(A,R,L,ie,re):lt(A,R,L,j,X,ie,re):Ge(I,A,re)},lt=(I,A,R,L,j,X,ie)=>{const Z=I.component=nD(I,L,j);if(QT(I)&&(Z.ctx.renderer=ee),rD(Z),Z.asyncDep){if(j&&j.registerDep(Z,de),!I.el){const re=Z.subTree=ke(Uo);x(null,re,A,R)}return}de(Z,I,A,R,j,X,ie)},Ge=(I,A,R)=>{const L=A.component=I.component;if(vP(I,A,R))if(L.asyncDep&&!L.asyncResolved){De(L,A,R);return}else L.next=A,fP(L.update),L.update();else A.el=I.el,L.vnode=A},de=(I,A,R,L,j,X,ie)=>{const Z=()=>{if(I.isMounted){let{next:be,bu:fe,u:C,parent:N,vnode:M}=I,z=be,le;wo(I,!1),be?(be.el=M.el,De(I,be,ie)):be=M,fe&&Zl(fe),(le=be.props&&be.props.onVnodeBeforeUpdate)&&Mr(le,N,be,M),wo(I,!0);const ue=km(I),xe=I.subTree;I.subTree=ue,T(xe,ue,g(xe.el),D(xe),I,j,X),be.el=ue.el,z===null&&yP(I,ue.el),C&&Nn(C,j),(le=be.props&&be.props.onVnodeUpdated)&&Nn(()=>Mr(le,N,be,M),j)}else{let be;const{el:fe,props:C}=A,{bm:N,m:M,parent:z}=I,le=ef(A);if(wo(I,!1),N&&Zl(N),!le&&(be=C&&C.onVnodeBeforeMount)&&Mr(be,z,A),wo(I,!0),fe&&Ce){const ue=()=>{I.subTree=km(I),Ce(fe,I.subTree,I,j,null)};le?A.type.__asyncLoader().then(()=>!I.isUnmounted&&ue()):ue()}else{const ue=I.subTree=km(I);T(null,ue,R,L,I,j,X),A.el=ue.el}if(M&&Nn(M,j),!le&&(be=C&&C.onVnodeMounted)){const ue=A;Nn(()=>Mr(be,z,ue),j)}(A.shapeFlag&256||z&&ef(z.vnode)&&z.vnode.shapeFlag&256)&&I.a&&Nn(I.a,j),I.isMounted=!0,A=R=L=null}},re=I.effect=new sv(Z,()=>pv(Q),I.scope),Q=I.update=()=>re.run();Q.id=I.uid,wo(I,!0),Q()},De=(I,A,R)=>{A.component=I;const L=I.vnode.props;I.vnode=A,I.next=null,$P(I,A.props,L,R),zP(I,A.children,R),mu(),V_(),gu()},ge=(I,A,R,L,j,X,ie,Z,re=!1)=>{const Q=I&&I.children,be=I?I.shapeFlag:0,fe=A.children,{patchFlag:C,shapeFlag:N}=A;if(C>0){if(C&128){It(Q,fe,R,L,j,X,ie,Z,re);return}else if(C&256){ht(Q,fe,R,L,j,X,ie,Z,re);return}}N&8?(be&16&&ve(Q,j,X),fe!==Q&&p(R,fe)):be&16?N&16?It(Q,fe,R,L,j,X,ie,Z,re):ve(Q,j,X,!0):(be&8&&p(R,""),N&16&&G(fe,R,L,j,X,ie,Z,re))},ht=(I,A,R,L,j,X,ie,Z,re)=>{I=I||Ms,A=A||Ms;const Q=I.length,be=A.length,fe=Math.min(Q,be);let C;for(C=0;C<fe;C++){const N=A[C]=re?ki(A[C]):Ur(A[C]);T(I[C],N,R,null,j,X,ie,Z,re)}Q>be?ve(I,j,X,!0,!1,fe):G(A,R,L,j,X,ie,Z,re,fe)},It=(I,A,R,L,j,X,ie,Z,re)=>{let Q=0;const be=A.length;let fe=I.length-1,C=be-1;for(;Q<=fe&&Q<=C;){const N=I[Q],M=A[Q]=re?ki(A[Q]):Ur(A[Q]);if(ca(N,M))T(N,M,R,null,j,X,ie,Z,re);else break;Q++}for(;Q<=fe&&Q<=C;){const N=I[fe],M=A[C]=re?ki(A[C]):Ur(A[C]);if(ca(N,M))T(N,M,R,null,j,X,ie,Z,re);else break;fe--,C--}if(Q>fe){if(Q<=C){const N=C+1,M=N<be?A[N].el:L;for(;Q<=C;)T(null,A[Q]=re?ki(A[Q]):Ur(A[Q]),R,M,j,X,ie,Z,re),Q++}}else if(Q>C)for(;Q<=fe;)Ot(I[Q],j,X,!0),Q++;else{const N=Q,M=Q,z=new Map;for(Q=M;Q<=C;Q++){const it=A[Q]=re?ki(A[Q]):Ur(A[Q]);it.key!=null&&z.set(it.key,Q)}let le,ue=0;const xe=C-M+1;let Ke=!1,Te=0;const Ve=new Array(xe);for(Q=0;Q<xe;Q++)Ve[Q]=0;for(Q=N;Q<=fe;Q++){const it=I[Q];if(ue>=xe){Ot(it,j,X,!0);continue}let qn;if(it.key!=null)qn=z.get(it.key);else for(le=M;le<=C;le++)if(Ve[le-M]===0&&ca(it,A[le])){qn=le;break}qn===void 0?Ot(it,j,X,!0):(Ve[qn-M]=Q+1,qn>=Te?Te=qn:Ke=!0,T(it,A[qn],R,null,j,X,ie,Z,re),ue++)}const vt=Ke?XP(Ve):Ms;for(le=vt.length-1,Q=xe-1;Q>=0;Q--){const it=M+Q,qn=A[it],Xt=it+1<be?A[it+1].el:L;Ve[Q]===0?T(null,qn,R,Xt,j,X,ie,Z,re):Ke&&(le<0||Q!==vt[le]?Vt(qn,R,Xt,2):le--)}}},Vt=(I,A,R,L,j=null)=>{const{el:X,type:ie,transition:Z,children:re,shapeFlag:Q}=I;if(Q&6){Vt(I.component.subTree,A,R,L);return}if(Q&128){I.suspense.move(A,R,L);return}if(Q&64){ie.move(I,A,R,ee);return}if(ie===xt){i(X,A,R);for(let fe=0;fe<re.length;fe++)Vt(re[fe],A,R,L);i(I.anchor,A,R);return}if(ie===tf){U(I,A,R);return}if(L!==2&&Q&1&&Z)if(L===0)Z.beforeEnter(X),i(X,A,R),Nn(()=>Z.enter(X),j);else{const{leave:fe,delayLeave:C,afterLeave:N}=Z,M=()=>i(X,A,R),z=()=>{fe(X,()=>{M(),N&&N()})};C?C(X,M,z):z()}else i(X,A,R)},Ot=(I,A,R,L=!1,j=!1)=>{const{type:X,props:ie,ref:Z,children:re,dynamicChildren:Q,shapeFlag:be,patchFlag:fe,dirs:C}=I;if(Z!=null&&cg(Z,null,R,I,!0),be&256){A.ctx.deactivate(I);return}const N=be&1&&C,M=!ef(I);let z;if(M&&(z=ie&&ie.onVnodeBeforeUnmount)&&Mr(z,A,I),be&6)pe(I.component,R,L);else{if(be&128){I.suspense.unmount(R,L);return}N&&yo(I,null,A,"beforeUnmount"),be&64?I.type.remove(I,A,R,j,ee,L):Q&&(X!==xt||fe>0&&fe&64)?ve(Q,A,R,!1,!0):(X===xt&&fe&384||!j&&be&16)&&ve(re,A,R),L&&dt(I)}(M&&(z=ie&&ie.onVnodeUnmounted)||N)&&Nn(()=>{z&&Mr(z,A,I),N&&yo(I,null,A,"unmounted")},R)},dt=I=>{const{type:A,el:R,anchor:L,transition:j}=I;if(A===xt){Vn(R,L);return}if(A===tf){B(I);return}const X=()=>{o(R),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(I.shapeFlag&1&&j&&!j.persisted){const{leave:ie,delayLeave:Z}=j,re=()=>ie(R,X);Z?Z(I.el,X,re):re()}else X()},Vn=(I,A)=>{let R;for(;I!==A;)R=v(I),o(I),I=R;o(A)},pe=(I,A,R)=>{const{bum:L,scope:j,update:X,subTree:ie,um:Z}=I;L&&Zl(L),j.stop(),X&&(X.active=!1,Ot(ie,I,A,R)),Z&&Nn(Z,A),Nn(()=>{I.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},ve=(I,A,R,L=!1,j=!1,X=0)=>{for(let ie=X;ie<I.length;ie++)Ot(I[ie],A,R,L,j)},D=I=>I.shapeFlag&6?D(I.component.subTree):I.shapeFlag&128?I.suspense.next():v(I.anchor||I.el),$=(I,A,R)=>{I==null?A._vnode&&Ot(A._vnode,null,null,!0):T(A._vnode||null,I,A,null,null,null,R),V_(),zT(),A._vnode=I},ee={p:T,um:Ot,m:Vt,r:dt,mt:lt,mc:G,pc:ge,pbc:k,n:D,o:e};let ae,Ce;return t&&([ae,Ce]=t(ee)),{render:$,hydrate:ae,createApp:VP($,ae)}}function wo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function lS(e,t,n=!1){const i=e.children,o=t.children;if(Ae(i)&&Ae(o))for(let u=0;u<i.length;u++){const a=i[u];let l=o[u];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[u]=ki(o[u]),l.el=a.el),n||lS(a,l)),l.type===ah&&(l.el=a.el)}}function XP(e){const t=e.slice(),n=[0];let i,o,u,a,l;const f=e.length;for(i=0;i<f;i++){const d=e[i];if(d!==0){if(o=n[n.length-1],e[o]<d){t[i]=o,n.push(i);continue}for(u=0,a=n.length-1;u<a;)l=u+a>>1,e[n[l]]<d?u=l+1:a=l;d<e[n[u]]&&(u>0&&(t[i]=n[u-1]),n[u]=i)}}for(u=n.length,a=n[u-1];u-- >0;)n[u]=a,a=t[a];return n}const YP=e=>e.__isTeleport,xt=Symbol.for("v-fgt"),ah=Symbol.for("v-txt"),Uo=Symbol.for("v-cmt"),tf=Symbol.for("v-stc"),Ea=[];let wr=null;function ze(e=!1){Ea.push(wr=e?null:[])}function QP(){Ea.pop(),wr=Ea[Ea.length-1]||null}let Ua=1;function Q_(e){Ua+=e}function fS(e){return e.dynamicChildren=Ua>0?wr||Ms:null,QP(),Ua>0&&wr&&wr.push(e),e}function st(e,t,n,i,o,u){return fS(q(e,t,n,i,o,u,!0))}function $s(e,t,n,i,o){return fS(ke(e,t,n,i,o,!0))}function lg(e){return e?e.__v_isVNode===!0:!1}function ca(e,t){return e.type===t.type&&e.key===t.key}const ch="__vInternal",hS=({key:e})=>e??null,nf=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ft(e)||at(e)||Le(e)?{i:On,r:e,k:t,f:!!n}:e:null);function q(e,t=null,n=null,i=0,o=null,u=e===xt?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&hS(t),ref:t&&nf(t),scopeId:XT,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:On};return l?(_v(f,n),u&128&&e.normalize(f)):n&&(f.shapeFlag|=Ft(n)?8:16),Ua>0&&!a&&wr&&(f.patchFlag>0||u&6)&&f.patchFlag!==32&&wr.push(f),f}const ke=JP;function JP(e,t=null,n=null,i=0,o=null,u=!1){if((!e||e===tS)&&(e=Uo),lg(e)){const l=Ks(e,t,!0);return n&&_v(l,n),Ua>0&&!u&&wr&&(l.shapeFlag&6?wr[wr.indexOf(e)]=l:wr.push(l)),l.patchFlag|=-2,l}if(aD(e)&&(e=e.__vccOpts),t){t=ZP(t);let{class:l,style:f}=t;l&&!Ft(l)&&(t.class=xn(l)),ct(f)&&(FT(f)&&!Ae(f)&&(f=Gt({},f)),t.style=th(f))}const a=Ft(e)?1:wP(e)?128:YP(e)?64:ct(e)?4:Le(e)?2:0;return q(e,t,n,i,o,a,u,!0)}function ZP(e){return e?FT(e)||ch in e?Gt({},e):e:null}function Ks(e,t,n=!1){const{props:i,ref:o,patchFlag:u,children:a}=e,l=t?Ev(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&hS(l),ref:t&&t.ref?n&&o?Ae(o)?o.concat(nf(t)):[o,nf(t)]:nf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xt?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ks(e.ssContent),ssFallback:e.ssFallback&&Ks(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Oo(e=" ",t=0){return ke(ah,null,e,t)}function dS(e,t){const n=ke(tf,null,e);return n.staticCount=t,n}function ja(e="",t=!1){return t?(ze(),$s(Uo,null,e)):ke(Uo,null,e)}function Ur(e){return e==null||typeof e=="boolean"?ke(Uo):Ae(e)?ke(xt,null,e.slice()):typeof e=="object"?ki(e):ke(ah,null,String(e))}function ki(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ks(e)}function _v(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Ae(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),_v(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(ch in t)?t._ctx=On:o===3&&On&&(On.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Le(t)?(t={default:t,_ctx:On},n=32):(t=String(t),i&64?(n=16,t=[Oo(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ev(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=xn([t.class,i.class]));else if(o==="style")t.style=th([t.style,i.style]);else if(Qf(o)){const u=t[o],a=i[o];a&&u!==a&&!(Ae(u)&&u.includes(a))&&(t[o]=u?[].concat(u,a):a)}else o!==""&&(t[o]=i[o])}return t}function Mr(e,t,n,i=null){_r(e,t,7,[n,i])}const eD=iS();let tD=0;function nD(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||eD,u={uid:tD++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new IT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sS(i,o),emitsOptions:WT(i,o),emit:null,emitted:null,propsDefaults:mt,inheritAttrs:i.inheritAttrs,ctx:mt,data:mt,props:mt,attrs:mt,slots:mt,refs:mt,setupState:mt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=pP.bind(null,u),e.ce&&e.ce(u),u}let Bt=null;const lh=()=>Bt||On;let Iv,Ts,J_="__VUE_INSTANCE_SETTERS__";(Ts=eg()[J_])||(Ts=eg()[J_]=[]),Ts.push(e=>Bt=e),Iv=e=>{Ts.length>1?Ts.forEach(t=>t(e)):Ts[0](e)};const Hs=e=>{Iv(e),e.scope.on()},Po=()=>{Bt&&Bt.scope.off(),Iv(null)};function pS(e){return e.vnode.shapeFlag&4}let Va=!1;function rD(e,t=!1){Va=t;const{props:n,children:i}=e.vnode,o=pS(e);BP(e,n,o,t),HP(e,i);const u=o?iD(e,t):void 0;return Va=!1,u}function iD(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ih(new Proxy(e.ctx,PP));const{setup:i}=n;if(i){const o=e.setupContext=i.length>1?sD(e):null;Hs(e),mu();const u=Ui(i,e,0,[e.props,o]);if(gu(),Po(),vT(u)){if(u.then(Po,Po),t)return u.then(a=>{Z_(e,a,t)}).catch(a=>{oh(a,e,0)});e.asyncDep=u}else Z_(e,u,t)}else mS(e,t)}function Z_(e,t,n){Le(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ct(t)&&(e.setupState=BT(t)),mS(e,n)}let eE;function mS(e,t,n){const i=e.type;if(!e.render){if(!t&&eE&&!i.render){const o=i.template||wv(e).template;if(o){const{isCustomElement:u,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=i,d=Gt(Gt({isCustomElement:u,delimiters:l},a),f);i.render=eE(o,d)}}e.render=i.render||br}Hs(e),mu(),DP(e),gu(),Po()}function oD(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Ln(e,"get","$attrs"),t[n]}}))}function sD(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return oD(e)},slots:e.slots,emit:e.emit,expose:t}}function fh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(BT(ih(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in _a)return _a[n](e)},has(t,n){return n in t||n in _a}}))}function uD(e,t=!0){return Le(e)?e.displayName||e.name:e.name||t&&e.__name}function aD(e){return Le(e)&&"__vccOpts"in e}const Fe=(e,t)=>aP(e,t,Va);function zs(e,t,n){const i=arguments.length;return i===2?ct(t)&&!Ae(t)?lg(t)?ke(e,null,[t]):ke(e,t):ke(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&lg(n)&&(n=[n]),ke(e,t,n))}const cD=Symbol.for("v-scx"),lD=()=>ar(cD),fD="3.3.4",hD="http://www.w3.org/2000/svg",To=typeof document<"u"?document:null,tE=To&&To.createElement("template"),dD={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t?To.createElementNS(hD,e):To.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>To.createTextNode(e),createComment:e=>To.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>To.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,u){const a=n?n.previousSibling:t.lastChild;if(o&&(o===u||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===u||!(o=o.nextSibling)););else{tE.innerHTML=i?`<svg>${e}</svg>`:e;const l=tE.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function pD(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function mD(e,t,n){const i=e.style,o=Ft(n);if(n&&!o){if(t&&!Ft(t))for(const u in t)n[u]==null&&fg(i,u,"");for(const u in n)fg(i,u,n[u])}else{const u=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=u)}}const nE=/\s*!important$/;function fg(e,t,n){if(Ae(n))n.forEach(i=>fg(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=gD(e,t);nE.test(n)?e.setProperty(pu(i),n.replace(nE,""),"important"):e[i]=n}}const rE=["Webkit","Moz","ms"],Nm={};function gD(e,t){const n=Nm[t];if(n)return n;let i=Kr(t);if(i!=="filter"&&i in e)return Nm[t]=i;i=eh(i);for(let o=0;o<rE.length;o++){const u=rE[o]+i;if(u in e)return Nm[t]=u}return t}const iE="http://www.w3.org/1999/xlink";function vD(e,t,n,i,o){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(iE,t.slice(6,t.length)):e.setAttributeNS(iE,t,n);else{const u=TO(t);n==null||u&&!_T(n)?e.removeAttribute(t):e.setAttribute(t,u?"":n)}}function yD(e,t,n,i,o,u,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,o,u),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const d=l==="OPTION"?e.getAttribute("value"):e.value,p=n??"";d!==p&&(e.value=p),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=_T(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function gS(e,t,n,i){e.addEventListener(t,n,i)}function wD(e,t,n,i){e.removeEventListener(t,n,i)}function bD(e,t,n,i,o=null){const u=e._vei||(e._vei={}),a=u[t];if(i&&a)a.value=i;else{const[l,f]=_D(t);if(i){const d=u[t]=TD(i,o);gS(e,l,d,f)}else a&&(wD(e,l,a,f),u[t]=void 0)}}const oE=/(?:Once|Passive|Capture)$/;function _D(e){let t;if(oE.test(e)){t={};let i;for(;i=e.match(oE);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):pu(e.slice(2)),t]}let Rm=0;const ED=Promise.resolve(),ID=()=>Rm||(ED.then(()=>Rm=0),Rm=Date.now());function TD(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;_r(SD(i,n.value),t,5,[i])};return n.value=e,n.attached=ID(),n}function SD(e,t){if(Ae(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const sE=/^on[a-z]/,AD=(e,t,n,i,o=!1,u,a,l,f)=>{t==="class"?pD(e,i,o):t==="style"?mD(e,n,i):Qf(t)?nv(t)||bD(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):kD(e,t,i,o))?yD(e,t,i,u,a,l,f):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),vD(e,t,i,o))};function kD(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&sE.test(t)&&Le(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||sE.test(t)&&Ft(n)?!1:t in e}const uE=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ae(t)?n=>Zl(t,n):t},CD={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const o=Jf(t);gS(e,"change",()=>{const u=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?bT(vf(a)):vf(a));e._assign(e.multiple?o?new Set(u):u:u[0])}),e._assign=uE(i)},mounted(e,{value:t}){aE(e,t)},beforeUpdate(e,t,n){e._assign=uE(n)},updated(e,{value:t}){aE(e,t)}};function aE(e,t){const n=e.multiple;if(!(n&&!Ae(t)&&!Jf(t))){for(let i=0,o=e.options.length;i<o;i++){const u=e.options[i],a=vf(u);if(n)Ae(t)?u.selected=AO(t,a)>-1:u.selected=t.has(a);else if(nh(vf(u),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function vf(e){return"_value"in e?e._value:e.value}const ND=["ctrl","shift","alt","meta"],RD={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ND.some(n=>e[`${n}Key`]&&!t.includes(n))},Gn=(e,t)=>(n,...i)=>{for(let o=0;o<t.length;o++){const u=RD[t[o]];if(u&&u(n,t))return}return e(n,...i)},hg={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):la(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),la(e,!0),i.enter(e)):i.leave(e,()=>{la(e,!1)}):la(e,t))},beforeUnmount(e,{value:t}){la(e,t)}};function la(e,t){e.style.display=t?e._vod:"none"}const xD=Gt({patchProp:AD},dD);let cE;function OD(){return cE||(cE=GP(xD))}const PD=(...e)=>{const t=OD().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=DD(i);if(!o)return;const u=t._component;!Le(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function DD(e){return Ft(e)?document.querySelector(e):e}var LD=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let vS;const hh=e=>vS=e,yS=Symbol();function dg(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ia;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ia||(Ia={}));function MD(){const e=TT(!0),t=e.run(()=>wn({}));let n=[],i=[];const o=ih({install(u){hh(o),o._a=u,u.provide(yS,o),u.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(u){return!this._a&&!LD?i.push(u):n.push(u),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const wS=()=>{};function lE(e,t,n,i=wS){e.push(t);const o=()=>{const u=e.indexOf(t);u>-1&&(e.splice(u,1),i())};return!n&&ST()&&CO(o),o}function Ss(e,...t){e.slice().forEach(n=>{n(...t)})}const FD=e=>e();function pg(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],o=e[n];dg(o)&&dg(i)&&e.hasOwnProperty(n)&&!at(i)&&!Fi(i)?e[n]=pg(o,i):e[n]=i}return e}const UD=Symbol();function jD(e){return!dg(e)||!e.hasOwnProperty(UD)}const{assign:Ai}=Object;function VD(e){return!!(at(e)&&e.effect)}function qD(e,t,n,i){const{state:o,actions:u,getters:a}=t,l=n.state.value[e];let f;function d(){l||(n.state.value[e]=o?o():{});const p=iP(n.state.value[e]);return Ai(p,u,Object.keys(a||{}).reduce((g,v)=>(g[v]=ih(Fe(()=>{hh(n);const b=n._s.get(e);return a[v].call(b,b)})),g),{}))}return f=bS(e,d,t,n,i,!0),f}function bS(e,t,n={},i,o,u){let a;const l=Ai({actions:{}},n),f={deep:!0};let d,p,g=[],v=[],b;const _=i.state.value[e];!u&&!_&&(i.state.value[e]={}),wn({});let T;function S(G){let oe;d=p=!1,typeof G=="function"?(G(i.state.value[e]),oe={type:Ia.patchFunction,storeId:e,events:b}):(pg(i.state.value[e],G),oe={type:Ia.patchObject,payload:G,storeId:e,events:b});const k=T=Symbol();ei().then(()=>{T===k&&(d=!0)}),p=!0,Ss(g,oe,i.state.value[e])}const x=u?function(){const{state:oe}=n,k=oe?oe():{};this.$patch($e=>{Ai($e,k)})}:wS;function O(){a.stop(),g=[],v=[],i._s.delete(e)}function U(G,oe){return function(){hh(i);const k=Array.from(arguments),$e=[],nt=[];function rt(de){$e.push(de)}function lt(de){nt.push(de)}Ss(v,{args:k,name:G,store:te,after:rt,onError:lt});let Ge;try{Ge=oe.apply(this&&this.$id===e?this:te,k)}catch(de){throw Ss(nt,de),de}return Ge instanceof Promise?Ge.then(de=>(Ss($e,de),de)).catch(de=>(Ss(nt,de),Promise.reject(de))):(Ss($e,Ge),Ge)}}const B={_p:i,$id:e,$onAction:lE.bind(null,v),$patch:S,$reset:x,$subscribe(G,oe={}){const k=lE(g,G,oe.detached,()=>$e()),$e=a.run(()=>Jn(()=>i.state.value[e],nt=>{(oe.flush==="sync"?p:d)&&G({storeId:e,type:Ia.direct,events:b},nt)},Ai({},f,oe)));return k},$dispose:O},te=ai(B);i._s.set(e,te);const V=i._a&&i._a.runWithContext||FD,we=i._e.run(()=>(a=TT(),V(()=>a.run(t))));for(const G in we){const oe=we[G];if(at(oe)&&!VD(oe)||Fi(oe))u||(_&&jD(oe)&&(at(oe)?oe.value=_[G]:pg(oe,_[G])),i.state.value[e][G]=oe);else if(typeof oe=="function"){const k=U(G,oe);we[G]=k,l.actions[G]=oe}}return Ai(te,we),Ai(Xe(te),we),Object.defineProperty(te,"$state",{get:()=>i.state.value[e],set:G=>{S(oe=>{Ai(oe,G)})}}),i._p.forEach(G=>{Ai(te,a.run(()=>G({store:te,app:i._a,pinia:i,options:l})))}),_&&u&&n.hydrate&&n.hydrate(te.$state,_),d=!0,p=!0,te}function _S(e,t,n){let i,o;const u=typeof t=="function";typeof e=="string"?(i=e,o=u?n:t):(o=e,i=e.id);function a(l,f){const d=qP();return l=l||(d?ar(yS,null):null),l&&hh(l),l=vS,l._s.has(i)||(u?bS(i,t,o,l):qD(i,o,l)),l._s.get(i)}return a.$id=i,a}let BD="Store";function $D(...e){return e.reduce((t,n)=>(t[n.$id+BD]=function(){return n(this.$pinia)},t),{})}function KD(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(){return e(this.$pinia)[i]},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(){const o=e(this.$pinia),u=t[i];return typeof u=="function"?u.call(this,o):o[u]},n),{})}function ES(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[i](...o)},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[t[i]](...o)},n),{})}function IS(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[i]},set(o){return e(this.$pinia)[i]=o}},n),{}):Object.keys(t).reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[t[i]]},set(o){return e(this.$pinia)[t[i]]=o}},n),{})}const mg=_S("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var gg=function(e,t){return gg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},gg(e,t)};function Ie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");gg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Gs=function(){return Gs=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},Gs.apply(this,arguments)};function H(e,t,n,i){function o(u){return u instanceof n?u:new n(function(a){a(u)})}return new(n||(n=Promise))(function(u,a){function l(p){try{d(i.next(p))}catch(g){a(g)}}function f(p){try{d(i.throw(p))}catch(g){a(g)}}function d(p){p.done?u(p.value):o(p.value).then(l,f)}d((i=i.apply(e,t||[])).next())})}function K(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(p){return f([d,p])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(u=d[0]&2?o.return:d[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,d[1])).done)return u;switch(o=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){n.label=d[1];break}if(d[0]===6&&n.label<u[1]){n.label=u[1],u=d;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(d);break}u[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(p){d=[6,p],o=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function xm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ul(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,u=[],a;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return u}function bt(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TS=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},HD=function(e){for(var t=[],n=0,i=0;n<e.length;){var o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){var u=e[n++];t[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){var u=e[n++],a=e[n++],l=e[n++],f=((o&7)<<18|(u&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{var u=e[n++],a=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|a&63)}}return t.join("")},zD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var u=e[o],a=o+1<e.length,l=a?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,p=u>>2,g=(u&3)<<4|l>>4,v=(l&15)<<2|d>>6,b=d&63;f||(b=64,a||(v=64)),i.push(n[p],n[g],n[v],n[b])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(TS(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):HD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var u=n[e.charAt(o++)],a=o<e.length,l=a?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var p=o<e.length,g=p?n[e.charAt(o)]:64;if(++o,u==null||l==null||d==null||g==null)throw Error();var v=u<<2|l>>4;if(i.push(v),d!==64){var b=l<<4&240|d>>2;if(i.push(b),g!==64){var _=d<<6&192|g;i.push(_)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},GD=function(e){var t=TS(e);return zD.encodeByteArray(t,!0)},fE=function(e){return GD(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(e){return qa(void 0,e)}function qa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!XD(i)||(e[i]=qa(e[i],t[i]));return e}function XD(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YD=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Gs({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[fE(JSON.stringify(n)),fE(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jo())}function AS(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JD(){return typeof self=="object"&&self.self===self}function ZD(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function eL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tL(){return jo().indexOf("Electron/")>=0}function nL(){var e=jo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function rL(){return jo().indexOf("MSAppHost/")>=0}function iL(){return!AS()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oL="FirebaseError",kS=function(e){Ie(t,e);function t(n,i,o){var u=e.call(this,i)||this;return u.code=n,u.customData=o,u.name=oL,Object.setPrototypeOf(u,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,Tv.prototype.create),u}return t}(Error),Tv=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},u=this.service+"/"+t,a=this.errors[t],l=a?sL(a,o):"Error",f=this.serviceName+": "+l+" ("+u+").",d=new kS(u,f,o);return d},e}();function sL(e,t){return e.replace(uL,function(n,i){var o=t[i];return o!=null?String(o):"<"+i+"?>"})}var uL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function aL(e,t){var n=new cL(e,t);return n.subscribe.bind(n)}var cL=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(o){i.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var o=this,u;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");lL(t,["next","error","complete"])?u=t:u={next:t,error:n,complete:i},u.next===void 0&&(u.next=Om),u.error===void 0&&(u.error=Om),u.complete===void 0&&(u.complete=Om);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?u.error(o.finalError):u.complete()}catch{}}),this.observers.push(u),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function lL(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Om(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(e){return e&&e._delegate?e._delegate:e}var ac=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new YD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(dL(t))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}try{for(var o=xm(this.instancesDeferred.entries()),u=o.next();!u.done;u=o.next()){var a=Ul(u.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:d});f.resolve(p)}catch{}}}catch(g){n={error:g}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=_o),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return H(this,void 0,void 0,function(){var t;return K(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(bt(bt([],Ul(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),Ul(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=_o),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=_o),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var o=t.options,u=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:u});try{for(var f=xm(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var p=Ul(d.value,2),g=p[0],v=p[1],b=this.normalizeInstanceIdentifier(g);a===b&&v.resolve(l)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(t),this.onInitCallbacks.set(o,u);var a=this.instances.get(o);return a&&t(a,o),function(){u.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,o,u=this.onInitCallbacks.get(n);if(u)try{for(var a=xm(u),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(t,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,o=i===void 0?{}:i,u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:hL(n),options:o}),this.instances.set(n,u),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=_o),this.component?this.component.multipleInstances?t:_o:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function hL(e){return e===_o?void 0:e}function dL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pL=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new fL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function gr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var u=arguments[t],a=0,l=u.length;a<l;a++,o++)i[o]=u[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bo,Sv=[],Qe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Qe||(Qe={}));var CS={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},mL=Qe.INFO,gL=(bo={},bo[Qe.DEBUG]="log",bo[Qe.VERBOSE]="log",bo[Qe.INFO]="info",bo[Qe.WARN]="warn",bo[Qe.ERROR]="error",bo),vL=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),u=gL[t];if(u)console[u].apply(console,gr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},NS=function(){function e(t){this.name=t,this._logLevel=mL,this._logHandler=vL,this._userLogHandler=null,Sv.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Qe))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?CS[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,Qe.DEBUG],t)),this._logHandler.apply(this,gr([this,Qe.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,Qe.VERBOSE],t)),this._logHandler.apply(this,gr([this,Qe.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,Qe.INFO],t)),this._logHandler.apply(this,gr([this,Qe.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,Qe.WARN],t)),this._logHandler.apply(this,gr([this,Qe.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,Qe.ERROR],t)),this._logHandler.apply(this,gr([this,Qe.ERROR],t))},e}();function yL(e){Sv.forEach(function(t){t.setLogLevel(e)})}function wL(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=CS[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var p=[],g=2;g<arguments.length;g++)p[g-2]=arguments[g];var v=p.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");d>=(l??f.logLevel)&&e({level:Qe[d].toLowerCase(),message:v,args:p,type:f.name})}},i=0,o=Sv;i<o.length;i++){var u=o[i];n(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ei,bL=(Ei={},Ei["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ei["bad-app-name"]="Illegal App name: '{$appName}",Ei["duplicate-app"]="Firebase App named '{$appName}' already exists",Ei["app-deleted"]="Firebase App named '{$appName}' already deleted",Ei["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ei["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ei),Rs=new Tv("app","Firebase",bL),RS="@firebase/app",_L="0.6.30",EL="@firebase/analytics",IL="@firebase/app-check",TL="@firebase/auth",SL="@firebase/database",AL="@firebase/functions",kL="@firebase/installations",CL="@firebase/messaging",NL="@firebase/performance",RL="@firebase/remote-config",xL="@firebase/storage",OL="@firebase/firestore",PL="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,yf="[DEFAULT]",DL=(on={},on[RS]="fire-core",on[EL]="fire-analytics",on[IL]="fire-app-check",on[TL]="fire-auth",on[SL]="fire-rtdb",on[AL]="fire-fn",on[kL]="fire-iid",on[CL]="fire-fcm",on[NL]="fire-perf",on[RL]="fire-rc",on[xL]="fire-gcs",on[OL]="fire-fst",on["fire-js"]="fire-js",on[PL]="fire-js-all",on);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ws=new NS("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rf=function(){function e(t,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=WD(t),this.container=new pL(n.name),this._addComponent(new ac("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(u){return o._addComponent(u)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=yf),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=yf),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Ws.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Rs.create("app-deleted",{appName:this.name_})},e}();rf.prototype.name&&rf.prototype.options||rf.prototype.delete||console.log("dc");var LL="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(e){var t={},n=new Map,i={__esModule:!0,initializeApp:a,app:u,registerVersion:d,setLogLevel:yL,onLog:p,apps:null,SDK_VERSION:LL,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:g}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(v){delete t[v]}function u(v){if(v=v||yf,!hE(t,v))throw Rs.create("no-app",{appName:v});return t[v]}u.App=e;function a(v,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var _=b;b={name:_}}var T=b;T.name===void 0&&(T.name=yf);var S=T.name;if(typeof S!="string"||!S)throw Rs.create("bad-app-name",{appName:String(S)});if(hE(t,S))throw Rs.create("duplicate-app",{appName:S});var x=new e(v,T,i);return t[S]=x,x}function l(){return Object.keys(t).map(function(v){return t[v]})}function f(v){var b=v.name;if(n.has(b))return Ws.debug("There were multiple attempts to register component "+b+"."),v.type==="PUBLIC"?i[b]:null;if(n.set(b,v),v.type==="PUBLIC"){var _=function(O){if(O===void 0&&(O=u()),typeof O[b]!="function")throw Rs.create("invalid-app-argument",{appName:b});return O[b]()};v.serviceProps!==void 0&&qa(_,v.serviceProps),i[b]=_,e.prototype[b]=function(){for(var O=[],U=0;U<arguments.length;U++)O[U]=arguments[U];var B=this._getService.bind(this,b);return B.apply(this,v.multipleInstances?O:[])}}for(var T=0,S=Object.keys(t);T<S.length;T++){var x=S[T];t[x]._addComponent(v)}return v.type==="PUBLIC"?i[b]:null}function d(v,b,_){var T,S=(T=DL[v])!==null&&T!==void 0?T:v;_&&(S+="-"+_);var x=S.match(/\s|\//),O=b.match(/\s|\//);if(x||O){var U=['Unable to register library "'+S+'" with version "'+b+'":'];x&&U.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),x&&O&&U.push("and"),O&&U.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),Ws.warn(U.join(" "));return}f(new ac(S+"-version",function(){return{library:S,version:b}},"VERSION"))}function p(v,b){if(v!==null&&typeof v!="function")throw Rs.create("invalid-log-argument");wL(v,b)}function g(v,b){if(b==="serverAuth")return null;var _=b;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){var e=ML(rf);e.INTERNAL=Gs(Gs({},e.INTERNAL),{createFirebaseNamespace:xS,extendNamespace:t,createSubscribe:aL,ErrorFactory:Tv,deepExtend:qa});function t(n){qa(e,n)}return e}var Av=xS();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FL=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(UL(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();function UL(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(e,t){e.INTERNAL.registerComponent(new ac("platform-logger",function(n){return new FL(n)},"PRIVATE")),e.registerVersion(RS,_L,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(JD()&&self.firebase!==void 0){Ws.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var dE=self.firebase.SDK_VERSION;dE&&dE.indexOf("LITE")>=0&&Ws.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var VL=Av.initializeApp;Av.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return AS()&&Ws.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),VL.apply(void 0,e)};var Se=Av;jL(Se);var qL="firebase",OS="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Se.registerVersion(qL,OS,"app");Se.SDK_VERSION=OS;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,c){r!=Array.prototype&&r!=Object.prototype&&(r[s]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var c=r[s];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,s){if(s){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var m=r[h];m in c||(c[m]={}),c=c[m]}r=r[r.length-1],h=c[r],s=s(h),s!=h&&s!=null&&t(c,r,{configurable:!0,writable:!0,value:s})}}function u(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function a(r){var s=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:u(r)}}o("Promise",function(r){function s(w){this.b=0,this.c=void 0,this.a=[];var E=this.f();try{w(E.resolve,E.reject)}catch(F){E.reject(F)}}function c(){this.a=null}function h(w){return w instanceof s?w:new s(function(E){E(w)})}if(r)return r;c.prototype.b=function(w){if(this.a==null){this.a=[];var E=this;this.c(function(){E.g()})}this.a.push(w)};var m=i.setTimeout;c.prototype.c=function(w){m(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var E=0;E<w.length;++E){var F=w[E];w[E]=null;try{F()}catch(W){this.f(W)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},s.prototype.f=function(){function w(W){return function(Oe){F||(F=!0,W.call(E,Oe))}}var E=this,F=!1;return{resolve:w(this.m),reject:w(this.g)}},s.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof s)this.s(w);else{e:switch(typeof w){case"object":var E=w!=null;break e;case"function":E=!0;break e;default:E=!1}E?this.v(w):this.h(w)}},s.prototype.v=function(w){var E=void 0;try{E=w.then}catch(F){this.g(F);return}typeof E=="function"?this.u(E,w):this.h(w)},s.prototype.g=function(w){this.i(2,w)},s.prototype.h=function(w){this.i(1,w)},s.prototype.i=function(w,E){if(this.b!=0)throw Error("Cannot settle("+w+", "+E+"): Promise already settled in state"+this.b);this.b=w,this.c=E,this.l()},s.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)y.b(this.a[w]);this.a=null}};var y=new c;return s.prototype.s=function(w){var E=this.f();w.Ra(E.resolve,E.reject)},s.prototype.u=function(w,E){var F=this.f();try{w.call(E,F.resolve,F.reject)}catch(W){F.reject(W)}},s.prototype.then=function(w,E){function F(Ye,Ht){return typeof Ye=="function"?function(Qr){try{W(Ye(Qr))}catch(Sm){Oe(Sm)}}:Ht}var W,Oe,et=new s(function(Ye,Ht){W=Ye,Oe=Ht});return this.Ra(F(w,W),F(E,Oe)),et},s.prototype.catch=function(w){return this.then(void 0,w)},s.prototype.Ra=function(w,E){function F(){switch(W.b){case 1:w(W.c);break;case 2:E(W.c);break;default:throw Error("Unexpected state: "+W.b)}}var W=this;this.a==null?y.b(F):this.a.push(F)},s.resolve=h,s.reject=function(w){return new s(function(E,F){F(w)})},s.race=function(w){return new s(function(E,F){for(var W=a(w),Oe=W.next();!Oe.done;Oe=W.next())h(Oe.value).Ra(E,F)})},s.all=function(w){var E=a(w),F=E.next();return F.done?h([]):new s(function(W,Oe){function et(Qr){return function(Sm){Ye[Qr]=Sm,Ht--,Ht==0&&W(Ye)}}var Ye=[],Ht=0;do Ye.push(void 0),Ht++,h(F.value).Ra(et(Ye.length-1),Oe),F=E.next();while(!F.done)})},s});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,p=null;function g(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function v(){}function b(r){var s=typeof r;return s!="object"?s:r?Array.isArray(r)?"array":s:"null"}function _(r){var s=b(r);return s=="array"||s=="object"&&typeof r.length=="number"}function T(r){return b(r)=="function"}function S(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function x(r){return Object.prototype.hasOwnProperty.call(r,O)&&r[O]||(r[O]=++U)}var O="closure_uid_"+(1e9*Math.random()>>>0),U=0;function B(r,s,c){return r.call.apply(r.bind,arguments)}function te(r,s,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,h),r.apply(s,m)}}return function(){return r.apply(s,arguments)}}function V(r,s,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?V=B:V=te,V.apply(null,arguments)}function we(r,s){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function G(r,s){function c(){}c.prototype=s.prototype,r.bb=s.prototype,r.prototype=new c,r.prototype.constructor=r}function oe(r){return r}function k(r,s,c){this.code=nt+r,this.message=s||rt[r]||"",this.a=c||null}G(k,Error),k.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},k.prototype.toJSON=function(){return this.w()};function $e(r){var s=r&&r.code;return s?new k(s.substring(nt.length),r.message,r.serverResponse):null}var nt="auth/",rt={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},lt={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ge(r){for(var s in lt)if(lt[s].id===r)return r=lt[s],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var de;de=Ge("__EID__")?"__EID__":void 0;function De(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function ge(r){if(Error.captureStackTrace)Error.captureStackTrace(this,ge);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}G(ge,Error),ge.prototype.name="CustomError";function ht(r,s){r=r.split("%s");for(var c="",h=r.length-1,m=0;m<h;m++)c+=r[m]+(m<s.length?s[m]:"%s");ge.call(this,c+r[h])}G(ht,ge),ht.prototype.name="AssertionError";function It(r,s){throw new ht("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function Vt(r,s){this.c=r,this.f=s,this.b=0,this.a=null}Vt.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function Ot(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function dt(){this.b=this.a=null}var Vn=new Vt(function(){return new ve},function(r){r.reset()});dt.prototype.add=function(r,s){var c=Vn.get();c.set(r,s),this.b?this.b.next=c:this.a=c,this.b=c};function pe(){var r=g0,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function ve(){this.next=this.b=this.a=null}ve.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},ve.prototype.reset=function(){this.next=this.b=this.a=null};var D=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===s)return c;return-1},$=Array.prototype.forEach?function(r,s,c){Array.prototype.forEach.call(r,s,c)}:function(r,s,c){for(var h=r.length,m=typeof r=="string"?r.split(""):r,y=0;y<h;y++)y in m&&s.call(c,m[y],y,r)};function ee(r,s){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&s.call(void 0,c[h],h,r)}var ae=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=[],m=0,y=typeof r=="string"?r.split(""):r,w=0;w<c;w++)if(w in y){var E=y[w];s.call(void 0,E,w,r)&&(h[m++]=E)}return h},Ce=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=Array(c),m=typeof r=="string"?r.split(""):r,y=0;y<c;y++)y in m&&(h[y]=s.call(void 0,m[y],y,r));return h},I=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=typeof r=="string"?r.split(""):r,m=0;m<c;m++)if(m in h&&s.call(void 0,h[m],m,r))return!0;return!1};function A(r){e:{for(var s=zN,c=r.length,h=typeof r=="string"?r.split(""):r,m=0;m<c;m++)if(m in h&&s.call(void 0,h[m],m,r)){s=m;break e}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function R(r,s){return 0<=D(r,s)}function L(r,s){s=D(r,s);var c;return(c=0<=s)&&Array.prototype.splice.call(r,s,1),c}function j(r,s){var c=0;ee(r,function(h,m){s.call(void 0,h,m,r)&&Array.prototype.splice.call(r,m,1).length==1&&c++})}function X(r){return Array.prototype.concat.apply([],arguments)}function ie(r){var s=r.length;if(0<s){for(var c=Array(s),h=0;h<s;h++)c[h]=r[h];return c}return[]}var Z=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},re=/&/g,Q=/</g,be=/>/g,fe=/"/g,C=/'/g,N=/\x00/g,M=/[\x00&<>"']/;function z(r,s){return r.indexOf(s)!=-1}function le(r,s){return r<s?-1:r>s?1:0}var ue;e:{var xe=f.navigator;if(xe){var Ke=xe.userAgent;if(Ke){ue=Ke;break e}}ue=""}function Te(r){return z(ue,r)}function Ve(r,s){for(var c in r)s.call(void 0,r[c],c,r)}function vt(r){for(var s in r)return!1;return!0}function it(r){var s={},c;for(c in r)s[c]=r[c];return s}var qn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xt(r,s){for(var c,h,m=1;m<arguments.length;m++){h=arguments[m];for(c in h)r[c]=h[c];for(var y=0;y<qn.length;y++)c=qn[y],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function Yy(r,s){e:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var m=h;break e}}catch{}m=null}if(m&&typeof m[s]<"u"&&(!r||!(r instanceof m[s])&&(r instanceof m.Location||r instanceof m.Element))){if(S(r))try{var y=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{y="<object could not be stringified>"}else y=r===void 0?"undefined":r===null?"null":typeof r;It("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,y)}}function Cr(r,s){this.a=r===xc&&s||"",this.b=Qy}Cr.prototype.ta=!0,Cr.prototype.sa=function(){return this.a},Cr.prototype.toString=function(){return"Const{"+this.a+"}"};function Jh(r){return r instanceof Cr&&r.constructor===Cr&&r.b===Qy?r.a:(It("expected object of type Const, got '"+r+"'"),"type_error:Const")}var Qy={},xc={},Oc;function Jy(){if(Oc===void 0){var r=null,s=f.trustedTypes;if(s&&s.createPolicy){try{r=s.createPolicy("goog#html",{createHTML:oe,createScript:oe,createScriptURL:oe})}catch(c){f.console&&f.console.error(c.message)}Oc=r}else Oc=r}return Oc}function ts(r,s){this.a=s===e0?r:""}ts.prototype.ta=!0,ts.prototype.sa=function(){return this.a.toString()},ts.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Zy(r){return r instanceof ts&&r.constructor===ts?r.a:(It("expected object of type TrustedResourceUrl, got '"+r+"' of type "+b(r)),"type_error:TrustedResourceUrl")}function Zh(r,s){var c=Jh(r);if(!EC.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(_C,function(h,m){if(!Object.prototype.hasOwnProperty.call(s,m))throw Error('Found marker, "'+m+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(s));return h=s[m],h instanceof Cr?Jh(h):encodeURIComponent(String(h))}),IC(r)}var _C=/%{(\w+)}/g,EC=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,e0={};function IC(r){var s=Jy();return r=s?s.createScriptURL(r):r,new ts(r,e0)}function Sn(r,s){this.a=s===ku?r:""}Sn.prototype.ta=!0,Sn.prototype.sa=function(){return this.a.toString()},Sn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Pc(r){return r instanceof Sn&&r.constructor===Sn?r.a:(It("expected object of type SafeUrl, got '"+r+"' of type "+b(r)),"type_error:SafeUrl")}var TC=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,SC=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,t0=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function n0(r){if(r instanceof Sn)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),t0.test(r))r=new Sn(r,ku);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var s=r.match(SC);r=s&&TC.test(s[1])?new Sn(r,ku):null}return r}function r0(r){return r instanceof Sn?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),t0.test(r)||(r="about:invalid#zClosurez"),new Sn(r,ku))}var ku={},i0=new Sn("about:invalid#zClosurez",ku);function ns(r,s,c){this.a=c===o0?r:""}ns.prototype.ta=!0,ns.prototype.sa=function(){return this.a.toString()},ns.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function AC(r){return r instanceof ns&&r.constructor===ns?r.a:(It("expected object of type SafeHtml, got '"+r+"' of type "+b(r)),"type_error:SafeHtml")}var o0={};function kC(r,s){Yy(r,"HTMLScriptElement"),r.src=Zy(s),(s=r.ownerDocument&&r.ownerDocument.defaultView)&&s!=f?s=g(s.document):(p===null&&(p=g(f.document)),s=p),s&&r.setAttribute("nonce",s)}function s0(r,s,c,h){return r=r instanceof Sn?r:r0(r),s=s||f,c=c instanceof Cr?Jh(c):c||"",s.open(Pc(r),c,h,void 0)}function u0(r,s){for(var c=r.split("%s"),h="",m=Array.prototype.slice.call(arguments,1);m.length&&1<c.length;)h+=c.shift()+m.shift();return h+c.join("%s")}function ed(r){return M.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(re,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(Q,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(be,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(fe,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(C,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(N,"&#0;"))),r}function td(r){return td[" "](r),r}td[" "]=v;function CC(r,s){var c=OC;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=s(r)}var NC=Te("Opera"),cr=Te("Trident")||Te("MSIE"),a0=Te("Edge"),RC=a0||cr,c0=Te("Gecko")&&!(z(ue.toLowerCase(),"webkit")&&!Te("Edge"))&&!(Te("Trident")||Te("MSIE"))&&!Te("Edge"),xC=z(ue.toLowerCase(),"webkit")&&!Te("Edge");function l0(){var r=f.document;return r?r.documentMode:void 0}var Dc;e:{var nd="",rd=function(){var r=ue;if(c0)return/rv:([^\);]+)(\)|;)/.exec(r);if(a0)return/Edge\/([\d\.]+)/.exec(r);if(cr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(xC)return/WebKit\/(\S+)/.exec(r);if(NC)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(rd&&(nd=rd?rd[1]:""),cr){var id=l0();if(id!=null&&id>parseFloat(nd)){Dc=String(id);break e}}Dc=nd}var OC={};function f0(r){return CC(r,function(){for(var s=0,c=Z(String(Dc)).split("."),h=Z(String(r)).split("."),m=Math.max(c.length,h.length),y=0;s==0&&y<m;y++){var w=c[y]||"",E=h[y]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],w[0].length==0&&E[0].length==0)break;s=le(w[1].length==0?0:parseInt(w[1],10),E[1].length==0?0:parseInt(E[1],10))||le(w[2].length==0,E[2].length==0)||le(w[2],E[2]),w=w[3],E=E[3]}while(s==0)}return 0<=s})}var od;if(f.document&&cr){var h0=l0();od=h0||parseInt(Dc,10)||void 0}else od=void 0;var di=od;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var PC=!cr||9<=Number(di);function Cu(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function d0(r,s){Ve(s,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:p0.hasOwnProperty(h)?r.setAttribute(p0[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var p0={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function DC(r,s,c){var h=arguments,m=document,y=String(h[0]),w=h[1];if(!PC&&w&&(w.name||w.type)){if(y=["<",y],w.name&&y.push(' name="',ed(w.name),'"'),w.type){y.push(' type="',ed(w.type),'"');var E={};Xt(E,w),delete E.type,w=E}y.push(">"),y=y.join("")}return y=Lc(m,y),w&&(typeof w=="string"?y.className=w:Array.isArray(w)?y.className=w.join(" "):d0(y,w)),2<h.length&&LC(m,y,h),y}function LC(r,s,c){function h(E){E&&s.appendChild(typeof E=="string"?r.createTextNode(E):E)}for(var m=2;m<c.length;m++){var y=c[m];if(!_(y)||S(y)&&0<y.nodeType)h(y);else{e:{if(y&&typeof y.length=="number"){if(S(y)){var w=typeof y.item=="function"||typeof y.item=="string";break e}if(T(y)){w=typeof y.item=="function";break e}}w=!1}$(w?ie(y):y,h)}}}function Lc(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function m0(r){f.setTimeout(function(){throw r},0)}var sd;function MC(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Te("Presto")&&(r=function(){var m=Lc(document,"IFRAME");m.style.display="none",document.documentElement.appendChild(m);var y=m.contentWindow;m=y.document,m.open(),m.close();var w="callImmediate"+Math.random(),E=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;m=V(function(F){(E=="*"||F.origin==E)&&F.data==w&&this.port1.onmessage()},this),y.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(w,E)}}}),typeof r<"u"&&!Te("Trident")&&!Te("MSIE")){var s=new r,c={},h=c;return s.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var m=c.Hb;c.Hb=null,m()}},function(m){h.next={Hb:m},h=h.next,s.port2.postMessage(0)}}return function(m){f.setTimeout(m,0)}}function Mc(r,s){Fc||FC(),ud||(Fc(),ud=!0),g0.add(r,s)}var Fc;function FC(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);Fc=function(){r.then(v0)}}else Fc=function(){var s=v0;!T(f.setImmediate)||f.Window&&f.Window.prototype&&!Te("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(sd||(sd=MC()),sd(s)):f.setImmediate(s)}}var ud=!1,g0=new dt;function v0(){for(var r;r=pe();){try{r.a.call(r.b)}catch(s){m0(s)}Ot(Vn,r)}ud=!1}function je(r,s){if(this.a=Ji,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=v)try{var c=this;r.call(s,function(h){Zi(c,Nu,h)},function(h){if(!(h instanceof rs))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}Zi(c,Gr,h)})}catch(h){Zi(this,Gr,h)}}var Ji=0,Nu=2,Gr=3;function y0(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}y0.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var w0=new Vt(function(){return new y0},function(r){r.reset()});function ad(r,s,c){var h=w0.get();return h.g=r,h.b=s,h.f=c,h}function Ee(r){if(r instanceof je)return r;var s=new je(v);return Zi(s,Nu,r),s}function yt(r){return new je(function(s,c){c(r)})}function b0(r,s,c){T0(r,s,c,null)||Mc(we(s,r))}function UC(r){return new je(function(s,c){var h=r.length,m=[];if(h)for(var y=function(W,Oe){h--,m[W]=Oe,h==0&&s(m)},w=function(W){c(W)},E=0,F;E<r.length;E++)F=r[E],b0(F,we(y,E),w);else s(m)})}function _0(r){return new je(function(s){var c=r.length,h=[];if(c)for(var m=function(E,F,W){c--,h[E]=F?{Qb:!0,value:W}:{Qb:!1,reason:W},c==0&&s(h)},y=0,w;y<r.length;y++)w=r[y],b0(w,we(m,y,!0),we(m,y,!1));else s(h)})}je.prototype.then=function(r,s,c){return I0(this,T(r)?r:null,T(s)?s:null,c)},je.prototype.$goog_Thenable=!0,e=je.prototype,e.oa=function(r,s){return r=ad(r,r,s),r.c=!0,cd(this,r),this},e.o=function(r,s){return I0(this,null,r,s)},e.cancel=function(r){if(this.a==Ji){var s=new rs(r);Mc(function(){E0(this,s)},this)}};function E0(r,s){if(r.a==Ji)if(r.c){var c=r.c;if(c.b){for(var h=0,m=null,y=null,w=c.b;w&&(w.c||(h++,w.a==r&&(m=w),!(m&&1<h)));w=w.next)m||(y=w);m&&(c.a==Ji&&h==1?E0(c,s):(y?(h=y,h.next==c.f&&(c.f=h),h.next=h.next.next):A0(c),k0(c,m,Gr,s)))}r.c=null}else Zi(r,Gr,s)}function cd(r,s){r.b||r.a!=Nu&&r.a!=Gr||S0(r),r.f?r.f.next=s:r.b=s,r.f=s}function I0(r,s,c,h){var m=ad(null,null,null);return m.a=new je(function(y,w){m.g=s?function(E){try{var F=s.call(h,E);y(F)}catch(W){w(W)}}:y,m.b=c?function(E){try{var F=c.call(h,E);F===void 0&&E instanceof rs?w(E):y(F)}catch(W){w(W)}}:w}),m.a.c=r,cd(r,m),m.a}e.$c=function(r){this.a=Ji,Zi(this,Nu,r)},e.ad=function(r){this.a=Ji,Zi(this,Gr,r)};function Zi(r,s,c){r.a==Ji&&(r===c&&(s=Gr,c=new TypeError("Promise cannot resolve to itself")),r.a=1,T0(c,r.$c,r.ad,r)||(r.i=c,r.a=s,r.c=null,S0(r),s!=Gr||c instanceof rs||VC(r,c)))}function T0(r,s,c,h){if(r instanceof je)return cd(r,ad(s||v,c||null,h)),!0;if(De(r))return r.then(s,c,h),!0;if(S(r))try{var m=r.then;if(T(m))return jC(r,m,s,c,h),!0}catch(y){return c.call(h,y),!0}return!1}function jC(r,s,c,h,m){function y(F){E||(E=!0,h.call(m,F))}function w(F){E||(E=!0,c.call(m,F))}var E=!1;try{s.call(r,w,y)}catch(F){y(F)}}function S0(r){r.h||(r.h=!0,Mc(r.gc,r))}function A0(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}e.gc=function(){for(var r;r=A0(this);)k0(this,r,this.a,this.i);this.h=!1};function k0(r,s,c,h){if(c==Gr&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,C0(s,c,h);else try{s.c?s.g.call(s.f):C0(s,c,h)}catch(m){N0.call(null,m)}Ot(w0,s)}function C0(r,s,c){s==Nu?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function VC(r,s){r.g=!0,Mc(function(){r.g&&N0.call(null,s)})}var N0=m0;function rs(r){ge.call(this,r)}G(rs,ge),rs.prototype.name="cancel";function Uc(){this.ya=this.ya,this.pa=this.pa}var qC=0;Uc.prototype.ya=!1;function R0(r){!r.ya&&(r.ya=!0,r.Da(),qC!=0)&&x(r)}Uc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var BC=Object.freeze||function(r){return r},x0=!cr||9<=Number(di),$C=cr&&!f0("9"),KC=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",v,s),f.removeEventListener("test",v,s)}catch{}return r}();function An(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}An.prototype.preventDefault=function(){this.defaultPrevented=!0};function eo(r,s){if(An.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(c0){e:{try{td(s.nodeName);var m=!0;break e}catch{}m=!1}m||(s=null)}}else c=="mouseover"?s=r.fromElement:c=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:HC[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}G(eo,An);var HC=BC({2:"touch",3:"pen",4:"mouse"});eo.prototype.preventDefault=function(){eo.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,$C)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},eo.prototype.g=function(){return this.a};var Ru="closure_listenable_"+(1e6*Math.random()|0),zC=0;function GC(r,s,c,h,m){this.listener=r,this.proxy=null,this.src=s,this.type=c,this.capture=!!h,this.Wa=m,this.key=++zC,this.wa=this.Qa=!1}function jc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function Vc(r){this.src=r,this.a={},this.b=0}Vc.prototype.add=function(r,s,c,h,m){var y=r.toString();r=this.a[y],r||(r=this.a[y]=[],this.b++);var w=fd(r,s,h,m);return-1<w?(s=r[w],c||(s.Qa=!1)):(s=new GC(s,this.src,y,!!h,m),s.Qa=c,r.push(s)),s};function ld(r,s){var c=s.type;c in r.a&&L(r.a[c],s)&&(jc(s),r.a[c].length==0&&(delete r.a[c],r.b--))}function fd(r,s,c,h){for(var m=0;m<r.length;++m){var y=r[m];if(!y.wa&&y.listener==s&&y.capture==!!c&&y.Wa==h)return m}return-1}var hd="closure_lm_"+(1e6*Math.random()|0),dd={};function tr(r,s,c,h,m){if(h&&h.once)pd(r,s,c,h,m);else if(Array.isArray(s))for(var y=0;y<s.length;y++)tr(r,s[y],c,h,m);else c=gd(c),r&&r[Ru]?F0(r,s,c,S(h)?!!h.capture:!!h,m):O0(r,s,c,!1,h,m)}function O0(r,s,c,h,m,y){if(!s)throw Error("Invalid event type");var w=S(m)?!!m.capture:!!m,E=qc(r);if(E||(r[hd]=E=new Vc(r)),c=E.add(s,c,h,w,y),!c.proxy)if(h=WC(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)KC||(m=w),m===void 0&&(m=!1),r.addEventListener(s.toString(),h,m);else if(r.attachEvent)r.attachEvent(D0(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function WC(){var r=XC,s=x0?function(c){return r.call(s.src,s.listener,c)}:function(c){if(c=r.call(s.src,s.listener,c),!c)return c};return s}function pd(r,s,c,h,m){if(Array.isArray(s))for(var y=0;y<s.length;y++)pd(r,s[y],c,h,m);else c=gd(c),r&&r[Ru]?vd(r,s,c,S(h)?!!h.capture:!!h,m):O0(r,s,c,!0,h,m)}function Bn(r,s,c,h,m){if(Array.isArray(s))for(var y=0;y<s.length;y++)Bn(r,s[y],c,h,m);else h=S(h)?!!h.capture:!!h,c=gd(c),r&&r[Ru]?(r=r.v,s=String(s).toString(),s in r.a&&(y=r.a[s],c=fd(y,c,h,m),-1<c&&(jc(y[c]),Array.prototype.splice.call(y,c,1),y.length==0&&(delete r.a[s],r.b--)))):r&&(r=qc(r))&&(s=r.a[s.toString()],r=-1,s&&(r=fd(s,c,h,m)),(c=-1<r?s[r]:null)&&P0(c))}function P0(r){if(typeof r!="number"&&r&&!r.wa){var s=r.src;if(s&&s[Ru])ld(s.v,r);else{var c=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(c,h,r.capture):s.detachEvent?s.detachEvent(D0(c),h):s.addListener&&s.removeListener&&s.removeListener(h),(c=qc(s))?(ld(c,r),c.b==0&&(c.src=null,s[hd]=null)):jc(r)}}}function D0(r){return r in dd?dd[r]:dd[r]="on"+r}function L0(r,s,c,h){var m=!0;if((r=qc(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var y=s[r];y&&y.capture==c&&!y.wa&&(y=M0(y,h),m=m&&y!==!1)}return m}function M0(r,s){var c=r.listener,h=r.Wa||r.src;return r.Qa&&P0(r),c.call(h,s)}function XC(r,s){if(r.wa)return!0;if(!x0){if(!s)e:{s=["window","event"];for(var c=f,h=0;h<s.length;h++)if(c=c[s[h]],c==null){s=null;break e}s=c}if(h=s,s=new eo(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var m=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{m=!0}(m||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],m=s.b;m;m=m.parentNode)h.push(m);for(r=r.type,m=h.length-1;0<=m;m--){s.b=h[m];var y=L0(h[m],r,!0,s);c=c&&y}for(m=0;m<h.length;m++)s.b=h[m],y=L0(h[m],r,!1,s),c=c&&y}return c}return M0(r,new eo(s,this))}function qc(r){return r=r[hd],r instanceof Vc?r:null}var md="__closure_events_fn_"+(1e9*Math.random()>>>0);function gd(r){return T(r)?r:(r[md]||(r[md]=function(s){return r.handleEvent(s)}),r[md])}function dn(){Uc.call(this),this.v=new Vc(this),this.bc=this,this.hb=null}G(dn,Uc),dn.prototype[Ru]=!0,dn.prototype.addEventListener=function(r,s,c,h){tr(this,r,s,c,h)},dn.prototype.removeEventListener=function(r,s,c,h){Bn(this,r,s,c,h)},dn.prototype.dispatchEvent=function(r){var s,c=this.hb;if(c)for(s=[];c;c=c.hb)s.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new An(r,c);else if(r instanceof An)r.target=r.target||c;else{var m=r;r=new An(h,c),Xt(r,m)}if(m=!0,s)for(var y=s.length-1;0<=y;y--){var w=r.b=s[y];m=Bc(w,h,!0,r)&&m}if(w=r.b=c,m=Bc(w,h,!0,r)&&m,m=Bc(w,h,!1,r)&&m,s)for(y=0;y<s.length;y++)w=r.b=s[y],m=Bc(w,h,!1,r)&&m;return m},dn.prototype.Da=function(){if(dn.bb.Da.call(this),this.v){var r=this.v,s;for(s in r.a){for(var c=r.a[s],h=0;h<c.length;h++)jc(c[h]);delete r.a[s],r.b--}}this.hb=null};function F0(r,s,c,h,m){r.v.add(String(s),c,!1,h,m)}function vd(r,s,c,h,m){r.v.add(String(s),c,!0,h,m)}function Bc(r,s,c,h){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var m=!0,y=0;y<s.length;++y){var w=s[y];if(w&&!w.wa&&w.capture==c){var E=w.listener,F=w.Wa||w.src;w.Qa&&ld(r.v,w),m=E.call(F,h)!==!1&&m}}return m&&!h.defaultPrevented}function yd(r,s,c){if(T(r))c&&(r=V(r,c));else if(r&&typeof r.handleEvent=="function")r=V(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:f.setTimeout(r,s||0)}function is(r){var s=null;return new je(function(c,h){s=yd(function(){c(void 0)},r),s==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(s),c})}function U0(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(_(r)){for(var s=[],c=r.length,h=0;h<c;h++)s.push(r[h]);return s}s=[],c=0;for(h in r)s[c++]=r[h];return s}function j0(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(_(r)||typeof r=="string"){var s=[];r=r.length;for(var c=0;c<r;c++)s.push(c);return s}s=[],c=0;for(var h in r)s[c++]=h;return s}}function YC(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(_(r)||typeof r=="string")$(r,s,void 0);else for(var c=j0(r),h=U0(r),m=h.length,y=0;y<m;y++)s.call(void 0,h[y],c&&c[y],r)}function os(r,s){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof os)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}e=os.prototype,e.X=function(){wd(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},e.Y=function(){return wd(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function wd(r){if(r.c!=r.a.length){for(var s=0,c=0;s<r.a.length;){var h=r.a[s];to(r.b,h)&&(r.a[c++]=h),s++}r.a.length=c}if(r.c!=r.a.length){var m={};for(c=s=0;s<r.a.length;)h=r.a[s],to(m,h)||(r.a[c++]=h,m[h]=1),s++;r.a.length=c}}e.get=function(r,s){return to(this.b,r)?this.b[r]:s},e.set=function(r,s){to(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},e.forEach=function(r,s){for(var c=this.Y(),h=0;h<c.length;h++){var m=c[h],y=this.get(m);r.call(s,y,m,this)}};function to(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var V0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function QC(r,s){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),m=null;if(0<=h){var y=r[c].substring(0,h);m=r[c].substring(h+1)}else y=r[c];s(y,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function pi(r,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof pi?(this.i=s!==void 0?s:r.i,xu(this,r.c),this.l=r.l,this.a=r.a,Ou(this,r.g),this.f=r.f,bd(this,K0(r.b)),this.h=r.h):r&&(c=String(r).match(V0))?(this.i=!!s,xu(this,c[1]||"",!0),this.l=Pu(c[2]||""),this.a=Pu(c[3]||"",!0),Ou(this,c[4]),this.f=Pu(c[5]||"",!0),bd(this,c[6]||"",!0),this.h=Pu(c[7]||"")):(this.i=!!s,this.b=new no(null,this.i))}pi.prototype.toString=function(){var r=[],s=this.c;s&&r.push(Du(s,q0,!0),":");var c=this.a;return(c||s=="file")&&(r.push("//"),(s=this.l)&&r.push(Du(s,q0,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(Du(c,c.charAt(0)=="/"?eN:ZC,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",Du(c,nN)),r.join("")},pi.prototype.resolve=function(r){var s=new pi(this),c=!!r.c;c?xu(s,r.c):c=!!r.l,c?s.l=r.l:c=!!r.a,c?s.a=r.a:c=r.g!=null;var h=r.f;if(c)Ou(s,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var m=s.f.lastIndexOf("/");m!=-1&&(h=s.f.substr(0,m+1)+h)}if(m=h,m==".."||m==".")h="";else if(z(m,"./")||z(m,"/.")){h=m.lastIndexOf("/",0)==0,m=m.split("/");for(var y=[],w=0;w<m.length;){var E=m[w++];E=="."?h&&w==m.length&&y.push(""):E==".."?((1<y.length||y.length==1&&y[0]!="")&&y.pop(),h&&w==m.length&&y.push("")):(y.push(E),h=!0)}h=y.join("/")}else h=m}return c?s.f=h:c=r.b.toString()!=="",c?bd(s,K0(r.b)):c=!!r.h,c&&(s.h=r.h),s};function xu(r,s,c){r.c=c?Pu(s,!0):s,r.c&&(r.c=r.c.replace(/:$/,""))}function Ou(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function bd(r,s,c){s instanceof no?(r.b=s,rN(r.b,r.i)):(c||(s=Du(s,tN)),r.b=new no(s,r.i))}function Ct(r,s,c){r.b.set(s,c)}function nr(r,s){return r.b.get(s)}function kn(r){return r instanceof pi?new pi(r):new pi(r,void 0)}function $c(r,s,c,h){var m=new pi(null,void 0);return r&&xu(m,r),s&&(m.a=s),c&&Ou(m,c),h&&(m.f=h),m}function Pu(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Du(r,s,c){return typeof r=="string"?(r=encodeURI(r).replace(s,JC),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function JC(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var q0=/[#\/\?@]/g,ZC=/[#\?:]/g,eN=/[#\?]/g,tN=/[#\?@]/g,nN=/#/g;function no(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function mi(r){r.a||(r.a=new os,r.b=0,r.c&&QC(r.c,function(s,c){r.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}function B0(r){var s=j0(r);if(typeof s>"u")throw Error("Keys are undefined");var c=new no(null,void 0);r=U0(r);for(var h=0;h<s.length;h++){var m=s[h],y=r[h];Array.isArray(y)?$0(c,m,y):c.add(m,y)}return c}e=no.prototype,e.add=function(r,s){mi(this),this.c=null,r=ss(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(s),this.b+=1,this};function Nr(r,s){mi(r),s=ss(r,s),to(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,to(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&wd(r)))}e.clear=function(){this.a=this.c=null,this.b=0};function _d(r,s){return mi(r),s=ss(r,s),to(r.a.b,s)}e.forEach=function(r,s){mi(this),this.a.forEach(function(c,h){$(c,function(m){r.call(s,m,h,this)},this)},this)},e.Y=function(){mi(this);for(var r=this.a.X(),s=this.a.Y(),c=[],h=0;h<s.length;h++)for(var m=r[h],y=0;y<m.length;y++)c.push(s[h]);return c},e.X=function(r){mi(this);var s=[];if(typeof r=="string")_d(this,r)&&(s=X(s,this.a.get(ss(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)s=X(s,r[c])}return s},e.set=function(r,s){return mi(this),this.c=null,r=ss(this,r),_d(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},e.get=function(r,s){return r?(r=this.X(r),0<r.length?String(r[0]):s):s};function $0(r,s,c){Nr(r,s),0<c.length&&(r.c=null,r.a.set(ss(r,s),ie(c)),r.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),c=0;c<s.length;c++){var h=s[c],m=encodeURIComponent(String(h));h=this.X(h);for(var y=0;y<h.length;y++){var w=m;h[y]!==""&&(w+="="+encodeURIComponent(String(h[y]))),r.push(w)}}return this.c=r.join("&")};function K0(r){var s=new no;return s.c=r.c,r.a&&(s.a=new os(r.a),s.b=r.b),s}function ss(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function rN(r,s){s&&!r.f&&(mi(r),r.c=null,r.a.forEach(function(c,h){var m=h.toLowerCase();h!=m&&(Nr(this,h),$0(this,m,c))},r)),r.f=s}function H0(r){var s=[];return Ed(new iN,r,s),s.join("")}function iN(){}function Ed(r,s,c){if(s==null)c.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var h=s;s=h.length,c.push("[");for(var m="",y=0;y<s;y++)c.push(m),Ed(r,h[y],c),m=",";c.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{c.push("{"),m="";for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(y=s[h],typeof y!="function"&&(c.push(m),G0(h,c),c.push(":"),Ed(r,y,c),m=","));c.push("}");return}}switch(typeof s){case"string":G0(s,c);break;case"number":c.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":c.push(String(s));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var z0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},oN=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function G0(r,s){s.push('"',r.replace(oN,function(c){var h=z0[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),z0[c]=h),h}),'"')}function Id(){var r=Yt();return cr&&!!di&&di==11||/Edge\/\d+/.test(r)}function Lu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function W0(r,s){s=s||f.window;var c="about:blank";r&&(c=Pc(n0(r)||i0)),s.location.href=c}function X0(r,s){var c=[],h;for(h in r)h in s?typeof r[h]!=typeof s[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&s[h]!=null?0<X0(r[h],s[h]).length&&c.push(h):r[h]!==s[h]&&c.push(h):c.push(h);for(h in s)h in r||c.push(h);return c}function sN(){var r=Yt();return r=us(r)!=Z0?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!cr||!di||9<di}function Y0(r){return r=(r||Yt()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function ro(r){r=r||f.window;try{r.close()}catch{}}function Q0(r,s,c){var h=Math.floor(1e9*Math.random()).toString();s=s||500,c=c||600;var m=(window.screen.availHeight-c)/2,y=(window.screen.availWidth-s)/2;s={width:s,height:c,top:0<m?m:0,left:0<y?y:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=Yt().toLowerCase(),h&&(s.target=h,z(c,"crios/")&&(s.target="_blank")),us(Yt())==Ad&&(r=r||"http://localhost",s.scrollbars=!0),c=r||"",(r=s)||(r={}),h=window,s=c instanceof Sn?c:n0(typeof c.href<"u"?c.href:String(c))||i0,c=r.target||c.target,m=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":m.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(w+"="+(r[w]?1:0))}var w=m.join(",");if((Te("iPhone")&&!Te("iPod")&&!Te("iPad")||Te("iPad")||Te("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=Lc(document,"A"),Yy(w,"HTMLAnchorElement"),s=s instanceof Sn?s:r0(s),w.href=Pc(s),w.setAttribute("target",c),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=s0("",h,c,w),r=Pc(s),w&&(RC&&z(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ed(r)+'">',r=(h=Jy())?h.createHTML(r):r,r=new ns(r,null,o0),h=w.document)&&(h.write(AC(r)),h.close())):(w=s0(s,h,c,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function uN(r){return new je(function(s){function c(){is(2e3).then(function(){if(!r||r.closed)s();else return c()})}return c()})}var aN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cN=/^[^@]+@[^@]+$/;function Kc(){var r=null;return new je(function(s){f.document.readyState=="complete"?s():(r=function(){s()},pd(window,"load",r))}).o(function(s){throw Bn(window,"load",r),s})}function lN(){return Td(void 0)?Kc().then(function(){return new je(function(r,s){var c=f.document,h=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):yt(Error("Cordova must run in an Android or iOS file scheme."))}function Td(r){return r=r||Yt(),!(cs()!=="file:"&&cs()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sd(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function lr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Rr(){return Se.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Se.INTERNAL.hasOwnProperty("node")?"Node":lr()?"Worker":"Browser"}function J0(){var r=Rr();return r==="ReactNative"||r==="Node"}function fN(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var Ad="Firefox",Z0="Chrome";function us(r){var s=r.toLowerCase();if(z(s,"opera/")||z(s,"opr/")||z(s,"opios/"))return"Opera";if(z(s,"iemobile"))return"IEMobile";if(z(s,"msie")||z(s,"trident/"))return"IE";if(z(s,"edge/"))return"Edge";if(z(s,"firefox/"))return Ad;if(z(s,"silk/"))return"Silk";if(z(s,"blackberry"))return"Blackberry";if(z(s,"webos"))return"Webos";if(!z(s,"safari/")||z(s,"chrome/")||z(s,"crios/")||z(s,"android"))if(!z(s,"chrome/")&&!z(s,"crios/")||z(s,"edge/")){if(z(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return Z0;else return"Safari";return"Other"}var ew={md:"FirebaseCore-web",od:"FirebaseUI-web"};function as(r,s){s=s||[];var c=[],h={},m;for(m in ew)h[ew[m]]=!0;for(m=0;m<s.length;m++)typeof h[s[m]]<"u"&&(delete h[s[m]],c.push(s[m]));return c.sort(),s=c,s.length||(s=["FirebaseCore-web"]),c=Rr(),c==="Browser"?(h=Yt(),c=us(h)):c==="Worker"&&(h=Yt(),c=us(h)+"-"+c),c+"/JsCore/"+r+"/"+s.join(",")}function Yt(){return f.navigator&&f.navigator.userAgent||""}function wt(r,s){r=r.split("."),s=s||f;for(var c=0;c<r.length&&typeof s=="object"&&s!=null;c++)s=s[r[c]];return c!=r.length&&(s=void 0),s}function kd(){try{var r=f.localStorage,s=oo();if(r)return r.setItem(s,"1"),r.removeItem(s),Id()?!!f.indexedDB:!0}catch{return lr()&&!!f.indexedDB}return!1}function io(){return(Hc()||cs()==="chrome-extension:"||Td())&&!J0()&&kd()&&!lr()}function Hc(){return cs()==="http:"||cs()==="https:"}function cs(){return f.location&&f.location.protocol||null}function Mu(r){return r=r||Yt(),!(Y0(r)||us(r)==Ad)}function Fu(r){return typeof r>"u"?null:H0(r)}function tw(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(s[c]=r[c]);return s}function ls(r){if(r!==null)return JSON.parse(r)}function oo(r){return r||Math.floor(1e9*Math.random()).toString()}function nw(r){return r=r||Yt(),!(us(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function rw(){var r=f.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function gi(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=Yt(),s=Rr(),this.b=Y0(r)||s==="ReactNative"}gi.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(Hc()||cs()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Cd(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function hN(){var r=f.document,s=null;return Cd()||!r?Ee():new je(function(c){s=function(){Cd()&&(r.removeEventListener("visibilitychange",s,!1),c())},r.addEventListener("visibilitychange",s,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",s,!1),c})}function Uu(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function iw(){return!(!wt("fireauth.oauthhelper",f)&&!wt("fireauth.iframe",f))}function dN(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function pN(){var r=f.navigator;return r&&r.serviceWorker?Ee().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):Ee(null)}var ow={};function Nd(r){ow[r]||(ow[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var Rd;try{var xd={};Object.defineProperty(xd,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(xd,"abcd",{configurable:!0,enumerable:!0,value:2}),Rd=xd.abcd==2}catch{Rd=!1}function me(r,s,c){Rd?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:c}):r[s]=c}function pn(r,s){if(s)for(var c in s)s.hasOwnProperty(c)&&me(r,c,s[c])}function xr(r){var s={};return pn(s,r),s}function mN(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&(s[c]=r[c]);return s}function gN(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var c=0;c<s.length;c++){var h=r[s[c]];if(h==null||h==="")return!1}return!0}function Od(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var c in r)me(s,c,Od(r[c]))}return s}function Pd(r){var s=r&&(r[Fd]?"phone":null);if(s&&r&&r[Md]){me(this,"uid",r[Md]),me(this,"displayName",r[sw]||null);var c=null;r[Ld]&&(c=new Date(r[Ld]).toUTCString()),me(this,"enrollmentTime",c),me(this,"factorId",s)}else throw new k("internal-error","Internal assert: invalid MultiFactorInfo object")}Pd.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Dd(r){try{var s=new ju(r)}catch{s=null}return s}var sw="displayName",Ld="enrolledAt",Md="mfaEnrollmentId",Fd="phoneInfo";function ju(r){Pd.call(this,r),me(this,"phoneNumber",r[Fd])}G(ju,Pd),ju.prototype.w=function(){var r=ju.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function vN(r){var s={},c=r[yN],h=r[bN],m=r[_N];if(r=Dd(r[wN]),!m||m!=zc&&m!=Vu&&!c||m==Vu&&!h||m==Ud&&!r)throw Error("Invalid checkActionCode response!");m==Vu?(s[aw]=c||null,s[cw]=c||null,s[uw]=h):(s[aw]=h||null,s[cw]=h||null,s[uw]=c||null),s[EN]=r||null,me(this,TN,m),me(this,IN,Od(s))}var Ud="REVERT_SECOND_FACTOR_ADDITION",zc="EMAIL_SIGNIN",Vu="VERIFY_AND_CHANGE_EMAIL",yN="email",wN="mfaInfo",bN="newEmail",_N="requestType",uw="email",aw="fromEmail",EN="multiFactorInfo",cw="previousEmail",IN="data",TN="operation";function jd(r){r=kn(r);var s=nr(r,lw)||null,c=nr(r,fw)||null,h=nr(r,hw)||null;if(h=h&&CN[h]||null,!s||!c||!h)throw new k("argument-error",lw+", "+fw+"and "+hw+" are required in a valid action code URL.");pn(this,{apiKey:s,operation:h,code:c,continueUrl:nr(r,SN)||null,languageCode:nr(r,AN)||null,tenantId:nr(r,kN)||null})}var lw="apiKey",fw="oobCode",SN="continueUrl",AN="languageCode",hw="mode",kN="tenantId",CN={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Ud,signIn:zc,verifyAndChangeEmail:Vu,verifyEmail:"VERIFY_EMAIL"};function dw(r){try{return new jd(r)}catch{return null}}function Gc(r){var s=r[NN];if(typeof s>"u")throw new k("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new k("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var c=r[pw];if(c&&typeof c=="object"){s=c[ww];var h=c[vw];if(c=c[yw],typeof s=="string"&&s.length){if(this.a=s,typeof h<"u"&&typeof h!="boolean")throw new k("argument-error",vw+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new k("argument-error",yw+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof s<"u")throw new k("argument-error",ww+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new k("missing-android-pkg-name")}}else if(typeof c<"u")throw new k("argument-error",pw+" property must be a non null object when specified.");if(this.f=null,(s=r[gw])&&typeof s=="object"){if(s=s[bw],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new k("argument-error",bw+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new k("argument-error",gw+" property must be a non null object when specified.");if(s=r[Vd],typeof s<"u"&&typeof s!="boolean")throw new k("argument-error",Vd+" property must be a boolean when specified.");if(this.c=!!s,r=r[mw],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new k("argument-error",mw+" property must be a non empty string when specified.");this.i=r||null}var pw="android",mw="dynamicLinkDomain",Vd="handleCodeInApp",gw="iOS",NN="url",vw="installApp",yw="minimumVersion",ww="packageName",bw="bundleId";function Wc(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var c in s)s[c]===null&&delete s[c];return s}function RN(r){return Ce(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var qu=null;function xN(r){var s=[];return ON(r,function(c){s.push(c)}),s}function ON(r,s){function c(F){for(;h<r.length;){var W=r.charAt(h++),Oe=qu[W];if(Oe!=null)return Oe;if(!/^[\s\xa0]*$/.test(W))throw Error("Unknown base64 encoding at char: "+W)}return F}PN();for(var h=0;;){var m=c(-1),y=c(0),w=c(64),E=c(64);if(E===64&&m===-1)break;s(m<<2|y>>4),w!=64&&(s(y<<4&240|w>>2),E!=64&&s(w<<6&192|E))}}function PN(){if(!qu){qu={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(s[c].split("")),m=0;m<h.length;m++){var y=h[m];qu[y]===void 0&&(qu[y]=m)}}}function Xc(r){var s=_w(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=r,this.a=s.exp,this.i=s.sub,r=Date.now()/1e3,this.g=s.iat||(r>this.a?this.a:r),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}Xc.prototype.T=function(){return this.f},Xc.prototype.l=function(){return this.c},Xc.prototype.toString=function(){return this.h};function Yc(r){try{return new Xc(r)}catch{return null}}function _w(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,c=0;c<s;c++)r+=".";try{var h=xN(r);for(r=[],c=s=0;s<h.length;){var m=h[s++];if(128>m)r[c++]=String.fromCharCode(m);else if(191<m&&224>m){var y=h[s++];r[c++]=String.fromCharCode((m&31)<<6|y&63)}else if(239<m&&365>m){y=h[s++];var w=h[s++],E=h[s++],F=((m&7)<<18|(y&63)<<12|(w&63)<<6|E&63)-65536;r[c++]=String.fromCharCode(55296+(F>>10)),r[c++]=String.fromCharCode(56320+(F&1023))}else y=h[s++],w=h[s++],r[c++]=String.fromCharCode((m&15)<<12|(y&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var Ew="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Qc=["client_id","response_type","scope","redirect_uri","state"],qd={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Qc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Qc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Qc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Ew},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Bd(r){for(var s in qd)if(qd[s].fa==r)return qd[s];return null}function Iw(r){var s={};s["facebook.com"]=Sw,s["google.com"]=kw,s["github.com"]=Aw,s["twitter.com"]=Cw;var c=r&&r[Tw];try{if(c)return s[c]?new s[c](r):new Or(r);if(typeof r[$d]<"u")return new Kd(r)}catch{}return null}var $d="idToken",Tw="providerId";function Kd(r){var s=r[Tw];if(!s&&r[$d]){var c=Yc(r[$d]);c&&c.b&&(s=c.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),me(this,"providerId",s),me(this,"isNewUser",c)}function Or(r){Kd.call(this,r),r=ls(r.rawUserInfo||"{}"),me(this,"profile",Od(r||{}))}G(Or,Kd);function Sw(r){if(Or.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}G(Sw,Or);function Aw(r){if(Or.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");me(this,"username",this.profile&&this.profile.login||null)}G(Aw,Or);function kw(r){if(Or.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}G(kw,Or);function Cw(r){if(Or.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");me(this,"username",r.screenName||null)}G(Cw,Or);function Nw(r){var s=kn(r),c=nr(s,"link"),h=nr(kn(c),"link");return s=nr(s,"deep_link_id"),nr(kn(s),"link")||s||h||c||r}function Jc(r,s){if(!r&&!s)throw new k("internal-error","Internal assert: no raw session string available");if(r&&s)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?Bu:Zc}var Bu="enroll",Zc="signin";Jc.prototype.Ha=function(){return this.a?Ee(this.a):Ee(this.b)},Jc.prototype.w=function(){return this.type==Bu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function fs(){}fs.prototype.ka=function(){},fs.prototype.b=function(){},fs.prototype.c=function(){},fs.prototype.w=function(){};function hs(r,s){return r.then(function(c){if(c[dr]){var h=Yc(c[dr]);if(!h||s!=h.i)throw new k("user-mismatch");return c}throw new k("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==nt+"user-not-found"?new k("user-mismatch"):c})}function so(r,s){if(s)this.a=s;else throw new k("internal-error","failed to construct a credential");me(this,"providerId",r),me(this,"signInMethod",r)}so.prototype.ka=function(r){return pp(r,Hd(this))},so.prototype.b=function(r,s){var c=Hd(this);return c.idToken=s,mp(r,c)},so.prototype.c=function(r,s){return hs(gp(r,Hd(this)),s)};function Hd(r){return{pendingToken:r.a,requestUri:"http://localhost"}}so.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function DN(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new so(r.providerId,r.pendingToken)}catch{}return null}function Wr(r,s,c){if(this.a=null,s.idToken||s.accessToken)s.idToken&&me(this,"idToken",s.idToken),s.accessToken&&me(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&me(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)me(this,"accessToken",s.oauthToken),me(this,"secret",s.oauthTokenSecret);else throw new k("internal-error","failed to construct a credential");me(this,"providerId",r),me(this,"signInMethod",c)}Wr.prototype.ka=function(r){return pp(r,zd(this))},Wr.prototype.b=function(r,s){var c=zd(this);return c.idToken=s,mp(r,c)},Wr.prototype.c=function(r,s){var c=zd(this);return hs(gp(r,c),s)};function zd(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:B0(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}Wr.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function LN(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new Wr(r.providerId,s,r.signInMethod)}catch{}}return null}function uo(r,s){this.Qc=s||[],pn(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(Bd(r)||{}).Ja||null,this.pb=null}uo.prototype.Ka=function(r){return this.Jb=it(r),this};function Rw(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');uo.call(this,r,[])}G(Rw,uo);function $n(r){uo.call(this,r,Qc),this.a=[]}G($n,uo),$n.prototype.Ca=function(r){return R(this.a,r)||this.a.push(r),this},$n.prototype.Rb=function(){return ie(this.a)},$n.prototype.credential=function(r,s){var c;if(S(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:s||null},!c.idToken&&!c.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new Wr(this.providerId,c,this.providerId)};function ao(){$n.call(this,"facebook.com")}G(ao,$n),me(ao,"PROVIDER_ID","facebook.com"),me(ao,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function xw(r){if(!r)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return S(r)&&(s=r.accessToken),new ao().credential({accessToken:s})}function co(){$n.call(this,"github.com")}G(co,$n),me(co,"PROVIDER_ID","github.com"),me(co,"GITHUB_SIGN_IN_METHOD","github.com");function Ow(r){if(!r)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return S(r)&&(s=r.accessToken),new co().credential({accessToken:s})}function lo(){$n.call(this,"google.com"),this.Ca("profile")}G(lo,$n),me(lo,"PROVIDER_ID","google.com"),me(lo,"GOOGLE_SIGN_IN_METHOD","google.com");function Pw(r,s){var c=r;return S(r)&&(c=r.idToken,s=r.accessToken),new lo().credential({idToken:c,accessToken:s})}function ds(){uo.call(this,"twitter.com",Ew)}G(ds,uo),me(ds,"PROVIDER_ID","twitter.com"),me(ds,"TWITTER_SIGN_IN_METHOD","twitter.com");function Dw(r,s){var c=r;if(S(c)||(c={oauthToken:r,oauthTokenSecret:s}),!c.oauthToken||!c.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Wr("twitter.com",c,"twitter.com")}function vi(r,s,c){this.a=r,this.f=s,me(this,"providerId","password"),me(this,"signInMethod",c===rr.EMAIL_LINK_SIGN_IN_METHOD?rr.EMAIL_LINK_SIGN_IN_METHOD:rr.EMAIL_PASSWORD_SIGN_IN_METHOD)}vi.prototype.ka=function(r){return this.signInMethod==rr.EMAIL_LINK_SIGN_IN_METHOD?qe(r,wR,{email:this.a,oobCode:this.f}):qe(r,ab,{email:this.a,password:this.f})},vi.prototype.b=function(r,s){return this.signInMethod==rr.EMAIL_LINK_SIGN_IN_METHOD?qe(r,bR,{idToken:s,email:this.a,oobCode:this.f}):qe(r,ub,{idToken:s,email:this.a,password:this.f})},vi.prototype.c=function(r,s){return hs(this.ka(r),s)},vi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function MN(r){return r&&r.email&&r.password?new vi(r.email,r.password,r.signInMethod):null}function rr(){pn(this,{providerId:"password",isOAuthProvider:!1})}function Lw(r,s){if(s=Gd(s),!s)throw new k("argument-error","Invalid email link!");return new vi(r,s.code,rr.EMAIL_LINK_SIGN_IN_METHOD)}function Gd(r){return r=Nw(r),(r=dw(r))&&r.operation===zc?r:null}pn(rr,{PROVIDER_ID:"password"}),pn(rr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),pn(rr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function yi(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new k("internal-error");this.a=r,me(this,"providerId","phone"),this.fa="phone",me(this,"signInMethod","phone")}yi.prototype.ka=function(r){return r.gb($u(this))},yi.prototype.b=function(r,s){var c=$u(this);return c.idToken=s,qe(r,VR,c)},yi.prototype.c=function(r,s){var c=$u(this);return c.operation="REAUTH",r=qe(r,qR,c),hs(r,s)},yi.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function FN(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return $(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(s[c]=r[c])}),new yi(s)}return null}function $u(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function Xr(r){try{this.a=r||Se.auth()}catch{throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}pn(this,{providerId:"phone",isOAuthProvider:!1})}Xr.prototype.gb=function(r,s){var c=this.a.a;return Ee(s.verify()).then(function(h){if(typeof h!="string")throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var m=S(r)?r.session:null,y=S(r)?r.phoneNumber:r,w;return m&&m.type==Bu?w=m.Ha().then(function(E){return lR(c,{idToken:E,phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:h}})}):m&&m.type==Zc?w=m.Ha().then(function(E){return fR(c,{mfaPendingCredential:E,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=cR(c,{phoneNumber:y,recaptchaToken:h}),w.then(function(E){return typeof s.reset=="function"&&s.reset(),E},function(E){throw typeof s.reset=="function"&&s.reset(),E});default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function Mw(r,s){if(!r)throw new k("missing-verification-id");if(!s)throw new k("missing-verification-code");return new yi({fb:r,eb:s})}pn(Xr,{PROVIDER_ID:"phone"}),pn(Xr,{PHONE_SIGN_IN_METHOD:"phone"});function Wd(r){if(r.temporaryProof&&r.phoneNumber)return new yi({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,m=r&&r.nonce,y=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(s){case"google.com":return Pw(y,c);case"facebook.com":return xw(c);case"github.com":return Ow(c);case"twitter.com":return Dw(c,h);default:return c||h||y||w?w?s.indexOf("saml.")==0?new so(s,w):new Wr(s,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new $n(s).credential({idToken:y,accessToken:c,rawNonce:m}):null}}catch{return null}}function Xd(r){if(!r.isOAuthProvider)throw new k("invalid-oauth-provider")}function fr(r,s,c,h,m,y,w){if(this.c=r,this.b=s||null,this.g=c||null,this.f=h||null,this.i=y||null,this.h=w||null,this.a=m||null,this.g||this.a){if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}else throw new k("invalid-auth-event")}fr.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},fr.prototype.T=function(){return this.h},fr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Fw(r){return r=r||{},r.type?new fr(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&$e(r.error),r.postBody,r.tenantId):null}function UN(){this.b=null,this.a=[]}var Yd=null;function jN(r){var s=Yd;s.a.push(r),s.b||(s.b=function(c){for(var h=0;h<s.a.length;h++)s.a[h](c)},r=wt("universalLinks.subscribe",f),typeof r=="function"&&r(null,s.b))}function Qd(r){var s="unauthorized-domain",c=void 0,h=kn(r);r=h.a,h=h.c,h=="chrome-extension"?c=u0("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=u0("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",k.call(this,s,c)}G(Qd,k);function Ku(r,s,c){k.call(this,r,c),r=s||{},r.Kb&&me(this,"email",r.Kb),r.ea&&me(this,"phoneNumber",r.ea),r.credential&&me(this,"credential",r.credential),r.$b&&me(this,"tenantId",r.$b)}G(Ku,k),Ku.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&Xt(r,s),r},Ku.prototype.toJSON=function(){return this.w()};function el(r){if(r.code){var s=r.code||"";s.indexOf(nt)==0&&(s=s.substring(nt.length));var c={credential:Wd(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new k(s,r.message||void 0);return new Ku(s,c,r.message)}return null}function Hu(){}Hu.prototype.c=null;function Uw(r){return r.c||(r.c=r.b())}var Jd;function tl(){}G(tl,Hu),tl.prototype.a=function(){var r=jw(this);return r?new ActiveXObject(r):new XMLHttpRequest},tl.prototype.b=function(){var r={};return jw(this)&&(r[0]=!0,r[1]=!0),r};function jw(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<s.length;c++){var h=s[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}Jd=new tl;function nl(){}G(nl,Hu),nl.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new Vw;throw Error("Unsupported browser")},nl.prototype.b=function(){return{}};function Vw(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=V(this.qc,this),this.a.onerror=V(this.Tb,this),this.a.onprogress=V(this.rc,this),this.a.ontimeout=V(this.vc,this)}e=Vw.prototype,e.open=function(r,s,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,s)},e.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zd(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Zd(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Zd(this,1)};function Zd(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function ep(r,s,c){this.reset(r,s,c,void 0,void 0)}ep.prototype.a=null,ep.prototype.reset=function(r,s,c,h,m){delete this.a};function tp(r){this.f=r,this.b=this.c=this.a=null}function zu(r,s){this.name=r,this.value=s}zu.prototype.toString=function(){return this.name};var qw=new zu("SEVERE",1e3),np=new zu("WARNING",900),VN=new zu("CONFIG",700),qN=new zu("FINE",500);function Bw(r){return r.c?r.c:r.a?Bw(r.a):(It("Root logger has no level set."),null)}tp.prototype.log=function(r,s,c){if(r.value>=Bw(this).value)for(T(s)&&(s=s()),r=new ep(r,String(s),this.f),c&&(r.a=c),c=this;c;)c=c.a};var rp={},rl=null;function ip(r){rl||(rl=new tp(""),rp[""]=rl,rl.c=VN);var s;if(!(s=rp[r])){s=new tp(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=ip(r.substr(0,c)),c.b||(c.b={}),c.b[h]=s,s.a=c,rp[r]=s}return s}function ir(r,s){r&&r.log(qN,s,void 0)}function il(r){this.f=r}G(il,Hu),il.prototype.a=function(){return new ol(this.f)},il.prototype.b=function(r){return function(){return r}}({});function ol(r){dn.call(this),this.u=r,this.h=void 0,this.readyState=op,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ip("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}G(ol,dn);var op=0;e=ol.prototype,e.open=function(r,s){if(this.readyState!=op)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=s,this.readyState=1,Wu(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(s.body=r),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Gu(this)),this.readyState=op},e.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,Wu(this)),this.a&&(this.readyState=3,Wu(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,$w(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function $w(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}e.pc=function(r){if(this.a){var s=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?Gu(this):Wu(this),this.readyState==3&&$w(this)}},e.tc=function(r){this.a&&(this.response=this.responseText=r,Gu(this))},e.sc=function(r){this.a&&(this.response=r,Gu(this))},e.Va=function(r){var s=this.i;s&&s.log(np,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&Gu(this)};function Gu(r){r.readyState=4,r.g=null,r.c=null,r.m=null,Wu(r)}e.setRequestHeader=function(r,s){this.l.append(r,s)},e.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(np,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(np,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var s=this.b.entries(),c=s.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=s.next();return r.join(`\r
`)};function Wu(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(ol.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function Xu(r){dn.call(this),this.headers=new os,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Kw,this.u=this.S=!1}G(Xu,dn);var Kw="";Xu.prototype.b=ip("goog.net.XhrIo");var BN=/^https?$/i,$N=["POST","PUT"];function KN(r,s,c,h,m){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);c=c?c.toUpperCase():"GET",r.l=s,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():Jd.a(),r.C=r.D?Uw(r.D):Uw(Jd),r.a.onreadystatechange=V(r.Wb,r);try{ir(r.b,Yr(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(s),!0),r.N=!1}catch(w){ir(r.b,Yr(r,"Error opening Xhr: "+w.message)),Hw(r,w);return}s=h||"";var y=new os(r.headers);m&&YC(m,function(w,E){y.set(E,w)}),m=A(y.Y()),h=f.FormData&&s instanceof f.FormData,!R($N,c)||m||h||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(w,E){this.a.setRequestHeader(E,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{Ww(r),0<r.g&&(r.u=HN(r.a),ir(r.b,Yr(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=V(r.Ma,r)):r.s=yd(r.Ma,r.g,r)),ir(r.b,Yr(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(w){ir(r.b,Yr(r,"Send error: "+w.message)),Hw(r,w)}}function HN(r){return cr&&f0(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function zN(r){return r.toLowerCase()=="content-type"}e=Xu.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ir(this.b,Yr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Hw(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,zw(r),sl(r)}function zw(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(ir(this.b,Yr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),sl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),sl(this,!0)),Xu.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Gw(this):this.Jc())},e.Jc=function(){Gw(this)};function Gw(r){if(r.c&&typeof l<"u"){if(r.C[1]&&Yu(r)==4&&ul(r)==2)ir(r.b,Yr(r,"Local request error detected and ignored"));else if(r.i&&Yu(r)==4)yd(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),Yu(r)==4){ir(r.b,Yr(r,"Request complete")),r.c=!1;try{var s=ul(r);e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var h;if(!(h=c)){var m;if(m=s===0){var y=String(r.l).match(V0)[1]||null;if(!y&&f.self&&f.self.location){var w=f.self.location.protocol;y=w.substr(0,w.length-1)}m=!BN.test(y?y.toLowerCase():"")}h=m}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var E=2<Yu(r)?r.a.statusText:""}catch(F){ir(r.b,"Can not get status: "+F.message),E=""}r.h=E+" ["+ul(r)+"]",zw(r)}}finally{sl(r)}}}}function sl(r,s){if(r.a){Ww(r);var c=r.a,h=r.C[0]?v:null;r.a=null,r.C=null,s||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(m){(r=r.b)&&r.log(qw,"Problem encountered resetting onreadystatechange: "+m.message,void 0)}}}function Ww(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function Yu(r){return r.a?r.a.readyState:0}function ul(r){try{return 2<Yu(r)?r.a.status:-1}catch{return-1}}function GN(r){try{return r.a?r.a.responseText:""}catch(s){return ir(r.b,"Can not get responseText: "+s.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Kw:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(qw,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return ir(this.b,"Can not get response: "+s.message),null}};function Yr(r,s){return s+" ["+r.P+" "+r.l+" "+ul(r)+"]"}function fo(r){var s=YN;this.g=[],this.u=s,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}fo.prototype.cancel=function(r){if(this.a)this.c instanceof fo&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new Ju,al(this),Qu(this,!1,r))}},fo.prototype.m=function(r,s){this.i=!1,Qu(this,r,s)};function Qu(r,s,c){r.a=!0,r.c=c,r.f=!s,Yw(r)}function al(r){if(r.a){if(!r.v)throw new cl;r.v=!1}}function WN(r,s){sp(r,null,s,void 0)}function sp(r,s,c,h){r.g.push([s,c,h]),r.a&&Yw(r)}fo.prototype.then=function(r,s,c){var h,m,y=new je(function(w,E){h=w,m=E});return sp(this,h,function(w){w instanceof Ju?y.cancel():m(w)}),y.then(r,s,c)},fo.prototype.$goog_Thenable=!0;function Xw(r){return I(r.g,function(s){return T(s[1])})}function Yw(r){if(r.h&&r.a&&Xw(r)){var s=r.h,c=ll[s];c&&(f.clearTimeout(c.a),delete ll[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var h=c=!1;r.g.length&&!r.i;){var m=r.g.shift(),y=m[0],w=m[1];if(m=m[2],y=r.f?w:y)try{var E=y.call(m||r.s,s);E!==void 0&&(r.f=r.f&&(E==s||E instanceof Error),r.c=s=E),(De(s)||typeof f.Promise=="function"&&s instanceof f.Promise)&&(h=!0,r.i=!0)}catch(F){s=F,r.f=!0,Xw(r)||(c=!0)}}r.c=s,h&&(E=V(r.m,r,!0),h=V(r.m,r,!1),s instanceof fo?(sp(s,E,h),s.C=!0):s.then(E,h)),c&&(s=new Qw(s),ll[s.a]=s,r.h=s.a)}function cl(){ge.call(this)}G(cl,ge),cl.prototype.message="Deferred has already fired",cl.prototype.name="AlreadyCalledError";function Ju(){ge.call(this)}G(Ju,ge),Ju.prototype.message="Deferred was canceled",Ju.prototype.name="CanceledError";function Qw(r){this.a=f.setTimeout(V(this.c,this),0),this.b=r}Qw.prototype.c=function(){throw delete ll[this.a],this.b};var ll={};function up(r){var s={},c=s.document||document,h=Zy(r).toString(),m=Lc(document,"SCRIPT"),y={Xb:m,Ma:void 0},w=new fo(y),E=null,F=s.timeout!=null?s.timeout:5e3;return 0<F&&(E=window.setTimeout(function(){fl(m,!0);var W=new ap(JN,"Timeout reached for loading script "+h);al(w),Qu(w,!1,W)},F),y.Ma=E),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(fl(m,s.xd||!1,E),al(w),Qu(w,!0,null))},m.onerror=function(){fl(m,!0,E);var W=new ap(QN,"Error while loading script "+h);al(w),Qu(w,!1,W)},y=s.attributes||{},Xt(y,{type:"text/javascript",charset:"UTF-8"}),d0(m,y),kC(m,r),XN(c).appendChild(m),w}function XN(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function YN(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&fl(r,!0,this.Ma)}}function fl(r,s,c){c!=null&&f.clearTimeout(c),r.onload=v,r.onerror=v,r.onreadystatechange=v,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var QN=0,JN=1;function ap(r,s){var c="Jsloader error (code #"+r+")";s&&(c+=": "+s),ge.call(this,c),this.code=r}G(ap,ge);function hl(r){this.f=r}G(hl,Hu),hl.prototype.a=function(){return new this.f},hl.prototype.b=function(){return{}};function hr(r,s,c){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||ZN,this.g=it(r.secureTokenHeaders||eR),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||tR,this.a=it(r.firebaseHeaders||nR),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Rr()=="Node",c=f.XMLHttpRequest||c&&Se.INTERNAL.node&&Se.INTERNAL.node.XMLHttpRequest,!c&&!lr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,lr()?this.f=new il(self):J0()?this.f=new hl(c):this.f=new nl,this.b=null}var cp,dr="idToken",ZN=new gi(3e4,6e4),eR={"Content-Type":"application/x-www-form-urlencoded"},tR=new gi(3e4,6e4),nR={"Content-Type":"application/json"};function Jw(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function dl(r,s){s&&(r.l=lp("https://securetoken.googleapis.com/v1/token",s),r.h=lp("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=lp("https://identitytoolkit.googleapis.com/v2/",s))}function lp(r,s){return r=kn(r),s=kn(s.url),r.f=r.a+r.f,xu(r,s.c),r.a=s.a,Ou(r,s.g),r.toString()}function Zw(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}hr.prototype.T=function(){return this.b};function eb(r,s,c,h,m,y,w){sN()||lr()?r=V(r.u,r):(cp||(cp=new je(function(E,F){iR(E,F)})),r=V(r.s,r)),r(s,c,h,m,y,w)}hr.prototype.u=function(r,s,c,h,m,y){if(lr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new Xu(this.f);if(y){w.g=Math.max(0,y);var E=setTimeout(function(){w.dispatchEvent("timeout")},y)}F0(w,"complete",function(){E&&clearTimeout(E);var F=null;try{F=JSON.parse(GN(this))||null}catch{F=null}s&&s(F)}),vd(w,"ready",function(){E&&clearTimeout(E),R0(this)}),vd(w,"timeout",function(){E&&clearTimeout(E),R0(this),s&&s(null)}),KN(w,r,c,h,m)};var rR=new Cr(xc,"https://apis.google.com/js/client.js?onload=%{onload}"),tb="__fcb"+Math.floor(1e6*Math.random()).toString();function iR(r,s){if(((window.gapi||{}).client||{}).request)r();else{f[tb]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var c=Zh(rR,{onload:tb});WN(up(c),function(){s(Error("CORS_UNSUPPORTED"))})}}hr.prototype.s=function(r,s,c,h,m){var y=this;cp.then(function(){window.gapi.client.setApiKey(y.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:m,authType:"none",callback:function(E){window.gapi.auth.setToken(w),s&&s(E)}})}).o(function(w){s&&s({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function oR(r,s){return new je(function(c,h){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?eb(r,r.l+"?key="+encodeURIComponent(r.c),function(m){m?m.error?h(yp(m)):m.access_token&&m.refresh_token?c(m):h(new k("internal-error")):h(new k("network-request-failed"))},"POST",B0(s).toString(),r.g,r.m.get()):h(new k("internal-error"))})}function nb(r,s,c,h,m,y,w){var E=kn(s+c);Ct(E,"key",r.c),w&&Ct(E,"cb",Date.now().toString());var F=h=="GET";if(F)for(var W in m)m.hasOwnProperty(W)&&Ct(E,W,m[W]);return new je(function(Oe,et){eb(r,E.toString(),function(Ye){Ye?Ye.error?et(yp(Ye,y||{})):Oe(Ye):et(new k("network-request-failed"))},h,F?void 0:H0(tw(m)),r.a,r.v.get())})}function ho(r){if(r=r.email,typeof r!="string"||!cN.test(r))throw new k("invalid-email")}function rb(r){"email"in r&&ho(r)}function sR(r,s){return qe(r,gR,{identifier:s,continueUri:Hc()?Lu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function uR(r){return qe(r,CR,{}).then(function(s){return s.authorizedDomains||[]})}function Cn(r){if(!r[dr])throw r.mfaPendingCredential?new k("multi-factor-auth-required",null,it(r)):new k("internal-error")}function fp(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new k("internal-error")}else{if(!r.sessionInfo)throw new k("missing-verification-id");if(!r.code)throw new k("missing-verification-code")}}hr.prototype.Ab=function(){return qe(this,OR,{})},hr.prototype.Cb=function(r,s){return qe(this,sb,{idToken:r,email:s})},hr.prototype.Db=function(r,s){return qe(this,ub,{idToken:r,password:s})};var aR={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=hr.prototype,e.Eb=function(r,s){var c={idToken:r},h=[];return Ve(aR,function(m,y){var w=s[y];w===null?h.push(m):y in s&&(c[y]=w)}),h.length&&(c.deleteAttribute=h),qe(this,sb,c)},e.wb=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},Xt(r,s),qe(this,kR,r)},e.xb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},Xt(r,s),qe(this,TR,r)},e.vb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},Xt(r,s),qe(this,SR,r)},e.Fb=function(r,s,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},Xt(r,c),qe(this,AR,r)};function cR(r,s){return qe(r,xR,s)}e.gb=function(r){return qe(this,jR,r)};function lR(r,s){return qe(r,PR,s).then(function(c){return c.phoneSessionInfo.sessionInfo})}function ib(r){if(!r.phoneVerificationInfo)throw new k("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new k("missing-verification-code")}function fR(r,s){return qe(r,DR,s).then(function(c){return c.phoneResponseInfo.sessionInfo})}function hR(r,s,c){return qe(r,yR,{idToken:s,deleteProvider:c})}function hp(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new k("internal-error")}function dp(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new no(r.postBody),_d(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function ob(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=el(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=el(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=el(r)):r.errorMessage&&(s=cb(r.errorMessage)),s)throw s;Cn(r)}function pp(r,s){return s.returnIdpCredential=!0,qe(r,LR,s)}function mp(r,s){return s.returnIdpCredential=!0,qe(r,FR,s)}function gp(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,qe(r,MR,s)}function vp(r){if(!r.oobCode)throw new k("invalid-action-code")}e.ob=function(r,s){return qe(this,RR,{oobCode:r,newPassword:s})},e.Sa=function(r){return qe(this,pR,{oobCode:r})},e.kb=function(r){return qe(this,dR,{oobCode:r})};var dR={endpoint:"setAccountInfo",A:vp,Z:"email",B:!0},pR={endpoint:"resetPassword",A:vp,G:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},B:!0},mR={endpoint:"signupNewUser",A:function(r){if(ho(r),!r.password)throw new k("weak-password")},G:Cn,V:!0,B:!0},gR={endpoint:"createAuthUri",B:!0},vR={endpoint:"deleteAccount",O:["idToken"]},yR={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new k("internal-error")}},wR={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ho,G:Cn,V:!0,B:!0},bR={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ho,G:Cn,V:!0},_R={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ib,G:Cn,B:!0,Na:!0},ER={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ib,G:Cn,B:!0,Na:!0},IR={endpoint:"getAccountInfo"},TR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new k("internal-error");ho(r)},Z:"email",B:!0},SR={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new k("internal-error")},Z:"email",B:!0},AR={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},Z:"email",B:!0},kR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new k("internal-error");ho(r)},Z:"email",B:!0},CR={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},NR={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new k("internal-error")}},RR={endpoint:"resetPassword",A:vp,Z:"email",B:!0},xR={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},sb={endpoint:"setAccountInfo",O:["idToken"],A:rb,V:!0},ub={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(rb(r),!r.password)throw new k("weak-password")},G:Cn,V:!0},OR={endpoint:"signupNewUser",G:Cn,V:!0,B:!0},PR={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new k("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},DR={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},LR={endpoint:"verifyAssertion",A:hp,Za:dp,G:ob,V:!0,B:!0},MR={endpoint:"verifyAssertion",A:hp,Za:dp,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new k("user-not-found");if(r.errorMessage)throw cb(r.errorMessage);Cn(r)},V:!0,B:!0},FR={endpoint:"verifyAssertion",A:function(r){if(hp(r),!r.idToken)throw new k("internal-error")},Za:dp,G:ob,V:!0},UR={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new k("invalid-custom-token")},G:Cn,V:!0,B:!0},ab={endpoint:"verifyPassword",A:function(r){if(ho(r),!r.password)throw new k("wrong-password")},G:Cn,V:!0,B:!0},jR={endpoint:"verifyPhoneNumber",A:fp,G:Cn,B:!0},VR={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new k("internal-error");fp(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",el(r);Cn(r)}},qR={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:fp,G:Cn,B:!0},BR={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[dr]^!!r.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function qe(r,s,c){if(!gN(c,s.O))return yt(new k("internal-error"));var h=!!s.Na,m=s.Vb||"POST",y;return Ee(c).then(s.A).then(function(){return s.V&&(c.returnSecureToken=!0),s.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?nb(r,r.i,s.endpoint,m,c,s.Ib,s.mb||!1):nb(r,r.h,s.endpoint,m,c,s.Ib,s.mb||!1)}).then(function(w){return y=w,s.Za?s.Za(c,y):y}).then(s.G).then(function(){if(!s.Z)return y;if(!(s.Z in y))throw new k("internal-error");return y[s.Z]})}function cb(r){return yp({error:{errors:[{message:r}],code:400,message:r}})}function yp(r,s){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new k(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Xt(h,s||{}),s=(s=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var m in h)if(c.indexOf(m)===0)return new k(h[m],s);return!s&&r&&(s=Fu(r)),new k("internal-error",s)}function $R(r){this.b=r,this.a=null,this.sb=KR(this)}function KR(r){return YR().then(function(){return new je(function(s,c){wt("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:wt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function m(){clearTimeout(y),s()}r.a=h,r.a.restyle({setHideOnLeave:!1});var y=setTimeout(function(){c(Error("Network Error"))},XR.get());h.ping(m).then(m,function(){c(Error("Network Error"))})})})})}function HR(r,s){return r.sb.then(function(){return new je(function(c){r.a.send(s.type,s,c,wt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function zR(r,s){r.sb.then(function(){r.a.register("authEvent",s,wt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var GR=new Cr(xc,"https://apis.google.com/js/api.js?onload=%{onload}"),WR=new gi(3e4,6e4),XR=new gi(5e3,15e3),pl=null;function YR(){return pl||(pl=new je(function(r,s){function c(){rw(),wt("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){rw(),s(Error("Network Error"))},timeout:WR.get()})}if(wt("gapi.iframes.Iframe"))r();else if(wt("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){wt("gapi.load")?c():s(Error("Network Error"))},h=Zh(GR,{onload:h}),Ee(up(h)).o(function(){s(Error("Network Error"))})}}).o(function(r){throw pl=null,r}))}function lb(r,s,c,h){this.l=r,this.h=s,this.i=c,this.g=h,this.f=null,this.g?(r=kn(this.g.url),r=$c(r.c,r.a,r.g,"/emulator/auth/iframe")):r=$c("https",this.l,null,"/__/auth/iframe"),this.a=r,Ct(this.a,"apiKey",this.h),Ct(this.a,"appName",this.i),this.b=null,this.c=[]}lb.prototype.toString=function(){return this.f?Ct(this.a,"v",this.f):Nr(this.a.b,"v"),this.b?Ct(this.a,"eid",this.b):Nr(this.a.b,"eid"),this.c.length?Ct(this.a,"fw",this.c.join(",")):Nr(this.a.b,"fw"),this.a.toString()};function wp(r,s,c,h,m,y){this.u=r,this.s=s,this.c=c,this.m=h,this.v=y,this.i=this.g=this.l=null,this.a=m,this.h=this.f=null}wp.prototype.zb=function(r){return this.h=r,this},wp.prototype.toString=function(){if(this.v){var r=kn(this.v.url);r=$c(r.c,r.a,r.g,"/emulator/auth/handler")}else r=$c("https",this.u,null,"/__/auth/handler");if(Ct(r,"apiKey",this.s),Ct(r,"appName",this.c),Ct(r,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var c=Se.app(this.c).auth().la()}catch{c=null}s.pb=c,Ct(r,"providerId",this.a.providerId),c=this.a,s=tw(c.Jb);for(var h in s)s[h]=s[h].toString();h=c.Qc,s=it(s);for(var m=0;m<h.length;m++){var y=h[m];y in s&&delete s[y]}c.qb&&c.pb&&!s[c.qb]&&(s[c.qb]=c.pb),vt(s)||Ct(r,"customParameters",Fu(s))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Ct(r,"scopes",c.join(","))),this.l?Ct(r,"redirectUrl",this.l):Nr(r.b,"redirectUrl"),this.g?Ct(r,"eventId",this.g):Nr(r.b,"eventId"),this.i?Ct(r,"v",this.i):Nr(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!nr(r,w)&&Ct(r,w,this.b[w]);return this.h?Ct(r,"tid",this.h):Nr(r.b,"tid"),this.f?Ct(r,"eid",this.f):Nr(r.b,"eid"),w=bp(this.c),w.length&&Ct(r,"fw",w.join(",")),r.toString()};function bp(r){try{return Se.app(r).auth().Ga()}catch{return[]}}function fb(r,s,c,h,m,y){this.s=r,this.g=s,this.b=c,this.f=y,this.c=h||null,this.i=m||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function hb(r){var s=Lu();return uR(r).then(function(c){e:{var h=kn(s),m=h.c;h=h.a;for(var y=0;y<c.length;y++){var w=c[y],E=h,F=m;if(w.indexOf("chrome-extension://")==0?E=kn(w).a==E&&F=="chrome-extension":F!="http"&&F!="https"?E=!1:aN.test(w)?E=E==w:(w=w.split(".").join("\\."),E=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(E)),E){c=!0;break e}}c=!1}if(!c)throw new Qd(Lu())})}function db(r){return r.m||(r.m=Kc().then(function(){if(!r.u){var s=r.c,c=r.i,h=bp(r.b),m=new lb(r.s,r.g,r.b,r.f);m.f=s,m.b=c,m.c=ie(h||[]),r.u=m.toString()}r.v=new $R(r.u),QR(r)})),r.m}e=fb.prototype,e.Pb=function(r,s,c){var h=new k("popup-closed-by-user"),m=new k("web-storage-unsupported"),y=this,w=!1;return this.ma().then(function(){JR(y).then(function(E){E||(r&&ro(r),s(m),w=!0)})}).o(function(){}).then(function(){if(!w)return uN(r)}).then(function(){if(!w)return is(c).then(function(){s(h)})})},e.Yb=function(){var r=Yt();return!Mu(r)&&!nw(r)},e.Ub=function(){return!1},e.Nb=function(r,s,c,h,m,y,w,E){if(!r)return yt(new k("popup-blocked"));if(w&&!Mu())return this.ma().o(function(W){ro(r),m(W)}),h(),Ee();this.a||(this.a=hb(pb(this)));var F=this;return this.a.then(function(){var W=F.ma().o(function(Oe){throw ro(r),m(Oe),Oe});return h(),W}).then(function(){if(Xd(c),!w){var W=Zu(F.s,F.g,F.b,s,c,null,y,F.c,void 0,F.i,E,F.f);W0(W,r)}}).o(function(W){throw W.code=="auth/network-request-failed"&&(F.a=null),W})};function pb(r){return r.l||(r.C=r.c?as(r.c,bp(r.b)):null,r.l=new hr(r.g,Ge(r.i),r.C),r.f&&dl(r.l,r.f)),r.l}e.Ob=function(r,s,c,h){this.a||(this.a=hb(pb(this)));var m=this;return this.a.then(function(){Xd(s);var y=Zu(m.s,m.g,m.b,r,s,Lu(),c,m.c,void 0,m.i,h,m.f);W0(y)}).o(function(y){throw y.code=="auth/network-request-failed"&&(m.a=null),y})},e.ma=function(){var r=this;return db(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new k("network-request-failed")})},e.ac=function(){return!0};function Zu(r,s,c,h,m,y,w,E,F,W,Oe,et){return r=new wp(r,s,c,h,m,et),r.l=y,r.g=w,r.i=E,r.b=it(F||null),r.f=W,r.zb(Oe).toString()}function QR(r){if(!r.v)throw Error("IfcHandler must be initialized!");zR(r.v,function(s){var c={};if(s&&s.authEvent){var h=!1;for(s=Fw(s.authEvent),c=0;c<r.h.length;c++)h=r.h[c](s)||h;return c={},c.status=h?"ACK":"ERROR",Ee(c)}return c.status="ERROR",Ee(c)})}function JR(r){var s={type:"webStorageSupport"};return db(r).then(function(){return HR(r.v,s)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(r){this.h.push(r)},e.Ta=function(r){j(this.h,function(s){return s==r})};function mb(r){if(this.a=r||Se.INTERNAL.reactNative&&Se.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=mb.prototype,e.get=function(r){return Ee(this.a.getItem(r)).then(function(s){return s&&ls(s)})},e.set=function(r,s){return Ee(this.a.setItem(r,Fu(s)))},e.U=function(r){return Ee(this.a.removeItem(r))},e.ca=function(){},e.ia=function(){};function gb(r){this.b=r,this.a={},this.f=V(this.c,this)}var vb=[];function ZR(){var r=lr()?self:null;if($(vb,function(c){c.b==r&&(s=c)}),!s){var s=new gb(r);vb.push(s)}return s}gb.prototype.c=function(r){var s=r.data.eventType,c=r.data.eventId,h=this.a[s];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:s,response:null});var m=[];$(h,function(y){m.push(Ee().then(function(){return y(r.origin,r.data.data)}))}),_0(m).then(function(y){var w=[];$(y,function(E){w.push({fulfilled:E.Qb,value:E.value,reason:E.reason?E.reason.message:void 0})}),$(w,function(E){for(var F in E)typeof E[F]>"u"&&delete E[F]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:s,response:w})})}};function yb(r,s,c){vt(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]>"u"&&(r.a[s]=[]),r.a[s].push(c)}function wb(r){this.a=r}wb.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function bb(r){this.c=r,this.b=!1,this.a=[]}function _b(r,s,c,h){var m,y=c||{},w,E,F,W=null;if(r.b)return yt(Error("connection_unavailable"));var Oe=h?800:50,et=typeof MessageChannel<"u"?new MessageChannel:null;return new je(function(Ye,Ht){et?(m=Math.floor(Math.random()*Math.pow(10,20)).toString(),et.port1.start(),E=setTimeout(function(){Ht(Error("unsupported_event"))},Oe),w=function(Qr){Qr.data.eventId===m&&(Qr.data.status==="ack"?(clearTimeout(E),F=setTimeout(function(){Ht(Error("timeout"))},3e3)):Qr.data.status==="done"?(clearTimeout(F),typeof Qr.data.response<"u"?Ye(Qr.data.response):Ht(Error("unknown_error"))):(clearTimeout(E),clearTimeout(F),Ht(Error("invalid_response"))))},W={messageChannel:et,onMessage:w},r.a.push(W),et.port1.addEventListener("message",w),r.c.postMessage({eventType:s,eventId:m,data:y},[et.port2])):Ht(Error("connection_unavailable"))}).then(function(Ye){return _p(r,W),Ye}).o(function(Ye){throw _p(r,W),Ye})}function _p(r,s){if(s){var c=s.messageChannel,h=s.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),j(r.a,function(m){return m==s})}}bb.prototype.close=function(){for(;0<this.a.length;)_p(this,this.a[0]);this.b=!0};function Eb(){if(!Tp())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;lr()&&self?(this.v=ZR(),yb(this.v,"keyChanged",function(s,c){return Sb(r).then(function(h){return 0<h.length&&$(r.a,function(m){m(h)}),{keyProcessed:R(h,c.key)}})}),yb(this.v,"ping",function(){return Ee(["keyChanged"])})):pN().then(function(s){(r.h=s)&&(r.g=new bb(new wb(s)),_b(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&R(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var Ep;function ex(r){return new je(function(s,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){s()},h.onerror=function(m){c(Error(m.target.error))}})}function Ib(r){return new je(function(s,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(m){try{m.preventDefault()}catch{}c(Error(m.target.error))},h.onupgradeneeded=function(m){m=m.target.result;try{m.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(y){c(y)}},h.onsuccess=function(m){m=m.target.result,m.objectStoreNames.contains("firebaseLocalStorage")?s(m):ex(r).then(function(){return Ib(r)}).then(function(y){s(y)}).o(function(y){c(y)})}})}function Ip(r){return r.i||(r.i=Ib(r)),r.i}function ml(r,s){function c(m,y){Ip(r).then(s).then(m).o(function(w){if(3<++h)y(w);else return Ip(r).then(function(E){return E.close(),r.i=void 0,c(m,y)}).o(function(E){y(E)})})}var h=0;return new je(c)}function Tp(){try{return!!f.indexedDB}catch{return!1}}function ea(r){return r.objectStore("firebaseLocalStorage")}function ta(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function ps(r){return new je(function(s,c){r.onsuccess=function(h){h&&h.target?s(h.target.result):s()},r.onerror=function(h){c(h.target.error)}})}e=Eb.prototype,e.set=function(r,s){var c=this,h=!1;return ml(this,function(m){return m=ea(ta(m,!0)),ps(m.get(r))}).then(function(m){return ml(c,function(y){if(y=ea(ta(y,!0)),m)return m.value=s,ps(y.put(m));c.b++,h=!0;var w={};return w.fbase_key=r,w.value=s,ps(y.add(w))})}).then(function(){return c.c[r]=s,Tb(c,r)}).oa(function(){h&&c.b--})};function Tb(r,s){return r.g&&r.h&&dN()===r.h?_b(r.g,"keyChanged",{key:s},r.s).then(function(){}).o(function(){}):Ee()}e.get=function(r){return ml(this,function(s){return ps(ea(ta(s,!1)).get(r))}).then(function(s){return s&&s.value})},e.U=function(r){var s=this,c=!1;return ml(this,function(h){return c=!0,s.b++,ps(ea(ta(h,!0)).delete(r))}).then(function(){return delete s.c[r],Tb(s,r)}).oa(function(){c&&s.b--})};function Sb(r){return Ip(r).then(function(s){var c=ea(ta(s,!1));return c.getAll?ps(c.getAll()):new je(function(h,m){var y=[],w=c.openCursor();w.onsuccess=function(E){(E=E.target.result)?(y.push(E.value),E.continue()):h(y)},w.onerror=function(E){m(E.target.error)}})}).then(function(s){var c={},h=[];if(r.b==0){for(h=0;h<s.length;h++)c[s[h].fbase_key]=s[h].value;h=X0(r.c,c),r.c=c}return h})}e.ca=function(r){this.a.length==0&&tx(this),this.a.push(r)},e.ia=function(r){j(this.a,function(s){return s==r}),this.a.length==0&&Ab(this)};function tx(r){function s(){r.f=setTimeout(function(){r.l=Sb(r).then(function(c){0<c.length&&$(r.a,function(h){h(c)})}).then(function(){s()}).o(function(c){c.message!="STOP_EVENT"&&s()})},800)}Ab(r),s()}function Ab(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function kb(r){var s=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=Ee().then(function(){if(Tp()){var h=oo(),m="__sak"+h;return Ep||(Ep=new Eb),c=Ep,c.set(m,h).then(function(){return c.get(m)}).then(function(y){if(y!==h)throw Error("indexedDB not supported!");return c.U(m)}).then(function(){return c}).o(function(){return s.c})}return s.c}).then(function(h){return s.type=h.type,h.ca(function(m){$(s.a,function(y){y(m)})}),h})}e=kb.prototype,e.get=function(r){return this.b.then(function(s){return s.get(r)})},e.set=function(r,s){return this.b.then(function(c){return c.set(r,s)})},e.U=function(r){return this.b.then(function(s){return s.U(r)})},e.ca=function(r){this.a.push(r)},e.ia=function(r){j(this.a,function(s){return s==r})};function na(){this.a={},this.type="inMemory"}e=na.prototype,e.get=function(r){return Ee(this.a[r])},e.set=function(r,s){return this.a[r]=s,Ee()},e.U=function(r){return delete this.a[r],Ee()},e.ca=function(){},e.ia=function(){};function gl(){if(!nx())throw Rr()=="Node"?new k("internal-error","The LocalStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=Cb()||Se.INTERNAL.node.localStorage,this.type="localStorage"}function Cb(){try{var r=f.localStorage,s=oo();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function nx(){var r=Rr()=="Node";if(r=Cb()||r&&Se.INTERNAL.node&&Se.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=gl.prototype,e.get=function(r){var s=this;return Ee().then(function(){var c=s.a.getItem(r);return ls(c)})},e.set=function(r,s){var c=this;return Ee().then(function(){var h=Fu(s);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var s=this;return Ee().then(function(){s.a.removeItem(r)})},e.ca=function(r){f.window&&tr(f.window,"storage",r)},e.ia=function(r){f.window&&Bn(f.window,"storage",r)};function Sp(){this.type="nullStorage"}e=Sp.prototype,e.get=function(){return Ee(null)},e.set=function(){return Ee()},e.U=function(){return Ee()},e.ca=function(){},e.ia=function(){};function Ap(){if(!rx())throw Rr()=="Node"?new k("internal-error","The SessionStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=Nb()||Se.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Nb(){try{var r=f.sessionStorage,s=oo();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function rx(){var r=Rr()=="Node";if(r=Nb()||r&&Se.INTERNAL.node&&Se.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=Ap.prototype,e.get=function(r){var s=this;return Ee().then(function(){var c=s.a.getItem(r);return ls(c)})},e.set=function(r,s){var c=this;return Ee().then(function(){var h=Fu(s);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var s=this;return Ee().then(function(){s.a.removeItem(r)})},e.ca=function(){},e.ia=function(){};function ix(){var r={};r.Browser=ox,r.Node=sx,r.ReactNative=ux,r.Worker=ax,this.a=r[Rr()]}var kp,ox={F:gl,cb:Ap},sx={F:gl,cb:Ap},ux={F:mb,cb:Sp},ax={F:gl,cb:Sp},ms={rd:"local",NONE:"none",td:"session"};function cx(r){var s=new k("invalid-persistence-type"),c=new k("unsupported-persistence-type");e:{for(h in ms)if(ms[h]==r){var h=!0;break e}h=!1}if(!h||typeof r!="string")throw s;switch(Rr()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!Tp()&&r!=="none")throw c;break;default:if(!kd()&&r!=="none")throw c}}function Rb(){var r=!!(!nw(Yt())&&Sd()),s=Mu(),c=kd();this.m=r,this.h=s,this.l=c,this.a={},kp||(kp=new ix),r=kp;try{this.g=!Id()&&iw()||!f.indexedDB?new r.a.F:new kb(lr()?new na:new r.a.F)}catch{this.g=new na,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new na}this.v=new na,this.f=V(this.Zb,this),this.b={}}var Cp;function ra(){return Cp||(Cp=new Rb),Cp}function po(r,s){switch(s){case"session":return r.i;case"none":return r.v;default:return r.g}}function gs(r,s){return"firebase:"+r.name+(s?":"+s:"")}function lx(r,s,c){var h=gs(s,c),m=po(r,s.F);return r.get(s,c).then(function(y){var w=null;try{w=ls(f.localStorage.getItem(h))}catch{}if(w&&!y)return f.localStorage.removeItem(h),r.set(s,w,c);w&&y&&m.type!="localStorage"&&f.localStorage.removeItem(h)})}e=Rb.prototype,e.get=function(r,s){return po(this,r.F).get(gs(r,s))};function vs(r,s,c){return c=gs(s,c),s.F=="local"&&(r.b[c]=null),po(r,s.F).U(c)}e.set=function(r,s,c){var h=gs(r,c),m=this,y=po(this,r.F);return y.set(h,s).then(function(){return y.get(h)}).then(function(w){r.F=="local"&&(m.b[h]=w)})},e.addListener=function(r,s,c){r=gs(r,s),this.l&&(this.b[r]=f.localStorage.getItem(r)),vt(this.a)&&(po(this,"local").ca(this.f),this.h||(Id()||!iw())&&f.indexedDB||!this.l||fx(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},e.removeListener=function(r,s,c){r=gs(r,s),this.a[r]&&(j(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),vt(this.a)&&(po(this,"local").ia(this.f),Np(this))};function fx(r){Np(r),r.c=setInterval(function(){for(var s in r.a){var c=f.localStorage.getItem(s),h=r.b[s];c!=h&&(r.b[s]=c,c=new eo({type:"storage",key:s,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function Np(r){r.c&&(clearInterval(r.c),r.c=null)}e.Zb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var m=f.localStorage.getItem(c);m!==h&&(this.b[c]=m,this.nb(c))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a<"u"?po(this,"local").ia(this.f):Np(this),this.m){if(c=f.localStorage.getItem(s),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(s,h):f.localStorage.removeItem(s);else if(this.b[s]===h&&typeof r.a.a>"u")return}var y=this;c=function(){(typeof r.a.a<"u"||y.b[s]!==f.localStorage.getItem(s))&&(y.b[s]=f.localStorage.getItem(s),y.nb(s))},cr&&di&&di==10&&f.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else $(r,V(this.nb,this))},e.nb=function(r){this.a[r]&&$(this.a[r],function(s){s()})};function hx(r){this.a=r,this.b=ra()}var Rp={name:"authEvent",F:"local"};function dx(r){return r.b.get(Rp,r.a).then(function(s){return Fw(s)})}function px(){this.a=ra()}function mx(){this.b=-1}function vl(r,s){this.b=xb,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=f.Int32Array?new Int32Array(64):Array(64),yl===void 0&&(f.Int32Array?yl=new Int32Array(Db):yl=Db),this.reset()}var yl;G(vl,mx);for(var xb=64,gx=xb-1,Ob=[],xp=0;xp<gx;xp++)Ob[xp]=0;var Pb=X(128,Ob);vl.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):ie(this.h)};function Op(r){for(var s=r.f,c=r.l,h=0,m=0;m<s.length;)c[h++]=s[m]<<24|s[m+1]<<16|s[m+2]<<8|s[m+3],m=4*h;for(s=16;64>s;s++){m=c[s-15]|0,h=c[s-2]|0;var y=(c[s-16]|0)+((m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3)|0,w=(c[s-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[s]=y+w|0}h=r.a[0]|0,m=r.a[1]|0;var E=r.a[2]|0,F=r.a[3]|0,W=r.a[4]|0,Oe=r.a[5]|0,et=r.a[6]|0;for(y=r.a[7]|0,s=0;64>s;s++){var Ye=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&m^h&E^m&E)|0;w=W&Oe^~W&et,y=y+((W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7))|0,w=w+(yl[s]|0)|0,w=y+(w+(c[s]|0)|0)|0,y=et,et=Oe,Oe=W,W=F+w|0,F=E,E=m,m=h,h=w+Ye|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+m|0,r.a[2]=r.a[2]+E|0,r.a[3]=r.a[3]+F|0,r.a[4]=r.a[4]+W|0,r.a[5]=r.a[5]+Oe|0,r.a[6]=r.a[6]+et|0,r.a[7]=r.a[7]+y|0}function Pp(r,s,c){c===void 0&&(c=s.length);var h=0,m=r.c;if(typeof s=="string")for(;h<c;)r.f[m++]=s.charCodeAt(h++),m==r.b&&(Op(r),m=0);else if(_(s))for(;h<c;){var y=s[h++];if(!(typeof y=="number"&&0<=y&&255>=y&&y==(y|0)))throw Error("message must be a byte array");r.f[m++]=y,m==r.b&&(Op(r),m=0)}else throw Error("message must be string or array");r.c=m,r.g+=c}var Db=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Lb(){vl.call(this,8,vx)}G(Lb,vl);var vx=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Mb(r,s,c,h,m,y){this.v=r,this.i=s,this.l=c,this.m=h||null,this.u=m||null,this.s=y,this.h=s+":"+c,this.C=new px,this.g=new hx(this.h),this.f=null,this.b=[],this.a=this.c=null}function wl(r){return new k("invalid-cordova-configuration",r)}e=Mb.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=lN().then(function(){if(typeof wt("universalLinks.subscribe",f)!="function")throw wl("cordova-universal-links-plugin-fix is not installed");if(typeof wt("BuildInfo.packageName",f)>"u")throw wl("cordova-plugin-buildinfo is not installed");if(typeof wt("cordova.plugins.browsertab.openUrl",f)!="function")throw wl("cordova-plugin-browsertab is not installed");if(typeof wt("cordova.InAppBrowser.open",f)!="function")throw wl("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})};function yx(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function wx(r){var s=new Lb;Pp(s,r),r=[];var c=8*s.g;56>s.c?Pp(s,Pb,56-s.c):Pp(s,Pb,s.b-(s.c-56));for(var h=63;56<=h;h--)s.f[h]=c&255,c/=256;for(Op(s),h=c=0;h<s.i;h++)for(var m=24;0<=m;m-=8)r[c++]=s.a[h]>>m&255;return RN(r)}e.Pb=function(r,s){return s(new k("operation-not-supported-in-this-environment")),Ee()},e.Nb=function(){return yt(new k("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(r,s,c,h){if(this.c)return yt(new k("redirect-operation-pending"));var m=this,y=f.document,w=null,E=null,F=null,W=null;return this.c=Ee().then(function(){return Xd(s),Ub(m)}).then(function(){return bx(m,r,s,c,h)}).then(function(){return new je(function(Oe,et){E=function(){var Ye=wt("cordova.plugins.browsertab.close",f);return Oe(),typeof Ye=="function"&&Ye(),m.a&&typeof m.a.close=="function"&&(m.a.close(),m.a=null),!1},m.Ea(E),F=function(){w||(w=is(2e3).then(function(){et(new k("redirect-cancelled-by-user"))}))},W=function(){Cd()&&F()},y.addEventListener("resume",F,!1),Yt().toLowerCase().match(/android/)||y.addEventListener("visibilitychange",W,!1)}).o(function(Oe){return Dp(m).then(function(){throw Oe})})}).oa(function(){F&&y.removeEventListener("resume",F,!1),W&&y.removeEventListener("visibilitychange",W,!1),w&&w.cancel(),E&&m.Ta(E),m.c=null})};function bx(r,s,c,h,m){var y=yx(),w=new fr(s,h,null,y,new k("no-auth-event"),null,m),E=wt("BuildInfo.packageName",f);if(typeof E!="string")throw new k("invalid-cordova-configuration");var F=wt("BuildInfo.displayName",f),W={};if(Yt().toLowerCase().match(/iphone|ipad|ipod/))W.ibi=E;else if(Yt().toLowerCase().match(/android/))W.apn=E;else return yt(new k("operation-not-supported-in-this-environment"));F&&(W.appDisplayName=F),y=wx(y),W.sessionId=y;var Oe=Zu(r.v,r.i,r.l,s,c,null,h,r.m,W,r.u,m,r.s);return r.ma().then(function(){var et=r.h;return r.C.a.set(Rp,w.w(),et)}).then(function(){var et=wt("cordova.plugins.browsertab.isAvailable",f);if(typeof et!="function")throw new k("invalid-cordova-configuration");var Ye=null;et(function(Ht){if(Ht){if(Ye=wt("cordova.plugins.browsertab.openUrl",f),typeof Ye!="function")throw new k("invalid-cordova-configuration");Ye(Oe)}else{if(Ye=wt("cordova.InAppBrowser.open",f),typeof Ye!="function")throw new k("invalid-cordova-configuration");Ht=Yt(),r.a=Ye(Oe,Ht.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Ht.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Fb(r,s){for(var c=0;c<r.b.length;c++)try{r.b[c](s)}catch{}}function Ub(r){return r.f||(r.f=r.ma().then(function(){return new je(function(s){function c(h){return s(h),r.Ta(c),!1}r.Ea(c),_x(r)})})),r.f}function Dp(r){var s=null;return dx(r.g).then(function(c){return s=c,c=r.g,vs(c.b,Rp,c.a)}).then(function(){return s})}function _x(r){function s(w){h=!0,m&&m.cancel(),Dp(r).then(function(E){var F=c;if(E&&w&&w.url){var W=null;F=Nw(w.url),F.indexOf("/__/auth/callback")!=-1&&(W=kn(F),W=ls(nr(W,"firebaseError")||null),W=(W=typeof W=="object"?$e(W):null)?new fr(E.c,E.b,null,null,W,null,E.T()):new fr(E.c,E.b,F,E.f,null,null,E.T())),F=W||c}Fb(r,F)})}var c=new fr("unknown",null,null,null,new k("no-auth-event")),h=!1,m=is(500).then(function(){return Dp(r).then(function(){h||Fb(r,c)})}),y=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(wt("BuildInfo.packageName",f).toLowerCase()+"://")==0&&s({url:w}),typeof y=="function")try{y(w)}catch(E){console.error(E)}},Yd||(Yd=new UN),jN(s)}e.Ea=function(r){this.b.push(r),Ub(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new fr("unknown",null,null,null,new k("no-auth-event")),r(s))})},e.Ta=function(r){j(this.b,function(s){return s==r})};function Ex(r){this.a=r,this.b=ra()}var Lp={name:"pendingRedirect",F:"session"};function Ix(r){return r.b.set(Lp,"pending",r.a)}function Mp(r){return vs(r.b,Lp,r.a)}function Tx(r){return r.b.get(Lp,r.a).then(function(s){return s=="pending"})}function bl(r,s,c,h){this.i={},this.u=0,this.D=r,this.v=s,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=V(this.s,this),this.b=new El,this.C=new Wb,this.g=new Ex(Hb(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=jb(this.D,this.v,this.m,de,this.J)}function jb(r,s,c,h,m){var y=Se.SDK_VERSION||null;return Td()?new Mb(r,s,c,y,h,m):new fb(r,s,c,y,h,m)}bl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=jb(this.D,this.v,this.m,null,this.J),this.i={}};function Vb(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.ma().o(function(c){throw r.a==s&&r.reset(),c})}function qb(r){r.a.Yb()&&Vb(r).o(function(s){var c=new fr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Up(s)&&r.s(c)}),r.a.Ub()||zb(r.b)}function _l(r,s){R(r.h,s)||r.h.push(s),r.f||Tx(r.g).then(function(c){c?Mp(r.g).then(function(){Vb(r).o(function(h){var m=new fr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Up(h)&&r.s(m)})}):qb(r)}).o(function(){qb(r)})}function Fp(r,s){j(r.h,function(c){return c==s})}bl.prototype.s=function(r){if(!r)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),s=!0;break}}return zb(this.b),s};var Sx=new gi(2e3,1e4),Ax=new gi(3e4,6e4);bl.prototype.ra=function(){return this.b.ra()};function Bb(r,s,c,h,m,y,w){return r.a.Nb(s,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},m,y,w)}function Up(r){return!!(r&&r.code=="auth/cordova-not-ready")}function $b(r,s,c,h,m){var y;return Ix(r.g).then(function(){return r.a.Ob(s,c,h,m).o(function(w){if(Up(w))throw new k("operation-not-supported-in-this-environment");return y=w,Mp(r.g).then(function(){throw y})}).then(function(){return r.a.ac()?new je(function(){}):Mp(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function Kb(r,s,c,h,m){return r.a.Pb(h,function(y){s.na(c,null,y,m)},Sx.get())}var jp={};function Hb(r,s,c){return r=r+":"+s,c&&(r=r+":"+c.url),r}function Vp(r,s,c,h){var m=Hb(s,c,h);return jp[m]||(jp[m]=new bl(r,s,c,h)),jp[m]}function El(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}El.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},El.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,m=r.a&&r.a.code=="auth/web-storage-unsupported",y=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!m&&!y),c!="unknown"||m||y?r.a?(mo(this,!0,null,r.a),Ee()):s.Fa(c,h)?kx(this,r,s):yt(new k("invalid-auth-event")):(mo(this,!1,null,null),Ee())}else yt(new k("invalid-auth-event"))};function zb(r){r.g||(r.g=!0,mo(r,!1,null,null))}function Il(r){r.g&&!r.i&&mo(r,!1,null,null)}function kx(r,s,c){c=c.Fa(s.c,s.b);var h=s.g,m=s.f,y=s.i,w=s.T(),E=!!s.c.match(/Redirect$/);c(h,m,w,y).then(function(F){mo(r,E,F,null)}).o(function(F){mo(r,E,null,F)})}function Cx(r,s){if(r.b=function(){return yt(s)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](s)}function Gb(r,s){if(r.b=function(){return Ee(s)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](s)}function mo(r,s,c,h){s?h?Cx(r,h):Gb(r,c):Gb(r,{user:null}),r.f=[],r.c=[]}El.prototype.ra=function(){var r=this;return new je(function(s,c){r.b?r.b().then(s,c):(r.f.push(s),r.c.push(c),Nx(r))})};function Nx(r){var s=new k("timeout");r.a&&r.a.cancel(),r.a=is(Ax.get()).then(function(){r.b||(r.g=!0,mo(r,!0,null,s))})}function Wb(){}Wb.prototype.h=function(r,s){if(r){var c=r.c,h=r.b;r.a?(s.na(r.c,null,r.a,r.b),Ee()):s.Fa(c,h)?Rx(r,s):yt(new k("invalid-auth-event"))}else yt(new k("invalid-auth-event"))};function Rx(r,s){var c=r.b,h=r.c;s.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(m){s.na(h,m,null,c)}).o(function(m){s.na(h,null,m,c)})}function Xb(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function qp(r,s){this.a=s,me(this,"verificationId",r)}qp.prototype.confirm=function(r){return r=Mw(this.verificationId,r),this.a(r)};function Bp(r,s,c,h){return new Xr(r).gb(s,c).then(function(m){return new qp(m,h)})}function xx(r){var s=_w(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");pn(this,{token:r,expirationTime:Uu(1e3*s.exp),authTime:Uu(1e3*s.auth_time),issuedAtTime:Uu(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function $p(r,s,c){var h=s&&s[Qb];if(!h)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=it(s),this.g=c,this.c=new Jc(null,h),this.b=[];var m=this;$(s[Yb]||[],function(y){(y=Dd(y))&&m.b.push(y)}),me(this,"auth",this.a),me(this,"session",this.c),me(this,"hints",this.b)}var Yb="mfaInfo",Qb="mfaPendingCredential";$p.prototype.Rc=function(r){var s=this;return r.tb(this.a.a,this.c).then(function(c){var h=it(s.f);return delete h[Yb],delete h[Qb],Xt(h,c),s.g(h)})};function Kp(r,s,c,h){k.call(this,"multi-factor-auth-required",h,s),this.b=new $p(r,s,c),me(this,"resolver",this.b)}G(Kp,k);function Jb(r,s,c){if(r&&S(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new Kp(s,r.serverResponse,c,r.message)}catch{}return null}function Zb(){}Zb.prototype.tb=function(r,s,c){return s.type==Bu?Ox(this,r,s,c):Px(this,r,s)};function Ox(r,s,c,h){return c.Ha().then(function(m){return m={idToken:m},typeof h<"u"&&(m.displayName=h),Xt(m,{phoneVerificationInfo:$u(r.a)}),qe(s,_R,m)})}function Px(r,s,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},Xt(h,{phoneVerificationInfo:$u(r.a)}),qe(s,ER,h)})}function Hp(r){me(this,"factorId",r.fa),this.a=r}G(Hp,Zb);function e_(r){if(Hp.call(this,r),this.a.fa!=Xr.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}G(e_,Hp);function ys(r,s){An.call(this,r);for(var c in s)this[c]=s[c]}G(ys,An);function zp(r,s){this.a=r,this.b=[],this.c=V(this.yc,this),tr(this.a,"userReloaded",this.c);var c=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&$(s.multiFactor.enrolledFactors,function(h){var m=null,y={};if(h){h.uid&&(y[Md]=h.uid),h.displayName&&(y[sw]=h.displayName),h.enrollmentTime&&(y[Ld]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(y[Fd]=h.phoneNumber);try{m=new ju(y)}catch{}h=m}else h=null;h&&c.push(h)}),Tl(this,c)}function Dx(r){var s=[];return $(r.mfaInfo||[],function(c){(c=Dd(c))&&s.push(c)}),s}e=zp.prototype,e.yc=function(r){Tl(this,Dx(r.hd))};function Tl(r,s){r.b=s,me(r,"enrolledFactors",s)}e.Sb=function(){return this.a.I().then(function(r){return new Jc(r,null)})},e.fc=function(r,s){var c=this,h=this.a.a;return this.Sb().then(function(m){return r.tb(h,m,s)}).then(function(m){return Pr(c.a,m),c.a.reload()})},e.bd=function(r){var s=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(m){return qe(h,BR,{idToken:m,mfaEnrollmentId:c})}).then(function(m){var y=ae(s.b,function(w){return w.uid!=c});return Tl(s,y),Pr(s.a,m),s.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:Ce(this.b,function(r){return r.w()})}}};function Gp(r,s,c){if(this.h=r,this.i=s,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Gp.prototype.start=function(){this.a=this.c,Wp(this,!0)};function Lx(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function Wp(r,s){r.stop(),r.b=is(Lx(r,s)).then(function(){return hN()}).then(function(){return r.h()}).then(function(){Wp(r,!0)}).o(function(c){r.i(c)&&Wp(r,!1)})}Gp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Xp(r){this.f=r,this.b=this.a=null,this.c=Date.now()}Xp.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function t_(r,s){typeof s>"u"&&(r.b?(s=r.b,s=s.a-s.g):s=0),r.c=Date.now()+1e3*s}function n_(r,s){r.b=Yc(s[dr]||""),r.a=s.refreshToken,s=s.expiresIn,t_(r,typeof s<"u"?Number(s):void 0)}function Mx(r,s){r.b=s.b,r.a=s.a,r.c=s.c}function Fx(r,s){return oR(r.f,s).then(function(c){return r.b=Yc(c.access_token),r.a=c.refresh_token,t_(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}Xp.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?yt(new k("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?Fx(this,{grant_type:"refresh_token",refresh_token:this.a}):Ee(null):Ee({accessToken:this.b.toString(),refreshToken:this.a})};function Sl(r,s){this.a=r||null,this.b=s||null,pn(this,{lastSignInTime:Uu(s||null),creationTime:Uu(r||null)})}function Ux(r){return new Sl(r.a,r.b)}Sl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function jx(r,s,c,h,m,y){pn(this,{uid:r,displayName:h||null,photoURL:m||null,email:c||null,phoneNumber:y||null,providerId:s})}function Kn(r,s,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=Se.SDK_VERSION?as(Se.SDK_VERSION):null;this.a=new hr(this.l,Ge(de),h),(this.u=r.emulatorConfig||null)&&dl(this.a,this.u),this.h=new Xp(this.a),nm(this,s[dr]),n_(this.h,s),me(this,"refreshToken",this.h.a),i_(this,c||{}),dn.call(this),this.P=!1,this.s&&io()&&(this.b=Vp(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=Vx(this),this.ba=V(this.ib,this);var m=this;this.za=null,this.Pa=function(y){m.xa(y.h)},this.qa=null,this.Ba=function(y){Yp(m,y.c)},this.$=null,this.aa=[],this.Oa=function(y){ia(m,y.f)},this.ja=null,this.S=new zp(this,c),me(this,"multiFactor",this.S)}G(Kn,dn),Kn.prototype.xa=function(r){this.za=r,Jw(this.a,r)};function Yp(r,s){r.u=s,dl(r.a,s),r.b&&(s=r.b,r.b=Vp(r.s,r.l,r.m,r.u),r.P&&(Fp(s,r),_l(r.b,r)))}Kn.prototype.la=function(){return this.za};function Qp(r,s){r.qa&&Bn(r.qa,"languageCodeChanged",r.Pa),(r.qa=s)&&tr(s,"languageCodeChanged",r.Pa)}function Jp(r,s){r.$&&Bn(r.$,"emulatorConfigChanged",r.Ba),(r.$=s)&&tr(s,"emulatorConfigChanged",r.Ba)}function ia(r,s){r.aa=s,Zw(r.a,Se.SDK_VERSION?as(Se.SDK_VERSION,r.aa):null)}Kn.prototype.Ga=function(){return ie(this.aa)};function Zp(r,s){r.ja&&Bn(r.ja,"frameworkChanged",r.Oa),(r.ja=s)&&tr(s,"frameworkChanged",r.Oa)}Kn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function em(r){try{return Se.app(r.m).auth()}catch{throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function Vx(r){return new Gp(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=r.h.c-Date.now()-3e5;return 0<s?s:0})}function r_(r){r.J||r.D.b||(r.D.start(),Bn(r,"tokenChanged",r.ba),tr(r,"tokenChanged",r.ba))}function tm(r){Bn(r,"tokenChanged",r.ba),r.D.stop()}function nm(r,s){r.Aa=s,me(r,"_lat",s)}function qx(r,s){j(r.W,function(c){return c==s})}function go(r){for(var s=[],c=0;c<r.W.length;c++)s.push(r.W[c](r));return _0(s).then(function(){return r})}function oa(r){r.b&&!r.P&&(r.P=!0,_l(r.b,r))}function i_(r,s){pn(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new Sl(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}me(Kn.prototype,"providerId","firebase");function o_(){}function rm(r){return Ee().then(function(){if(r.J)throw new k("app-deleted")})}function im(r){return Ce(r.providerData,function(s){return s.providerId})}function om(r,s){s&&(s_(r,s.providerId),r.providerData.push(s))}function s_(r,s){j(r.providerData,function(c){return c.providerId==s})}function wi(r,s,c){(s!="uid"||c)&&r.hasOwnProperty(s)&&me(r,s,c)}function Al(r,s){r!=s&&(pn(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?me(r,"metadata",Ux(s.metadata)):me(r,"metadata",new Sl),$(s.providerData,function(c){om(r,c)}),Mx(r.h,s.h),me(r,"refreshToken",r.h.a),Tl(r.S,s.S.b))}e=Kn.prototype,e.reload=function(){var r=this;return qt(this,rm(this).then(function(){return sm(r).then(function(){return go(r)}).then(o_)}))};function sm(r){return r.I().then(function(s){var c=r.isAnonymous;return Bx(r,s).then(function(){return c||wi(r,"isAnonymous",!1),s})})}e.oc=function(r){return this.I(r).then(function(s){return new xx(s)})},e.I=function(r){var s=this;return qt(this,rm(this).then(function(){return s.h.getToken(r)}).then(function(c){if(!c)throw new k("internal-error");return c.accessToken!=s.Aa&&(nm(s,c.accessToken),s.dispatchEvent(new ys("tokenChanged"))),wi(s,"refreshToken",c.refreshToken),c.accessToken}))};function Pr(r,s){s[dr]&&r.Aa!=s[dr]&&(n_(r.h,s),r.dispatchEvent(new ys("tokenChanged")),nm(r,s[dr]),wi(r,"refreshToken",r.h.a))}function Bx(r,s){return qe(r.a,IR,{idToken:s}).then(V(r.Kc,r))}e.Kc=function(r){if(r=r.users,!r||!r.length)throw new k("internal-error");r=r[0],i_(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=$x(r),c=0;c<s.length;c++)om(this,s[c]);wi(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ys("userReloaded",{hd:r}))};function $x(r){return(r=r.providerUserInfo)&&r.length?Ce(r,function(s){return new jx(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}e.Lc=function(r){return Nd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},e.ub=function(r){var s=this,c=null;return qt(this,r.c(this.a,this.uid).then(function(h){return Pr(s,h),c=sa(s,h,"reauthenticate"),s.i=null,s.reload()}).then(function(){return c}),!0)};function kl(r,s){return sm(r).then(function(){if(R(im(r),s))return go(r).then(function(){throw new k("provider-already-linked")})})}e.Cc=function(r){return Nd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},e.rb=function(r){var s=this,c=null;return qt(this,kl(this,r.providerId).then(function(){return s.I()}).then(function(h){return r.b(s.a,h)}).then(function(h){return c=sa(s,h,"link"),u_(s,h)}).then(function(){return c}))},e.Dc=function(r,s){var c=this;return qt(this,kl(this,"phone").then(function(){return Bp(em(c),r,s,V(c.rb,c))}))},e.Mc=function(r,s){var c=this;return qt(this,Ee().then(function(){return Bp(em(c),r,s,V(c.ub,c))}),!0)};function sa(r,s,c){var h=Wd(s);return s=Iw(s),xr({user:r,credential:h,additionalUserInfo:s,operationType:c})}function u_(r,s){return Pr(r,s),r.reload().then(function(){return r})}e.Cb=function(r){var s=this;return qt(this,this.I().then(function(c){return s.a.Cb(c,r)}).then(function(c){return Pr(s,c),s.reload()}))},e.ed=function(r){var s=this;return qt(this,this.I().then(function(c){return r.b(s.a,c)}).then(function(c){return Pr(s,c),s.reload()}))},e.Db=function(r){var s=this;return qt(this,this.I().then(function(c){return s.a.Db(c,r)}).then(function(c){return Pr(s,c),s.reload()}))},e.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return rm(this);var s=this;return qt(this,this.I().then(function(c){return s.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return Pr(s,c),wi(s,"displayName",c.displayName||null),wi(s,"photoURL",c.photoUrl||null),$(s.providerData,function(h){h.providerId==="password"&&(me(h,"displayName",s.displayName),me(h,"photoURL",s.photoURL))}),go(s)}).then(o_))},e.cd=function(r){var s=this;return qt(this,sm(this).then(function(c){return R(im(s),r)?hR(s.a,c,[r]).then(function(h){var m={};return $(h.providerUserInfo||[],function(y){m[y.providerId]=!0}),$(im(s),function(y){m[y]||s_(s,y)}),m[Xr.PROVIDER_ID]||me(s,"phoneNumber",null),go(s)}):go(s).then(function(){throw new k("no-such-provider")})}))},e.delete=function(){var r=this;return qt(this,this.I().then(function(s){return qe(r.a,vR,{idToken:s})}).then(function(){r.dispatchEvent(new ys("userDeleted"))})).then(function(){for(var s=0;s<r.N.length;s++)r.N[s].cancel("app-deleted");Qp(r,null),Jp(r,null),Zp(r,null),r.N=[],r.J=!0,tm(r),me(r,"refreshToken",null),r.b&&Fp(r.b,r)})},e.Gb=function(r,s){return!!(r=="linkViaPopup"&&(this.g||null)==s&&this.f||r=="reauthViaPopup"&&(this.g||null)==s&&this.f||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},e.na=function(r,s,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.g||null)?V(this.Lb,this):r=="reauthViaPopup"&&s==(this.g||null)?V(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==s?V(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?V(this.Mb,this):null},e.Ec=function(r){var s=this;return a_(this,"linkViaPopup",r,function(){return kl(s,r.providerId).then(function(){return go(s)})},!1)},e.Nc=function(r){return a_(this,"reauthViaPopup",r,function(){return Ee()},!0)};function a_(r,s,c,h,m){if(!io())return yt(new k("operation-not-supported-in-this-environment"));if(r.i&&!m)return yt(r.i);var y=Bd(c.providerId),w=oo(r.uid+":::"),E=null;(!Mu()||Sd())&&r.s&&c.isOAuthProvider&&(E=Zu(r.s,r.l,r.m,s,c,null,w,Se.SDK_VERSION||null,null,null,r.tenantId,r.u));var F=Q0(E,y&&y.va,y&&y.ua);return h=h().then(function(){if(l_(r),!m)return r.I().then(function(){})}).then(function(){return Bb(r.b,F,s,c,w,!!E,r.tenantId)}).then(function(){return new je(function(W,Oe){r.na(s,null,new k("cancelled-popup-request"),r.g||null),r.f=W,r.C=Oe,r.g=w,r.c=Kb(r.b,r,s,F,w)})}).then(function(W){return F&&ro(F),W?xr(W):null}).o(function(W){throw F&&ro(F),W}),qt(r,h,m)}e.Fc=function(r){var s=this;return c_(this,"linkViaRedirect",r,function(){return kl(s,r.providerId)},!1)},e.Oc=function(r){return c_(this,"reauthViaRedirect",r,function(){return Ee()},!0)};function c_(r,s,c,h,m){if(!io())return yt(new k("operation-not-supported-in-this-environment"));if(r.i&&!m)return yt(r.i);var y=null,w=oo(r.uid+":::");return h=h().then(function(){if(l_(r),!m)return r.I().then(function(){})}).then(function(){return r.ga=w,go(r)}).then(function(E){return r.ha&&(E=r.ha,E=E.b.set(um,r.w(),E.a)),E}).then(function(){return $b(r.b,s,c,w,r.tenantId)}).o(function(E){if(y=E,r.ha)return h_(r.ha);throw y}).then(function(){if(y)throw y}),qt(r,h,m)}function l_(r){if(!r.b||!r.P)throw r.b&&!r.P?new k("internal-error"):new k("auth-domain-config-required")}e.Lb=function(r,s,c,h){var m=this;this.c&&(this.c.cancel(),this.c=null);var y=null;return c=this.I().then(function(w){return mp(m.a,{requestUri:r,postBody:h,sessionId:s,idToken:w})}).then(function(w){return y=sa(m,w,"link"),u_(m,w)}).then(function(){return y}),qt(this,c)},e.Mb=function(r,s,c,h){var m=this;this.c&&(this.c.cancel(),this.c=null);var y=null,w=Ee().then(function(){return hs(gp(m.a,{requestUri:r,sessionId:s,postBody:h,tenantId:c}),m.uid)}).then(function(E){return y=sa(m,E,"reauthenticate"),Pr(m,E),m.i=null,m.reload()}).then(function(){return y});return qt(this,w,!0)},e.vb=function(r){var s=this,c=null;return qt(this,this.I().then(function(h){return c=h,typeof r>"u"||vt(r)?{}:Wc(new Gc(r))}).then(function(h){return s.a.vb(c,h)}).then(function(h){if(s.email!=h)return s.reload()}).then(function(){}))},e.Fb=function(r,s){var c=this,h=null;return qt(this,this.I().then(function(m){return h=m,typeof s>"u"||vt(s)?{}:Wc(new Gc(s))}).then(function(m){return c.a.Fb(h,r,m)}).then(function(m){if(c.email!=m)return c.reload()}).then(function(){}))};function qt(r,s,c){var h=Kx(r,s,c);return r.N.push(h),h.oa(function(){L(r.N,h)}),h.o(function(m){var y=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(y=Jb(m.w(),em(r),V(r.jc,r))),y||m})}e.jc=function(r){var s=null,c=this;return r=hs(Ee(r),c.uid).then(function(h){return s=sa(c,h,"reauthenticate"),Pr(c,h),c.i=null,c.reload()}).then(function(){return s}),qt(this,r,!0)};function Kx(r,s,c){return r.i&&!c?(s.cancel(),yt(r.i)):s.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new ys("userInvalidated")),r.i=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Xt(r,this.metadata.w()),$(this.providerData,function(s){r.providerData.push(mN(s))}),Xt(r,this.S.w()),r};function f_(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[dr]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var m=new Kn(s,c,r);return r.providerData&&$(r.providerData,function(y){y&&om(m,xr(y))}),r.redirectEventId&&(m.ga=r.redirectEventId),m}function Hx(r,s,c,h){var m=new Kn(r,s);return c&&(m.ha=c),h&&ia(m,h),m.reload().then(function(){return m})}function zx(r,s,c,h){var m=r.h,y={};return y[dr]=m.b&&m.b.toString(),y.refreshToken=m.a,s=new Kn(s||{apiKey:r.l,authDomain:r.s,appName:r.m},y),c&&(s.ha=c),h&&ia(s,h),Al(s,r),s}function Gx(r){this.a=r,this.b=ra()}var um={name:"redirectUser",F:"session"};function h_(r){return vs(r.b,um,r.a)}function Wx(r,s){return r.b.get(um,r.a).then(function(c){return c&&s&&(c.authDomain=s),f_(c||{})})}function am(r){this.a=r,this.b=ra(),this.c=null,this.f=Xx(this),this.b.addListener(Dr("local"),this.a,V(this.g,this))}am.prototype.g=function(){var r=this,s=Dr("local");ws(this,function(){return Ee().then(function(){return r.c&&r.c.F!="local"?r.b.get(s,r.a):null}).then(function(c){if(c)return cm(r,"local").then(function(){r.c=s})})})};function cm(r,s){var c=[],h;for(h in ms)ms[h]!==s&&c.push(vs(r.b,Dr(ms[h]),r.a));return c.push(vs(r.b,lm,r.a)),UC(c)}function Xx(r){var s=Dr("local"),c=Dr("session"),h=Dr("none");return lx(r.b,s,r.a).then(function(){return r.b.get(c,r.a)}).then(function(m){return m?c:r.b.get(h,r.a).then(function(y){return y?h:r.b.get(s,r.a).then(function(w){return w?s:r.b.get(lm,r.a).then(function(E){return E?Dr(E):s})})})}).then(function(m){return r.c=m,cm(r,m.F)}).o(function(){r.c||(r.c=s)})}var lm={name:"persistence",F:"session"};function Dr(r){return{name:"authUser",F:r}}am.prototype.yb=function(r){var s=null,c=this;return cx(r),ws(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return s=h,cm(c,r)}).then(function(){if(c.c=Dr(r),s)return c.b.set(c.c,s,c.a)}):Ee()})};function Yx(r){return ws(r,function(){return r.b.set(lm,r.c.F,r.a)})}function d_(r,s){return ws(r,function(){return r.b.set(r.c,s.w(),r.a)})}function p_(r){return ws(r,function(){return vs(r.b,r.c,r.a)})}function m_(r,s,c){return ws(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&s&&(h.authDomain=s),h&&c&&(h.emulatorConfig=c),f_(h||{})})})}function ws(r,s){return r.f=r.f.then(s,s),r.f}function pr(r){if(this.l=!1,me(this,"settings",new Xb),me(this,"app",r),ot(this).options&&ot(this).options.apiKey)r=Se.SDK_VERSION?as(Se.SDK_VERSION):null,this.a=new hr(ot(this).options&&ot(this).options.apiKey,Ge(de),r);else throw new k("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Se.INTERNAL.createSubscribe(V(this.zc,this)),this.W=void 0,this.ib=Se.INTERNAL.createSubscribe(V(this.Ac,this)),bs(this,null),this.i=new am(ot(this).options.apiKey+":"+ot(this).name),this.D=new Gx(ot(this).options.apiKey+":"+ot(this).name),this.$=At(this,nO(this)),this.h=At(this,rO(this)),this.ba=!1,this.ja=V(this.Zc,this),this.Ba=V(this.da,this),this.qa=V(this.mc,this),this.za=V(this.wc,this),this.Aa=V(this.xc,this),this.b=null,Zx(this),this.INTERNAL={},this.INTERNAL.delete=V(this.delete,this),this.INTERNAL.logFramework=V(this.Gc,this),this.u=0,dn.call(this),Jx(this),this.J=[],this.R=null}G(pr,dn);function g_(r){An.call(this,"languageCodeChanged"),this.h=r}G(g_,An);function v_(r){An.call(this,"emulatorConfigChanged"),this.c=r}G(v_,An);function y_(r){An.call(this,"frameworkChanged"),this.f=r}G(y_,An),e=pr.prototype,e.yb=function(r){return r=this.i.yb(r),At(this,r)},e.xa=function(r){this.aa===r||this.l||(this.aa=r,Jw(this.a,this.aa),this.dispatchEvent(new g_(this.la())))},e.la=function(){return this.aa},e.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},e.gd=function(r,s){if(!this.R){if(!/^https?:\/\//.test(r))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,Qx(s),this.R={url:r,ec:s},this.settings.jb=!0,dl(this.a,this.R),this.dispatchEvent(new v_(this.R))}};function Qx(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&Kc().then(function(){var s=f.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),f.document.body.appendChild(s)})}e.Gc=function(r){this.J.push(r),Zw(this.a,Se.SDK_VERSION?as(Se.SDK_VERSION,this.J):null),this.dispatchEvent(new y_(this.J))},e.Ga=function(){return ie(this.J)},e.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},e.T=function(){return this.S};function Jx(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var s=kn(this.R.url);s=xr({protocol:s.c,host:s.a,port:s.g,options:xr({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}e.toJSON=function(){return{apiKey:ot(this).options.apiKey,authDomain:ot(this).options.authDomain,appName:ot(this).name,currentUser:Me(this)&&Me(this).w()}};function fm(r){return r.Oa||yt(new k("auth-domain-config-required"))}function Zx(r){var s=ot(r).options.authDomain,c=ot(r).options.apiKey;s&&io()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Vp(s,c,ot(r).name,r.R),_l(r.b,r),Me(r)&&oa(Me(r)),r.m){oa(r.m);var h=r.m;h.xa(r.la()),Qp(h,r),h=r.m,ia(h,r.J),Zp(h,r),h=r.m,Yp(h,r.R),Jp(h,r),r.m=null}return r.b}}))}e.Gb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},e.na=function(r,s,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==s&&this.f?V(this.ic,this):null},e.ic=function(r,s,c,h){var m=this,y={requestUri:r,postBody:h,sessionId:s,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),m.$.then(function(){return vo(m,pp(m.a,y))})},e.Xc=function(r){if(!io())return yt(new k("operation-not-supported-in-this-environment"));var s=this,c=Bd(r.providerId),h=oo(),m=null;(!Mu()||Sd())&&ot(this).options.authDomain&&r.isOAuthProvider&&(m=Zu(ot(this).options.authDomain,ot(this).options.apiKey,ot(this).name,"signInViaPopup",r,null,h,Se.SDK_VERSION||null,null,null,this.T(),this.R));var y=Q0(m,c&&c.va,c&&c.ua);return c=fm(this).then(function(w){return Bb(w,y,"signInViaPopup",r,h,!!m,s.T())}).then(function(){return new je(function(w,E){s.na("signInViaPopup",null,new k("cancelled-popup-request"),s.g),s.f=w,s.C=E,s.g=h,s.c=Kb(s.b,s,"signInViaPopup",y,h)})}).then(function(w){return y&&ro(y),w?xr(w):null}).o(function(w){throw y&&ro(y),w}),At(this,c)},e.Yc=function(r){if(!io())return yt(new k("operation-not-supported-in-this-environment"));var s=this,c=fm(this).then(function(){return Yx(s.i)}).then(function(){return $b(s.b,"signInViaRedirect",r,void 0,s.T())});return At(this,c)};function w_(r){if(!io())return yt(new k("operation-not-supported-in-this-environment"));var s=fm(r).then(function(){return r.b.ra()}).then(function(c){return c?xr(c):null});return At(r,s)}e.ra=function(){var r=this;return w_(this).then(function(s){return r.b&&Il(r.b.b),s}).o(function(s){throw r.b&&Il(r.b.b),s})},e.dd=function(r){if(!r)return yt(new k("null-user"));if(this.S!=r.tenantId)return yt(new k("tenant-id-mismatch"));var s=this,c={};c.apiKey=ot(this).options.apiKey,c.authDomain=ot(this).options.authDomain,c.appName=ot(this).name;var h=zx(r,c,s.D,s.Ga());return At(this,this.h.then(function(){if(ot(s).options.apiKey!=r.l)return h.reload()}).then(function(){return Me(s)&&r.uid==Me(s).uid?(Al(Me(s),r),s.da(r)):(bs(s,h),oa(h),s.da(h))}).then(function(){ua(s)}))};function eO(r,s){var c={};return c.apiKey=ot(r).options.apiKey,c.authDomain=ot(r).options.authDomain,c.appName=ot(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return Hx(c,s,r.D,r.Ga())}).then(function(h){return Me(r)&&h.uid==Me(r).uid?(Al(Me(r),h),r.da(h)):(bs(r,h),oa(h),r.da(h))}).then(function(){ua(r)})}function bs(r,s){Me(r)&&(qx(Me(r),r.Ba),Bn(Me(r),"tokenChanged",r.qa),Bn(Me(r),"userDeleted",r.za),Bn(Me(r),"userInvalidated",r.Aa),tm(Me(r))),s&&(s.W.push(r.Ba),tr(s,"tokenChanged",r.qa),tr(s,"userDeleted",r.za),tr(s,"userInvalidated",r.Aa),0<r.u&&r_(s)),me(r,"currentUser",s),s&&(s.xa(r.la()),Qp(s,r),ia(s,r.J),Zp(s,r),Yp(s,r.R),Jp(s,r))}e.Bb=function(){var r=this,s=this.h.then(function(){return r.b&&Il(r.b.b),Me(r)?(bs(r,null),p_(r.i).then(function(){ua(r)})):Ee()});return At(this,s)};function tO(r){var s=Wx(r.D,ot(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),h_(r.D)});return At(r,s)}function nO(r){var s=ot(r).options.authDomain,c=tO(r).then(function(){return m_(r.i,s,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return d_(r.i,h).then(function(){return h})}).o(function(m){return m.code=="auth/network-request-failed"?h:p_(r.i)})):null}).then(function(h){bs(r,h||null)});return At(r,c)}function rO(r){return r.$.then(function(){return w_(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var s=r.i;s.b.addListener(Dr("local"),s.a,r.ja)}})}e.Zc=function(){var r=this;return m_(this.i,ot(this).options.authDomain).then(function(s){if(!r.l){var c;if(c=Me(r)&&s){c=Me(r).uid;var h=s.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return Al(Me(r),s),Me(r).I();(Me(r)||s)&&(bs(r,s),s&&(oa(s),s.ha=r.D),r.b&&_l(r.b,r),ua(r))}})},e.da=function(r){return d_(this.i,r)},e.mc=function(){ua(this),this.da(Me(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function vo(r,s){var c=null,h=null;return At(r,s.then(function(m){return c=Wd(m),h=Iw(m),eO(r,m)},function(m){var y=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(y=Jb(m.w(),r,V(r.kc,r))),y||m}).then(function(){return xr({user:Me(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(r){var s=this;return this.h.then(function(){return vo(s,Ee(r))})},e.zc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(Me(s))})},e.Ac=function(r){var s=this;iO(this,function(){r.next(Me(s))})},e.Ic=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(Me(h)):typeof r.next=="function"&&r.next(Me(h))}),this.Pa(r,s,c)},e.Hc=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(Me(h)):typeof r.next=="function"&&r.next(Me(h))}),this.ib(r,s,c)},e.nc=function(r){var s=this,c=this.h.then(function(){return Me(s)?Me(s).I(r).then(function(h){return{accessToken:h}}):null});return At(this,c)},e.Tc=function(r){var s=this;return this.h.then(function(){return vo(s,qe(s.a,UR,{token:r}))}).then(function(c){var h=c.user;return wi(h,"isAnonymous",!1),s.da(h),c})},e.Uc=function(r,s){var c=this;return this.h.then(function(){return vo(c,qe(c.a,ab,{email:r,password:s}))})},e.dc=function(r,s){var c=this;return this.h.then(function(){return vo(c,qe(c.a,mR,{email:r,password:s}))})},e.ab=function(r){var s=this;return this.h.then(function(){return vo(s,r.ka(s.a))})},e.Sc=function(r){return Nd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},e.Ab=function(){var r=this;return this.h.then(function(){var s=Me(r);if(s&&s.isAnonymous){var c=xr({providerId:null,isNewUser:!1});return xr({user:s,credential:null,additionalUserInfo:c,operationType:"signIn"})}return vo(r,r.a.Ab()).then(function(h){var m=h.user;return wi(m,"isAnonymous",!0),r.da(m),h})})};function ot(r){return r.app}function Me(r){return r.currentUser}e.getUid=function(){return Me(this)&&Me(this).uid||null};function Cl(r){return Me(r)&&Me(r)._lat||null}function ua(r){if(r.ba){for(var s=0;s<r.s.length;s++)r.s[s]&&r.s[s](Cl(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),s=0;s<r.N.length;s++)r.N[s]&&r.N[s](Cl(r))}}e.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&Me(this)&&r_(Me(this))},e.Pc=function(r){var s=this;$(this.s,function(c){c==r&&s.u--}),0>this.u&&(this.u=0),this.u==0&&Me(this)&&tm(Me(this)),this.removeAuthTokenListener(r)},e.addAuthTokenListener=function(r){var s=this;this.s.push(r),At(this,this.h.then(function(){s.l||R(s.s,r)&&r(Cl(s))}))},e.removeAuthTokenListener=function(r){j(this.s,function(s){return s==r})};function iO(r,s){r.N.push(s),At(r,r.h.then(function(){!r.l&&R(r.N,s)&&r.W!==r.getUid()&&(r.W=r.getUid(),s(Cl(r)))}))}e.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(Dr("local"),r.a,this.ja)),this.b&&(Fp(this.b,this),Il(this.b.b)),Promise.resolve()};function At(r,s){return r.P.push(s),s.oa(function(){L(r.P,s)}),s}e.hc=function(r){return At(this,sR(this.a,r))},e.Bc=function(r){return!!Gd(r)},e.xb=function(r,s){var c=this;return At(this,Ee().then(function(){var h=new Gc(s);if(!h.c)throw new k("argument-error",Vd+" must be true when sending sign in link to email");return Wc(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},e.jd=function(r){return this.Sa(r).then(function(s){return s.data.email})},e.ob=function(r,s){return At(this,this.a.ob(r,s).then(function(){}))},e.Sa=function(r){return At(this,this.a.Sa(r).then(function(s){return new vN(s)}))},e.kb=function(r){return At(this,this.a.kb(r).then(function(){}))},e.wb=function(r,s){var c=this;return At(this,Ee().then(function(){return typeof s>"u"||vt(s)?{}:Wc(new Gc(s))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},e.Wc=function(r,s){return At(this,Bp(this,r,s,V(this.ab,this)))},e.Vc=function(r,s){var c=this;return At(this,Ee().then(function(){var h=s||Lu(),m=Lw(r,h);if(h=Gd(h),!h)throw new k("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new k("tenant-id-mismatch");return c.ab(m)}))};function aa(){}aa.prototype.render=function(){},aa.prototype.reset=function(){},aa.prototype.getResponse=function(){},aa.prototype.execute=function(){};function _s(){this.a={},this.b=1e12}var hm=null;_s.prototype.render=function(r,s){return this.a[this.b.toString()]=new Nl(r,s),this.b++},_s.prototype.reset=function(r){var s=dm(this,r);r=b_(r),s&&r&&(s.delete(),delete this.a[r])},_s.prototype.getResponse=function(r){return(r=dm(this,r))?r.getResponse():null},_s.prototype.execute=function(r){(r=dm(this,r))&&r.execute()};function dm(r,s){return(s=b_(s))&&r.a[s]||null}function b_(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function Nl(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Cu(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():tr(this.f,"click",this.i)}Nl.prototype.getResponse=function(){return pm(this),this.b},Nl.prototype.execute=function(){pm(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=fN();var s=r.c.callback,c=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},Nl.prototype.delete=function(){pm(this),this.g=!0,clearTimeout(this.a),this.a=null,Bn(this.f,"click",this.i)};function pm(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function mm(){}me(mm,"FACTOR_ID","phone");function gm(){}gm.prototype.g=function(){return hm||(hm=new _s),Ee(hm)},gm.prototype.c=function(){};var vm=null;function ym(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var oO=new Cr(xc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),sO=new gi(3e4,6e4);ym.prototype.g=function(r){var s=this;return new je(function(c,h){var m=setTimeout(function(){h(new k("network-request-failed"))},sO.get());if(!f.grecaptcha||r!==s.f&&!s.b){f[s.a]=function(){if(f.grecaptcha){s.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(E,F){return E=w(E,F),s.b++,E},clearTimeout(m),c(f.grecaptcha)}else clearTimeout(m),h(new k("internal-error"));delete f[s.a]};var y=Zh(oO,{onload:s.a,hl:r||""});Ee(up(y)).o(function(){clearTimeout(m),h(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(m),c(f.grecaptcha)})},ym.prototype.c=function(){this.b--};var wm=null;function bm(r,s,c,h,m,y,w){if(me(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,w?(vm||(vm=new gm),w=vm):(wm||(wm=new ym),w=wm),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[I_])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[uO]==="invisible",!f.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Cu(s)||!this.i&&Cu(s).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new hr(r,y||null,m||null),this.u=h||function(){return null};var E=this;this.l=[];var F=this.a[__];this.a[__]=function(Oe){if(T_(E,Oe),typeof F=="function")F(Oe);else if(typeof F=="string"){var et=wt(F,f);typeof et=="function"&&et(Oe)}};var W=this.a[E_];this.a[E_]=function(){if(T_(E,null),typeof W=="function")W();else if(typeof W=="string"){var Oe=wt(W,f);typeof Oe=="function"&&Oe()}}}var __="callback",E_="expired-callback",I_="sitekey",uO="size";function T_(r,s){for(var c=0;c<r.l.length;c++)try{r.l[c](s)}catch{}}function aO(r,s){j(r.l,function(c){return c==s})}function _m(r,s){return r.h.push(s),s.oa(function(){L(r.h,s)}),s}e=bm.prototype,e.Ia=function(){var r=this;return this.f?this.f:this.f=_m(this,Ee().then(function(){if(Hc()&&!lr())return Kc();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(s){return r.g=s,qe(r.s,NR,{})}).then(function(s){r.a[I_]=s.recaptchaSiteKey}).o(function(s){throw r.f=null,s}))},e.render=function(){Rl(this);var r=this;return _m(this,this.Ia().then(function(){if(r.c===null){var s=r.v;if(!r.i){var c=Cu(s);s=DC("DIV"),c.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},e.verify=function(){Rl(this);var r=this;return _m(this,this.render().then(function(s){return new je(function(c){var h=r.g.getResponse(s);if(h)c(h);else{var m=function(y){y&&(aO(r,m),c(y))};r.l.push(m),r.i&&r.g.execute(r.c)}})}))},e.reset=function(){Rl(this),this.c!==null&&this.g.reset(this.c)};function Rl(r){if(r.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Rl(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=Cu(this.v);for(var s;s=r.firstChild;)r.removeChild(s)}};function Em(r,s,c){var h=!1;try{this.b=c||Se.app()}catch{throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new k("invalid-api-key");var m=this,y=null;try{y=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}y=Se.SDK_VERSION?as(Se.SDK_VERSION,y):null,bm.call(this,c,r,s,function(){try{var w=m.b.auth().la()}catch{w=null}return w},y,Ge(de),h)}G(Em,bm);function S_(r,s,c,h){e:{c=Array.prototype.slice.call(c);for(var m=0,y=!1,w=0;w<s.length;w++)if(s[w].optional)y=!0;else{if(y)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");m++}if(y=s.length,c.length<m||y<c.length)h="Expected "+(m==y?m==1?"1 argument":m+" arguments":m+"-"+y+" arguments")+" but got "+c.length+".";else{for(m=0;m<c.length;m++)if(y=s[m].optional&&c[m]===void 0,!s[m].M(c[m])&&!y){if(s=s[m],0>m||m>=A_.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");c=A_[m],h=(h?"":c+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break e}h=null}}if(h)throw new k("argument-error",r+" failed: "+h)}var A_="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function he(r,s){return{name:r||"",K:"a valid string",optional:!!s,M:function(c){return typeof c=="string"}}}function Im(r,s){return{name:r||"",K:"a boolean",optional:!!s,M:function(c){return typeof c=="boolean"}}}function Pt(r,s){return{name:r||"",K:"a valid object",optional:!!s,M:S}}function Es(r,s){return{name:r||"",K:"a function",optional:!!s,M:function(c){return typeof c=="function"}}}function Lr(r,s){return{name:r||"",K:"null",optional:!!s,M:function(c){return c===null}}}function cO(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function lO(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof pr)}}}function fO(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof Se.app.App)}}}function bi(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var c=!r||s.providerId===r;return!(!s.ka||!c)}}}function k_(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function Is(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function Tm(r,s){return S(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function C_(r){return S(r)&&typeof r.uid=="string"}function xl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function Nt(r,s,c,h){return{name:c||"",K:r.K+" or "+s.K,optional:!!h,M:function(m){return r.M(m)||s.M(m)}}}function Tt(r,s){for(var c in s){var h=s[c].name;r[h]=R_(h,r[c],s[c].j)}}function N_(r,s){for(var c in s){var h=s[c].name;h!==c&&Object.defineProperty(r,h,{get:we(function(m){return this[m]},c),set:we(function(m,y,w,E){S_(m,[w],[E],!0),this[y]=E},h,c,s[c].lb),enumerable:!0})}}function Rt(r,s,c,h){r[s]=R_(s,c,h)}function R_(r,s,c){function h(){var w=Array.prototype.slice.call(arguments);return S_(m,c,w),s.apply(this,w)}if(!c)return s;var m=hO(r),y;for(y in s)h[y]=s[y];for(y in s.prototype)h.prototype[y]=s.prototype[y];return h}function hO(r){return r=r.split("."),r[r.length-1]}Tt(pr.prototype,{kb:{name:"applyActionCode",j:[he("code")]},Sa:{name:"checkActionCode",j:[he("code")]},ob:{name:"confirmPasswordReset",j:[he("code"),he("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[he("email"),he("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[he("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[he("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Nt(Pt(),Es(),"nextOrObserver"),Es("opt_error",!0),Es("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Nt(Pt(),Es(),"nextOrObserver"),Es("opt_error",!0),Es("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[he("email"),Nt(Pt("opt_actionCodeSettings",!0),Lr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[he("email"),Pt("actionCodeSettings")]},yb:{name:"setPersistence",j:[he("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[bi()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[bi()]},Tc:{name:"signInWithCustomToken",j:[he("token")]},Uc:{name:"signInWithEmailAndPassword",j:[he("email"),he("password")]},Vc:{name:"signInWithEmailLink",j:[he("email"),he("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[he("phoneNumber"),xl()]},Xc:{name:"signInWithPopup",j:[Is()]},Yc:{name:"signInWithRedirect",j:[Is()]},dd:{name:"updateCurrentUser",j:[Nt(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(s){return!!(s&&s instanceof Kn)}}}(),Lr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[he(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[he("url"),Pt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[he("code")]}}),N_(pr.prototype,{lc:{name:"languageCode",lb:Nt(he(),Lr(),"languageCode")},ti:{name:"tenantId",lb:Nt(he(),Lr(),"tenantId")}}),pr.Persistence=ms,pr.Persistence.LOCAL="local",pr.Persistence.SESSION="session",pr.Persistence.NONE="none",Tt(Kn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Im("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Im("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[bi()]},rb:{name:"linkWithCredential",j:[bi()]},Dc:{name:"linkWithPhoneNumber",j:[he("phoneNumber"),xl()]},Ec:{name:"linkWithPopup",j:[Is()]},Fc:{name:"linkWithRedirect",j:[Is()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[bi()]},ub:{name:"reauthenticateWithCredential",j:[bi()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[he("phoneNumber"),xl()]},Nc:{name:"reauthenticateWithPopup",j:[Is()]},Oc:{name:"reauthenticateWithRedirect",j:[Is()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Nt(Pt("opt_actionCodeSettings",!0),Lr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[he(null,!0)]},cd:{name:"unlink",j:[he("provider")]},Cb:{name:"updateEmail",j:[he("email")]},Db:{name:"updatePassword",j:[he("password")]},ed:{name:"updatePhoneNumber",j:[bi("phone")]},Eb:{name:"updateProfile",j:[Pt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[he("email"),Nt(Pt("opt_actionCodeSettings",!0),Lr(null,!0),"opt_actionCodeSettings",!0)]}}),Tt(_s.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tt(aa.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tt(je.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),N_(Xb.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Im("appVerificationDisabledForTesting")}}),Tt(qp.prototype,{confirm:{name:"confirm",j:[he("verificationCode")]}}),Rt(fs,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,c=[LN,MN,FN,DN],h=0;h<c.length;h++)if(s=c[h](r))return s;return null},[Nt(he(),Pt(),"json")]),Rt(rr,"credential",function(r,s){return new vi(r,s)},[he("email"),he("password")]),Tt(vi.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Tt(ao.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Pt("customOAuthParameters")]}}),Rt(ao,"credential",xw,[Nt(he(),Pt(),"token")]),Rt(rr,"credentialWithLink",Lw,[he("email"),he("emailLink")]),Tt(co.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Pt("customOAuthParameters")]}}),Rt(co,"credential",Ow,[Nt(he(),Pt(),"token")]),Tt(lo.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Pt("customOAuthParameters")]}}),Rt(lo,"credential",Pw,[Nt(he(),Nt(Pt(),Lr()),"idToken"),Nt(he(),Lr(),"accessToken",!0)]),Tt(ds.prototype,{Ka:{name:"setCustomParameters",j:[Pt("customOAuthParameters")]}}),Rt(ds,"credential",Dw,[Nt(he(),Pt(),"token"),he("secret",!0)]),Tt($n.prototype,{Ca:{name:"addScope",j:[he("scope")]},credential:{name:"credential",j:[Nt(he(),Nt(Pt(),Lr()),"optionsOrIdToken"),Nt(he(),Lr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Pt("customOAuthParameters")]}}),Tt(Wr.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Tt(so.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Rt(Xr,"credential",Mw,[he("verificationId"),he("verificationCode")]),Tt(Xr.prototype,{gb:{name:"verifyPhoneNumber",j:[Nt(he(),function(r,s){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(c){return c?c.session&&c.phoneNumber?Tm(c.session,Bu)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Tm(c.session,Zc)&&C_(c.multiFactorHint):c.session&&c.multiFactorUid?Tm(c.session,Zc)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),xl()]}}),Tt(yi.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Tt(k.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),Tt(Ku.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),Tt(Qd.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),Tt(Kp.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),Tt($p.prototype,{Rc:{name:"resolveSignIn",j:[k_()]}}),Tt(zp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[k_(),he("displayName",!0)]},bd:{name:"unenroll",j:[Nt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:C_},he(),"multiFactorInfoIdentifier")]}}),Tt(Em.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Rt(jd,"parseLink",dw,[he("link")]),Rt(mm,"assertion",function(r){return new e_(r)},[bi("phone")]),function(){if(typeof Se<"u"&&Se.INTERNAL&&Se.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:zc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Ud,VERIFY_AND_CHANGE_EMAIL:Vu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:pr,AuthCredential:fs,Error:k};Rt(r,"EmailAuthProvider",rr,[]),Rt(r,"FacebookAuthProvider",ao,[]),Rt(r,"GithubAuthProvider",co,[]),Rt(r,"GoogleAuthProvider",lo,[]),Rt(r,"TwitterAuthProvider",ds,[]),Rt(r,"OAuthProvider",$n,[he("providerId")]),Rt(r,"SAMLAuthProvider",Rw,[he("providerId")]),Rt(r,"PhoneAuthProvider",Xr,[lO()]),Rt(r,"RecaptchaVerifier",Em,[Nt(he(),cO(),"recaptchaContainer"),Pt("recaptchaParameters",!0),fO()]),Rt(r,"ActionCodeURL",jd,[]),Rt(r,"PhoneMultiFactorGenerator",mm,[]),Se.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new pr(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),Se.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:V(s.getUid,s),getToken:V(s.nc,s),addAuthTokenListener:V(s.cc,s),removeAuthTokenListener:V(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Se.registerVersion("@firebase/auth","0.16.8"),Se.INTERNAL.extendNamespace({User:Kn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vg=function(e,t){return vg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},vg(e,t)};function BL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");vg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function PS(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var $L=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce,kv=kv||{},Pe=$L||self;function wf(){}function yg(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function cc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function KL(e){return Object.prototype.hasOwnProperty.call(e,Pm)&&e[Pm]||(e[Pm]=++HL)}var Pm="closure_uid_"+(1e9*Math.random()>>>0),HL=0;function zL(e,t,n){return e.call.apply(e.bind,arguments)}function GL(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function tn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?tn=zL:tn=GL,tn.apply(null,arguments)}function jl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function rn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,o,u){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[o].apply(i,a)}}function Hi(){this.s=this.s,this.o=this.o}var WL=0;Hi.prototype.s=!1;Hi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),WL!=0)&&KL(this)};Hi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var DS=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},LS=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=typeof e=="string"?e.split(""):e,u=0;u<i;u++)u in o&&t.call(n,o[u],u,e)};function XL(e){e:{for(var t=VM,n=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function pE(e){return Array.prototype.concat.apply([],arguments)}function Cv(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function bf(e){return/^[\s\xa0]*$/.test(e)}var mE=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function bn(e,t){return e.indexOf(t)!=-1}function Dm(e,t){return e<t?-1:e>t?1:0}var _n;e:{var gE=Pe.navigator;if(gE){var vE=gE.userAgent;if(vE){_n=vE;break e}}_n=""}function Nv(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function MS(e){var t={};for(var n in e)t[n]=e[n];return t}var yE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function FS(e,t){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(var u=0;u<yE.length;u++)n=yE[u],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Rv(e){return Rv[" "](e),e}Rv[" "]=wf;function YL(e){var t=ZL;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var QL=bn(_n,"Opera"),Xs=bn(_n,"Trident")||bn(_n,"MSIE"),US=bn(_n,"Edge"),wg=US||Xs,jS=bn(_n,"Gecko")&&!(bn(_n.toLowerCase(),"webkit")&&!bn(_n,"Edge"))&&!(bn(_n,"Trident")||bn(_n,"MSIE"))&&!bn(_n,"Edge"),JL=bn(_n.toLowerCase(),"webkit")&&!bn(_n,"Edge");function VS(){var e=Pe.document;return e?e.documentMode:void 0}var _f;e:{var Lm="",Mm=function(){var e=_n;if(jS)return/rv:([^\);]+)(\)|;)/.exec(e);if(US)return/Edge\/([\d\.]+)/.exec(e);if(Xs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(JL)return/WebKit\/(\S+)/.exec(e);if(QL)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Mm&&(Lm=Mm?Mm[1]:""),Xs){var Fm=VS();if(Fm!=null&&Fm>parseFloat(Lm)){_f=String(Fm);break e}}_f=Lm}var ZL={};function eM(){return YL(function(){for(var e=0,t=mE(String(_f)).split("."),n=mE("9").split("."),i=Math.max(t.length,n.length),o=0;e==0&&o<i;o++){var u=t[o]||"",a=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u[0].length==0&&a[0].length==0)break;e=Dm(u[1].length==0?0:parseInt(u[1],10),a[1].length==0?0:parseInt(a[1],10))||Dm(u[2].length==0,a[2].length==0)||Dm(u[2],a[2]),u=u[3],a=a[3]}while(e==0)}return 0<=e})}var bg;if(Pe.document&&Xs){var wE=VS();bg=wE||parseInt(_f,10)||void 0}else bg=void 0;var tM=bg,nM=function(){if(!Pe.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Pe.addEventListener("test",wf,t),Pe.removeEventListener("test",wf,t)}catch{}return e}();function ln(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};function Ba(e,t){if(ln.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(jS){e:{try{Rv(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:rM[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ba.Z.h.call(this)}}rn(Ba,ln);var rM={2:"touch",3:"pen",4:"mouse"};Ba.prototype.h=function(){Ba.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var lc="closure_listenable_"+(1e6*Math.random()|0),iM=0;function oM(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=o,this.key=++iM,this.ca=this.fa=!1}function dh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ph(e){this.src=e,this.g={},this.h=0}ph.prototype.add=function(e,t,n,i,o){var u=e.toString();e=this.g[u],e||(e=this.g[u]=[],this.h++);var a=Eg(e,t,i,o);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new oM(t,this.src,u,!!i,o),t.fa=n,e.push(t)),t};function _g(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=DS(i,t),u;(u=0<=o)&&Array.prototype.splice.call(i,o,1),u&&(dh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Eg(e,t,n,i){for(var o=0;o<e.length;++o){var u=e[o];if(!u.ca&&u.listener==t&&u.capture==!!n&&u.ia==i)return o}return-1}var xv="closure_lm_"+(1e6*Math.random()|0),Um={};function qS(e,t,n,i,o){if(i&&i.once)return $S(e,t,n,i,o);if(Array.isArray(t)){for(var u=0;u<t.length;u++)qS(e,t[u],n,i,o);return null}return n=Dv(n),e&&e[lc]?e.N(t,n,cc(i)?!!i.capture:!!i,o):BS(e,t,n,!1,i,o)}function BS(e,t,n,i,o,u){if(!t)throw Error("Invalid event type");var a=cc(o)?!!o.capture:!!o,l=Pv(e);if(l||(e[xv]=l=new ph(e)),n=l.add(t,n,i,a,u),n.proxy)return n;if(i=sM(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)nM||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(HS(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function sM(){function e(n){return t.call(e.src,e.listener,n)}var t=uM;return e}function $S(e,t,n,i,o){if(Array.isArray(t)){for(var u=0;u<t.length;u++)$S(e,t[u],n,i,o);return null}return n=Dv(n),e&&e[lc]?e.O(t,n,cc(i)?!!i.capture:!!i,o):BS(e,t,n,!0,i,o)}function KS(e,t,n,i,o){if(Array.isArray(t))for(var u=0;u<t.length;u++)KS(e,t[u],n,i,o);else i=cc(i)?!!i.capture:!!i,n=Dv(n),e&&e[lc]?(e=e.i,t=String(t).toString(),t in e.g&&(u=e.g[t],n=Eg(u,n,i,o),-1<n&&(dh(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete e.g[t],e.h--)))):e&&(e=Pv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Eg(t,n,i,o)),(n=-1<e?t[e]:null)&&Ov(n))}function Ov(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[lc])_g(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(HS(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Pv(t))?(_g(n,e),n.h==0&&(n.src=null,t[xv]=null)):dh(e)}}}function HS(e){return e in Um?Um[e]:Um[e]="on"+e}function uM(e,t){if(e.ca)e=!0;else{t=new Ba(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&Ov(e),e=n.call(i,t)}return e}function Pv(e){return e=e[xv],e instanceof ph?e:null}var jm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dv(e){return typeof e=="function"?e:(e[jm]||(e[jm]=function(t){return e.handleEvent(t)}),e[jm])}function Wt(){Hi.call(this),this.i=new ph(this),this.P=this,this.I=null}rn(Wt,Hi);Wt.prototype[lc]=!0;Wt.prototype.removeEventListener=function(e,t,n,i){KS(this,e,t,n,i)};function nn(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new ln(t,e);else if(t instanceof ln)t.target=t.target||e;else{var o=t;t=new ln(i,e),FS(t,o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var a=t.g=n[u];o=Vl(a,i,!0,t)&&o}if(a=t.g=e,o=Vl(a,i,!0,t)&&o,o=Vl(a,i,!1,t)&&o,n)for(u=0;u<n.length;u++)a=t.g=n[u],o=Vl(a,i,!1,t)&&o}Wt.prototype.M=function(){if(Wt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)dh(n[i]);delete e.g[t],e.h--}}this.I=null};Wt.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};Wt.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Vl(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,u=0;u<t.length;++u){var a=t[u];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&_g(e.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Lv=Pe.JSON.stringify;function aM(){var e=GS,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var cM=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=zS.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),zS=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new lM},function(e){return e.reset()}),lM=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function fM(e){Pe.setTimeout(function(){throw e},0)}function Mv(e,t){Ig||hM(),Tg||(Ig(),Tg=!0),GS.add(e,t)}var Ig;function hM(){var e=Pe.Promise.resolve(void 0);Ig=function(){e.then(dM)}}var Tg=!1,GS=new cM;function dM(){for(var e;e=aM();){try{e.h.call(e.g)}catch(n){fM(n)}var t=zS;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Tg=!1}function mh(e,t){Wt.call(this),this.h=e||1,this.g=t||Pe,this.j=tn(this.kb,this),this.l=Date.now()}rn(mh,Wt);ce=mh.prototype;ce.da=!1;ce.S=null;ce.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),nn(this,"tick"),this.da&&(Fv(this),this.start()))}};ce.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Fv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}ce.M=function(){mh.Z.M.call(this),Fv(this),delete this.g};function Uv(e,t,n){if(typeof e=="function")n&&(e=tn(e,n));else if(e&&typeof e.handleEvent=="function")e=tn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Pe.setTimeout(e,t||0)}function WS(e){e.g=Uv(function(){e.g=null,e.i&&(e.i=!1,WS(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var pM=function(e){BL(t,e);function t(n,i){var o=e.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:WS(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Hi);function $a(e){Hi.call(this),this.h=e,this.g={}}rn($a,Hi);var bE=[];function XS(e,t,n,i){Array.isArray(n)||(n&&(bE[0]=n.toString()),n=bE);for(var o=0;o<n.length;o++){var u=qS(t,n[o],i||e.handleEvent,!1,e.h||e);if(!u)break;e.g[u.key]=u}}function YS(e){Nv(e.g,function(t,n){this.g.hasOwnProperty(n)&&Ov(t)},e),e.g={}}$a.prototype.M=function(){$a.Z.M.call(this),YS(this)};$a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function gh(){this.g=!0}gh.prototype.Aa=function(){this.g=!1};function mM(e,t,n,i,o,u){e.info(function(){if(e.g)if(u)for(var a="",l=u.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var p=d[0];d=d[1];var g=p.split("_");a=2<=g.length&&g[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=u;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function gM(e,t,n,i,o,u,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+u+" "+a})}function Ds(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+yM(e,n)+(i?" "+i:"")})}function vM(e,t){e.info(function(){return"TIMEOUT: "+t})}gh.prototype.info=function(){};function yM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Lv(n)}catch{return t}}var Go={},_E=null;function vh(){return _E=_E||new Wt}Go.Ma="serverreachability";function QS(e){ln.call(this,Go.Ma,e)}rn(QS,ln);function Ka(e){var t=vh();nn(t,new QS(t))}Go.STAT_EVENT="statevent";function JS(e,t){ln.call(this,Go.STAT_EVENT,e),this.stat=t}rn(JS,ln);function En(e){var t=vh();nn(t,new JS(t,e))}Go.Na="timingevent";function ZS(e,t){ln.call(this,Go.Na,e),this.size=t}rn(ZS,ln);function fc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Pe.setTimeout(function(){e()},t)}var yh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},e1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jv(){}jv.prototype.h=null;function EE(e){return e.h||(e.h=e.i())}function t1(){}var hc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Vv(){ln.call(this,"d")}rn(Vv,ln);function qv(){ln.call(this,"c")}rn(qv,ln);var Sg;function wh(){}rn(wh,jv);wh.prototype.g=function(){return new XMLHttpRequest};wh.prototype.i=function(){return{}};Sg=new wh;function dc(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new $a(this),this.P=wM,e=wg?125:void 0,this.W=new mh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new n1}function n1(){this.i=null,this.g="",this.h=!1}var wM=45e3,Ag={},Ef={};ce=dc.prototype;ce.setTimeout=function(e){this.P=e};function kg(e,t,n){e.K=1,e.v=_h(ci(t)),e.s=n,e.U=!0,r1(e,null)}function r1(e,t){e.F=Date.now(),pc(e),e.A=ci(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),l1(n.h,"t",i),e.C=0,n=e.l.H,e.h=new n1,e.g=R1(e.l,n?t:null,!e.s),0<e.O&&(e.L=new pM(tn(e.Ia,e,e.g),e.O)),XS(e.V,e.g,"readystatechange",e.gb),t=e.H?MS(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ka(),mM(e.j,e.u,e.A,e.m,e.X,e.s)}ce.gb=function(e){e=e.target;var t=this.L;t&&ti(e)==3?t.l():this.Ia(e)};ce.Ia=function(e){try{if(e==this.g)e:{var t=ti(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||wg||this.g&&(this.h.h||this.g.ga()||AE(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?Ka(3):Ka(2)),bh(this);var o=this.g.ba();this.N=o;t:if(i1(this)){var u=AE(this.g);e="";var a=u.length,l=ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ko(this),Ta(this);var f="";break t}this.h.i=new Pe.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(u[n],{stream:l&&n==a-1});u.splice(0,a),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,gM(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bf(d)){var g=d;break t}}g=null}if(o=g)Ds(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Cg(this,o);else{this.i=!1,this.o=3,En(12),ko(this),Ta(this);break e}}this.U?(o1(this,t,f),wg&&this.i&&t==3&&(XS(this.V,this.W,"tick",this.fb),this.W.start())):(Ds(this.j,this.m,f,null),Cg(this,f)),t==4&&ko(this),this.i&&!this.I&&(t==4?A1(this.l,this):(this.i=!1,pc(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,En(12)):(this.o=0,En(13)),ko(this),Ta(this)}}}catch{}finally{}};function i1(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function o1(e,t,n){for(var i=!0,o;!e.I&&e.C<n.length;)if(o=bM(e,n),o==Ef){t==4&&(e.o=4,En(14),i=!1),Ds(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Ag){e.o=4,En(15),Ds(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Ds(e.j,e.m,o,null),Cg(e,o);i1(e)&&o!=Ef&&o!=Ag&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,En(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yv(t),t.L=!0,En(11))):(Ds(e.j,e.m,n,"[Invalid Chunked Response]"),ko(e),Ta(e))}ce.fb=function(){if(this.g){var e=ti(this.g),t=this.g.ga();this.C<t.length&&(bh(this),o1(this,e,t),this.i&&e!=4&&pc(this))}};function bM(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Ef:(n=Number(t.substring(n,i)),isNaN(n)?Ag:(i+=1,i+n>t.length?Ef:(t=t.substr(i,n),e.C=i+n,t)))}ce.cancel=function(){this.I=!0,ko(this)};function pc(e){e.Y=Date.now()+e.P,s1(e,e.P)}function s1(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=fc(tn(e.eb,e),t)}function bh(e){e.B&&(Pe.clearTimeout(e.B),e.B=null)}ce.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(vM(this.j,this.A),this.K!=2&&(Ka(),En(17)),ko(this),this.o=2,Ta(this)):s1(this,this.Y-e)};function Ta(e){e.l.G==0||e.I||A1(e.l,e)}function ko(e){bh(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Fv(e.W),YS(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Cg(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Ng(n.i,e))){if(n.I=e.N,!e.J&&Ng(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Af(n),Th(n);else break e;Xv(n),En(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=fc(tn(n.ab,n),6e3));if(1>=d1(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Co(n,11)}else if((e.J||n.g==e)&&Af(n),!bf(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var u=o[t];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];var a=u[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=u[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=e.g;if(d){var p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var g=i.i;!g.g&&(bn(p,"spdy")||bn(p,"quic")||bn(p,"h2"))&&(g.j=g.l,g.g=new Set,g.h&&(Kv(g,g.h),g.h=null))}if(i.D){var v=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(i.sa=v,_t(i.F,i.D,v))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var b=e;if(i.oa=N1(i,i.H?i.la:null,i.W),b.J){p1(i.i,b);var _=b,T=i.K;T&&_.setTimeout(T),_.B&&(bh(_),pc(_)),i.g=b}else T1(i);0<n.l.length&&Sh(n)}else u[0]!="stop"&&u[0]!="close"||Co(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Co(n,7):Wv(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Ka(4)}catch{}}function _M(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(yg(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function Bv(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(yg(e)||typeof e=="string")LS(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(yg(e)||typeof e=="string"){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=_M(e),o=i.length;for(var u=0;u<o;u++)t.call(void 0,i[u],n&&n[u],e)}}function yu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof yu)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}ce=yu.prototype;ce.R=function(){$v(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};ce.T=function(){return $v(this),this.g.concat()};function $v(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Vo(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)i=e.g[t],Vo(o,i)||(e.g[n++]=i,o[i]=1),t++;e.g.length=n}}ce.get=function(e,t){return Vo(this.h,e)?this.h[e]:t};ce.set=function(e,t){Vo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};ce.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],u=this.get(o);e.call(t,u,o,this)}};function Vo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var u1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function EM(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var u=e[n].substring(0,i);o=e[n].substring(i+1)}else u=e[n];t(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function qo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof qo){this.g=t!==void 0?t:e.g,If(this,e.j),this.s=e.s,Tf(this,e.i),Sf(this,e.m),this.l=e.l,t=e.h;var n=new Ha;n.i=t.i,t.g&&(n.g=new yu(t.g),n.h=t.h),IE(this,n),this.o=e.o}else e&&(n=String(e).match(u1))?(this.g=!!t,If(this,n[1]||"",!0),this.s=Sa(n[2]||""),Tf(this,n[3]||"",!0),Sf(this,n[4]),this.l=Sa(n[5]||"",!0),IE(this,n[6]||"",!0),this.o=Sa(n[7]||"")):(this.g=!!t,this.h=new Ha(null,this.g))}qo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ya(t,TE,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ya(t,TE,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(ya(n,n.charAt(0)=="/"?kM:AM,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ya(n,NM)),e.join("")};function ci(e){return new qo(e)}function If(e,t,n){e.j=n?Sa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Tf(e,t,n){e.i=n?Sa(t,!0):t}function Sf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function IE(e,t,n){t instanceof Ha?(e.h=t,RM(e.h,e.g)):(n||(t=ya(t,CM)),e.h=new Ha(t,e.g))}function _t(e,t,n){e.h.set(t,n)}function _h(e){return _t(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function IM(e){return e instanceof qo?ci(e):new qo(e,void 0)}function TM(e,t,n,i){var o=new qo(null,void 0);return e&&If(o,e),t&&Tf(o,t),n&&Sf(o,n),i&&(o.l=i),o}function Sa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ya(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,SM),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function SM(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var TE=/[#\/\?@]/g,AM=/[#\?:]/g,kM=/[#\?]/g,CM=/[#\?@]/g,NM=/#/g;function Ha(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function zi(e){e.g||(e.g=new yu,e.h=0,e.i&&EM(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ce=Ha.prototype;ce.add=function(e,t){zi(this),this.i=null,e=wu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function a1(e,t){zi(e),t=wu(e,t),Vo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Vo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&$v(e)))}function c1(e,t){return zi(e),t=wu(e,t),Vo(e.g.h,t)}ce.forEach=function(e,t){zi(this),this.g.forEach(function(n,i){LS(n,function(o){e.call(t,o,i,this)},this)},this)};ce.T=function(){zi(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var o=e[i],u=0;u<o.length;u++)n.push(t[i]);return n};ce.R=function(e){zi(this);var t=[];if(typeof e=="string")c1(this,e)&&(t=pE(t,this.g.get(wu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=pE(t,e[n])}return t};ce.set=function(e,t){return zi(this),this.i=null,e=wu(this,e),c1(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ce.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function l1(e,t,n){a1(e,t),0<n.length&&(e.i=null,e.g.set(wu(e,t),Cv(n)),e.h+=n.length)}ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],o=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var a=o;i[u]!==""&&(a+="="+encodeURIComponent(String(i[u]))),e.push(a)}}return this.i=e.join("&")};function wu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function RM(e,t){t&&!e.j&&(zi(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(a1(this,i),l1(this,o,n))},e)),e.j=t}var xM=function(){function e(t,n){this.h=t,this.g=n}return e}();function f1(e){this.l=e||OM,Pe.PerformanceNavigationTiming?(e=Pe.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Pe.g&&Pe.g.Ea&&Pe.g.Ea()&&Pe.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var OM=10;function h1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function d1(e){return e.h?1:e.g?e.g.size:0}function Ng(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Kv(e,t){e.g?e.g.add(t):e.h=t}function p1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}f1.prototype.cancel=function(){var e,t;if(this.i=m1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=PS(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function m1(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var o=PS(e.g.values()),u=o.next();!u.done;u=o.next()){var a=u.value;i=i.concat(a.D)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return Cv(e.i)}function Hv(){}Hv.prototype.stringify=function(e){return Pe.JSON.stringify(e,void 0)};Hv.prototype.parse=function(e){return Pe.JSON.parse(e,void 0)};function PM(){this.g=new Hv}function DM(e,t,n){var i=n||"";try{Bv(e,function(o,u){var a=o;cc(o)&&(a=Lv(o)),t.push(i+u+"="+encodeURIComponent(a))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function LM(e,t){var n=new gh;if(Pe.Image){var i=new Image;i.onload=jl(ql,n,i,"TestLoadImage: loaded",!0,t),i.onerror=jl(ql,n,i,"TestLoadImage: error",!1,t),i.onabort=jl(ql,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=jl(ql,n,i,"TestLoadImage: timeout",!1,t),Pe.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function ql(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function mc(e){this.l=e.$b||null,this.j=e.ib||!1}rn(mc,jv);mc.prototype.g=function(){return new Eh(this.l,this.j)};mc.prototype.i=function(e){return function(){return e}}({});function Eh(e,t){Wt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=zv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rn(Eh,Wt);var zv=0;ce=Eh.prototype;ce.open=function(e,t){if(this.readyState!=zv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,za(this)};ce.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Pe).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gc(this)),this.readyState=zv};ce.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,za(this)),this.g&&(this.readyState=3,za(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Pe.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;g1(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function g1(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}ce.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?gc(this):za(this),this.readyState==3&&g1(this)}};ce.Ua=function(e){this.g&&(this.response=this.responseText=e,gc(this))};ce.Ta=function(e){this.g&&(this.response=e,gc(this))};ce.ha=function(){this.g&&gc(this)};function gc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,za(e)}ce.setRequestHeader=function(e,t){this.v.append(e,t)};ce.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ce.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function za(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var MM=Pe.JSON.parse;function Ut(e){Wt.call(this),this.headers=new yu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=v1,this.K=this.L=!1}rn(Ut,Wt);var v1="",FM=/^https?$/i,UM=["POST","PUT"];ce=Ut.prototype;ce.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Sg.g(),this.C=this.u?EE(this.u):EE(Sg),this.g.onreadystatechange=tn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){SE(this,u);return}e=n||"";var o=new yu(this.headers);i&&Bv(i,function(u,a){o.set(a,u)}),i=XL(o.T()),n=Pe.FormData&&e instanceof Pe.FormData,!(0<=DS(UM,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,a){this.g.setRequestHeader(a,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{b1(this),0<this.B&&((this.K=jM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tn(this.pa,this)):this.A=Uv(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){SE(this,u)}};function jM(e){return Xs&&eM()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function VM(e){return e.toLowerCase()=="content-type"}ce.pa=function(){typeof kv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nn(this,"timeout"),this.abort(8))};function SE(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,y1(e),Ih(e)}function y1(e){e.D||(e.D=!0,nn(e,"complete"),nn(e,"error"))}ce.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,nn(this,"complete"),nn(this,"abort"),Ih(this))};ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ih(this,!0)),Ut.Z.M.call(this)};ce.Fa=function(){this.s||(this.F||this.v||this.l?w1(this):this.cb())};ce.cb=function(){w1(this)};function w1(e){if(e.h&&typeof kv<"u"&&(!e.C[1]||ti(e)!=4||e.ba()!=2)){if(e.v&&ti(e)==4)Uv(e.Fa,0,e);else if(nn(e,"readystatechange"),ti(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var o;if(o=t===0){var u=String(e.H).match(u1)[1]||null;if(!u&&Pe.self&&Pe.self.location){var a=Pe.self.location.protocol;u=a.substr(0,a.length-1)}o=!FM.test(u?u.toLowerCase():"")}i=o}if(i)nn(e,"complete"),nn(e,"success");else{e.m=6;try{var l=2<ti(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",y1(e)}}finally{Ih(e)}}}}function Ih(e,t){if(e.g){b1(e);var n=e.g,i=e.C[0]?wf:null;e.g=null,e.C=null,t||nn(e,"ready");try{n.onreadystatechange=i}catch{}}}function b1(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Pe.clearTimeout(e.A),e.A=null)}function ti(e){return e.g?e.g.readyState:0}ce.ba=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}};ce.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ce.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),MM(t)}};function AE(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case v1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ce.Da=function(){return this.m};ce.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function qM(e){var t="";return Nv(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Gv(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=qM(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):_t(e,t,n))}function fa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function _1(e){this.za=0,this.l=[],this.h=new gh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fa("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fa("baseRetryDelayMs",5e3,e),this.$a=fa("retryDelaySeedMs",1e4,e),this.Ya=fa("forwardChannelMaxRetries",2,e),this.ra=fa("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new f1(e&&e.concurrentRequestLimit),this.Ca=new PM,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}ce=_1.prototype;ce.ma=8;ce.G=1;function Wv(e){if(E1(e),e.G==3){var t=e.V++,n=ci(e.F);_t(n,"SID",e.J),_t(n,"RID",t),_t(n,"TYPE","terminate"),vc(e,n),t=new dc(e,e.h,t,void 0),t.K=2,t.v=_h(ci(n)),n=!1,Pe.navigator&&Pe.navigator.sendBeacon&&(n=Pe.navigator.sendBeacon(t.v.toString(),"")),!n&&Pe.Image&&(new Image().src=t.v,n=!0),n||(t.g=R1(t.l,null),t.g.ea(t.v)),t.F=Date.now(),pc(t)}C1(e)}ce.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Th(e){e.g&&(Yv(e),e.g.cancel(),e.g=null)}function E1(e){Th(e),e.u&&(Pe.clearTimeout(e.u),e.u=null),Af(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Pe.clearTimeout(e.m),e.m=null)}function Vm(e,t){e.l.push(new xM(e.Za++,t)),e.G==3&&Sh(e)}function Sh(e){h1(e.i)||e.m||(e.m=!0,Mv(e.Ha,e),e.C=0)}function BM(e,t){return d1(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=fc(tn(e.Ha,e,t),k1(e,e.C)),e.C++,!0)}ce.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new dc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=MS(n),FS(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){t:{var u=this.l[o];if("__data__"in u.g&&(u=u.g.__data__,typeof u=="string")){u=u.length;break t}u=void 0}if(u===void 0)break;if(i+=u,4096<i){i=o;break e}if(i===4096||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=I1(this,t,i),o=ci(this.F),_t(o,"RID",e),_t(o,"CVER",22),this.D&&_t(o,"X-HTTP-Session-Id",this.D),vc(this,o),this.o&&n&&Gv(o,this.o,n),Kv(this.i,t),this.Ra&&_t(o,"TYPE","init"),this.ja?(_t(o,"$req",i),_t(o,"SID","null"),t.$=!0,kg(t,o,null)):kg(t,o,i),this.G=2}}else this.G==3&&(e?kE(this,e):this.l.length==0||h1(this.i)||kE(this))};function kE(e,t){var n;t?n=t.m:n=e.V++;var i=ci(e.F);_t(i,"SID",e.J),_t(i,"RID",n),_t(i,"AID",e.U),vc(e,i),e.o&&e.s&&Gv(i,e.o,e.s),n=new dc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=I1(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Kv(e.i,n),kg(n,i,t)}function vc(e,t){e.j&&Bv({},function(n,i){_t(t,i,n)})}function I1(e,t,n){n=Math.min(e.l.length,n);var i=e.j?tn(e.j.Oa,e.j,e):null;e:for(var o=e.l,u=-1;;){var a=["count="+n];u==-1?0<n?(u=o[0].h,a.push("ofs="+u)):u=0:a.push("ofs="+u);for(var l=!0,f=0;f<n;f++){var d=o[f].h,p=o[f].g;if(d-=u,0>d)u=Math.max(0,o[f].h-100),l=!1;else try{DM(p,a,"req"+d+"_")}catch{i&&i(p)}}if(l){i=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,i}function T1(e){e.g||e.u||(e.Y=1,Mv(e.Ga,e),e.A=0)}function Xv(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=fc(tn(e.Ga,e),k1(e,e.A)),e.A++,!0)}ce.Ga=function(){if(this.u=null,S1(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=fc(tn(this.bb,this),e)}};ce.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,En(10),Th(this),S1(this))};function Yv(e){e.B!=null&&(Pe.clearTimeout(e.B),e.B=null)}function S1(e){e.g=new dc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=ci(e.oa);_t(t,"RID","rpc"),_t(t,"SID",e.J),_t(t,"CI",e.N?"0":"1"),_t(t,"AID",e.U),vc(e,t),_t(t,"TYPE","xmlhttp"),e.o&&e.s&&Gv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=_h(ci(t)),n.s=null,n.U=!0,r1(n,e)}ce.ab=function(){this.v!=null&&(this.v=null,Th(this),Xv(this),En(19))};function Af(e){e.v!=null&&(Pe.clearTimeout(e.v),e.v=null)}function A1(e,t){var n=null;if(e.g==t){Af(e),Yv(e),e.g=null;var i=2}else if(Ng(e.i,t))n=t.D,p1(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;i=vh(),nn(i,new ZS(i,n)),Sh(e)}else T1(e);else if(o=t.o,o==3||o==0&&0<e.I||!(i==1&&BM(e,t)||i==2&&Xv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Co(e,5);break;case 4:Co(e,10);break;case 3:Co(e,6);break;default:Co(e,2)}}}function k1(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Co(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=tn(e.jb,e);n||(n=new qo("//www.google.com/images/cleardot.gif"),Pe.location&&Pe.location.protocol=="http"||If(n,"https"),_h(n)),LM(n.toString(),i)}else En(2);e.G=0,e.j&&e.j.va(t),C1(e),E1(e)}ce.jb=function(e){e?(this.h.info("Successfully pinged google.com"),En(2)):(this.h.info("Failed to ping google.com"),En(1))};function C1(e){e.G=0,e.I=-1,e.j&&((m1(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Cv(e.l),e.l.length=0),e.j.ua())}function N1(e,t,n){var i=IM(n);if(i.i!="")t&&Tf(i,t+"."+i.i),Sf(i,i.m);else{var o=Pe.location;i=TM(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Nv(e.aa,function(u,a){_t(i,a,u)}),t=e.D,n=e.sa,t&&n&&_t(i,t,n),_t(i,"VER",e.ma),vc(e,i),i}function R1(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Ut(new mc({ib:!0})):new Ut(e.qa),t.L=e.H,t}function x1(){}ce=x1.prototype;ce.xa=function(){};ce.wa=function(){};ce.va=function(){};ce.ua=function(){};ce.Oa=function(){};function kf(){if(Xs&&!(10<=Number(tM)))throw Error("Environmental error: no available transport.")}kf.prototype.g=function(e,t){return new er(e,t)};function er(e,t){Wt.call(this),this.g=new _1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!bf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!bf(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new bu(this)}rn(er,Wt);er.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Mv(tn(e.hb,e,t))),En(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=N1(e,null,e.W),Sh(e)};er.prototype.close=function(){Wv(this.g)};er.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Vm(this.g,t)}else this.v?(t={},t.__data__=Lv(e),Vm(this.g,t)):Vm(this.g,e)};er.prototype.M=function(){this.g.j=null,delete this.j,Wv(this.g),delete this.g,er.Z.M.call(this)};function O1(e){Vv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}rn(O1,Vv);function P1(){qv.call(this),this.status=1}rn(P1,qv);function bu(e){this.g=e}rn(bu,x1);bu.prototype.xa=function(){nn(this.g,"a")};bu.prototype.wa=function(e){nn(this.g,new O1(e))};bu.prototype.va=function(e){nn(this.g,new P1)};bu.prototype.ua=function(){nn(this.g,"b")};kf.prototype.createWebChannel=kf.prototype.g;er.prototype.send=er.prototype.u;er.prototype.open=er.prototype.m;er.prototype.close=er.prototype.close;yh.NO_ERROR=0;yh.TIMEOUT=8;yh.HTTP_ERROR=6;e1.COMPLETE="complete";t1.EventType=hc;hc.OPEN="a";hc.CLOSE="b";hc.ERROR="c";hc.MESSAGE="d";Wt.prototype.listen=Wt.prototype.N;Ut.prototype.listenOnce=Ut.prototype.O;Ut.prototype.getLastError=Ut.prototype.La;Ut.prototype.getLastErrorCode=Ut.prototype.Da;Ut.prototype.getStatus=Ut.prototype.ba;Ut.prototype.getResponseJson=Ut.prototype.Qa;Ut.prototype.getResponseText=Ut.prototype.ga;Ut.prototype.send=Ut.prototype.ea;var $M=function(){return new kf},KM=function(){return vh()},qm=yh,HM=e1,zM=Go,CE={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},GM=mc,Bl=t1,WM=Ut;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Yn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=function(e){function t(n,i){var o=this;return(o=e.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Ie(t,e),t}(Error),Er=new NS("@firebase/firestore");function Rg(){return Er.logLevel}function ne(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Er.logLevel<=Qe.DEBUG){var i=t.map(Qv);Er.debug.apply(Er,bt(["Firestore (8.10.1): "+e],i))}}function Mt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Er.logLevel<=Qe.ERROR){var i=t.map(Qv);Er.error.apply(Er,bt(["Firestore (8.10.1): "+e],i))}}function Cf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Er.logLevel<=Qe.WARN){var i=t.map(Qv);Er.warn.apply(Er,bt(["Firestore (8.10.1): "+e],i))}}function Qv(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Mt(t),new Error(t)}function Re(e,t){e||ye()}function se(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D1=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var o=XM(40),u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=t.charAt(o[u]%t.length));return i},e}();function Be(e,t){return e<t?-1:e>t?1:0}function Ys(e,t,n){return e.length===t.length&&e.every(function(i,o){return n(i,t[o])})}function L1(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Y(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Y(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Y(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Be(this.nanoseconds,t.nanoseconds):Be(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ue=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Dn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function M1(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F1=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&ye(),i===void 0?i=t.length-n:i>t.length-n&&ye(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var u=t.get(o),a=n.get(o);if(u<a)return-1;if(u>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Je=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],u=0,a=n;u<a.length;u++){var l=a[u];if(l.indexOf("//")>=0)throw new Y(P.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(F1),YM=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ar=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.isValidIdentifier=function(n){return YM.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],o="",u=0,a=function(){if(o.length===0)throw new Y(P.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;u<n.length;){var f=n[u];if(f==="\\"){if(u+1===n.length)throw new Y(P.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[u+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Y(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,u+=2}else f==="`"?(l=!l,u++):f!=="."||l?(o+=f,u++):(a(),u++)}if(a(),l)throw new Y(P.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(F1),Qs=function(){function e(t){this.fields=t,t.sort(Ar.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Ys(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),Mn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Be(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Mn.EMPTY_BYTE_STRING=new Mn("");var QM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(e){if(Re(!!e),typeof e=="string"){var t=0,n=QM.exec(e);if(Re(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Lt(e.seconds),nanos:Lt(e.nanos)}}function Lt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Js(e){return typeof e=="string"?Mn.fromBase64String(e):Mn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function U1(e){var t=e.mapValue.fields.__previous_value__;return Jv(t)?U1(t):t}function Ga(e){var t=Bi(e.mapValue.fields.__local_write_time__.timestampValue);return new Dn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(e){return e==null}function Nf(e){return e===0&&1/e==-1/0}function j1(e){return typeof e=="number"&&Number.isInteger(e)&&!Nf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Je.fromString(t))},e.fromName=function(t){return new e(Je.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Je.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Je.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Je(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Jv(e)?4:10:ye()}function Hr(e,t){var n=Bo(e);if(n!==Bo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ga(e).isEqual(Ga(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var u=Bi(i.timestampValue),a=Bi(o.timestampValue);return u.seconds===a.seconds&&u.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return Js(i.bytesValue).isEqual(Js(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Lt(i.geoPointValue.latitude)===Lt(o.geoPointValue.latitude)&&Lt(i.geoPointValue.longitude)===Lt(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Lt(i.integerValue)===Lt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var u=Lt(i.doubleValue),a=Lt(o.doubleValue);return u===a?Nf(u)===Nf(a):isNaN(u)&&isNaN(a)}return!1}(e,t);case 9:return Ys(e.arrayValue.values||[],t.arrayValue.values||[],Hr);case 10:return function(i,o){var u=i.mapValue.fields||{},a=o.mapValue.fields||{};if(NE(u)!==NE(a))return!1;for(var l in u)if(u.hasOwnProperty(l)&&(a[l]===void 0||!Hr(u[l],a[l])))return!1;return!0}(e,t);default:return ye()}}function Wa(e,t){return(e.values||[]).find(function(n){return Hr(n,t)})!==void 0}function Zs(e,t){var n=Bo(e),i=Bo(t);if(n!==i)return Be(n,i);switch(n){case 0:return 0;case 1:return Be(e.booleanValue,t.booleanValue);case 2:return function(o,u){var a=Lt(o.integerValue||o.doubleValue),l=Lt(u.integerValue||u.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return RE(e.timestampValue,t.timestampValue);case 4:return RE(Ga(e),Ga(t));case 5:return Be(e.stringValue,t.stringValue);case 6:return function(o,u){var a=Js(o),l=Js(u);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,u){for(var a=o.split("/"),l=u.split("/"),f=0;f<a.length&&f<l.length;f++){var d=Be(a[f],l[f]);if(d!==0)return d}return Be(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,u){var a=Be(Lt(o.latitude),Lt(u.latitude));return a!==0?a:Be(Lt(o.longitude),Lt(u.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,u){for(var a=o.values||[],l=u.values||[],f=0;f<a.length&&f<l.length;++f){var d=Zs(a[f],l[f]);if(d)return d}return Be(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,u){var a=o.fields||{},l=Object.keys(a),f=u.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var p=0;p<l.length&&p<d.length;++p){var g=Be(l[p],d[p]);if(g!==0)return g;var v=Zs(a[l[p]],f[d[p]]);if(v!==0)return v}return Be(l.length,d.length)}(e.mapValue,t.mapValue);default:throw ye()}}function RE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Be(e,t);var n=Bi(e),i=Bi(t),o=Be(n.seconds,i.seconds);return o!==0?o:Be(n.nanos,i.nanos)}function Zv(e){return xg(e)}function xg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var o=Bi(i);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Js(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_e.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var o="[",u=!0,a=0,l=i.values||[];a<l.length;a++)u?u=!1:o+=",",o+=xg(l[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var o="{",u=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];u?u=!1:o+=",",o+=f+":"+xg(i.fields[f])}return o+"}"}(e.mapValue):ye();var t,n}function Rf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Og(e){return!!e&&"integerValue"in e}function ey(e){return!!e&&"arrayValue"in e}function xE(e){return!!e&&"nullValue"in e}function OE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function of(e){return!!e&&"mapValue"in e}function Aa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Wo(e.mapValue.fields,function(o,u){return t.mapValue.fields[o]=Aa(u)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Aa(e.arrayValue.values[i]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!of(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Aa(n)},e.prototype.setAll=function(t){var n=this,i=Ar.emptyPath(),o={},u=[];t.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,u),o={},u=[],i=f.popLast()}l?o[f.lastSegment()]=Aa(l):u.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,u)},e.prototype.delete=function(t){var n=this.field(t.popLast());of(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Hr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var o=n.mapValue.fields[t.get(i)];of(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){Wo(n,function(l,f){return t[l]=f});for(var o=0,u=i;o<u.length;o++){var a=u[o];delete t[a]}},e.prototype.clone=function(){return new e(Aa(this.value))},e}();function V1(e){var t=[];return Wo(e.fields,function(n,i){var o=new Ar([n]);if(of(i)){var u=V1(i.mapValue).fields;if(u.length===0)t.push(o);else for(var a=0,l=u;a<l.length;a++){var f=l[a];t.push(o.child(f))}}else t.push(o)}),new Qs(t)}var fn=function(){function e(t,n,i,o,u){this.key=t,this.documentType=n,this.version=i,this.data=o,this.documentState=u}return e.newInvalidDocument=function(t){return new e(t,0,Ue.min(),Xn.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Xn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Xn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),JM=function(e,t,n,i,o,u,a){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=u,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(e,t,n,i,o,u,a){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),new JM(e,t,n,i,o,u,a)}function yc(e){var t=se(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+Zv(o.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),Xo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Of(t.startAt)),t.endAt&&(n+="|ub:",n+=Of(t.endAt)),t.h=n}return t.h}function Ah(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!sF(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(o=e.filters[i],u=t.filters[i],o.op!==u.op||!o.field.isEqual(u.field)||!Hr(o.value,u.value))return!1;var o,u;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!LE(e.startAt,t.startAt)&&LE(e.endAt,t.endAt)}function xf(e){return _e.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Qn=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).field=n,u.op=i,u.value=o,u}return Ie(t,e),t.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new ZM(n,i,o):i==="array-contains"?new nF(n,o):i==="in"?new rF(n,o):i==="not-in"?new iF(n,o):i==="array-contains-any"?new oF(n,o):new t(n,i,o)},t.l=function(n,i,o){return i==="in"?new eF(n,o):new tF(n,o)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(Zs(i,this.value)):i!==null&&Bo(this.value)===Bo(i)&&this.m(Zs(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ye()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),ZM=function(e){function t(n,i,o){var u=this;return(u=e.call(this,n,i,o)||this).key=_e.fromName(o.referenceValue),u}return Ie(t,e),t.prototype.matches=function(n){var i=_e.comparator(n.key,this.key);return this.m(i)},t}(Qn),eF=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"in",i)||this).keys=q1("in",i),o}return Ie(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(Qn),tF=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"not-in",i)||this).keys=q1("not-in",i),o}return Ie(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(Qn);function q1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return _e.fromName(i.referenceValue)})}var nF=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return Ie(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return ey(i)&&Wa(i.arrayValue,this.value)},t}(Qn),rF=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return Ie(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&Wa(this.value.arrayValue,i)},t}(Qn),iF=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return Ie(t,e),t.prototype.matches=function(n){if(Wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!Wa(this.value.arrayValue,i)},t}(Qn),oF=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return Ie(t,e),t.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!ey(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(u){return Wa(i.value.arrayValue,u)})},t}(Qn),Xa=function(e,t){this.position=e,this.before=t};function Of(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Zv(t)}).join(",")}var Vs=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function sF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function DE(e,t,n){for(var i=0,o=0;o<e.position.length;o++){var u=t[o],a=e.position[o];if(i=u.field.isKeyField()?_e.comparator(_e.fromName(a.referenceValue),n.key):Zs(a,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function LE(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Hr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi=function(e,t,n,i,o,u,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=u,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function B1(e,t,n,i,o,u,a,l){return new fi(e,t,n,i,o,u,a,l)}function wc(e){return new fi(e)}function sf(e){return!Xo(e.limit)&&e.limitType==="F"}function Pf(e){return!Xo(e.limit)&&e.limitType==="L"}function ty(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ny(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function ry(e){return e.collectionGroup!==null}function eu(e){var t=se(e);if(t.p===null){t.p=[];var n=ny(t),i=ty(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new Vs(n)),t.p.push(new Vs(Ar.keyField(),"asc"));else{for(var o=!1,u=0,a=t.explicitOrderBy;u<a.length;u++){var l=a[u];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Vs(Ar.keyField(),f))}}}return t.p}function zr(e){var t=se(e);if(!t.T)if(t.limitType==="F")t.T=PE(t.path,t.collectionGroup,eu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,o=eu(t);i<o.length;i++){var u=o[i],a=u.dir==="desc"?"asc":"desc";n.push(new Vs(u.field,a))}var l=t.endAt?new Xa(t.endAt.position,!t.endAt.before):null,f=t.startAt?new Xa(t.startAt.position,!t.startAt.before):null;t.T=PE(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function $1(e,t,n){return new fi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bc(e,t){return Ah(zr(e),zr(t))&&e.limitType===t.limitType}function K1(e){return yc(zr(e))+"|lt:"+e.limitType}function Pg(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+Zv(o.value);var o}).join(", ")+"]"),Xo(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Of(t.startAt)),t.endAt&&(n+=", endAt: "+Of(t.endAt)),"Target("+n+")"}(zr(e))+"; limitType="+e.limitType+")"}function _c(e,t){return t.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):_e.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,i){for(var o=0,u=n.explicitOrderBy;o<u.length;o++){var a=u[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var o=0,u=n.filters;o<u.length;o++)if(!u[o].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!DE(n.startAt,eu(n),i))&&(!n.endAt||!DE(n.endAt,eu(n),i))}(e,t)}function H1(e){return function(t,n){for(var i=!1,o=0,u=eu(e);o<u.length;o++){var a=u[o],l=uF(a,t,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function uF(e,t,n){var i=e.field.isKeyField()?_e.comparator(t.key,n.key):function(o,u,a){var l=u.data.field(o),f=a.data.field(o);return l!==null&&f!==null?Zs(l,f):ye()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(t)?"-0":t}}function G1(e){return{integerValue:""+e}}function W1(e,t){return j1(t)?G1(t):z1(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kh=function(){this._=void 0};function aF(e,t,n){return e instanceof tu?function(i,o){var u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,t):e instanceof $o?Y1(e,t):e instanceof Ko?Q1(e,t):function(i,o){var u=X1(i,o),a=ME(u)+ME(i.A);return Og(u)&&Og(i.A)?G1(a):z1(i.R,a)}(e,t)}function cF(e,t,n){return e instanceof $o?Y1(e,t):e instanceof Ko?Q1(e,t):n}function X1(e,t){return e instanceof nu?Og(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}var tu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t}(kh),$o=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Ie(t,e),t}(kh);function Y1(e,t){for(var n=J1(t),i=function(a){n.some(function(l){return Hr(l,a)})||n.push(a)},o=0,u=e.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var Ko=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Ie(t,e),t}(kh);function Q1(e,t){for(var n=J1(t),i=function(a){n=n.filter(function(l){return!Hr(l,a)})},o=0,u=e.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var nu=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).R=n,o.A=i,o}return Ie(t,e),t}(kh);function ME(e){return Lt(e.integerValue||e.doubleValue)}function J1(e){return ey(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ec=function(e,t){this.field=e,this.transform=t},lF=function(e,t){this.version=e,this.transformResults=t},cn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function uf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Ch=function(){};function fF(e,t,n){e instanceof Ic?function(i,o,u){var a=i.value.clone(),l=jE(i.fieldTransforms,o,u.transformResults);a.setAll(l),o.convertToFoundDocument(u.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Gi?function(i,o,u){if(uf(i.precondition,o)){var a=jE(i.fieldTransforms,o,u.transformResults),l=o.data;l.setAll(Z1(i)),l.setAll(a),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(u.version)}(e,t,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,n)}function Dg(e,t,n){e instanceof Ic?function(i,o,u){if(uf(i.precondition,o)){var a=i.value.clone(),l=VE(i.fieldTransforms,u,o);a.setAll(l),o.convertToFoundDocument(UE(o),a).setHasLocalMutations()}}(e,t,n):e instanceof Gi?function(i,o,u){if(uf(i.precondition,o)){var a=VE(i.fieldTransforms,u,o),l=o.data;l.setAll(Z1(i)),l.setAll(a),o.convertToFoundDocument(UE(o),l).setHasLocalMutations()}}(e,t,n):function(i,o){uf(i.precondition,o)&&o.convertToNoDocument(Ue.min())}(e,t)}function hF(e,t){for(var n=null,i=0,o=e.fieldTransforms;i<o.length;i++){var u=o[i],a=t.data.field(u.field),l=X1(u.transform,a||null);l!=null&&(n==null&&(n=Xn.empty()),n.set(u.field,l))}return n||null}function FE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ys(n,i,function(o,u){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof $o&&d instanceof $o||f instanceof Ko&&d instanceof Ko?Ys(f.elements,d.elements,Hr):f instanceof nu&&d instanceof nu?Hr(f.A,d.A):f instanceof tu&&d instanceof tu}(a.transform,l.transform)}(o,u)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function UE(e){return e.isFoundDocument()?e.version:Ue.min()}var Ic=function(e){function t(n,i,o,u){u===void 0&&(u=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=u,a.type=0,a}return Ie(t,e),t}(Ch),Gi=function(e){function t(n,i,o,u,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=u,l.fieldTransforms=a,l.type=1,l}return Ie(t,e),t}(Ch);function Z1(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function jE(e,t,n){var i=new Map;Re(e.length===n.length);for(var o=0;o<n.length;o++){var u=e[o],a=u.transform,l=t.data.field(u.field);i.set(u.field,cF(a,l,n[o]))}return i}function VE(e,t,n){for(var i=new Map,o=0,u=e;o<u.length;o++){var a=u[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,aF(l,f,t))}return i}var Dt,He,Tc=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return Ie(t,e),t}(Ch),iy=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return Ie(t,e),t}(Ch),dF=function(e){this.count=e};function eA(e){switch(e){case P.OK:return ye();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return ye()}}function tA(e){if(e===void 0)return Mt("GRPC error has no .code"),P.UNKNOWN;switch(e){case Dt.OK:return P.OK;case Dt.CANCELLED:return P.CANCELLED;case Dt.UNKNOWN:return P.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return P.INTERNAL;case Dt.UNAVAILABLE:return P.UNAVAILABLE;case Dt.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Dt.NOT_FOUND:return P.NOT_FOUND;case Dt.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Dt.ABORTED:return P.ABORTED;case Dt.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Dt.DATA_LOSS:return P.DATA_LOSS;default:return ye()}}(He=Dt||(Dt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn=function(){function e(t,n){this.comparator=t,this.root=n||xi.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,xi.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xi.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new $l(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new $l(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new $l(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new $l(this.root,t,this.comparator,!0)},e}(),$l=function(){function e(t,n,i,o){this.isReverse=o,this.nodeStack=[];for(var u=1;!t.isEmpty();)if(u=n?i(t.key,n):1,o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),xi=function(){function e(t,n,i,o,u){this.key=t,this.value=n,this.color=i??e.RED,this.left=o??e.EMPTY,this.right=u??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,o,u){return new e(t??this.key,n??this.value,i??this.color,o??this.left,u??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var o=this,u=i(t,o.key);return(o=u<0?o.copy(null,null,null,o.left.insert(t,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();var t=this.left.check();if(t!==this.right.check())throw ye();return t+(this.isRed()?0:1)},e}();xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1,xi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ye()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,o,u){return this},e.prototype.insert=function(t,n,i){return new xi(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt=function(){function e(t){this.comparator=t,this.data=new hn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new qE(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new qE(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),qE=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),pF=new hn(_e.comparator);function Ir(){return pF}var mF=new hn(_e.comparator);function Lg(){return mF}var gF=new hn(_e.comparator);function vF(){return gF}var yF=new Kt(_e.comparator);function ft(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=yF,i=0,o=e;i<o.length;i++){var u=o[i];n=n.add(u)}return n}var wF=new Kt(Be);function Nh(){return wF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oy=function(){function e(t,n,i,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,sy.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ue.min(),i,Nh(),Ir(),ft())},e}(),sy=function(){function e(t,n,i,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Mn.EMPTY_BYTE_STRING,n,ft(),ft(),ft())},e}(),af=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},nA=function(e,t){this.targetId=e,this.V=t},rA=function(e,t,n,i){n===void 0&&(n=Mn.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},BE=function(){function e(){this.S=0,this.D=KE(),this.C=Mn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=ft(),n=ft(),i=ft();return this.D.forEach(function(o,u){switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ye()}}),new sy(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=KE()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),bF=function(){function e(t){this.W=t,this.G=new Map,this.H=Ir(),this.J=$E(),this.Y=new Kt(Be)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var o=i[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var u=0,a=t.removedTargetIds;u<a.length;u++)o=a[u],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var o=n.nt(i);switch(t.state){case 0:n.st(i)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(t.resumeToken));break;default:ye()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,u){i.st(u)&&n(u)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,o=this.ot(n);if(o){var u=o.target;if(xf(u))if(i===0){var a=new _e(u.path);this.tt(n,a,fn.newNoDocument(a,Ue.min()))}else Re(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&xf(f.target)){var d=new _e(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,fn.newNoDocument(d,t))}a.$&&(i.set(l,a.M()),a.L())}});var o=ft();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var p=n.ot(d);return!p||p.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var u=new oy(t,i,this.Y,this.H,o);return this.H=Ir(),this.J=$E(),this.Y=new Kt(Be),u},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new BE,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Kt(Be),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new BE),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function $E(){return new hn(_e.comparator)}function KE(){return new hn(_e.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _F={asc:"ASCENDING",desc:"DESCENDING"},EF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IF=function(e,t){this.databaseId=e,this.I=t};function Ya(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function iA(e,t){return e.I?t.toBase64():t.toUint8Array()}function TF(e,t){return Ya(e,t.toTimestamp())}function In(e){return Re(!!e),Ue.fromTimestamp(function(t){var n=Bi(t);return new Dn(n.seconds,n.nanos)}(e))}function uy(e,t){return function(n){return new Je(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function oA(e){var t=Je.fromString(e);return Re(hA(t)),t}function Qa(e,t){return uy(e.databaseId,t.path)}function ri(e,t){var n=oA(t);if(n.get(1)!==e.databaseId.projectId)throw new Y(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Y(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _e(uA(n))}function Mg(e,t){return uy(e.databaseId,t)}function sA(e){var t=oA(e);return t.length===4?Je.emptyPath():uA(t)}function Ja(e){return new Je(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function uA(e){return Re(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function HE(e,t,n){return{name:Qa(e,t),fields:n.value.mapValue.fields}}function SF(e,t,n){var i=ri(e,t.name),o=In(t.updateTime),u=new Xn({mapValue:{fields:t.fields}}),a=fn.newFoundDocument(i,o,u);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Df(e,t){var n;if(t instanceof Ic)n={update:HE(e,t.key,t.value)};else if(t instanceof Tc)n={delete:Qa(e,t.key)};else if(t instanceof Gi)n={update:HE(e,t.key,t.data),updateMask:RF(t.fieldMask)};else{if(!(t instanceof iy))return ye();n={verify:Qa(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(o,u){var a=u.transform;if(a instanceof tu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $o)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ko)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof nu)return{fieldPath:u.field.canonicalString(),increment:a.A};throw ye()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:TF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye()}(e,t.precondition)),n}function zE(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?cn.updateTime(In(d.updateTime)):d.exists!==void 0?cn.exists(d.exists):cn.none()}(t.currentDocument):cn.none(),i=t.updateTransforms?t.updateTransforms.map(function(d){return function(p,g){var v=null;if("setToServerValue"in g)Re(g.setToServerValue==="REQUEST_TIME"),v=new tu;else if("appendMissingElements"in g){var b=g.appendMissingElements.values||[];v=new $o(b)}else if("removeAllFromArray"in g){var _=g.removeAllFromArray.values||[];v=new Ko(_)}else"increment"in g?v=new nu(p,g.increment):ye();var T=Ar.fromServerFormat(g.fieldPath);return new Ec(T,v)}(e,d)}):[];if(t.update){t.update.name;var o=ri(e,t.update.name),u=new Xn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(d){var p=d.fieldPaths||[];return new Qs(p.map(function(g){return Ar.fromServerFormat(g)}))}(t.updateMask);return new Gi(o,u,a,n,i)}return new Ic(o,u,n,i)}if(t.delete){var l=ri(e,t.delete);return new Tc(l,n)}if(t.verify){var f=ri(e,t.verify);return new iy(f,n)}return ye()}function aA(e,t){return{documents:[Mg(e,t.path)]}}function cA(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Mg(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Mg(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(p){if(p.op==="=="){if(OE(p.value))return{unaryFilter:{field:As(p.field),op:"IS_NAN"}};if(xE(p.value))return{unaryFilter:{field:As(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(OE(p.value))return{unaryFilter:{field:As(p.field),op:"IS_NOT_NAN"}};if(xE(p.value))return{unaryFilter:{field:As(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(p.field),op:kF(p.op),value:p.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var u=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:As(d.field),direction:AF(d.dir)}}(f)})}(t.orderBy);u&&(n.structuredQuery.orderBy=u);var a=function(l,f){return l.I||Xo(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=GE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=GE(t.endAt)),n}function lA(e){var t=sA(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Re(i===1);var u=n.from[0];u.allDescendants?o=u.collectionId:t=t.child(u.collectionId)}var a=[];n.where&&(a=fA(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(g){return function(v){return new Vs(Ls(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(g)}));var f=null;n.limit&&(f=function(g){var v;return Xo(v=typeof g=="object"?g.value:g)?null:v}(n.limit));var d=null;n.startAt&&(d=WE(n.startAt));var p=null;return n.endAt&&(p=WE(n.endAt)),B1(t,o,l,a,f,"F",d,p)}function fA(e){return e?e.unaryFilter!==void 0?[NF(e)]:e.fieldFilter!==void 0?[CF(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return fA(t)}).reduce(function(t,n){return t.concat(n)}):ye():[]}function GE(e){return{before:e.before,values:e.position}}function WE(e){var t=!!e.before,n=e.values||[];return new Xa(n,t)}function AF(e){return _F[e]}function kF(e){return EF[e]}function As(e){return{fieldPath:e.canonicalString()}}function Ls(e){return Ar.fromServerFormat(e.fieldPath)}function CF(e){return Qn.create(Ls(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ye()}}(e.fieldFilter.op),e.fieldFilter.value)}function NF(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ls(e.unaryFilter.field);return Qn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ls(e.unaryFilter.field);return Qn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Ls(e.unaryFilter.field);return Qn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Ls(e.unaryFilter.field);return Qn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ye()}}function RF(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function hA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=XE(t)),t=xF(e.get(n),t);return XE(t)}function xF(e,t){for(var n=t,i=e.length,o=0;o<i;o++){var u=e.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function XE(e){return e+""}function ni(e){var t=e.length;if(Re(t>=2),t===2)return Re(e.charAt(0)===""&&e.charAt(1)===""),Je.emptyPath();for(var n=t-2,i=[],o="",u=0;u<t;){var a=e.indexOf("",u);switch((a<0||a>n)&&ye(),e.charAt(a+1)){case"":var l=e.substring(u,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=e.substring(u,a),o+="\0";break;case"":o+=e.substring(u,a+1);break;default:ye()}u=a+2}return new Je(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OF=function(e,t){this.seconds=e,this.nanoseconds=t},zn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};zn.store="owner",zn.key="owner";var ji=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};ji.store="mutationQueues",ji.keyPath="userId";var pt=function(e,t,n,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};pt.store="mutations",pt.keyPath="batchId",pt.userMutationsIndex="userMutationsIndex",pt.userMutationsKeyPath=["userId","batchId"];var sn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Tr(n)]},e.key=function(t,n,i){return[t,Tr(n),i]},e}();sn.store="documentMutations",sn.PLACEHOLDER=new sn;var PF=function(e,t){this.path=e,this.readTime=t},DF=function(e,t){this.path=e,this.version=t},kt=function(e,t,n,i,o,u){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=u};kt.store="remoteDocuments",kt.readTimeIndex="readTimeIndex",kt.readTimeIndexPath="readTime",kt.collectionReadTimeIndex="collectionReadTimeIndex",kt.collectionReadTimeIndexPath=["parentPath","readTime"];var qr=function(e){this.byteSize=e};qr.store="remoteDocumentGlobal",qr.key="remoteDocumentGlobalKey";var Pn=function(e,t,n,i,o,u,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=a};Pn.store="targets",Pn.keyPath="targetId",Pn.queryTargetsIndexName="queryTargetsIndex",Pn.queryTargetsKeyPath=["canonicalId","targetId"];var Zt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Zt.store="targetDocuments",Zt.keyPath=["targetId","path"],Zt.documentTargetsIndex="documentTargetsIndex",Zt.documentTargetsKeyPath=["path","targetId"];var Wn=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Wn.key="targetGlobalKey",Wn.store="targetGlobal";var Do=function(e,t){this.collectionId=e,this.parent=t};Do.store="collectionParents",Do.keyPath=["collectionId","parent"];var ii=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};ii.store="clientMetadata",ii.keyPath="clientId";var ru=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};ru.store="bundles",ru.keyPath="bundleId";var iu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};iu.store="namedQueries",iu.keyPath="name";var LF=bt(bt([],bt(bt([],bt(bt([],bt(bt([],[ji.store,pt.store,sn.store,kt.store,Pn.store,zn.store,Wn.store,Zt.store]),[ii.store])),[qr.store])),[Do.store])),[ru.store,iu.store]),dA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pA=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Fn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},J=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,u){i.nextCallback=function(a){i.wrapSuccess(t,a).next(o,u)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,u)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var o=0,u=0,a=!1;t.forEach(function(l){++o,l.next(function(){++u,a&&u===o&&n()},function(f){return i(f)})}),a=!0,u===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},o=0,u=t;o<u.length;o++)i(u[o]);return n},e.forEach=function(t,n){var i=this,o=[];return t.forEach(function(u,a){o.push(n.call(i,u,a))}),this.waitFor(o)},e}(),mA=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Fn,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new ka(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var u=ay(o.target.error);i.ft.reject(new ka(t,u))}}return e.open=function(t,n,i,o){try{return new e(n,t.transaction(o,i))}catch(u){throw new ka(n,u)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ne("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new FF(n)},e}(),ou=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(jo())===12.2&&Mt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return ne("SimpleDb","Removing database:",t),So(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=jo(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),u=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||u)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return H(this,void 0,void 0,function(){var n,i=this;return K(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ne("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(u,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;u(d)},l.onblocked=function(){a(new ka(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new Y(P.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new ka(t,d))},l.onupgradeneeded=function(f){ne("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){ne("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return i.bt(u)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,o){return H(this,void 0,void 0,function(){var u,a,l,f,d;return K(this,function(p){switch(p.label){case 0:u=n==="readonly",a=0,l=function(){var g,v,b,_,T;return K(this,function(S){switch(S.label){case 0:++a,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=S.sent(),g=mA.open(f.db,t,u?"readonly":"readwrite",i),v=o(g).catch(function(x){return g.abort(x),J.reject(x)}).toPromise(),b={},v.catch(function(){}),[4,g.dt];case 3:return[2,(b.value=(S.sent(),v),b)];case 4:return _=S.sent(),T=_.name!=="FirebaseError"&&a<3,ne("SimpleDb","Transaction failed with error:",_.message,"Retrying:",T),f.close(),T?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(d=p.sent())=="object")return[2,d.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),MF=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return So(this.Pt.delete())},e}(),ka=function(e){function t(n,i){var o=this;return(o=e.call(this,P.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return Ie(t,e),t}(Y);function Yo(e){return e.name==="IndexedDbTransactionError"}var FF=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(ne("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(ne("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),So(i)},e.prototype.add=function(t){return ne("SimpleDb","ADD",this.store.name,t,t),So(this.store.add(t))},e.prototype.get=function(t){var n=this;return So(this.store.get(t)).next(function(i){return i===void 0&&(i=null),ne("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return ne("SimpleDb","DELETE",this.store.name,t),So(this.store.delete(t))},e.prototype.count=function(){return ne("SimpleDb","COUNT",this.store.name),So(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),o=[];return this.xt(i,function(u,a){o.push(a)}).next(function(){return o})},e.prototype.kt=function(t,n){ne("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(u,a,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var o=this.cursor(i);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new J(function(i,o){n.onerror=function(u){var a=ay(u.target.error);o(a)},n.onsuccess=function(u){var a=u.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new J(function(o,u){t.onerror=function(a){u(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var f=new MF(l),d=n(l.primaryKey,l.value,f);if(d instanceof J){var p=d.catch(function(g){return f.done(),J.reject(g)});i.push(p)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return J.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function So(e){return new J(function(t,n){e.onsuccess=function(i){var o=i.target.result;t(o)},e.onerror=function(i){var o=ay(i.target.error);n(o)}})}var YE=!1;function ay(e){var t=ou._t(jo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new Y("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return YE||(YE=!0,setTimeout(function(){throw i},0)),i}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QE=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return Ie(t,e),t}(pA);function Un(e,t){var n=se(e);return ou.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cy=function(){function e(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var u=this.mutations[o];u.key.isEqual(t.key)&&fF(u,t,i[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(t.key)&&Dg(a,t,this.localWriteTime);for(var o=0,u=this.mutations;o<u.length;o++){var a;(a=u[o]).key.isEqual(t.key)&&Dg(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var o=t.get(i.key),u=o;n.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(Ue.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},ft())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ys(this.mutations,t.mutations,function(n,i){return FE(n,i)})&&Ys(this.baseMutations,t.baseMutations,function(n,i){return FE(n,i)})},e}(),UF=function(){function e(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return e.from=function(t,n,i){Re(t.mutations.length===i.length);for(var o=vF(),u=t.mutations,a=0;a<u.length;a++)o=o.insert(u[a].key,i[a].version);return new e(t,n,i,o)},e}(),Rh=function(){function e(t,n,i,o,u,a,l){u===void 0&&(u=Ue.min()),a===void 0&&(a=Ue.min()),l===void 0&&(l=Mn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),gA=function(e){this.Lt=e};function Fg(e,t){if(t.document)return SF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=_e.fromSegments(t.noDocument.path),i=uu(t.noDocument.readTime),o=fn.newNoDocument(n,i);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var u=_e.fromSegments(t.unknownDocument.path);return i=uu(t.unknownDocument.version),fn.newUnknownDocument(u,i)}return ye()}function JE(e,t,n){var i=ly(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var u=function(g,v){return{name:Qa(g,v.key),fields:v.data.value.mapValue.fields,updateTime:Ya(g,v.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new kt(null,null,u,a,i,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=su(t.version);return a=t.hasCommittedMutations,new kt(null,new PF(l,f),null,a,i,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),p=su(t.version);return new kt(new DF(d,p),null,null,!0,i,o)}return ye()}function ly(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function vA(e){var t=new Dn(e[0],e[1]);return Ue.fromTimestamp(t)}function su(e){var t=e.toTimestamp();return new OF(t.seconds,t.nanoseconds)}function uu(e){var t=new Dn(e.seconds,e.nanoseconds);return Ue.fromTimestamp(t)}function xs(e,t){for(var n=(t.baseMutations||[]).map(function(f){return zE(e.Lt,f)}),i=0;i<t.mutations.length-1;++i){var o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var u=t.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var a=t.mutations.map(function(f){return zE(e.Lt,f)}),l=Dn.fromMillis(t.localWriteTimeMs);return new cy(t.batchId,l,n,a)}function wa(e){var t,n,i=uu(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?uu(e.lastLimboFreeSnapshotVersion):Ue.min();return e.query.documents!==void 0?(Re((n=e.query).documents.length===1),t=zr(wc(sA(n.documents[0])))):t=function(u){return zr(lA(u))}(e.query),new Rh(t,e.targetId,0,e.lastListenSequenceNumber,i,o,Mn.fromBase64String(e.resumeToken))}function yA(e,t){var n,i=su(t.snapshotVersion),o=su(t.lastLimboFreeSnapshotVersion);n=xf(t.target)?aA(e.Lt,t.target):cA(e.Lt,t.target);var u=t.resumeToken.toBase64();return new Pn(t.targetId,yc(t.target),i,u,t.sequenceNumber,o,n)}function wA(e){var t=lA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?$1(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jF=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return ZE(t).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:uu(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return ZE(t).put({bundleId:(i=n).id,createTime:su(In(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return eI(t).get(n).next(function(i){if(i)return{name:(o=i).name,query:wA(o.bundledQuery),readTime:uu(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return eI(t).put(function(i){return{name:i.name,readTime:su(In(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();function ZE(e){return Un(e,ru.store)}function eI(e){return Un(e,iu.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VF=function(){function e(){this.Bt=new fy}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),J.resolve()},e.prototype.getCollectionParents=function(t,n){return J.resolve(this.Bt.getEntries(n))},e}(),fy=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Kt(Je.comparator),u=!o.has(i);return this.index[n]=o.add(i),u},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new Kt(Je.comparator)).toArray()},e}(),qF=function(){function e(){this.qt=new fy}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),u=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:Tr(u)};return tI(t).put(a)}return J.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],o=IDBKeyRange.bound([n,""],[L1(n),""],!1,!0);return tI(t).Nt(o).next(function(u){for(var a=0,l=u;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(ni(f.parent))}return i})},e}();function tI(e){return Un(e,Do.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fr=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(e,t,n){var i=e.store(pt.store),o=e.store(sn.store),u=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(_,T,S){return l++,S.delete()});u.push(f.next(function(){Re(l===1)}));for(var d=[],p=0,g=n.mutations;p<g.length;p++){var v=g[p],b=sn.key(t,v.key.path,n.batchId);u.push(o.delete(b)),d.push(v.key)}return J.waitFor(u).next(function(){return d})}function Lf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ye();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr.DEFAULT_COLLECTION_PERCENTILE=10,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fr.DEFAULT=new Fr(41943040,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fr.DISABLED=new Fr(-1,0,0);var BF=function(){function e(t,n,i,o){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,i,o){return Re(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,o)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ii(t).$t({index:pt.userMutationsIndex,range:i},function(o,u,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,o){var u=this,a=Os(t),l=Ii(t);return l.add({}).next(function(f){Re(typeof f=="number");for(var d=new cy(f,n,i,o),p=function(x,O,U){var B=U.baseMutations.map(function(V){return Df(x.Lt,V)}),te=U.mutations.map(function(V){return Df(x.Lt,V)});return new pt(O,U.batchId,U.localWriteTime.toMillis(),B,te)}(u.R,u.userId,d),g=[],v=new Kt(function(x,O){return Be(x.canonicalString(),O.canonicalString())}),b=0,_=o;b<_.length;b++){var T=_[b],S=sn.key(u.userId,T.key.path,f);v=v.add(T.key.path.popLast()),g.push(l.put(p)),g.push(a.put(S,sn.PLACEHOLDER))}return v.forEach(function(x){g.push(u.Ut.addToCollectionParentIndex(t,x))}),t.addOnCommittedListener(function(){u.Kt[f]=d.keys()}),J.waitFor(g).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return Ii(t).get(n).next(function(o){return o?(Re(o.userId===i.userId),xs(i.R,o)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?J.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var u=o.keys();return i.Kt[n]=u,u}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]),a=null;return Ii(t).$t({index:pt.userMutationsIndex,range:u},function(l,f,d){f.userId===i.userId&&(Re(f.batchId>=o),a=xs(i.R,f)),d.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Ii(t).$t({index:pt.userMutationsIndex,range:n,reverse:!0},function(o,u,a){i=u.batchId,a.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ii(t).Nt(pt.userMutationsIndex,i).next(function(o){return o.map(function(u){return xs(n.R,u)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=sn.prefixForPath(this.userId,n.path),u=IDBKeyRange.lowerBound(o),a=[];return Os(t).$t({range:u},function(l,f,d){var p=l[0],g=l[1],v=l[2],b=ni(g);if(p===i.userId&&n.path.isEqual(b))return Ii(t).get(v).next(function(_){if(!_)throw ye();Re(_.userId===i.userId),a.push(xs(i.R,_))});d.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Kt(Be),u=[];return n.forEach(function(a){var l=sn.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=Os(t).$t({range:f},function(p,g,v){var b=p[0],_=p[1],T=p[2],S=ni(_);b===i.userId&&a.path.isEqual(S)?o=o.add(T):v.done()});u.push(d)}),J.waitFor(u).next(function(){return i.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,o=n.path,u=o.length+1,a=sn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new Kt(Be);return Os(t).$t({range:l},function(d,p,g){var v=d[0],b=d[1],_=d[2],T=ni(b);v===i.userId&&o.isPrefixOf(T)?T.length===u&&(f=f.add(_)):g.done()}).next(function(){return i.Wt(t,f)})},e.prototype.Wt=function(t,n){var i=this,o=[],u=[];return n.forEach(function(a){u.push(Ii(t).get(a).next(function(l){if(l===null)throw ye();Re(l.userId===i.userId),o.push(xs(i.R,l))}))}),J.waitFor(u).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var i=this;return bA(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),J.forEach(o,function(u){return i.referenceDelegate.markPotentiallyOrphaned(t,u)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return J.resolve();var o=IDBKeyRange.lowerBound(sn.prefixForUser(n.userId)),u=[];return Os(t).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=ni(a[1]);u.push(d)}else f.done()}).next(function(){Re(u.length===0)})})},e.prototype.containsKey=function(t,n){return _A(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return EA(t).get(this.userId).next(function(i){return i||new ji(n.userId,-1,"")})},e}();function _A(e,t,n){var i=sn.prefixForPath(t,n.path),o=i[1],u=IDBKeyRange.lowerBound(i),a=!1;return Os(e).$t({range:u,Ft:!0},function(l,f,d){var p=l[0],g=l[1];l[2],p===t&&g===o&&(a=!0),d.done()}).next(function(){return a})}function Ii(e){return Un(e,pt.store)}function Os(e){return Un(e,sn.store)}function EA(e){return Un(e,ji.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mf=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),$F=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var o=new Mf(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Ue.fromTimestamp(new Dn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var o=this;return this.Xt(t).next(function(u){return u.highestListenSequenceNumber=n,i&&(u.lastRemoteSnapshotVersion=i.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),o.Zt(t,u)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return ks(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(o){return Re(o.targetCount>0),o.targetCount-=1,i.Zt(t,o)})},e.prototype.removeTargets=function(t,n,i){var o=this,u=0,a=[];return ks(t).$t(function(l,f){var d=wa(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(u++,a.push(o.removeTargetData(t,d)))}).next(function(){return J.waitFor(a)}).next(function(){return u})},e.prototype.forEachTarget=function(t,n){return ks(t).$t(function(i,o){var u=wa(o);n(u)})},e.prototype.Xt=function(t){return rI(t).get(Wn.key).next(function(n){return Re(n!==null),n})},e.prototype.Zt=function(t,n){return rI(t).put(Wn.key,n)},e.prototype.te=function(t,n){return ks(t).put(yA(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=yc(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),u=null;return ks(t).$t({range:o,index:Pn.queryTargetsIndexName},function(a,l,f){var d=wa(l);Ah(n,d.target)&&(u=d,f.done())}).next(function(){return u})},e.prototype.addMatchingKeys=function(t,n,i){var o=this,u=[],a=Oi(t);return n.forEach(function(l){var f=Tr(l.path);u.push(a.put(new Zt(i,f))),u.push(o.referenceDelegate.addReference(t,i,l))}),J.waitFor(u)},e.prototype.removeMatchingKeys=function(t,n,i){var o=this,u=Oi(t);return J.forEach(n,function(a){var l=Tr(a.path);return J.waitFor([u.delete([i,l]),o.referenceDelegate.removeReference(t,i,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=Oi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=Oi(t),u=ft();return o.$t({range:i,Ft:!0},function(a,l,f){var d=ni(a[1]),p=new _e(d);u=u.add(p)}).next(function(){return u})},e.prototype.containsKey=function(t,n){var i=Tr(n.path),o=IDBKeyRange.bound([i],[L1(i)],!1,!0),u=0;return Oi(t).$t({index:Zt.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(u++,f.done())}).next(function(){return u>0})},e.prototype.lt=function(t,n){return ks(t).get(n).next(function(i){return i?wa(i):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(e){return Un(e,Pn.store)}function rI(e){return Un(e,Wn.store)}function Oi(e){return Un(e,Zt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(e){return H(this,void 0,void 0,function(){return K(this,function(t){if(e.code!==P.FAILED_PRECONDITION||e.message!==dA)throw e;return ne("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(e,t){var n=e[0],i=e[1],o=t[0],u=t[1],a=Be(n,o);return a===0?Be(i,u):a}var KF=function(){function e(t){this.ne=t,this.buffer=new Kt(iI),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();iI(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),HF=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;ne("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return H(n,void 0,void 0,function(){var o;return K(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return Yo(o=u.sent())?(ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Qo(o)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return u.sent(),[2]}})})})},e}(),zF=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return J.resolve(Yn.o);var o=new KF(n);return this.ae.forEachTarget(t,function(u){return o.re(u.sequenceNumber)}).next(function(){return i.ae.le(t,function(u){return o.re(u)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(nI)):this.getCacheSize(t).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),nI):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,o,u,a,l,f,d,p=this,g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(v){return v>p.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+v),o=p.params.maximumSequenceNumbersToCollect):o=v,a=Date.now(),p.nthSequenceNumber(t,o)}).next(function(v){return i=v,l=Date.now(),p.removeTargets(t,i,n)}).next(function(v){return u=v,f=Date.now(),p.removeOrphanedDocuments(t,i)}).next(function(v){return d=Date.now(),Rg()<=Qe.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-g)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+u+" targets in "+(f-l)+`ms
	Removed `+v+" documents in "+(d-f)+`ms
Total Duration: `+(d-g)+"ms"),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:v})})},e}(),GF=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,o){return new zF(i,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(o){return i+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,o){return n(o)})},e.prototype.addReference=function(t,n,i){return Kl(t,i)},e.prototype.removeReference=function(t,n,i){return Kl(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return Kl(t,n)},e.prototype._e=function(t,n){return function(i,o){var u=!1;return EA(i).Ot(function(a){return _A(i,a,o).next(function(l){return l&&(u=!0),J.resolve(!l)})}).next(function(){return u})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],a=0;return this.we(t,function(l,f){if(f<=n){var d=i._e(t,l).next(function(p){if(!p)return a++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Oi(t).delete([0,Tr(l.path)])})});u.push(d)}}).next(function(){return J.waitFor(u)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return Kl(t,n)},e.prototype.we=function(t,n){var i,o=Oi(t),u=Yn.o;return o.$t({index:Zt.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,p=l.sequenceNumber;f===0?(u!==Yn.o&&n(new _e(ni(i)),u),u=p,i=d):u=Yn.o}).next(function(){u!==Yn.o&&n(new _e(ni(i)),u)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Kl(e,t){return Oi(e).put(function(n,i){return new Zt(0,Tr(n.path),i)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _u=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Wo(this.inner,function(n,i){for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];t(l,f)}})},e.prototype.isEmpty=function(){return M1(this.inner)},e}(),IA=function(){function e(){this.changes=new _u(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Ue.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:fn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?J.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),WF=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return Ci(t).put(Hl(n),i)},e.prototype.removeEntry=function(t,n){var i=Ci(t),o=Hl(n);return i.delete(o)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,i.me(t,o)})},e.prototype.getEntry=function(t,n){var i=this;return Ci(t).get(Hl(n)).next(function(o){return i.ye(n,o)})},e.prototype.ge=function(t,n){var i=this;return Ci(t).get(Hl(n)).next(function(o){return{document:i.ye(n,o),size:Lf(o)}})},e.prototype.getEntries=function(t,n){var i=this,o=Ir();return this.pe(t,n,function(u,a){var l=i.ye(u,a);o=o.insert(u,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var i=this,o=Ir(),u=new hn(_e.comparator);return this.pe(t,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),u=u.insert(a,Lf(l))}).next(function(){return{documents:o,Te:u}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return J.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator(),a=u.getNext();return Ci(t).$t({range:o},function(l,f,d){for(var p=_e.fromSegments(l);a&&_e.comparator(a,p)<0;)i(a,null),a=u.getNext();a&&a.isEqual(p)&&(i(a,f),a=u.hasNext()?u.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=u.hasNext()?u.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var o=this,u=Ir(),a=n.path.length+1,l={};if(i.isEqual(Ue.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),p=ly(i);l.range=IDBKeyRange.lowerBound([d,p],!0),l.index=kt.collectionReadTimeIndex}return Ci(t).$t(l,function(g,v,b){if(g.length===a){var _=Fg(o.R,v);n.path.isPrefixOf(_.key.path)?_c(n,_)&&(u=u.insert(_.key,_)):b.done()}}).next(function(){return u})},e.prototype.newChangeBuffer=function(t){return new XF(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return oI(t).get(qr.key).next(function(n){return Re(!!n),n})},e.prototype.me=function(t,n){return oI(t).put(qr.key,n)},e.prototype.ye=function(t,n){if(n){var i=Fg(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(Ue.min()))return i}return fn.newInvalidDocument(t)},e}(),XF=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new _u(function(u){return u.toString()},function(u,a){return u.isEqual(a)}),o}return Ie(t,e),t.prototype.applyChanges=function(n){var i=this,o=[],u=0,a=new Kt(function(l,f){return Be(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var p=JE(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var g=Lf(p);u+=g-d,o.push(i.Ie.addEntry(n,l,p))}else if(u-=d,i.trackRemovals){var v=JE(i.Ie.R,fn.newNoDocument(l,Ue.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,v))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,u)),J.waitFor(o)},t.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(u){return o.Ae.set(i,u.size),u.document})},t.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(u){var a=u.documents;return u.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},t}(IA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(e){return Un(e,qr.store)}function Ci(e){return Un(e,kt.store)}function Hl(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YF=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,o){var u=this;Re(i<o&&i>=0&&o<=11);var a=new mA("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(zn.store)}(t),function(f){f.createObjectStore(ji.store,{keyPath:ji.keyPath}),f.createObjectStore(pt.store,{keyPath:pt.keyPath,autoIncrement:!0}).createIndex(pt.userMutationsIndex,pt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(sn.store)}(t),sI(t),function(f){f.createObjectStore(kt.store)}(t));var l=J.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(Zt.store),f.deleteObjectStore(Pn.store),f.deleteObjectStore(Wn.store)}(t),sI(t)),l=l.next(function(){return function(f){var d=f.store(Wn.store),p=new Wn(0,0,Ue.min().toTimestamp(),0);return d.put(Wn.key,p)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(pt.store).Nt().next(function(p){f.deleteObjectStore(pt.store),f.createObjectStore(pt.store,{keyPath:pt.keyPath,autoIncrement:!0}).createIndex(pt.userMutationsIndex,pt.userMutationsKeyPath,{unique:!0});var g=d.store(pt.store),v=p.map(function(b){return g.put(b)});return J.waitFor(v)})}(t,a)})),l=l.next(function(){(function(f){f.createObjectStore(ii.store,{keyPath:ii.keyPath})})(t)})),i<5&&o>=5&&(l=l.next(function(){return u.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(qr.store)}(t),u.be(a)})),i<7&&o>=7&&(l=l.next(function(){return u.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return u.Pe(t,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(kt.store);d.createIndex(kt.readTimeIndex,kt.readTimeIndexPath,{unique:!1}),d.createIndex(kt.collectionReadTimeIndex,kt.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return u.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(ru.store,{keyPath:ru.keyPath})})(t),function(f){f.createObjectStore(iu.store,{keyPath:iu.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(kt.store).$t(function(i,o){n+=Lf(o)}).next(function(){var i=new qr(n);return t.store(qr.store).put(qr.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(ji.store),o=t.store(pt.store);return i.Nt().next(function(u){return J.forEach(u,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(pt.userMutationsIndex,l).next(function(f){return J.forEach(f,function(d){Re(d.userId===a.userId);var p=xs(n.R,d);return bA(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Zt.store),i=t.store(kt.store);return t.store(Wn.store).get(Wn.key).next(function(o){var u=[];return i.$t(function(a,l){var f=new Je(a),d=function(p){return[0,Tr(p)]}(f);u.push(n.get(d).next(function(p){return p?J.resolve():function(g){return n.put(new Zt(0,Tr(g),o.highestListenSequenceNumber))}(f)}))}).next(function(){return J.waitFor(u)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Do.store,{keyPath:Do.keyPath});var i=n.store(Do.store),o=new fy,u=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:Tr(f)})}};return n.store(kt.store).$t({Ft:!0},function(a,l){var f=new Je(a);return u(f.popLast())}).next(function(){return n.store(sn.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=ni(f);return u(d.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(Pn.store);return i.$t(function(o,u){var a=wa(u),l=yA(n.R,a);return i.put(l)})},e}();function sI(e){e.createObjectStore(Zt.store,{keyPath:Zt.keyPath}).createIndex(Zt.documentTargetsIndex,Zt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Pn.store,{keyPath:Pn.keyPath}).createIndex(Pn.queryTargetsIndexName,Pn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Wn.store)}var Bm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",QF=function(){function e(t,n,i,o,u,a,l,f,d,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=u,this.window=a,this.document=l,this.De=d,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(g){return Promise.resolve()},!e.yt())throw new Y(P.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new GF(this,o),this.Le=n+"main",this.R=new gA(f),this.Be=new ou(this.Le,11,new YF(this.R)),this.qe=new $F(this.referenceDelegate,this.R),this.Ut=new qF,this.Ue=function(g,v){return new WF(g,v)}(this.R,this.Ut),this.Ke=new jF,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&Mt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Y(P.FAILED_PRECONDITION,Bm);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Yn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return H(n,void 0,void 0,function(){return K(this,function(o){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return H(n,void 0,void 0,function(){return K(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return H(n,void 0,void 0,function(){return K(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return zl(n).put(new ii(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Yo(n))return ne("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return ha(t).get(zn.key).next(function(i){return J.resolve(n.tn(i))})},e.prototype.en=function(t){return zl(t).delete(this.clientId)},e.prototype.nn=function(){return H(this,void 0,void 0,function(){var t,n,i,o,u=this;return K(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Un(l,ii.store);return f.Nt().next(function(d){var p=u.rn(d,18e5),g=d.filter(function(v){return p.indexOf(v)===-1});return J.forEach(g,function(v){return f.delete(v.clientId)}).next(function(){return g})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?J.resolve(!0):ha(t).get(zn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new Y(P.FAILED_PRECONDITION,Bm);return!1}}return!(!n.networkEnabled||!n.inForeground)||zl(t).Nt().next(function(o){return n.rn(o,5e3).find(function(u){if(n.clientId!==u.clientId){var a=!n.networkEnabled&&u.networkEnabled,l=!n.inForeground&&u.inForeground,f=n.networkEnabled===u.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&ne("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return H(this,void 0,void 0,function(){var t=this;return K(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[zn.store,ii.store],function(i){var o=new QE(i,Yn.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return zl(n).Nt().next(function(i){return t.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return BF.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ne("IndexedDbPersistence","Starting transaction:",t);var u,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,LF,function(l){return u=new QE(l,o.Ne?o.Ne.next():Yn.o),n==="readwrite-primary"?o.Je(u).next(function(f){return!!f||o.Ye(u)}).next(function(f){if(!f)throw Mt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new Y(P.FAILED_PRECONDITION,dA);return i(u)}).next(function(f){return o.Ze(u).next(function(){return f})}):o.dn(u).next(function(){return i(u)})}).then(function(l){return u.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return ha(t).get(zn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new Y(P.FAILED_PRECONDITION,Bm)})},e.prototype.Ze=function(t){var n=new zn(this.clientId,this.allowTabSynchronization,Date.now());return ha(t).put(zn.key,n)},e.yt=function(){return ou.yt()},e.prototype.Xe=function(t){var n=this,i=ha(t);return i.get(zn.key).next(function(o){return n.tn(o)?(ne("IndexedDbPersistence","Releasing primary lease."),i.delete(zn.key)):J.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(Mt("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),iL()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return ne("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Mt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Mt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function ha(e){return Un(e,zn.store)}function zl(e){return Un(e,ii.store)}function hy(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var TA=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return i.yn(t,n,o)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(o){for(var u=0,a=i;u<a.length;u++)a[u].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(i,o){for(var u=0,a=n;u<a.length;u++)a[u].applyToLocalView(o)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(o){return i.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return i.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(o){return _e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):ry(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new _e(n)).next(function(i){var o=Lg();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},e.prototype.In=function(t,n,i){var o=this,u=n.collectionGroup,a=Lg();return this.Ut.getCollectionParents(t,u).next(function(l){return J.forEach(l,function(f){var d=function(p,g){return new fi(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,f.child(u));return o.An(t,d,i).next(function(p){p.forEach(function(g,v){a=a.insert(g,v)})})}).next(function(){return a})})},e.prototype.An=function(t,n,i){var o,u,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return u=l,a.Rn(t,u,o).next(function(f){o=f;for(var d=0,p=u;d<p.length;d++)for(var g=p[d],v=0,b=g.mutations;v<b.length;v++){var _=b[v],T=_.key,S=o.get(T);S==null&&(S=fn.newInvalidDocument(T),o=o.insert(T,S)),Dg(_,S,g.localWriteTime),S.isFoundDocument()||(o=o.remove(T))}})}).next(function(){return o.forEach(function(l,f){_c(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,i){for(var o=ft(),u=0,a=n;u<a.length;u++)for(var l=0,f=a[u].mutations;l<f.length;l++){var d=f[l];d instanceof Gi&&i.get(d.key)===null&&(o=o.add(d.key))}var p=i;return this.Ue.getEntries(t,o).next(function(g){return g.forEach(function(v,b){b.isFoundDocument()&&(p=p.insert(v,b))}),p})},e}(),JF=function(){function e(t,n,i,o){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=o}return e.Pn=function(t,n){for(var i=ft(),o=ft(),u=0,a=n.docChanges;u<a.length;u++){var l=a[u];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,i,o)},e}(),SA=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,o){var u=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(Ue.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var l=u.Cn(n,a);return(sf(n)||Pf(n))&&u.Nn(n.limitType,l,o,i)?u.Dn(t,n):(Rg()<=Qe.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pg(n)),u.Sn.getDocumentsMatchingQuery(t,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var i=new Kt(H1(t));return n.forEach(function(o,u){_c(t,u)&&(i=i.add(u))}),i},e.prototype.Nn=function(t,n,i,o){if(i.size!==n.size)return!0;var u=t==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Rg()<=Qe.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Pg(n)),this.Sn.getDocumentsMatchingQuery(t,n,Ue.min())},e}(),ZF=function(){function e(t,n,i,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new hn(Be),this.Fn=new _u(function(u){return yc(u)},Ah),this.$n=Ue.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new TA(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(e,t,n,i){return new ZF(e,t,n,i)}function kA(e,t){return H(this,void 0,void 0,function(){var n,i,o,u;return K(this,function(a){switch(a.label){case 0:return n=se(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(t),o=new TA(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var p=[],g=[],v=ft(),b=0,_=f;b<_.length;b++){var T=_[b];p.push(T.batchId);for(var S=0,x=T.mutations;S<x.length;S++){var O=x[S];v=v.add(O.key)}}for(var U=0,B=d;U<B.length;U++){var te=B[U];g.push(te.batchId);for(var V=0,we=te.mutations;V<we.length;V++){var G=we[V];v=v.add(G.key)}}return o.pn(l,v).next(function(oe){return{Ln:oe,removedBatchIds:p,addedBatchIds:g}})})})];case 1:return u=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),u)]}})})}function eU(e,t){var n=se(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=t.batch.keys(),u=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var p=f.batch,g=p.keys(),v=J.resolve();return g.forEach(function(b){v=v.next(function(){return d.getEntry(l,b)}).next(function(_){var T=f.docVersions.get(b);Re(T!==null),_.version.compareTo(T)<0&&(p.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),v.next(function(){return a._n.removeMutationBatch(l,p)})}(n,i,t,u).next(function(){return u.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function CA(e){var t=se(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function tU(e,t){var n=se(e),i=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(p,g){var v=o.get(g);if(v){l.push(n.qe.removeMatchingKeys(u,p.removedDocuments,g).next(function(){return n.qe.addMatchingKeys(u,p.addedDocuments,g)}));var b=p.resumeToken;if(b.approximateByteSize()>0){var _=v.withResumeToken(b,i).withSequenceNumber(u.currentSequenceNumber);o=o.insert(g,_),function(T,S,x){return Re(S.resumeToken.approximateByteSize()>0),T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(v,_,p)&&l.push(n.qe.updateTargetData(u,_))}}});var f=Ir();if(t.documentUpdates.forEach(function(p,g){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(u,p))}),l.push(nU(u,a,t.documentUpdates,i,void 0).next(function(p){f=p})),!i.isEqual(Ue.min())){var d=n.qe.getLastRemoteSnapshotVersion(u).next(function(p){return n.qe.setTargetsMetadata(u,u.currentSequenceNumber,i)});l.push(d)}return J.waitFor(l).next(function(){return a.apply(u)}).next(function(){return n.Mn.En(u,f)}).next(function(){return f})}).then(function(u){return n.kn=o,u})}function nU(e,t,n,i,o){var u=ft();return n.forEach(function(a){return u=u.add(a)}),t.getEntries(e,u).next(function(a){var l=Ir();return n.forEach(function(f,d){var p=a.get(f),g=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual(Ue.min())?(t.removeEntry(f,g),l=l.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(d,g),l=l.insert(f,d)):ne("LocalStore","Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),l})}function rU(e,t){var n=se(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function Ff(e,t){var n=se(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,t).next(function(u){return u?(o=u,J.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new Rh(t,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function au(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a;return K(this,function(l){switch(l.label){case 0:i=se(e),o=i.kn.get(t),u=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",u,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Yo(a=l.sent()))throw a;return ne("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function Uf(e,t,n){var i=se(e),o=Ue.min(),u=ft();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var p=se(l),g=p.Fn.get(d);return g!==void 0?J.resolve(p.kn.get(g)):p.qe.getTargetData(f,d)}(i,a,zr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){u=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,t,n?o:Ue.min(),n?u:ft())}).next(function(l){return{documents:l,Bn:u}})})}function NA(e,t){var n=se(e),i=se(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(u){return i.lt(u,t).next(function(a){return a?a.target:null})})}function RA(e){var t=se(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,u){var a=se(i),l=Ir(),f=ly(u),d=Ci(o),p=IDBKeyRange.lowerBound(f,!0);return d.$t({index:kt.readTimeIndex,range:p},function(g,v){var b=Fg(a.R,v);l=l.insert(b.key,b),f=v.readTime}).next(function(){return{wn:l,readTime:vA(f)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,o=n.readTime;return t.$n=o,i})}function iU(e){return H(this,void 0,void 0,function(){var t;return K(this,function(n){return[2,(t=se(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var u=Ci(o),a=Ue.min();return u.$t({index:kt.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=vA(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){t.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oU=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return J.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:In(i.createTime)}),J.resolve()},e.prototype.getNamedQuery=function(t,n){return J.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:wA(i.bundledQuery),readTime:In(i.readTime)}}(n)),J.resolve()},e}(),dy=function(){function e(){this.Wn=new Kt(zt.Gn),this.zn=new Kt(zt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new zt(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(o){return i.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new zt(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(o){return i.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,i=new _e(new Je([])),o=new zt(i,t),u=new zt(i,t+1),a=[];return this.zn.forEachInRange([o,u],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new _e(new Je([])),i=new zt(n,t),o=new zt(n,t+1),u=ft();return this.zn.forEachInRange([i,o],function(a){u=u.add(a.key)}),u},e.prototype.containsKey=function(t){var n=new zt(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),zt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return _e.comparator(t.key,n.key)||Be(t.ns,n.ns)},e.Hn=function(t,n){return Be(t.ns,n.ns)||_e.comparator(t.key,n.key)},e}(),sU=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Kt(zt.Gn)}return e.prototype.checkEmpty=function(t){return J.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,o){var u=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new cy(u,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new zt(d.key,u)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return J.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return J.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,o=this.cs(i),u=o<0?0:o;return J.resolve(this._n.length>u?this._n[u]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return J.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return J.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=new zt(n,0),u=new zt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,u],function(l){var f=i.os(l.ns);a.push(f)}),J.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Kt(Be);return n.forEach(function(u){var a=new zt(u,0),l=new zt(u,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),J.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,o=i.length+1,u=i;_e.isDocumentKey(u)||(u=u.child(""));var a=new zt(new _e(u),0),l=new Kt(Be);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),J.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(o){var u=n.os(o);u!==null&&i.push(u)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;Re(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return J.forEach(n.mutations,function(u){var a=new zt(u.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(function(){i.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new zt(n,0),o=this.rs.firstAfterOrEqual(i);return J.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,J.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),uU=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new hn(_e.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var o=n.key,u=this.docs.get(o),a=u?u.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return J.resolve(i?i.document.clone():fn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,o=Ir();return n.forEach(function(u){var a=i.docs.get(u);o=o.insert(u,a?a.document.clone():fn.newInvalidDocument(u))}),J.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var o=Ir(),u=new _e(n.path.child("")),a=this.docs.getIteratorFrom(u);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,p=d.document,g=d.readTime;if(!n.path.isPrefixOf(f.path))break;g.compareTo(i)<=0||_c(n,p)&&(o=o.insert(p.key,p.clone()))}return J.resolve(o)},e.prototype.fs=function(t,n){return J.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new aU(this)},e.prototype.getSize=function(t){return J.resolve(this.size)},e}(),aU=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return Ie(t,e),t.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(u,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(u))):i.Ie.removeEntry(u)}),J.waitFor(o)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(IA),cU=function(){function e(t){this.persistence=t,this.ds=new _u(function(n){return yc(n)},Ah),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.ws=0,this._s=new dy,this.targetCount=0,this.ys=Mf.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,o){return n(o)}),J.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return J.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return J.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),J.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),J.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Mf(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,J.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),J.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,J.resolve()},e.prototype.removeTargets=function(t,n,i){var o=this,u=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),u++)}),J.waitFor(a).next(function(){return u})},e.prototype.getTargetCount=function(t){return J.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return J.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),J.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(function(a){u.push(o.markPotentiallyOrphaned(t,a))}),J.waitFor(u)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),J.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return J.resolve(i)},e.prototype.containsKey=function(t,n){return J.resolve(this._s.containsKey(n))},e}(),lU=function(){function e(t,n){var i=this;this.gs={},this.Ne=new Yn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new cU(this),this.Ut=new VF,this.Ue=function(o,u){return new uU(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new gA(n),this.Ke=new oU(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new sU(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ne("MemoryPersistence","Starting transaction:",t);var u=new fU(this.Ne.next());return this.referenceDelegate.Es(),i(u).next(function(a){return o.referenceDelegate.Ts(u).next(function(){return a})}).toPromise().then(function(a){return u.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return J.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),fU=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return Ie(t,e),t}(pA),hU=function(){function e(t){this.persistence=t,this.As=new dy,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ye()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),J.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),J.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),J.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(u){return i.vs.add(u.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(u){u.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.vs,function(o){var u=_e.fromPath(o);return n.Ps(t,u).next(function(a){a||i.removeEntry(u)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return J.or([function(){return J.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),Qt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(e,t){return"firestore_clients_"+e+"_"+t}function aI(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function $m(e,t){return"firestore_targets_"+e+"_"+t}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");var cI=function(){function e(t,n,i,o){this.user=t,this.batchId=n,this.state=i,this.error=o}return e.Vs=function(t,n,i){var o,u=JSON.parse(i),a=typeof u=="object"&&["pending","acknowledged","rejected"].indexOf(u.state)!==-1&&(u.error===void 0||typeof u.error=="object");return a&&u.error&&(a=typeof u.error.message=="string"&&typeof u.error.code=="string")&&(o=new Y(u.error.code,u.error.message)),a?new e(t,n,u.state,o):(Mt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Km=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,o=JSON.parse(n),u=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new Y(o.error.code,o.error.message)),u?new e(t,o.state,i):(Mt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),lI=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,u=Nh(),a=0;o&&a<i.activeTargetIds.length;++a)o=j1(i.activeTargetIds[a]),u=u.add(i.activeTargetIds[a]);return o?new e(t,u):(Mt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),dU=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Mt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Ug=function(){function e(){this.activeTargetIds=Nh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Hm=function(){function e(t,n,i,o,u){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new hn(Be),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=uI(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Ug),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return H(this,void 0,void 0,function(){var t,n,i,o,u,a,l,f,d,p,g,v=this;return K(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=b.sent(),n=0,i=t;n<i.length;n++)(o=i[n])!==this.Ns&&(u=this.getItem(uI(this.persistenceKey,o)))&&(a=lI.Vs(o,u))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,p=this.$s;d<p.length;d++)g=p[d],this.ks(g);return this.$s=[],this.window.addEventListener("pagehide",function(){return v.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem($m(this.persistenceKey,t));if(i){var o=Km.Vs(t,i);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem($m(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var o=this;n.forEach(function(u){o.Hs(u)}),this.currentUser=t,i.forEach(function(u){o.addPendingMutation(u)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return ne("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){ne("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){ne("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(ne("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Mt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return H(n,void 0,void 0,function(){var o,u,a,l,f,d;return K(this,function(p){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(u=this.ni(i.key,i.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(g){var v=Yn.o;if(g!=null)try{var b=JSON.parse(g);Re(typeof b=="number"),v=b}catch(_){Mt("SharedClientState","Failed to read sequence number from WebStorage",_)}return v}(i.newValue))!==Yn.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var o=new cI(this.currentUser,t,n,i),u=aI(this.persistenceKey,this.currentUser,t);this.setItem(u,o.Ss())},e.prototype.Hs=function(t){var n=aI(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var o=$m(this.persistenceKey,t),u=new Km(t,n,i);this.setItem(o,u.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return lI.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),o=Number(i[1]),u=i[2]!==void 0?i[2]:null;return cI.Vs(new Qt(u),o,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),o=Number(i[1]);return Km.Vs(o,n)},e.prototype.js=function(t){return dU.Vs(t)},e.prototype.ii=function(t){return H(this,void 0,void 0,function(){return K(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ne("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),u=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){u.has(d)||l.push(d)}),u.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Nh();return t.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),xA=function(){function e(){this.li=new Ug,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Ug,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),pU=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),fI=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),mU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},gU=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),vU=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return Ie(t,e),t.prototype.Fi=function(n,i,o,u){return new Promise(function(a,l){var f=new WM;f.listenOnce(HM.COMPLETE,function(){try{switch(f.getLastErrorCode()){case qm.NO_ERROR:var p=f.getResponseJson();ne("Connection","XHR received:",JSON.stringify(p)),a(p);break;case qm.TIMEOUT:ne("Connection",'RPC "'+n+'" timed out'),l(new Y(P.DEADLINE_EXCEEDED,"Request time out"));break;case qm.HTTP_ERROR:var g=f.getStatus();if(ne("Connection",'RPC "'+n+'" failed with status:',g,"response text:",f.getResponseText()),g>0){var v=f.getResponseJson().error;if(v&&v.status&&v.message){var b=function(_){var T=_.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(T)>=0?T:P.UNKNOWN}(v.status);l(new Y(b,v.message))}else l(new Y(P.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new Y(P.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{ne("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(u);f.send(i,"POST",d,o,15)})},t.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=$M(),a=KM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new GM({})),this.ki(l.initMessageHeaders,i),QD()||eL()||tL()||nL()||rL()||ZD()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");ne("Connection","Creating WebChannel: "+f,l);var d=u.createWebChannel(f,l),p=!1,g=!1,v=new gU({Ei:function(_){g?ne("Connection","Not sending because WebChannel is closed:",_):(p||(ne("Connection","Opening WebChannel transport."),d.open(),p=!0),ne("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),b=function(_,T,S){_.listen(T,function(x){try{S(x)}catch(O){setTimeout(function(){throw O},0)}})};return b(d,Bl.EventType.OPEN,function(){g||ne("Connection","WebChannel transport opened.")}),b(d,Bl.EventType.CLOSE,function(){g||(g=!0,ne("Connection","WebChannel transport closed"),v.Vi())}),b(d,Bl.EventType.ERROR,function(_){g||(g=!0,Cf("Connection","WebChannel transport errored:",_),v.Vi(new Y(P.UNAVAILABLE,"The operation could not be completed")))}),b(d,Bl.EventType.MESSAGE,function(_){var T;if(!g){var S=_.data[0];Re(!!S);var x=S,O=x.error||((T=x[0])===null||T===void 0?void 0:T.error);if(O){ne("Connection","WebChannel received error:",O);var U=O.status,B=function(V){var we=Dt[V];if(we!==void 0)return tA(we)}(U),te=O.message;B===void 0&&(B=P.INTERNAL,te="Unknown error status: "+U+" with message "+O.message),g=!0,v.Vi(new Y(B,te)),d.close()}else ne("Connection","WebChannel received:",S),v.Si(S)}}),b(a,zM.STAT_EVENT,function(_){_.stat===CE.PROXY?ne("Connection","Detected buffering proxy"):_.stat===CE.NOPROXY&&ne("Connection","Detected no buffering proxy")}),setTimeout(function(){v.Pi()},0),v},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,o){var u=this.xi(t,n);ne("RestConnection","Sending: ",u,i);var a={};return this.ki(a,o),this.Fi(t,u,a,i).then(function(l){return ne("RestConnection","Received: ",l),l},function(l){throw Cf("RestConnection",t+" failed with error: ",l,"url: ",u,"request:",i),l})},e.prototype.$i=function(t,n,i,o){return this.Ni(t,n,i,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=mU[t];return this.Di+"/v1/"+n+":"+i},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(){return typeof window<"u"?window:null}function cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(e){return new IF(e,!0)}var py=function(){function e(t,n,i,o,u){i===void 0&&(i=1e3),o===void 0&&(o=1.5),u===void 0&&(u=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),u=Math.max(0,i-o);u>0&&ne("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),PA=function(){function e(t,n,i,o,u,a){this.Se=t,this.zi=i,this.Hi=o,this.Ji=u,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new py(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return H(this,void 0,void 0,function(){return K(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return H(this,void 0,void 0,function(){return K(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return H(this,void 0,void 0,function(){return K(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Mt(n.toString()),Mt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===P.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){t.Yi===i&&t.lr(o)},function(o){n(function(){var u=new Y(P.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(u)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return H(t,void 0,void 0,function(){return K(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return ne("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),yU=function(e){function t(n,i,o,u,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=u,l}return Ie(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(u,a){var l;if("targetChange"in a){a.targetChange;var f=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:ye()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],p=function(S,x){return S.I?(Re(x===void 0||typeof x=="string"),Mn.fromBase64String(x||"")):(Re(x===void 0||x instanceof Uint8Array),Mn.fromUint8Array(x||new Uint8Array))}(u,a.targetChange.resumeToken),g=(v=a.targetChange.cause)&&function(S){var x=S.code===void 0?P.UNKNOWN:tA(S.code);return new Y(x,S.message||"")}(v);l=new rA(f,d,p,g||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=ri(u,f.document.name),p=In(f.document.updateTime);var v=new Xn({mapValue:{fields:f.document.fields}}),b=(g=fn.newFoundDocument(d,p,v),f.targetIds||[]),_=f.removedTargetIds||[];l=new af(b,_,g.key,g)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=ri(u,f.document),p=f.readTime?In(f.readTime):Ue.min(),v=fn.newNoDocument(d,p),g=f.removedTargetIds||[],l=new af([],g,v.key,v);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=ri(u,f.document),p=f.removedTargetIds||[],l=new af([],p,d,null);else{if(!("filter"in a))return ye();a.filter;var T=a.filter;T.targetId,f=T.count||0,d=new dF(f),p=T.targetId,l=new nA(p,d)}return l}(this.R,n),o=function(u){if(!("targetChange"in u))return Ue.min();var a=u.targetChange;return a.targetIds&&a.targetIds.length?Ue.min():a.readTime?In(a.readTime):Ue.min()}(n);return this.listener._r(i,o)},t.prototype.mr=function(n){var i={};i.database=Ja(this.R),i.addTarget=function(u,a){var l,f=a.target;return(l=xf(f)?{documents:aA(u,f)}:{query:cA(u,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=iA(u,a.resumeToken):a.snapshotVersion.compareTo(Ue.min())>0&&(l.readTime=Ya(u,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(u,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ye()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=Ja(this.R),i.removeTarget=n,this.cr(i)},t}(PA),wU=function(e){function t(n,i,o,u,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=u,l.gr=!1,l}return Ie(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Re(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(u,a){return u&&u.length>0?(Re(a!==void 0),u.map(function(l){return function(f,d){var p=f.updateTime?In(f.updateTime):In(d);return p.isEqual(Ue.min())&&(p=In(d)),new lF(p,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=In(n.commitTime);return this.listener.Tr(o,i)}return Re(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Ja(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(u){return Df(i.R,u)})};this.cr(o)},t}(PA),bU=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).credentials=n,u.Hi=i,u.R=o,u.Rr=!1,u}return Ie(t,e),t.prototype.br=function(){if(this.Rr)throw new Y(P.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new Y(P.UNKNOWN,a.toString())})},t.prototype.$i=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new Y(P.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),_U=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Mt(n),this.Vr=!1):ne("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),EU=function(e,t,n,i,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return H(u,void 0,void 0,function(){return K(this,function(l){switch(l.label){case 0:return Wi(this)?(ne("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return H(this,void 0,void 0,function(){var d;return K(this,function(p){switch(p.label){case 0:return(d=se(f)).Or.add(4),[4,Eu(d)];case 1:return p.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,Sc(d)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new _U(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(e){return H(this,void 0,void 0,function(){var t,n;return K(this,function(i){switch(i.label){case 0:if(!Wi(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Eu(e){return H(this,void 0,void 0,function(){var t,n;return K(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Oh(e,t){var n=se(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),vy(n)?gy(n):Tu(n).er()&&my(n,t))}function Za(e,t){var n=se(e),i=Tu(n);n.$r.delete(t),i.er()&&DA(n,t),n.$r.size===0&&(i.er()?i.ir():Wi(n)&&n.Br.set("Unknown"))}function my(e,t){e.qr.U(t.targetId),Tu(e).mr(t)}function DA(e,t){e.qr.U(t),Tu(e).yr(t)}function gy(e){e.qr=new bF({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Tu(e).start(),e.Br.Sr()}function vy(e){return Wi(e)&&!Tu(e).tr()&&e.$r.size>0}function Wi(e){return se(e).Or.size===0}function LA(e){e.qr=void 0}function IU(e){return H(this,void 0,void 0,function(){return K(this,function(t){return e.$r.forEach(function(n,i){my(e,n)}),[2]})})}function TU(e,t){return H(this,void 0,void 0,function(){return K(this,function(n){return LA(e),vy(e)?(e.Br.Nr(t),gy(e)):e.Br.set("Unknown"),[2]})})}function SU(e,t,n){return H(this,void 0,void 0,function(){var i,o,u;return K(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof rA&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return H(this,void 0,void 0,function(){var d,p,g,v;return K(this,function(b){switch(b.label){case 0:d=f.cause,p=0,g=f.targetIds,b.label=1;case 1:return p<g.length?(v=g[p],l.$r.has(v)?[4,l.remoteSyncer.rejectListen(v,d)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(v),l.qr.removeTarget(v),b.label=3;case 3:b.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),ne("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,jf(e,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof af?e.qr.X(t):t instanceof nA?e.qr.rt(t):e.qr.et(t),n.isEqual(Ue.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,CA(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(p,g){if(p.resumeToken.approximateByteSize()>0){var v=l.$r.get(g);v&&l.$r.set(g,v.withResumeToken(p.resumeToken,f))}}),d.targetMismatches.forEach(function(p){var g=l.$r.get(p);if(g){l.$r.set(p,g.withResumeToken(Mn.EMPTY_BYTE_STRING,g.snapshotVersion)),DA(l,p);var v=new Rh(g.target,p,1,g.sequenceNumber);my(l,v)}}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ne("RemoteStore","Failed to raise snapshot:",u=a.sent()),[4,jf(e,u)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function jf(e,t,n){return H(this,void 0,void 0,function(){var i=this;return K(this,function(o){switch(o.label){case 0:if(!Yo(t))throw t;return e.Or.add(1),[4,Eu(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return CA(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return K(this,function(u){switch(u.label){case 0:return ne("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return u.sent(),e.Or.delete(1),[4,Sc(e)];case 2:return u.sent(),[2]}})})}),[2]}})})}function MA(e,t){return t().catch(function(n){return jf(e,n,t)})}function Iu(e){return H(this,void 0,void 0,function(){var t,n,i,o,u;return K(this,function(a){switch(a.label){case 0:t=se(e),n=$i(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Wi(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,rU(t.localStore,i)];case 3:return(o=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=$i(l);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return u=a.sent(),[4,jf(t,u)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return FA(t)&&UA(t),[2]}})})}function FA(e){return Wi(e)&&!$i(e).tr()&&e.Fr.length>0}function UA(e){$i(e).start()}function AU(e){return H(this,void 0,void 0,function(){return K(this,function(t){return $i(e).Ar(),[2]})})}function kU(e){return H(this,void 0,void 0,function(){var t,n,i,o;return K(this,function(u){for(t=$i(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function CU(e,t,n){return H(this,void 0,void 0,function(){var i,o;return K(this,function(u){switch(u.label){case 0:return i=e.Fr.shift(),o=UF.from(i,t,n),[4,MA(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return u.sent(),[4,Iu(e)];case 2:return u.sent(),[2]}})})}function NU(e,t){return H(this,void 0,void 0,function(){return K(this,function(n){switch(n.label){case 0:return t&&$i(e).pr?[4,function(i,o){return H(this,void 0,void 0,function(){var u,a;return K(this,function(l){switch(l.label){case 0:return eA(a=o.code)&&a!==P.ABORTED?(u=i.Fr.shift(),$i(i).sr(),[4,MA(i,function(){return i.remoteSyncer.rejectFailedWrite(u.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Iu(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return FA(e)&&UA(e),[2]}})})}function jg(e,t){return H(this,void 0,void 0,function(){var n;return K(this,function(i){switch(i.label){case 0:return n=se(e),t?(n.Or.delete(2),[4,Sc(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Eu(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Tu(e){var t=this;return e.Ur||(e.Ur=function(n,i,o){var u=se(n);return u.br(),new yU(i,u.Hi,u.credentials,u.R,o)}(e.datastore,e.asyncQueue,{Ii:IU.bind(null,e),Ri:TU.bind(null,e),_r:SU.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return K(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),vy(e)?gy(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),LA(e),i.label=3;case 3:return[2]}})})})),e.Ur}function $i(e){var t=this;return e.Kr||(e.Kr=function(n,i,o){var u=se(n);return u.br(),new wU(i,u.Hi,u.credentials,u.R,o)}(e.datastore,e.asyncQueue,{Ii:AU.bind(null,e),Ri:NU.bind(null,e),Ir:kU.bind(null,e),Tr:CU.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return K(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,Iu(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(ne("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}var RU=function(){function e(t,n,i,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,i,o,u){var a=new e(t,n,Date.now()+i,o,u);return a.start(i),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Su(e,t){if(Mt("AsyncQueue",t+": "+e),Yo(e))return new Y(P.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jA=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||_e.comparator(n.key,i.key)}:function(n,i){return _e.comparator(n.key,i.key)},this.keyedMap=Lg(),this.sortedSet=new hn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),hI=function(){function e(){this.Qr=new hn(_e.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):ye():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),Vf=function(){function e(t,n,i,o,u,a,l,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,i,o){var u=[];return n.forEach(function(a){u.push({type:0,doc:a})}),new e(t,n,jA.emptySet(n),u,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},e}(),xU=function(){this.Wr=void 0,this.listeners=[]},OU=function(){this.queries=new _u(function(e){return K1(e)},bc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a,l,f;return K(this,function(d){switch(d.label){case 0:if(n=se(e),i=t.query,o=!1,(u=n.queries.get(i))||(o=!0,u=new xU),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=u,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=Su(l,"Initialization of query '"+Pg(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(i,u),u.listeners.push(t),t.zr(n.onlineState),u.Wr&&t.Hr(u.Wr)&&by(n),[2]}})})}function wy(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a;return K(this,function(l){return n=se(e),i=t.query,o=!1,(u=n.queries.get(i))&&(a=u.listeners.indexOf(t))>=0&&(u.listeners.splice(a,1),o=u.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function PU(e,t){for(var n=se(e),i=!1,o=0,u=t;o<u.length;o++){var a=u[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,p=f.listeners;d<p.length;d++)p[d].Hr(a)&&(i=!0);f.Wr=a}}i&&by(n)}function DU(e,t,n){var i=se(e),o=i.queries.get(t);if(o)for(var u=0,a=o.listeners;u<a.length;u++)a[u].onError(n);i.queries.delete(t)}function by(e){e.Gr.forEach(function(t){t.next()})}var _y=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=t.docChanges;i<o.length;i++){var u=o[i];u.type!==3&&n.push(u)}t=new Vf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Vf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VA=function(e){this.key=e},qA=function(e){this.key=e},BA=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=ft(),this.mutatedKeys=ft(),this.lo=H1(t),this.fo=new jA(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,o=n?n.mo:new hI,u=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=u,f=!1,d=sf(this.query)&&u.size===this.query.limit?u.last():null,p=Pf(this.query)&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal(function(v,b){var _=u.get(v),T=_c(i.query,b)?b:null,S=!!_&&i.mutatedKeys.has(_.key),x=!!T&&(T.hasLocalMutations||i.mutatedKeys.has(T.key)&&T.hasCommittedMutations),O=!1;_&&T?_.data.isEqual(T.data)?S!==x&&(o.track({type:3,doc:T}),O=!0):i.yo(_,T)||(o.track({type:2,doc:T}),O=!0,(d&&i.lo(T,d)>0||p&&i.lo(T,p)<0)&&(f=!0)):!_&&T?(o.track({type:0,doc:T}),O=!0):_&&!T&&(o.track({type:1,doc:_}),O=!0,(d||p)&&(f=!0)),O&&(T?(l=l.add(T),a=x?a.add(v):a.delete(v)):(l=l.delete(v),a=a.delete(v)))}),sf(this.query)||Pf(this.query))for(;l.size>this.query.limit;){var g=sf(this.query)?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),o.track({type:1,doc:g})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var o=this,u=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,g){return function(v,b){var _=function(T){switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return _(v)-_(b)}(p.type,g.type)||o.lo(p.doc,g.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new Vf(this.query,t.fo,u,a,t.mutatedKeys,f===0,d,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new hI,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=ft(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var i=[];return n.forEach(function(o){t.ho.has(o)||i.push(new qA(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new VA(o))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ft();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Vf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),LU=function(e,t,n){this.query=e,this.targetId=t,this.view=n},MU=function(e){this.key=e,this.bo=!1},FU=function(){function e(t,n,i,o,u,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new _u(function(l){return K1(l)},bc),this.Vo=new Map,this.So=new Set,this.Do=new hn(_e.comparator),this.Co=new Map,this.No=new dy,this.xo={},this.ko=new Map,this.Fo=Mf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function UU(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a,l;return K(this,function(f){switch(f.label){case 0:return n=Ay(e),(u=n.Po.get(t))?(i=u.targetId,n.sharedClientState.addLocalQueryTarget(i),o=u.view.Ro(),[3,4]):[3,1];case 1:return[4,Ff(n.localStore,zr(t))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,Ey(n,t,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Oh(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function Ey(e,t,n,i){return H(this,void 0,void 0,function(){var o,u,a,l,f,d;return K(this,function(p){switch(p.label){case 0:return e.Oo=function(g,v,b){return function(_,T,S,x){return H(this,void 0,void 0,function(){var O,U,B;return K(this,function(te){switch(te.label){case 0:return O=T.view._o(S),O.Nn?[4,Uf(_.localStore,T.query,!1).then(function(V){var we=V.documents;return T.view._o(we,O)})]:[3,2];case 1:O=te.sent(),te.label=2;case 2:return U=x&&x.targetChanges.get(T.targetId),B=T.view.applyChanges(O,_.isPrimaryClient,U),[2,(Vg(_,T.targetId,B.To),B.snapshot)]}})})}(e,g,v,b)},[4,Uf(e.localStore,t,!0)];case 1:return o=p.sent(),u=new BA(t,o.Bn),a=u._o(o.documents),l=sy.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),f=u.applyChanges(a,e.isPrimaryClient,l),Vg(e,n,f.To),d=new LU(t,n,u),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function jU(e,t){return H(this,void 0,void 0,function(){var n,i,o;return K(this,function(u){switch(u.label){case 0:return n=se(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!bc(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,au(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Za(n.remoteStore,i.targetId),cu(n,i.targetId)}).catch(Qo)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return cu(n,i.targetId),[4,au(n.localStore,i.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function VU(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a;return K(this,function(l){switch(l.label){case 0:i=ky(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var p,g=se(f),v=Dn.now(),b=d.reduce(function(_,T){return _.add(T.key)},ft());return g.persistence.runTransaction("Locally write mutations","readwrite",function(_){return g.Mn.pn(_,b).next(function(T){p=T;for(var S=[],x=0,O=d;x<O.length;x++){var U=O[x],B=hF(U,p.get(U.key));B!=null&&S.push(new Gi(U.key,B,V1(B.value.mapValue),cn.exists(!0)))}return g._n.addMutationBatch(_,v,S,d)})}).then(function(_){return _.applyToLocalDocumentSet(p),{batchId:_.batchId,changes:p}})}(i.localStore,t)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,p){var g=f.xo[f.currentUser.toKey()];g||(g=new hn(Be)),g=g.insert(d,p),f.xo[f.currentUser.toKey()]=g}(i,o.batchId,n),[4,Xi(i,o.changes)];case 3:return l.sent(),[4,Iu(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return u=l.sent(),a=Su(u,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function $A(e,t){return H(this,void 0,void 0,function(){var n,i;return K(this,function(o){switch(o.label){case 0:n=se(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,tU(n.localStore,t)];case 2:return i=o.sent(),t.targetChanges.forEach(function(u,a){var l=n.Co.get(a);l&&(Re(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?l.bo=!0:u.modifiedDocuments.size>0?Re(l.bo):u.removedDocuments.size>0&&(Re(l.bo),l.bo=!1))}),[4,Xi(n,i,t)];case 3:return o.sent(),[3,6];case 4:return[4,Qo(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function dI(e,t,n){var i=se(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(u,a){var l=a.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(u,a){var l=se(u);l.onlineState=a;var f=!1;l.queries.forEach(function(d,p){for(var g=0,v=p.listeners;g<v.length;g++)v[g].zr(a)&&(f=!0)}),f&&by(l)}(i.eventManager,t),o.length&&i.vo._r(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function qU(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f;return K(this,function(d){switch(d.label){case 0:return(i=se(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(u=o&&o.key)?(a=(a=new hn(_e.comparator)).insert(u,fn.newNoDocument(u,Ue.min())),l=ft().add(u),f=new oy(Ue.min(),new Map,new Kt(Be),a,l),[4,$A(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(u),i.Co.delete(t),Sy(i),[3,4];case 2:return[4,au(i.localStore,t,!1).then(function(){return cu(i,t,n)}).catch(Qo)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function BU(e,t){return H(this,void 0,void 0,function(){var n,i,o;return K(this,function(u){switch(u.label){case 0:n=se(e),i=t.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,eU(n.localStore,t)];case 2:return o=u.sent(),Ty(n,i,null),Iy(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Xi(n,o)];case 3:return u.sent(),[3,6];case 4:return[4,Qo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function $U(e,t,n){return H(this,void 0,void 0,function(){var i,o;return K(this,function(u){switch(u.label){case 0:i=se(e),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,function(a,l){var f=se(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var p;return f._n.lookupMutationBatch(d,l).next(function(g){return Re(g!==null),p=g.keys(),f._n.removeMutationBatch(d,g)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,p)})})}(i.localStore,t)];case 2:return o=u.sent(),Ty(i,t,n),Iy(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,Xi(i,o)];case 3:return u.sent(),[3,6];case 4:return[4,Qo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function KU(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a;return K(this,function(l){switch(l.label){case 0:Wi((n=se(e)).remoteStore)||ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=se(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return d._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return u=l.sent(),a=Su(u,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function Iy(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Ty(e,t,n){var i=se(e),o=i.xo[i.currentUser.toKey()];if(o){var u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),i.xo[i.currentUser.toKey()]=o}}function cu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,o=e.Vo.get(t);i<o.length;i++){var u=o[i];e.Po.delete(u),n&&e.vo.Mo(u,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||KA(e,a)})}function KA(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Za(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Sy(e))}function Vg(e,t,n){for(var i=0,o=n;i<o.length;i++){var u=o[i];u instanceof VA?(e.No.addReference(u.key,t),HU(e,u)):u instanceof qA?(ne("SyncEngine","Document no longer in limbo: "+u.key),e.No.removeReference(u.key,t),e.No.containsKey(u.key)||KA(e,u.key)):ye()}}function HU(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(ne("SyncEngine","New document in limbo: "+n),e.So.add(i),Sy(e))}function Sy(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new _e(Je.fromString(t)),i=e.Fo.next();e.Co.set(i,new MU(n)),e.Do=e.Do.insert(n,i),Oh(e.remoteStore,new Rh(zr(wc(n.path)),i,2,Yn.o))}}function Xi(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a;return K(this,function(l){switch(l.label){case 0:return i=se(e),o=[],u=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,t,n).then(function(p){if(p){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,p.fromCache?"not-current":"current"),o.push(p);var g=JF.Pn(d.targetId,p);u.push(g)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return H(this,void 0,void 0,function(){var p,g,v,b,_,T,S,x,O;return K(this,function(U){switch(U.label){case 0:p=se(f),U.label=1;case 1:return U.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(B){return J.forEach(d,function(te){return J.forEach(te.bn,function(V){return p.persistence.referenceDelegate.addReference(B,te.targetId,V)}).next(function(){return J.forEach(te.vn,function(V){return p.persistence.referenceDelegate.removeReference(B,te.targetId,V)})})})})];case 2:return U.sent(),[3,4];case 3:if(!Yo(g=U.sent()))throw g;return ne("LocalStore","Failed to update sequence numbers: "+g),[3,4];case 4:for(v=0,b=d;v<b.length;v++)_=b[v],T=_.targetId,_.fromCache||(S=p.kn.get(T),x=S.snapshotVersion,O=S.withLastLimboFreeSnapshotVersion(x),p.kn=p.kn.insert(T,O));return[2]}})})}(i.localStore,u)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function zU(e,t){return H(this,void 0,void 0,function(){var n,i;return K(this,function(o){switch(o.label){case 0:return(n=se(e)).currentUser.isEqual(t)?[3,3]:(ne("SyncEngine","User change. New user:",t.toKey()),[4,kA(n.localStore,t)]);case 1:return i=o.sent(),n.currentUser=t,function(u,a){u.ko.forEach(function(l){l.forEach(function(f){f.reject(new Y(P.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,Xi(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function GU(e,t){var n=se(e),i=n.Co.get(t);if(i&&i.bo)return ft().add(i.key);var o=ft(),u=n.Vo.get(t);if(!u)return o;for(var a=0,l=u;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function WU(e,t){return H(this,void 0,void 0,function(){var n,i,o;return K(this,function(u){switch(u.label){case 0:return[4,Uf((n=se(e)).localStore,t.query,!0)];case 1:return i=u.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&Vg(n,t.targetId,o.To),o)]}})})}function XU(e){return H(this,void 0,void 0,function(){var t;return K(this,function(n){return[2,RA((t=se(e)).localStore).then(function(i){return Xi(t,i)})]})})}function YU(e,t,n,i){return H(this,void 0,void 0,function(){var o,u;return K(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=se(l),p=se(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(g){return p.jt(g,f).next(function(v){return v?d.Mn.pn(g,v):J.resolve(null)})})}((o=se(e)).localStore,t)];case 1:return(u=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Iu(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Ty(o,t,i||null),Iy(o,t),function(l,f){se(se(l)._n).Gt(f)}(o.localStore,t)):ye(),a.label=4;case 4:return[4,Xi(o,u)];case 5:return a.sent(),[3,7];case 6:ne("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function QU(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a,l,f,d;return K(this,function(p){switch(p.label){case 0:return Ay(n=se(e)),ky(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,pI(n,i.toArray())]);case 1:return o=p.sent(),n.$o=!0,[4,jg(n.remoteStore,!0)];case 2:for(p.sent(),u=0,a=o;u<a.length;u++)l=a[u],Oh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(g,v){n.sharedClientState.isLocalQueryTarget(v)?f.push(v):d=d.then(function(){return cu(n,v),au(n.localStore,v,!0)}),Za(n.remoteStore,v)}),[4,d]);case 4:return p.sent(),[4,pI(n,f)];case 5:return p.sent(),function(g){var v=se(g);v.Co.forEach(function(b,_){Za(v.remoteStore,_)}),v.No.ts(),v.Co=new Map,v.Do=new hn(_e.comparator)}(n),n.$o=!1,[4,jg(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function pI(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f,d,p,g,v,b,_,T,S;return K(this,function(x){switch(x.label){case 0:i=se(e),o=[],u=[],a=0,l=t,x.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(p=i.Vo.get(f))&&p.length!==0?[4,Ff(i.localStore,zr(p[0]))]:[3,7]):[3,13];case 2:d=x.sent(),g=0,v=p,x.label=3;case 3:return g<v.length?(b=v[g],_=i.Po.get(b),[4,WU(i,_)]):[3,6];case 4:(T=x.sent()).snapshot&&u.push(T.snapshot),x.label=5;case 5:return g++,[3,3];case 6:return[3,11];case 7:return[4,NA(i.localStore,f)];case 8:return S=x.sent(),[4,Ff(i.localStore,S)];case 9:return d=x.sent(),[4,Ey(i,HA(S),f,!1)];case 10:x.sent(),x.label=11;case 11:o.push(d),x.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(u),o)]}})})}function HA(e){return B1(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function JU(e){var t=se(e);return se(se(t.localStore).persistence).fn()}function ZU(e,t,n,i){return H(this,void 0,void 0,function(){var o,u,a;return K(this,function(l){switch(l.label){case 0:return(o=se(e)).$o?(ne("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,RA(o.localStore)];case 3:return u=l.sent(),a=oy.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Xi(o,u,a)];case 4:return l.sent(),[3,8];case 5:return[4,au(o.localStore,t,!0)];case 6:return l.sent(),cu(o,t,i),[3,8];case 7:ye(),l.label=8;case 8:return[2]}})})}function ej(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f,d,p,g,v;return K(this,function(b){switch(b.label){case 0:if(!(i=Ay(e)).$o)return[3,10];o=0,u=t,b.label=1;case 1:return o<u.length?(a=u[o],i.Vo.has(a)?(ne("SyncEngine","Adding an already active target "+a),[3,5]):[4,NA(i.localStore,a)]):[3,6];case 2:return l=b.sent(),[4,Ff(i.localStore,l)];case 3:return f=b.sent(),[4,Ey(i,HA(l),f.targetId,!1)];case 4:b.sent(),Oh(i.remoteStore,f),b.label=5;case 5:return o++,[3,1];case 6:d=function(_){return K(this,function(T){switch(T.label){case 0:return i.Vo.has(_)?[4,au(i.localStore,_,!1).then(function(){Za(i.remoteStore,_),cu(i,_)}).catch(Qo)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})},p=0,g=n,b.label=7;case 7:return p<g.length?(v=g[p],[5,d(v)]):[3,10];case 8:b.sent(),b.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function Ay(e){var t=se(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$A.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=GU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qU.bind(null,t),t.vo._r=PU.bind(null,t.eventManager),t.vo.Mo=DU.bind(null,t.eventManager),t}function ky(e){var t=se(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=BU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$U.bind(null,t),t}var zA=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return H(this,void 0,void 0,function(){return K(this,function(n){switch(n.label){case 0:return this.R=xh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return AA(this.persistence,new SA,t.initialUser,this.R)},e.prototype.qo=function(t){return new lU(hU.bs,this.R)},e.prototype.Bo=function(t){return new xA},e.prototype.terminate=function(){return H(this,void 0,void 0,function(){return K(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),GA=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).Qo=n,u.cacheSizeBytes=i,u.forceOwnership=o,u.synchronizeTabs=!1,u}return Ie(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i=this;return K(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,iU(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,ky(this.Qo.syncEngine)];case 4:return o.sent(),[4,Iu(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return AA(this.persistence,new SA,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new HF(i,n.asyncQueue)},t.prototype.qo=function(n){var i=hy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Fr.withCacheSize(this.cacheSizeBytes):Fr.DEFAULT;return new QF(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,OA(),cf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new xA},t}(zA),tj=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return Ie(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i,o=this;return K(this,function(u){switch(u.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return u.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof Hm?(this.sharedClientState.syncEngine={ui:YU.bind(null,i),ai:ZU.bind(null,i),hi:ej.bind(null,i),fn:JU.bind(null,i),ci:XU.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(a){return H(o,void 0,void 0,function(){return K(this,function(l){switch(l.label){case 0:return[4,QU(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},t.prototype.Bo=function(n){var i=OA();if(!Hm.yt(i))throw new Y(P.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=hy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Hm(i,n.asyncQueue,o,n.clientId,n.initialUser)},t}(GA),qg=function(){function e(){}return e.prototype.initialize=function(t,n){return H(this,void 0,void 0,function(){var i=this;return K(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return dI(i.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=zU.bind(null,this.syncEngine),[4,jg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new OU},e.prototype.createDatastore=function(t){var n,i=xh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new vU(n));return function(u,a,l){return new bU(u,a,l)}(t.credentials,o,i)},e.prototype.createRemoteStore=function(t){var n,i,o,u,a,l=this;return n=this.localStore,i=this.datastore,o=t.asyncQueue,u=function(f){return dI(l.syncEngine,f,0)},a=fI.yt()?new fI:new pU,new EU(n,i,o,u,a)},e.prototype.createSyncEngine=function(t,n){return function(i,o,u,a,l,f,d){var p=new FU(i,o,u,a,l,f);return d&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return H(this,void 0,void 0,function(){var n;return K(this,function(i){switch(i.label){case 0:return n=se(t),ne("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Eu(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ph=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),nj=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return H(this,void 0,void 0,function(){var n,i=this;return K(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Y(P.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,a){return H(this,void 0,void 0,function(){var l,f,d,p,g,v;return K(this,function(b){switch(b.label){case 0:return l=se(u),f=Ja(l.R)+"/documents",d={documents:a.map(function(_){return Qa(l.R,_)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return p=b.sent(),g=new Map,p.forEach(function(_){var T=function(S,x){return"found"in x?function(O,U){Re(!!U.found),U.found.name,U.found.updateTime;var B=ri(O,U.found.name),te=In(U.found.updateTime),V=new Xn({mapValue:{fields:U.found.fields}});return fn.newFoundDocument(B,te,V)}(S,x):"missing"in x?function(O,U){Re(!!U.missing),Re(!!U.readTime);var B=ri(O,U.missing),te=In(U.readTime);return fn.newNoDocument(B,te)}(S,x):ye()}(l.R,_);g.set(T.key.toString(),T)}),v=[],[2,(a.forEach(function(_){var T=g.get(_.toString());Re(!!T),v.push(T)}),v)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(u){return i.recordVersion(u)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Tc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return H(this,void 0,void 0,function(){var t,n=this;return K(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,u){var a=_e.fromPath(u);n.mutations.push(new iy(a,n.precondition(a)))}),[4,function(o,u){return H(this,void 0,void 0,function(){var a,l,f;return K(this,function(d){switch(d.label){case 0:return a=se(o),l=Ja(a.R)+"/documents",f={writes:u.map(function(p){return Df(a.R,p)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ye();n=Ue.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new Y(P.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?cn.updateTime(n):cn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Ue.min()))throw new Y(P.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(n)}return cn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),rj=function(){function e(t,n,i,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new py(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return H(t,void 0,void 0,function(){var n,i,o=this;return K(this,function(u){return n=new nj(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Xo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!eA(n)}return!1},e}(),ij=function(){function e(t,n,i){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Qt.UNAUTHENTICATED,this.clientId=D1.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(u){return H(o,void 0,void 0,function(){return K(this,function(a){switch(a.label){case 0:return ne("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return a.sent(),this.user=u,[2]}})})})}return e.prototype.getConfiguration=function(){return H(this,void 0,void 0,function(){return K(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Y(P.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return H(t,void 0,void 0,function(){var i,o;return K(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=u.sent(),o=Su(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(e,t){return H(this,void 0,void 0,function(){var n,i,o=this;return K(this,function(u){switch(u.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=u.sent(),[4,t.initialize(n)];case 2:return u.sent(),i=n.initialUser,e.setCredentialChangeListener(function(a){return H(o,void 0,void 0,function(){return K(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,kA(t.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function XA(e,t){return H(this,void 0,void 0,function(){var n,i;return K(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Cy(e)];case 1:return n=o.sent(),ne("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(u){return function(a,l){return H(this,void 0,void 0,function(){var f,d;return K(this,function(p){switch(p.label){case 0:return(f=se(a)).asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials"),d=Wi(f),f.Or.add(3),[4,Eu(f)];case 1:return p.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),f.Or.delete(3),[4,Sc(f)];case 3:return p.sent(),[2]}})})}(t.remoteStore,u)}),e.onlineComponents=t,[2]}})})}function Cy(e){return H(this,void 0,void 0,function(){return K(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ne("FirestoreClient","Using default OfflineComponentProvider"),[4,WA(e,new zA)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Dh(e){return H(this,void 0,void 0,function(){return K(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ne("FirestoreClient","Using default OnlineComponentProvider"),[4,XA(e,new qg)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function mI(e){return Cy(e).then(function(t){return t.persistence})}function YA(e){return Cy(e).then(function(t){return t.localStore})}function gI(e){return Dh(e).then(function(t){return t.remoteStore})}function QA(e){return Dh(e).then(function(t){return t.syncEngine})}function lu(e){return H(this,void 0,void 0,function(){var t,n;return K(this,function(i){switch(i.label){case 0:return[4,Dh(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=UU.bind(null,t.syncEngine),n.onUnlisten=jU.bind(null,t.syncEngine),n)]}})})}function vI(e,t,n){var i=this;n===void 0&&(n={});var o=new Fn;return e.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var u;return K(this,function(a){switch(a.label){case 0:return u=function(l,f,d,p,g){var v=new Ph({next:function(_){f.enqueueAndForget(function(){return wy(l,b)});var T=_.docs.has(d);!T&&_.fromCache?g.reject(new Y(P.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&p&&p.source==="server"?g.reject(new Y(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(_)},error:function(_){return g.reject(_)}}),b=new _y(wc(d.path),v,{includeMetadataChanges:!0,so:!0});return yy(l,b)},[4,lu(e)];case 1:return[2,u.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function yI(e,t,n){var i=this;n===void 0&&(n={});var o=new Fn;return e.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var u;return K(this,function(a){switch(a.label){case 0:return u=function(l,f,d,p,g){var v=new Ph({next:function(_){f.enqueueAndForget(function(){return wy(l,b)}),_.fromCache&&p.source==="server"?g.reject(new Y(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(_)},error:function(_){return g.reject(_)}}),b=new _y(d,v,{includeMetadataChanges:!0,so:!0});return yy(l,b)},[4,lu(e)];case 1:return[2,u.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var oj=function(e,t,n,i,o,u,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=a,this.useFetchStreams=l},qf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),wI=new Map,JA=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},bI=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Qt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),sj=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),uj=function(){function e(t){var n=this;this.currentUser=Qt.UNAUTHENTICATED,this.oc=new Fn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){ne("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?i(o):(ne("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return t.cc!==n?(ne("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Re(typeof o.accessToken=="string"),new JA(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return K(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Re(t===null||typeof t=="string"),new Qt(t)},e}(),aj=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=Qt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),cj=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new aj(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Qt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(e,t,n){if(!n)throw new Y(P.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Ry(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new Y(P.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function ZA(e,t,n,i){if(t===!0&&i===!0)throw new Y(P.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function _I(e){if(!_e.isDocumentKey(e))throw new Y(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function EI(e){if(_e.isDocumentKey(e))throw new Y(P.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Lh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ye()}function Ze(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Y(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Lh(e);throw new Y(P.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function II(e,t){if(t<=0)throw new Y(P.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TI=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new Y(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Y(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ZA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),ec=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TI({}),this._settingsFrozen=!1,t instanceof qf?(this._databaseId=t,this._credentials=new bI):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Y(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qf(i.options.projectId)}(t),this._credentials=new uj(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Y(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Y(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TI(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new bI;switch(n.type){case"gapi":var i=n.client;return Re(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new cj(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Y(P.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=wI.get(t))&&(ne("ComponentProvider","Removing Datastore"),wI.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),St=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Vi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Zn=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Vi=function(e){function t(n,i,o){var u=this;return(u=e.call(this,n,i,wc(o))||this)._path=o,u.type="collection",u}return Ie(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new St(this.firestore,null,new _e(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Zn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=ut(e),Ny("collection","path",t),e instanceof ec)return EI(n=Je.fromString.apply(Je,bt([t],i))),new Vi(e,null,n);if(!(e instanceof St||e instanceof Vi))throw new Y(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return EI(n=Je.fromString.apply(Je,bt([e.path],i)).child(Je.fromString(t))),new Vi(e.firestore,null,n)}function lf(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=ut(e),arguments.length===1&&(t=D1.u()),Ny("doc","path",t),e instanceof ec)return _I(n=Je.fromString.apply(Je,bt([t],i))),new St(e,null,new _e(n));if(!(e instanceof St||e instanceof Vi))throw new Y(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return _I(n=e._path.child(Je.fromString.apply(Je,bt([t],i)))),new St(e.firestore,e instanceof Vi?e.converter:null,new _e(n))}function tk(e,t){return e=ut(e),t=ut(t),(e instanceof St||e instanceof Vi)&&(t instanceof St||t instanceof Vi)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function nk(e,t){return e=ut(e),t=ut(t),e instanceof Zn&&t instanceof Zn&&e.firestore===t.firestore&&bc(e._query,t._query)&&e.converter===t.converter}var lj=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new py(this,"async_queue_retry"),this.Ic=function(){var i=cf();i&&ne("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=cf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=cf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Fn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return H(this,void 0,void 0,function(){var t,n=this;return K(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Yo(t=i.sent()))throw t;return ne("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Mt("INTERNAL UNHANDLED ERROR: ",function(u){var a=u.message||"";return u.stack&&(a=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var u=RU.createAndSchedule(this,t,n,i,function(a){return o.vc(a)});return this.mc.push(u),u},e.prototype.Ac=function(){this.yc&&ye()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return H(this,void 0,void 0,function(){var t;return K(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var u=o[i];if(u.skipDelay(),t!=="all"&&u.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function fu(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,o=0,u=["next","error","complete"];o<u.length;o++){var a=u[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(e)}var fj=-1,$t=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).type="firestore",o._queue=new lj,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Ie(t,e),t.prototype._terminate=function(){return this._firestoreClient||rk(this),this._firestoreClient.terminate()},t}(ec);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(e){return e._firestoreClient||rk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function rk(e){var t,n=e._freezeSettings(),i=function(o,u,a,l){return new oj(o,u,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new ij(e._credentials,e._queue,i)}function SI(e,t,n){var i=this,o=new Fn;return e.asyncQueue.enqueue(function(){return H(i,void 0,void 0,function(){var u;return K(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,WA(e,n)];case 1:return a.sent(),[4,XA(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===P.FAILED_PRECONDITION||l.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(u=a.sent()))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function AI(e){if(e._initialized||e._terminated)throw new Y(P.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new Y(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Ho=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Mn.fromBase64String(t))}catch(n){throw new Y(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Mn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Jo=function(e){this._methodName=e},Mh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new Y(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Y(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Be(this._lat,t._lat)||Be(this._long,t._long)},e}(),hj=/^__.*__$/,dj=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Gi(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ic(t,this.data,n,this.fieldTransforms)},e}(),ik=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new Gi(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}var sk=function(){function e(t,n,i,o,u,a){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Cc(),this.fieldTransforms=u||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Bf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(ok(this.Nc)&&hj.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),pj=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||xh(t)}return e.prototype.Uc=function(t,n,i,o){return o===void 0&&(o=!1),new sk({Nc:t,methodName:n,qc:i,path:Ar.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Zo(e){var t=e._freezeSettings(),n=xh(e._databaseId);return new pj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Fh(e,t,n,i,o,u){u===void 0&&(u={});var a=e.Uc(u.merge||u.mergeFields?2:0,t,n,o);Dy("Data must be an object, but it was:",a,i);var l,f,d=ck(i,a);if(u.merge)l=new Qs(a.fieldMask),f=a.fieldTransforms;else if(u.mergeFields){for(var p=[],g=0,v=u.mergeFields;g<v.length;g++){var b=Bg(t,v[g],n);if(!a.contains(b))throw new Y(P.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");fk(p,b)||p.push(b)}l=new Qs(p),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new dj(new Xn(d),l,f)}var xy=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Jo);function uk(e,t,n){return new sk({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var mj=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype._toFieldTransform=function(n){return new Ec(n.path,new tu)},t.prototype.isEqual=function(n){return n instanceof t},t}(Jo),gj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Ie(t,e),t.prototype._toFieldTransform=function(n){var i=uk(this,n,!0),o=this.Kc.map(function(a){return es(a,i)}),u=new $o(o);return new Ec(n.path,u)},t.prototype.isEqual=function(n){return this===n},t}(Jo),vj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Ie(t,e),t.prototype._toFieldTransform=function(n){var i=uk(this,n,!0),o=this.Kc.map(function(a){return es(a,i)}),u=new Ko(o);return new Ec(n.path,u)},t.prototype.isEqual=function(n){return this===n},t}(Jo),yj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Qc=i,o}return Ie(t,e),t.prototype._toFieldTransform=function(n){var i=new nu(n.R,W1(n.R,this.Qc));return new Ec(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(Jo);function Oy(e,t,n,i){var o=e.Uc(1,t,n);Dy("Data must be an object, but it was:",o,i);var u=[],a=Xn.empty();Wo(i,function(f,d){var p=Ly(t,f,n);d=ut(d);var g=o.Oc(p);if(d instanceof xy)u.push(p);else{var v=es(d,g);v!=null&&(u.push(p),a.set(p,v))}});var l=new Qs(u);return new ik(a,l,o.fieldTransforms)}function Py(e,t,n,i,o,u){var a=e.Uc(1,t,n),l=[Bg(t,i,n)],f=[o];if(u.length%2!=0)throw new Y(P.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<u.length;d+=2)l.push(Bg(t,u[d])),f.push(u[d+1]);for(var p=[],g=Xn.empty(),v=l.length-1;v>=0;--v)if(!fk(p,l[v])){var b=l[v],_=f[v];_=ut(_);var T=a.Oc(b);if(_ instanceof xy)p.push(b);else{var S=es(_,T);S!=null&&(p.push(b),g.set(b,S))}}var x=new Qs(p);return new ik(g,x,a.fieldTransforms)}function ak(e,t,n,i){return i===void 0&&(i=!1),es(n,e.Uc(i?4:3,t))}function es(e,t){if(lk(e=ut(e)))return Dy("Unsupported field value:",t,e),ck(e,t);if(e instanceof Jo)return function(n,i){if(!ok(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],u=0,a=0,l=n;a<l.length;a++){var f=es(l[a],i.Mc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(e,t)}return function(n,i){if((n=ut(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return W1(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Dn.fromDate(n);return{timestampValue:Ya(i.R,o)}}if(n instanceof Dn)return o=new Dn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Ya(i.R,o)};if(n instanceof Mh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ho)return{bytesValue:iA(i.R,n._byteString)};if(n instanceof St){o=i.databaseId;var u=n.firestore._databaseId;if(!u.isEqual(o))throw i.Lc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:uy(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+Lh(n))}(e,t)}function ck(e,t){var n={};return M1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wo(e,function(i,o){var u=es(o,t.kc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function lk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Dn||e instanceof Mh||e instanceof Ho||e instanceof St||e instanceof Jo)}function Dy(e,t,n){if(!lk(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=Lh(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function Bg(e,t,n){if((t=ut(t))instanceof Br)return t._internalPath;if(typeof t=="string")return Ly(e,t);throw Bf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var wj=new RegExp("[~\\*/\\[\\]]");function Ly(e,t,n){if(t.search(wj)>=0)throw Bf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Br.bind.apply(Br,bt([void 0],t.split("."))))()._internalPath}catch{throw Bf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Bf(e,t,n,i,o){var u=i&&!i.isEmpty(),a=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(u||a)&&(f+=" (found",u&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new Y(P.INVALID_ARGUMENT,(l+=". ")+e+f)}function fk(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tc=function(){function e(t,n,i,o,u){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new St(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new bj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field($f("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),bj=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(tc);function $f(e,t){return typeof t=="string"?Ly(e,t):t instanceof Br?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var No=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),oi=function(e){function t(n,i,o,u,a,l){var f=this;return(f=e.call(this,n,i,o,u,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return Ie(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new Ca(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field($f("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},t}(tc),Ca=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(oi),Pi=function(){function e(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new No(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(o){t.call(n,new Ca(i._firestore,i._userDataWriter,o.key,o,new No(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var u=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new Ca(i._firestore,i._userDataWriter,l.doc.key,l.doc,new No(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Ca(i._firestore,i._userDataWriter,l.doc.key,l.doc,new No(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:_j(l.type),doc:f,oldIndex:d,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function _j(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}function hk(e,t){return e instanceof oi&&t instanceof oi?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Pi&&t instanceof Pi&&e._firestore===t._firestore&&nk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(e){if(Pf(e)&&e.explicitOrderBy.length===0)throw new Y(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ac=function(){};function Ti(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=t;i<o.length;i++){var u=o[i];e=u._apply(e)}return e}var Ej=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).jc=n,u.Wc=i,u.Gc=o,u.type="where",u}return Ie(t,e),t.prototype._apply=function(n){var i=Zo(n.firestore),o=function(u,a,l,f,d,p,g){var v;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Y(P.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){xI(g,p);for(var b=[],_=0,T=g;_<T.length;_++){var S=T[_];b.push(RI(f,u,S))}v={arrayValue:{values:b}}}else v=RI(f,u,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||xI(g,p),v=ak(l,"where",g,p==="in"||p==="not-in");var x=Qn.create(d,p,v);return function(O,U){if(U.g()){var B=ny(O);if(B!==null&&!B.isEqual(U.field))throw new Y(P.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+B.toString()+"' and '"+U.field.toString()+"'");var te=ty(O);te!==null&&mk(O,U.field,te)}var V=function(we,G){for(var oe=0,k=we.filters;oe<k.length;oe++){var $e=k[oe];if(G.indexOf($e.op)>=0)return $e.op}return null}(O,function(we){switch(we){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(V!==null)throw V===U.op?new Y(P.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+U.op.toString()+"' filter."):new Y(P.INVALID_ARGUMENT,"Invalid query. You cannot use '"+U.op.toString()+"' filters with '"+V.toString()+"' filters.")}(u,x),x}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Zn(n.firestore,n.converter,function(u,a){var l=u.filters.concat([a]);return new fi(u.path,u.collectionGroup,u.explicitOrderBy.slice(),l,u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))},t}(Ac),Ij=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return Ie(t,e),t.prototype._apply=function(n){var i=function(o,u,a){if(o.startAt!==null)throw new Y(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Y(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Vs(u,a);return function(f,d){if(ty(f)===null){var p=ny(f);p!==null&&mk(f,p,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new Zn(n.firestore,n.converter,function(o,u){var a=o.explicitOrderBy.concat([u]);return new fi(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(Ac),kI=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Hc=i,u.Jc=o,u}return Ie(t,e),t.prototype._apply=function(n){return new Zn(n.firestore,n.converter,$1(n._query,this.Hc,this.Jc))},t}(Ac),CI=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Ie(t,e),t.prototype._apply=function(n){var i=pk(n,this.type,this.Yc,this.Xc);return new Zn(n.firestore,n.converter,function(o,u){return new fi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(n._query,i))},t}(Ac),NI=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Ie(t,e),t.prototype._apply=function(n){var i=pk(n,this.type,this.Yc,this.Xc);return new Zn(n.firestore,n.converter,function(o,u){return new fi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)}(n._query,i))},t}(Ac);function pk(e,t,n,i){if(n[0]=ut(n[0]),n[0]instanceof tc)return function(u,a,l,f,d){if(!f)throw new Y(P.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],g=0,v=eu(u);g<v.length;g++){var b=v[g];if(b.field.isKeyField())p.push(Rf(a,f.key));else{var _=f.data.field(b.field);if(Jv(_))throw new Y(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var T=b.field.canonicalString();throw new Y(P.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+T+"' (used as the orderBy) does not exist.")}p.push(_)}}return new Xa(p,d)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=Zo(e.firestore);return function(u,a,l,f,d,p){var g=u.explicitOrderBy;if(d.length>g.length)throw new Y(P.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var v=[],b=0;b<d.length;b++){var _=d[b];if(g[b].field.isKeyField()){if(typeof _!="string")throw new Y(P.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!ry(u)&&_.indexOf("/")!==-1)throw new Y(P.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var T=u.path.child(Je.fromString(_));if(!_e.isDocumentKey(T))throw new Y(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+T+"' is not because it contains an odd number of segments.");var S=new _e(T);v.push(Rf(a,S))}else{var x=ak(l,f,_);v.push(x)}}return new Xa(v,p)}(e._query,e.firestore._databaseId,o,t,n,i)}function RI(e,t,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new Y(P.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ry(t)&&n.indexOf("/")!==-1)throw new Y(P.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(Je.fromString(n));if(!_e.isDocumentKey(i))throw new Y(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Rf(e,new _e(i))}if(n instanceof St)return Rf(e,n._key);throw new Y(P.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Lh(n)+".")}function xI(e,t){if(!Array.isArray(e)||e.length===0)throw new Y(P.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Y(P.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function mk(e,t,n){if(!n.isEqual(t))throw new Y(P.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var My=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Bo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Lt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Js(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ye()}},e.prototype.convertObject=function(t,n){var i=this,o={};return Wo(t.fields,function(u,a){o[u]=i.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new Mh(Lt(t.latitude),Lt(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(o){return i.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=U1(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ga(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Bi(t);return new Dn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=Je.fromString(t);Re(hA(i));var o=new qf(i.get(1),i.get(3)),u=new _e(i.popFirst(5));return o.isEqual(n)||Mt("Document "+u+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),u},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Tj=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Ie(t,e),t.prototype.convertBytes=function(n){return new Ho(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new St(this.firestore,null,i)},t}(My),Sj=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Zo(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var o=Di(t,this._firestore),u=Uh(o.converter,n,i),a=Fh(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,cn.none())),this},e.prototype.update=function(t,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this._verifyNotCommitted();var a,l=Di(t,this._firestore);return a=typeof(n=ut(n))=="string"||n instanceof Br?Py(this._dataReader,"WriteBatch.update",l._key,n,i,o):Oy(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,cn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Di(t,this._firestore);return this._mutations=this._mutations.concat(new Tc(n._key,cn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Y(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(e,t){if((e=ut(e)).firestore!==t)throw new Y(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lo=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Ie(t,e),t.prototype.convertBytes=function(n){return new Ho(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new St(this.firestore,null,i)},t}(My);function OI(e,t,n){e=Ze(e,St);var i=Ze(e.firestore,$t),o=Uh(e.converter,t,n);return kc(i,[Fh(Zo(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,cn.none())])}function PI(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=Ze(e,St);var u=Ze(e.firestore,$t),a=Zo(u);return kc(u,[(typeof(t=ut(t))=="string"||t instanceof Br?Py(a,"updateDoc",e._key,t,n,i):Oy(a,"updateDoc",e._key,t)).toMutation(e._key,cn.exists(!0))])}function gk(e){for(var t,n,i,o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];e=ut(e);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||fu(o[l])||(a=o[l],l++);var f,d,p,g={includeMetadataChanges:a.includeMetadataChanges};if(fu(o[l])){var v=o[l];o[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),o[l+1]=(n=v.error)===null||n===void 0?void 0:n.bind(v),o[l+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}if(e instanceof St)d=Ze(e.firestore,$t),p=wc(e._key.path),f={next:function(T){o[l]&&o[l]($g(d,e,T))},error:o[l+1],complete:o[l+2]};else{var b=Ze(e,Zn);d=Ze(b.firestore,$t),p=b._query;var _=new Lo(d);f={next:function(T){o[l]&&o[l](new Pi(d,_,b,T))},error:o[l+1],complete:o[l+2]},dk(e._query)}return function(T,S,x,O){var U=this,B=new Ph(O),te=new _y(S,B,x);return T.asyncQueue.enqueueAndForget(function(){return H(U,void 0,void 0,function(){var V;return K(this,function(we){switch(we.label){case 0:return V=yy,[4,lu(T)];case 1:return[2,V.apply(void 0,[we.sent(),te])]}})})}),function(){B.Wo(),T.asyncQueue.enqueueAndForget(function(){return H(U,void 0,void 0,function(){var V;return K(this,function(we){switch(we.label){case 0:return V=wy,[4,lu(T)];case 1:return[2,V.apply(void 0,[we.sent(),te])]}})})})}}(un(d),p,g,f)}function kc(e,t){return function(n,i){var o=this,u=new Fn;return n.asyncQueue.enqueueAndForget(function(){return H(o,void 0,void 0,function(){var a;return K(this,function(l){switch(l.label){case 0:return a=VU,[4,QA(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,u])]}})})}),u.promise}(un(e),t)}function $g(e,t,n){var i=n.docs.get(t._key),o=new Lo(e);return new oi(e,o,t._key,i,new No(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aj=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this)._firestore=n,o}return Ie(t,e),t.prototype.get=function(n){var i=this,o=Di(n,this._firestore),u=new Lo(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new oi(i._firestore,u,o._key,a._document,new No(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Zo(t)}return e.prototype.get=function(t){var n=this,i=Di(t,this._firestore),o=new Tj(this._firestore);return this._transaction.lookup([i._key]).then(function(u){if(!u||u.length!==1)return ye();var a=u[0];if(a.isFoundDocument())return new tc(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new tc(n._firestore,o,i._key,null,i.converter);throw ye()})},e.prototype.set=function(t,n,i){var o=Di(t,this._firestore),u=Uh(o.converter,n,i),a=Fh(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,i);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];var a,l=Di(t,this._firestore);return a=typeof(n=ut(n))=="string"||n instanceof Br?Py(this._dataReader,"Transaction.update",l._key,n,i,o):Oy(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=Di(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(){if(typeof Uint8Array>"u")throw new Y(P.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function LI(){if(typeof atob>"u")throw new Y(P.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var vk=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return LI(),new e(Ho.fromBase64String(t))},e.fromUint8Array=function(t){return DI(),new e(Ho.fromUint8Array(t))},e.prototype.toBase64=function(){return LI(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return DI(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),kj=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,o){AI(i=Ze(i,$t));var u=un(i),a=i._freezeSettings(),l=new qg;return SI(u,l,new GA(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){AI(n=Ze(n,$t));var i=un(n),o=n._freezeSettings(),u=new qg;return SI(i,u,new tj(u,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new Y(P.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Fn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return H(i,void 0,void 0,function(){var u;return K(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return H(this,void 0,void 0,function(){var f;return K(this,function(d){switch(d.label){case 0:return ou.yt()?(f=l+"main",[4,ou.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(hy(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return u=a.sent(),o.reject(u),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),yk=function(){function e(t,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof qf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Cf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(o,u,a,l){var f;l===void 0&&(l={});var d=(o=Ze(o,ec))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==u&&Cf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:u+":"+a,ssl:!1})),l.mockUserToken){var p,g;if(typeof l.mockUserToken=="string")p=l.mockUserToken,g=Qt.MOCK_USER;else{p=SS(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var v=l.mockUserToken.sub||l.mockUserToken.user_id;if(!v)throw new Y(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Qt(v)}o._credentials=new sj(new JA(p,g))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return K(this,function(u){switch(u.label){case 0:return[4,mI(t)];case 1:return i=u.sent(),[4,gI(t)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=se(a);return l.Or.delete(0),Sc(l)}(o))]}})})})}(un(Ze(this._delegate,$t)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return K(this,function(u){switch(u.label){case 0:return[4,mI(t)];case 1:return i=u.sent(),[4,gI(t)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!1),function(a){return H(this,void 0,void 0,function(){var l;return K(this,function(f){switch(f.label){case 0:return(l=se(a)).Or.add(0),[4,Eu(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(un(Ze(this._delegate,$t)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&ZA("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new Fn;return t.asyncQueue.enqueueAndForget(function(){return H(n,void 0,void 0,function(){var o;return K(this,function(u){switch(u.label){case 0:return o=KU,[4,QA(t)];case 1:return[2,o.apply(void 0,[u.sent(),i])]}})})}),i.promise}(un(Ze(this._delegate,$t)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(o,u){var a=this,l=new Ph(u);return o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return K(this,function(d){switch(d.label){case 0:return f=function(p,g){se(p).Gr.add(g),g.next()},[4,lu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return K(this,function(d){switch(d.label){case 0:return f=function(p,g){se(p).Gr.delete(g)},[4,lu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(un(n=Ze(n,$t)),fu(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Y(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Kf(this,ek(this._delegate,t))}catch(n){throw vn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Mo(this,lf(this._delegate,t))}catch(n){throw vn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new qh(this,function(n,i){if(n=Ze(n,ec),Ny("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Y(P.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Zn(n,null,function(o){return new fi(Je.emptyPath(),o)}(i))}(this._delegate,t))}catch(n){throw vn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,o){return function(u,a){var l=this,f=new Fn;return u.asyncQueue.enqueueAndForget(function(){return H(l,void 0,void 0,function(){var d;return K(this,function(p){switch(p.label){case 0:return[4,function(g){return Dh(g).then(function(v){return v.datastore})}(u)];case 1:return d=p.sent(),new rj(u.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(un(i),function(u){return o(new Aj(i,u))})}(this._delegate,function(i){return t(new wk(n,i))})},e.prototype.batch=function(){var t=this;return un(this._delegate),new bk(new Sj(this._delegate,function(n){return kc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new Y(P.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Y(P.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),jh=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Ie(t,e),t.prototype.convertBytes=function(n){return new vk(new Ho(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Mo.eu(i,this.firestore,null)},t}(My);function Cj(e){var t;t=e,Er.setLogLevel(t)}var wk=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new jh(t)}return e.prototype.get=function(t){var n=this,i=Ro(t);return this._delegate.get(i).then(function(o){return new nc(n._firestore,new oi(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},e.prototype.set=function(t,n,i){var o=Ro(t);return i?(Ry("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=Ro(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,bt([l,n,i],u)),this},e.prototype.delete=function(t){var n=Ro(t);return this._delegate.delete(n),this},e}(),bk=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var o=Ro(t);return i?(Ry("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=Ro(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,bt([l,n,i],u)),this},e.prototype.delete=function(t){var n=Ro(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Vh=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new Ca(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new rc(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,o=i.get(t);o||(o=new WeakMap,i.set(t,o));var u=o.get(n);return u||(u=new e(t,new jh(t),n),o.set(n,u)),u},e}();Vh.su=new WeakMap;var Mo=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new jh(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new Y(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new St(n._delegate,i,new _e(t)))},e.eu=function(t,n,i){return new e(n,new St(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Kf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Kf(this.firestore,ek(this._delegate,t))}catch(n){throw vn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=ut(t))instanceof St&&tk(this._delegate,t)},e.prototype.set=function(t,n){n=Ry("DocumentReference.set",n);try{return n?OI(this._delegate,t,n):OI(this._delegate,t)}catch(i){throw vn(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?PI(this._delegate,t):PI.apply(void 0,bt([this._delegate,t,n],i))}catch(u){throw vn(u,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return kc(Ze((t=this._delegate).firestore,$t),[new Tc(t._key,cn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=_k(n),u=Ek(n,function(a){return new nc(t.firestore,new oi(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return gk(this._delegate,o,u)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=Ze(i,St);var o=Ze(i.firestore,$t),u=un(o),a=new Lo(o);return function(l,f){var d=this,p=new Fn;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var g;return K(this,function(v){switch(v.label){case 0:return g=function(b,_,T){return H(this,void 0,void 0,function(){var S,x;return K(this,function(O){switch(O.label){case 0:return O.trys.push([0,2,,3]),[4,function(U,B){var te=se(U);return te.persistence.runTransaction("read document","readonly",function(V){return te.Mn.mn(V,B)})}(b,_)];case 1:return(x=O.sent()).isFoundDocument()?T.resolve(x):x.isNoDocument()?T.resolve(null):T.reject(new Y(P.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=O.sent(),x=Su(S,"Failed to get document '"+_+" from cache"),T.reject(x),[3,3];case 3:return[2]}})})},[4,YA(l)];case 1:return[2,g.apply(void 0,[v.sent(),f,p])]}})})}),p.promise}(u,i._key).then(function(l){return new oi(o,a,i._key,l,new No(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=Ze(i,St);var o=Ze(i.firestore,$t);return vI(un(o),i._key,{source:"server"}).then(function(u){return $g(o,i,u)})}(this._delegate):function(i){i=Ze(i,St);var o=Ze(i.firestore,$t);return vI(un(o),i._key).then(function(u){return $g(o,i,u)})}(this._delegate)).then(function(i){return new nc(n.firestore,new oi(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Vh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function vn(e,t,n){return e.message=e.message.replace(t,n),e}function _k(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!fu(i))return i}return{}}function Ek(e,t){var n,i,o;return{next:function(u){o.next&&o.next(t(u))},error:(n=(o=fu(e[0])?e[0]:fu(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var nc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Mo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return hk(this._delegate,t._delegate)},e}(),rc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(nc),qh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new jh(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,Ti(this._delegate,function(o,u,a){var l=u,f=$f("where",o);return new Ej(f,l,a)}(t,n,i)))}catch(o){throw vn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ti(this._delegate,function(i,o){o===void 0&&(o="asc");var u=o,a=$f("orderBy",i);return new Ij(a,u)}(t,n)))}catch(i){throw vn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ti(this._delegate,function(n){return II("limit",n),new kI("limit",n,"F")}(t)))}catch(n){throw vn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ti(this._delegate,function(n){return II("limitToLast",n),new kI("limitToLast",n,"L")}(t)))}catch(n){throw vn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ti(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new CI("startAt",i,!0)}).apply(void 0,t)))}catch(i){throw vn(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ti(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new CI("startAfter",i,!1)}).apply(void 0,t)))}catch(i){throw vn(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ti(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new NI("endBefore",i,!0)}).apply(void 0,t)))}catch(i){throw vn(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ti(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new NI("endAt",i,!1)}).apply(void 0,t)))}catch(i){throw vn(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return nk(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=Ze(i,Zn);var o=Ze(i.firestore,$t),u=un(o),a=new Lo(o);return function(l,f){var d=this,p=new Fn;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var g;return K(this,function(v){switch(v.label){case 0:return g=function(b,_,T){return H(this,void 0,void 0,function(){var S,x,O,U,B;return K(this,function(te){switch(te.label){case 0:return te.trys.push([0,2,,3]),[4,Uf(b,_,!0)];case 1:return B=te.sent(),S=new BA(_,B.Bn),x=S._o(B.documents),O=S.applyChanges(x,!1),T.resolve(O.snapshot),[3,3];case 2:return U=te.sent(),B=Su(U,"Failed to execute query '"+_+" against cache"),T.reject(B),[3,3];case 3:return[2]}})})},[4,YA(l)];case 1:return[2,g.apply(void 0,[v.sent(),f,p])]}})})}),p.promise}(u,i._query).then(function(l){return new Pi(o,a,i,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=Ze(i,Zn);var o=Ze(i.firestore,$t),u=un(o),a=new Lo(o);return yI(u,i._query,{source:"server"}).then(function(l){return new Pi(o,a,i,l)})}(this._delegate):function(i){i=Ze(i,Zn);var o=Ze(i.firestore,$t),u=un(o),a=new Lo(o);return dk(i._query),yI(u,i._query).then(function(l){return new Pi(o,a,i,l)})}(this._delegate)).then(function(i){return new Kg(n.firestore,new Pi(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=_k(n),u=Ek(n,function(a){return new Kg(t.firestore,new Pi(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return gk(this._delegate,o,u)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Vh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Nj=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new rc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Kg=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new qh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new rc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new Nj(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(o){t.call(n,new rc(i._firestore,o))})},e.prototype.isEqual=function(t){return hk(this._delegate,t._delegate)},e}(),Kf=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).firestore=n,o._delegate=i,o}return Ie(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Mo(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Mo(this.firestore,n===void 0?lf(this._delegate):lf(this._delegate,n))}catch(i){throw vn(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(o,u){var a=Ze(o.firestore,$t),l=lf(o),f=Uh(o.converter,u);return kc(a,[Fh(Zo(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,cn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Mo(i.firestore,o)})},t.prototype.isEqual=function(n){return tk(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Vh.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(qh);function Ro(e){return Ze(e,St)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rj=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Br.bind.apply(Br,bt([void 0],t)))}return e.documentId=function(){return new e(Ar.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=ut(t))instanceof Br&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),xj=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new mj("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new xy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new gj("arrayUnion",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new vj("arrayRemove",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new yj("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),Oj={Firestore:yk,GeoPoint:Mh,Timestamp:Dn,Blob:vk,Transaction:wk,WriteBatch:bk,DocumentReference:Mo,DocumentSnapshot:nc,Query:qh,QueryDocumentSnapshot:rc,QuerySnapshot:Kg,CollectionReference:Kf,FieldPath:Rj,FieldValue:xj,setLogLevel:Cj,CACHE_SIZE_UNLIMITED:fj};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(e){(function(t,n){t.INTERNAL.registerComponent(new ac("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Oj)))})(e,function(t,n){return new yk(t,new $t(t,n),new kj)}),e.registerVersion("@firebase/firestore","2.4.1")}Pj(Se);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ik="firebasestorage.googleapis.com",Tk="storageBucket",Dj=2*60*1e3,Lj=10*60*1e3,jt=function(e){Ie(t,e);function t(n,i){var o=e.call(this,zm(n),"Firebase Storage: "+i+" ("+zm(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return zm(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(kS);function zm(e){return"storage/"+e}function Fy(){var e="An unknown error occurred, please check the error payload for server response.";return new jt("unknown",e)}function Mj(e){return new jt("object-not-found","Object '"+e+"' does not exist.")}function Fj(e){return new jt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Uj(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new jt("unauthenticated",e)}function jj(){return new jt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function Vj(e){return new jt("unauthorized","User does not have permission to access '"+e+"'.")}function qj(){return new jt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Sk(){return new jt("canceled","User canceled the upload/download.")}function Bj(e){return new jt("invalid-url","Invalid URL '"+e+"'.")}function $j(e){return new jt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function Kj(){return new jt("no-default-bucket","No default bucket found. Did you set the '"+Tk+"' property when initializing the app?")}function Ak(){return new jt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Hj(){return new jt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function zj(){return new jt("no-download-url","The given file does not have any download URLs.")}function qs(e){return new jt("invalid-argument",e)}function kk(){return new jt("app-deleted","The Firebase app was deleted.")}function Ck(e){return new jt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Na(e,t){return new jt("invalid-format","String does not match format '"+e+"': "+t)}function Gl(e){throw new jt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Gm=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function Nk(e,t){switch(e){case or.RAW:return new Gm(Rk(t));case or.BASE64:case or.BASE64URL:return new Gm(xk(e,t));case or.DATA_URL:return new Gm(Xj(t),Yj(t))}throw Fy()}function Rk(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var u=i,a=e.charCodeAt(++n);i=65536|(u&1023)<<10|a&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function Wj(e){var t;try{t=decodeURIComponent(e)}catch{throw Na(or.DATA_URL,"Malformed data URL.")}return Rk(t)}function xk(e,t){switch(e){case or.BASE64:{var n=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(n||i){var o=n?"-":"_";throw Na(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case or.BASE64URL:{var u=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(u||a){var o=u?"+":"/";throw Na(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=Gj(t)}catch{throw Na(e,"Invalid character found")}for(var f=new Uint8Array(l.length),d=0;d<l.length;d++)f[d]=l.charCodeAt(d);return f}var Ok=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Na(or.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;i!=null&&(this.base64=Qj(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}return e}();function Xj(e){var t=new Ok(e);return t.base64?xk(or.BASE64,t.rest):Wj(t.rest)}function Yj(e){var t=new Ok(e);return t.contentType}function Qj(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jj={STATE_CHANGED:"state_changed"},yn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Wm(e){switch(e){case"running":case"pausing":case"canceling":return yn.RUNNING;case"paused":return yn.PAUSED;case"success":return yn.SUCCESS;case"canceled":return yn.CANCELED;case"error":return yn.ERROR;default:return yn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fo;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Fo||(Fo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zj=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Fo.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Fo.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Fo.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,i,o){if(this.sent_)throw Gl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Gl("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Gl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Gl("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function eV(){return new Zj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tV=function(){function e(){}return e.prototype.createConnection=function(){return eV()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(i.path==="")return i;throw $j(t)},e.makeFromUrl=function(t,n){var i=null,o="([A-Za-z0-9.\\-_]+)";function u(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+o+a,"i"),f={bucket:1,path:3};function d(oe){oe.path_=decodeURIComponent(oe.path)}for(var p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp("^https?://"+g+"/"+p+"/b/"+o+"/o"+v,"i"),_={bucket:1,path:3},T=n===Ik?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",x=new RegExp("^https?://"+T+"/"+o+"/"+S,"i"),O={bucket:1,path:2},U=[{regex:l,indices:f,postModify:u},{regex:b,indices:_,postModify:d},{regex:x,indices:O,postModify:d}],B=0;B<U.length;B++){var te=U[B],V=te.regex.exec(t);if(V){var we=V[te.indices.bucket],G=V[te.indices.path];G||(G=""),i=new e(we,G),te.postModify(i);break}}if(i==null)throw Bj(t);return i},e}(),nV=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(e,t,n){var i=1,o=null,u=!1,a=0;function l(){return a===2}var f=!1;function d(){for(var _=[],T=0;T<arguments.length;T++)_[T]=arguments[T];f||(f=!0,t.apply(null,_))}function p(_){o=setTimeout(function(){o=null,e(g,l())},_)}function g(_){for(var T=[],S=1;S<arguments.length;S++)T[S-1]=arguments[S];if(!f){if(_){d.call.apply(d,bt([null,_],T));return}var x=l()||u;if(x){d.call.apply(d,bt([null,_],T));return}i<64&&(i*=2);var O;a===1?(a=2,O=0):O=(i+Math.random())*1e3,p(O)}}var v=!1;function b(_){v||(v=!0,!f&&(o!==null?(_||(a=2),clearTimeout(o),p(0)):_||(a=1)))}return p(0),setTimeout(function(){u=!0,b(!0)},n),b}function iV(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(e){return e!==void 0}function sV(e){return typeof e=="function"}function uV(e){return typeof e=="object"&&!Array.isArray(e)}function Bh(e){return typeof e=="string"||e instanceof String}function MI(e){return Uy()&&e instanceof Blob}function Uy(){return typeof Blob<"u"}function Hg(e,t,n,i){if(i<t)throw qs("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(i>n)throw qs("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(e,t){var n=t.match(/^(\w+):\/\/.+/),i=n==null?void 0:n[1],o=t;return i==null&&(o="https://"+t),o+"/v0"+e}function Pk(e){var t=encodeURIComponent,n="?";for(var i in e)if(e.hasOwnProperty(i)){var o=t(i)+"="+t(e[i]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aV=function(){function e(t,n,i,o,u,a,l,f,d,p,g){var v=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=u.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=p,this.timeout_=d,this.pool_=g,this.promise_=new Promise(function(b,_){v.resolve_=b,v.reject_=_,v.start_()})}return e.prototype.start_=function(){var t=this;function n(o,u){if(u){o(!1,new Wl(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(f){var d=f.loaded,p=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var f=a.getErrorCode()===Fo.NO_ERROR,d=a.getStatus();if(!f||t.isRetryStatusCode_(d)){var p=a.getErrorCode()===Fo.ABORT;o(!1,new Wl(!1,null,p));return}var g=t.successCodes_.indexOf(d)!==-1;o(!0,new Wl(g,a))})}function i(o,u){var a=t.resolve_,l=t.reject_,f=u.connection;if(u.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());oV(d)?a(d):a()}catch(g){l(g)}else if(f!==null){var p=Fy();p.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,p)):l(p)}else if(u.canceled){var p=t.appDelete_?kk():Sk();l(p)}else{var p=qj();l(p)}}this.canceled_?i(!1,new Wl(!1,null,!0)):this.backoffId_=rV(n,i,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&iV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,i=[408,429],o=i.indexOf(t)!==-1,u=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||u},e}(),Wl=function(){function e(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}return e}();function cV(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function lV(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function fV(e,t){t&&(e["X-Firebase-GMPID"]=t)}function hV(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function dV(e,t,n,i,o,u){var a=Pk(e.urlParams),l=e.url+a,f=Object.assign({},e.headers);return fV(f,t),cV(f,n),lV(f,u),hV(f,i),new aV(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function mV(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=pV();if(n!==void 0){for(var i=new n,o=0;o<e.length;o++)i.append(e[o]);return i.getBlob()}else{if(Uy())return new Blob(e);throw new jt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function gV(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jy=function(){function e(t,n){var i=0,o="";MI(t)?(this.data_=t,i=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(MI(this.data_)){var i=this.data_,o=gV(i,t,n);return o===null?null:new e(o)}else{var u=new Uint8Array(this.data_.buffer,t,n-t);return new e(u,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Uy()){var i=t.map(function(f){return f instanceof e?f.data_:f});return new e(mV.apply(null,i))}else{var o=t.map(function(f){return Bh(f)?Nk(or.RAW,f).data:f.data_}),u=0;o.forEach(function(f){u+=f.byteLength});var a=new Uint8Array(u),l=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)a[l++]=f[d]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(e){var t;try{t=JSON.parse(e)}catch{return null}return uV(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function yV(e,t){var n=t.split("/").filter(function(i){return i.length>0}).join("/");return e.length===0?n:e+"/"+n}function Dk(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(e,t){return t}var mn=function(){function e(t,n,i,o){this.server=t,this.local=n||t,this.writable=!!i,this.xform=o||wV}return e}(),Xl=null;function bV(e){return!Bh(e)||e.length<2?e:Dk(e)}function $h(){if(Xl)return Xl;var e=[];e.push(new mn("bucket")),e.push(new mn("generation")),e.push(new mn("metageneration")),e.push(new mn("name","fullPath",!0));function t(u,a){return bV(a)}var n=new mn("name");n.xform=t,e.push(n);function i(u,a){return a!==void 0?Number(a):a}var o=new mn("size");return o.xform=i,e.push(o),e.push(new mn("timeCreated")),e.push(new mn("updated")),e.push(new mn("md5Hash",null,!0)),e.push(new mn("cacheControl",null,!0)),e.push(new mn("contentDisposition",null,!0)),e.push(new mn("contentEncoding",null,!0)),e.push(new mn("contentLanguage",null,!0)),e.push(new mn("contentType",null,!0)),e.push(new mn("metadata","customMetadata",!0)),Xl=e,Xl}function _V(e,t){function n(){var i=e.bucket,o=e.fullPath,u=new sr(i,o);return t._makeStorageReference(u)}Object.defineProperty(e,"ref",{get:n})}function EV(e,t,n){var i={};i.type="file";for(var o=n.length,u=0;u<o;u++){var a=n[u];i[a.local]=a.xform(i,t[a.server])}return _V(i,e),i}function Lk(e,t,n){var i=Vy(t);if(i===null)return null;var o=i;return EV(e,o,n)}function IV(e,t,n){var i=Vy(t);if(i===null||!Bh(i.downloadTokens))return null;var o=i.downloadTokens;if(o.length===0)return null;var u=encodeURIComponent,a=o.split(","),l=a.map(function(f){var d=e.bucket,p=e.fullPath,g="/b/"+u(d)+"/o/"+u(p),v=Yi(g,n),b=Pk({alt:"media",token:f});return v+b});return l[0]}function qy(e,t){for(var n={},i=t.length,o=0;o<i;o++){var u=t[o];u.writable&&(n[u.server]=e[u.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FI="prefixes",UI="items";function TV(e,t,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[FI])for(var o=0,u=n[FI];o<u.length;o++){var a=u[o],l=a.replace(/\/$/,""),f=e._makeStorageReference(new sr(t,l));i.prefixes.push(f)}if(n[UI])for(var d=0,p=n[UI];d<p.length;d++){var g=p[d],f=e._makeStorageReference(new sr(t,g.name));i.items.push(f)}return i}function SV(e,t,n){var i=Vy(n);if(i===null)return null;var o=i;return TV(e,t,o)}var hi=function(){function e(t,n,i,o){this.url=t,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(e){if(!e)throw Fy()}function Kh(e,t){function n(i,o){var u=Lk(e,o,t);return $r(u!==null),u}return n}function AV(e,t){function n(i,o){var u=SV(e,t,o);return $r(u!==null),u}return n}function kV(e,t){function n(i,o){var u=Lk(e,o,t);return $r(u!==null),IV(u,o,e.host)}return n}function Au(e){function t(n,i){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=jj():o=Uj():n.getStatus()===402?o=Fj(e.bucket):n.getStatus()===403?o=Vj(e.path):o=i,o.serverResponse=i.serverResponse,o}return t}function Hh(e){var t=Au(e);function n(i,o){var u=t(i,o);return i.getStatus()===404&&(u=Mj(e.path)),u.serverResponse=o.serverResponse,u}return n}function Mk(e,t,n){var i=t.fullServerUrl(),o=Yi(i,e.host),u="GET",a=e.maxOperationRetryTime,l=new hi(o,u,Kh(e,n),a);return l.errorHandler=Hh(t),l}function CV(e,t,n,i,o){var u={};t.isRoot?u.prefix="":u.prefix=t.path+"/",n&&n.length>0&&(u.delimiter=n),i&&(u.pageToken=i),o&&(u.maxResults=o);var a=t.bucketOnlyServerUrl(),l=Yi(a,e.host),f="GET",d=e.maxOperationRetryTime,p=new hi(l,f,AV(e,t.bucket),d);return p.urlParams=u,p.errorHandler=Au(t),p}function NV(e,t,n){var i=t.fullServerUrl(),o=Yi(i,e.host),u="GET",a=e.maxOperationRetryTime,l=new hi(o,u,kV(e,n),a);return l.errorHandler=Hh(t),l}function RV(e,t,n,i){var o=t.fullServerUrl(),u=Yi(o,e.host),a="PATCH",l=qy(n,i),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,p=new hi(u,a,Kh(e,i),d);return p.headers=f,p.body=l,p.errorHandler=Hh(t),p}function xV(e,t){var n=t.fullServerUrl(),i=Yi(n,e.host),o="DELETE",u=e.maxOperationRetryTime;function a(f,d){}var l=new hi(i,o,a,u);return l.successCodes=[200,204],l.errorHandler=Hh(t),l}function OV(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Fk(e,t,n){var i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=OV(null,t)),i}function PV(e,t,n,i,o){var u=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var U="",B=0;B<2;B++)U=U+Math.random().toString().slice(2);return U}var f=l();a["Content-Type"]="multipart/related; boundary="+f;var d=Fk(t,i,o),p=qy(d,n),g="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,v=`\r
--`+f+"--",b=jy.getBlob(g,i,v);if(b===null)throw Ak();var _={name:d.fullPath},T=Yi(u,e.host),S="POST",x=e.maxUploadRetryTime,O=new hi(T,S,Kh(e,n),x);return O.urlParams=_,O.headers=a,O.body=b.uploadData(),O.errorHandler=Au(t),O}var Hf=function(){function e(t,n,i,o){this.current=t,this.total=n,this.finalized=!!i,this.metadata=o||null}return e}();function By(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{$r(!1)}var i=t||["active"];return $r(!!n&&i.indexOf(n)!==-1),n}function DV(e,t,n,i,o){var u=t.bucketOnlyServerUrl(),a=Fk(t,i,o),l={name:a.fullPath},f=Yi(u,e.host),d="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},g=qy(a,n),v=e.maxUploadRetryTime;function b(T){By(T);var S;try{S=T.getResponseHeader("X-Goog-Upload-URL")}catch{$r(!1)}return $r(Bh(S)),S}var _=new hi(f,d,b,v);return _.urlParams=l,_.headers=p,_.body=g,_.errorHandler=Au(t),_}function LV(e,t,n,i){var o={"X-Goog-Upload-Command":"query"};function u(d){var p=By(d,["active","final"]),g=null;try{g=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{$r(!1)}g||$r(!1);var v=Number(g);return $r(!isNaN(v)),new Hf(v,i.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,f=new hi(n,a,u,l);return f.headers=o,f.errorHandler=Au(t),f}var jI=256*1024;function MV(e,t,n,i,o,u,a,l){var f=new Hf(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw Hj();var d=f.total-f.current,p=d;o>0&&(p=Math.min(p,o));var g=f.current,v=g+p,b=p===d?"upload, finalize":"upload",_={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":""+f.current},T=i.slice(g,v);if(T===null)throw Ak();function S(B,te){var V=By(B,["active","final"]),we=f.current+p,G=i.size(),oe;return V==="final"?oe=Kh(t,u)(B,te):oe=null,new Hf(we,G,V==="final",oe)}var x="POST",O=t.maxUploadRetryTime,U=new hi(n,x,S,O);return U.headers=_,U.body=T.uploadData(),U.progressCallback=l||null,U.errorHandler=Au(e),U}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FV=function(){function e(t,n,i){var o=sV(t)||n!=null||i!=null;if(o)this.next=t,this.error=n,this.complete=i;else{var u=t;this.next=u.next,this.error=u.error,this.complete=u.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uk=function(){function e(t,n,i){var o=this;i===void 0&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=$h(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(u){o._request=void 0,o._chunkMultiplier=1,u._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=u,o._transition("error"))},this._metadataErrorHandler=function(u){o._request=void 0,u._codeEquals("canceled")?o.completeTransitions_():(o._error=u,o._transition("error"))},this._promise=new Promise(function(u,a){o._resolve=u,o._reject=a,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(i){return t._updateProgress(n+i)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var o=i[0],u=i[1];switch(n._state){case"running":t(o,u);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,i){var o=DV(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(i,o){var u=LV(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(u,i,o);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=jI*this._chunkMultiplier,i=new Hf(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(u,a){var l;try{l=MV(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,i,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(l,u,a);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=jI*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,i){var o=Mk(t._ref.storage,t._ref._location,t._mappings),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,i){var o=PV(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Sk(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Wm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,i,o){var u=this,a=new FV(n,i,o);return this._addObserver(a),function(){u._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(i){t._notifyObserver(i)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Wm(this._state)){case yn.SUCCESS:Cs(this._resolve.bind(null,this.snapshot))();break;case yn.CANCELED:case yn.ERROR:var n=this._reject;Cs(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Wm(this._state);switch(n){case yn.RUNNING:case yn.PAUSED:t.next&&Cs(t.next.bind(t,this.snapshot))();break;case yn.SUCCESS:t.complete&&Cs(t.complete.bind(t))();break;case yn.CANCELED:case yn.ERROR:t.error&&Cs(t.error.bind(t,this._error))();break;default:t.error&&Cs(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zh=function(){function e(t,n){this._service=t,n instanceof sr?this._location=n:this._location=sr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new sr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Dk(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=vV(this._location.path);if(t===null)return null;var n=new sr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw Ck(t)},e}();function UV(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Uk(e,new jy(t),n)}function jV(e){var t={prefixes:[],items:[]};return jk(e,t).then(function(){return t})}function jk(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a;return K(this,function(l){switch(l.label){case 0:return i={pageToken:n},[4,Vk(e,i)];case 1:return o=l.sent(),(u=t.prefixes).push.apply(u,o.prefixes),(a=t.items).push.apply(a,o.items),o.nextPageToken==null?[3,3]:[4,jk(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Vk(e,t){return H(this,void 0,void 0,function(){var n,i;return K(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Hg("options.maxResults",1,1e3,t.maxResults),n=t||{},i=CV(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,o.sent().getPromise()]}})})}function VV(e){return H(this,void 0,void 0,function(){var t;return K(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Mk(e.storage,e._location,$h()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function qV(e,t){return H(this,void 0,void 0,function(){var n;return K(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),n=RV(e.storage,e._location,t,$h()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}function BV(e){return H(this,void 0,void 0,function(){var t;return K(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=NV(e.storage,e._location,$h()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(i){if(i===null)throw zj();return i})]}})})}function $V(e){return H(this,void 0,void 0,function(){var t;return K(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=xV(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function qk(e,t){var n=yV(e._location.path,t),i=new sr(e._location.bucket,n);return new zh(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(e){return/^[A-Za-z]+:\/\//.test(e)}function KV(e,t){return new zh(e,t)}function Bk(e,t){if(e instanceof Gh){var n=e;if(n._bucket==null)throw Kj();var i=new zh(n,n._bucket);return t!=null?Bk(i,t):i}else return t!==void 0?qk(e,t):e}function HV(e,t){if(t&&zg(t)){if(e instanceof Gh)return KV(e,t);throw qs("To use ref(service, url), the first argument must be a Storage instance.")}else return Bk(e,t)}function VI(e,t){var n=t==null?void 0:t[Tk];return n==null?null:sr.makeFromBucketSpec(n,e)}function zV(e,t,n,i){i===void 0&&(i={}),e.host="http://"+t+":"+n;var o=i.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:SS(o,e.app.options.projectId))}var Gh=function(){function e(t,n,i,o,u,a){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._pool=o,this._url=u,this._firebaseVersion=a,this._bucket=null,this._host=Ik,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Dj,this._maxUploadRetryTime=Lj,this._requests=new Set,u!=null?this._bucket=sr.makeFromBucketSpec(u,this._host):this._bucket=VI(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=sr.makeFromBucketSpec(this._url,t):this._bucket=VI(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Hg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Hg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return H(this,void 0,void 0,function(){var t,n;return K(this,function(i){switch(i.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=i.sent(),n!==null)return[2,n.accessToken];i.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return H(this,void 0,void 0,function(){var t,n;return K(this,function(i){switch(i.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=i.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new zh(this,t)},e.prototype._makeRequest=function(t,n,i){var o=this;if(this._deleted)return new nV(kk());var u=dV(t,this._appId,n,i,this._pool,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(function(){return o._requests.delete(u)},function(){return o._requests.delete(u)}),u},e.prototype.makeRequestWithTokens=function(t){return H(this,void 0,void 0,function(){var n,i,o;return K(this,function(u){switch(u.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=u.sent(),i=n[0],o=n[1],[2,this._makeRequest(t,i,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(e,t,n){return e=ut(e),UV(e,t,n)}function WV(e){return e=ut(e),VV(e)}function XV(e,t){return e=ut(e),qV(e,t)}function YV(e,t){return e=ut(e),Vk(e,t)}function QV(e){return e=ut(e),jV(e)}function JV(e){return e=ut(e),BV(e)}function ZV(e){return e=ut(e),$V(e)}function qI(e,t){return e=ut(e),HV(e,t)}function e2(e,t){return qk(e,t)}function t2(e,t,n,i){i===void 0&&(i={}),zV(e,t,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yl=function(){function e(t,n,i){this._delegate=t,this.task=n,this.ref=i}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BI=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Yl(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var i=this;return this._delegate.then(function(o){if(t)return t(new Yl(o,i,i._ref))},n)},e.prototype.on=function(t,n,i,o){var u=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new Yl(l,u,u._ref))}:a={next:n.next?function(l){return n.next(new Yl(l,u,u._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,i||void 0,o||void 0)},e}(),$I=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new ic(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new ic(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ic=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=e2(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new BI(GV(this._delegate,t,n),this)},e.prototype.putString=function(t,n,i){n===void 0&&(n=or.RAW),this._throwIfRoot("putString");var o=Nk(n,t),u=Gs({},i);return u.contentType==null&&o.contentType!=null&&(u.contentType=o.contentType),new BI(new Uk(this._delegate,new jy(o.data,!0),u),this)},e.prototype.listAll=function(){var t=this;return QV(this._delegate).then(function(n){return new $I(n,t.storage)})},e.prototype.list=function(t){var n=this;return YV(this._delegate,t||void 0).then(function(i){return new $I(i,n.storage)})},e.prototype.getMetadata=function(){return WV(this._delegate)},e.prototype.updateMetadata=function(t){return XV(this._delegate,t)},e.prototype.getDownloadURL=function(){return JV(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),ZV(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw Ck(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n2=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(zg(t))throw qs("ref() expected a child path but got a URL, use refFromURL instead.");return new ic(qI(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!zg(t))throw qs("refFromURL() expected a full URL but got a child path, use ref() instead.");try{sr.makeFromUrl(t,this._delegate.host)}catch{throw qs("refFromUrl() expected a valid full URL but got an invalid one.")}return new ic(qI(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),t2(this._delegate,t,n,i)},e}(),r2="@firebase/storage",i2="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o2="storage";function s2(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal"),a=new n2(i,new Gh(i,o,u,new tV,n,Se.SDK_VERSION));return a}function u2(e){var t={TaskState:yn,TaskEvent:Jj,StringFormat:or,Storage:Gh,Reference:ic};e.INTERNAL.registerComponent(new ac(o2,s2,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(r2,i2)}u2(Se);const a2={apiKey:"AIzaSyCKDzFxGEDXvs5UnUXtPkaXir0FvZEdsYs",authDomain:"music-1da3c.firebaseapp.com",projectId:"music-1da3c",storageBucket:"music-1da3c.appspot.com",appId:"1:46994571202:web:e313fab0d270d4d381a05b"};Se.initializeApp(a2);const Sr=Se.auth(),$y=Se.firestore(),$k=Se.storage(),c2=$y.collection("users"),si=$y.collection("songs"),Kk=$y.collection("comments"),Cc=_S("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await Sr.createUserWithEmailAndPassword(e.email,e.password);await c2.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country}),await t.user.updateProfile({displayName:e.name}),this.userLoggerIn=!0},async authenticate(e){await Sr.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await Sr.signOut(),this.userLoggedIn=!1}}}),jn=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},l2={name:"AppHeader",computed:{...$D(Cc,mg)},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},f2={id:"header",class:"bg-gray-700"},h2={class:"container mx-auto flex justify-start items-center py-5 px-4"},d2={class:"flex flex-grow items-center"},p2={class:"flex flex-row mt-1"},m2={key:0};function g2(e,t,n,i,o,u){const a=Et("router-link");return ze(),st("div",null,[q("header",f2,[q("nav",h2,[ke(a,{class:"text-white font-bold uppercase text-2xl mr-4",to:{name:"home"},"exact-active-class":"no-active"},{default:ur(()=>[Oo(" Music ")]),_:1}),q("div",d2,[q("ul",p2,[q("li",null,[ke(a,{class:"px-2 text-white",to:{name:"about"}},{default:ur(()=>[Oo("About")]),_:1})]),e.userStore.userLoggedIn?(ze(),st(xt,{key:1},[q("li",null,[ke(a,{class:"px-2 text-white",to:{name:"manage"}},{default:ur(()=>[Oo("Manage")]),_:1})]),q("li",null,[q("a",{class:"px-2 text-white",href:"#",onClick:t[1]||(t[1]=Gn((...l)=>u.signOut&&u.signOut(...l),["prevent"]))},"Logout")])],64)):(ze(),st("li",m2,[q("a",{class:"px-2 text-white",href:"#",onClick:t[0]||(t[0]=Gn((...l)=>u.toggleAuthModal&&u.toggleAuthModal(...l),["prevent"]))},"Login / Register")]))])])])])])}const v2=jn(l2,[["render",g2]]);/**
  * vee-validate v4.11.1
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function Jt(e){return typeof e=="function"}function Hk(e){return e==null}const zo=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Ky(e){return Number(e)>=0}function y2(e){const t=parseFloat(e);return isNaN(t)?e:t}function w2(e){return typeof e=="object"&&e!==null}function b2(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function _2(e){if(!w2(e)||b2(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function zf(e,t){return Object.keys(t).forEach(n=>{if(_2(t[n])){e[n]||(e[n]={}),zf(e[n],t[n]);return}e[n]=t[n]}),e}function ba(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let i=1;i<t.length;i++){if(Ky(t[i])){n+=`[${t[i]}]`;continue}n+=`.${t[i]}`}return n}const zk={};function mr(e,t){I2(e,t),zk[e]=t}function E2(e){return zk[e]}function I2(e,t){if(!Jt(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}const Wh=Symbol("vee-validate-form"),T2=Symbol("vee-validate-field-instance"),Gf=Symbol("Default empty value"),S2=typeof window<"u";function Gg(e){return Jt(e)&&!!e.__locatorRef}function Ki(e){return!!e&&Jt(e.parse)&&e.__type==="VVTypedSchema"}function Wf(e){return!!e&&Jt(e.validate)}function Nc(e){return e==="checkbox"||e==="radio"}function A2(e){return zo(e)||Array.isArray(e)}function k2(e){return Array.isArray(e)?e.length===0:zo(e)&&Object.keys(e).length===0}function Xh(e){return/^\[.+\]$/i.test(e)}function C2(e){return Gk(e)&&e.multiple}function Gk(e){return e.tagName==="SELECT"}function N2(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function R2(e,t){return!N2(e,t)&&t.type!=="file"&&!Nc(t.type)}function Wk(e){return Hy(e)&&e.target&&"submit"in e.target}function Hy(e){return e?!!(typeof Event<"u"&&Jt(Event)&&e instanceof Event||e&&e.srcElement):!1}function KI(e,t){return t in e&&e[t]!==Gf}function Tn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!Tn(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!Tn(i[1],t.get(i[0])))return!1;return!0}if(HI(e)&&HI(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(o=Object.keys(e),n=o.length,i=n;i--!==0;){var u=o[i];if(!Tn(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function HI(e){return S2?e instanceof File:!1}function zI(e,t,n){typeof n.value=="object"&&(n.value=gt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function gt(e){if(typeof e!="object")return e;var t=0,n,i,o,u=Object.prototype.toString.call(e);if(u==="[object Object]"?o=Object.create(e.__proto__||null):u==="[object Array]"?o=Array(e.length):u==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(gt(a))})):u==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(gt(l),gt(a))})):u==="[object Date]"?o=new Date(+e):u==="[object RegExp]"?o=new RegExp(e.source,e.flags):u==="[object DataView]"?o=new e.constructor(gt(e.buffer)):u==="[object ArrayBuffer]"?o=e.slice(0):u.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)zI(o,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(o,n=i[t])&&o[n]===e[n]||zI(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function zy(e){return Xh(e)?e.replace(/\[|\]/gi,""):e}function Rn(e,t,n){return e?Xh(t)?e[zy(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,u)=>A2(o)&&u in o?o[u]:n,e):n}function Eo(e,t,n){if(Xh(t)){e[zy(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let u=0;u<i.length;u++){if(u===i.length-1){o[i[u]]=n;return}(!(i[u]in o)||Hk(o[i[u]]))&&(o[i[u]]=Ky(i[u+1])?[]:{}),o=o[i[u]]}}function Xm(e,t){if(Array.isArray(e)&&Ky(t)){e.splice(Number(t),1);return}zo(e)&&delete e[t]}function GI(e,t){if(Xh(t)){delete e[zy(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let u=0;u<n.length;u++){if(u===n.length-1){Xm(i,n[u]);break}if(!(n[u]in i)||Hk(i[n[u]]))break;i=i[n[u]]}const o=n.map((u,a)=>Rn(e,n.slice(0,a).join(".")));for(let u=o.length-1;u>=0;u--)if(k2(o[u])){if(u===0){Xm(e,n[0]);continue}Xm(o[u-1],n[u-1])}}function jr(e){return Object.keys(e)}function Xk(e,t=void 0){const n=lh();return(n==null?void 0:n.provides[e])||ar(e,t)}function WI(e,t,n){if(Array.isArray(e)){const i=[...e],o=i.findIndex(u=>Tn(u,t));return o>=0?i.splice(o,1):i.push(t),i}return Tn(e,t)?n:t}function XI(e,t=0){let n=null,i=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const u=e(...o);i.forEach(a=>a(u)),i=[]},t),new Promise(u=>i.push(u))}}function x2(e,t){return zo(t)&&t.number?y2(e):e}function Wg(e,t){let n;return async function(...o){const u=e(...o);n=u;const a=await u;return u!==n||(n=void 0,t(a,o)),a}}function Xg(e){return Array.isArray(e)?e:e?[e]:[]}function da(e,t){const n={};for(const i in e)t.includes(i)||(n[i]=e[i]);return n}function O2(e){let t=null,n=[];return function(...i){const o=ei(()=>{if(t!==o)return;const u=e(...i);n.forEach(a=>a(u)),n=[],t=null});return t=o,new Promise(u=>n.push(u))}}const Gy=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var i,o;return(o=(i=t.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:t.slots.default;function Ym(e){if(Yk(e))return e._value}function Yk(e){return"_value"in e}function P2(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function Xf(e){if(!Hy(e))return e;const t=e.target;if(Nc(t.type)&&Yk(t))return Ym(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(C2(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Ym);if(Gk(t)){const n=Array.from(t.options).find(i=>i.selected);return n?Ym(n):t.value}return P2(t)}function Qk(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?zo(e)&&e._$$isNormalized?e:zo(e)?Object.keys(e).reduce((n,i)=>{const o=D2(e[i]);return e[i]!==!1&&(n[i]=YI(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const o=L2(i);return o.name&&(n[o.name]=YI(o.params)),n},t):t}function D2(e){return e===!0?[]:Array.isArray(e)||zo(e)?e:[e]}function YI(e){const t=n=>typeof n=="string"&&n[0]==="@"?M2(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const L2=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function M2(e){const t=n=>Rn(n,e)||n[e];return t.__locatorRef=e,t}function F2(e){return Array.isArray(e)?e.filter(Gg):jr(e).filter(t=>Gg(e[t])).map(t=>e[t])}const U2={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Yg=Object.assign({},U2);const Li=()=>Yg,j2=e=>{Yg=Object.assign(Object.assign({},Yg),e)},V2=j2;async function Jk(e,t,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await q2(o,e)).errors;return{errors:a,valid:!a.length}}async function q2(e,t){if(Ki(e.rules)||Wf(e.rules))return $2(t,e.rules);if(Jt(e.rules)||Array.isArray(e.rules)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let p=0;p<f;p++){const g=l[p],v=await g(t,a);if(!(typeof v!="string"&&!Array.isArray(v)&&v)){if(Array.isArray(v))d.push(...v);else{const _=typeof v=="string"?v:eC(a);d.push(_)}if(e.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:Qk(e.rules)}),i=[],o=Object.keys(n.rules),u=o.length;for(let a=0;a<u;a++){const l=o[a],f=await K2(n,t,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),e.bails))return{errors:i}}return{errors:i}}function B2(e){return!!e&&e.name==="ValidationError"}function Zk(e){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!B2(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const u=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(u)}}}}}async function $2(e,t){const i=await(Ki(t)?t:Zk(t)).parse(e),o=[];for(const u of i.errors)u.errors.length&&o.push(...u.errors);return{errors:o}}async function K2(e,t,n){const i=E2(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=H2(n.params,e.formData),u={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(t,o,u);return typeof a=="string"?{error:a}:{error:a?void 0:eC(u)}}function eC(e){const t=Li().generateMessage;return t?t(e):"Field is invalid"}function H2(e,t){const n=i=>Gg(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,o)=>(i[o]=n(e[o]),i),{})}async function z2(e,t){const i=await(Ki(e)?e:Zk(e)).parse(t),o={},u={};for(const a of i.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,p)=>`[${p}]`);o[f]={valid:!l.length,errors:l},l.length&&(u[f]=l[0])}return{valid:!i.errors.length,results:o,errors:u,values:i.value}}async function G2(e,t,n){const o=jr(e).map(async d=>{var p,g,v;const b=(p=n==null?void 0:n.names)===null||p===void 0?void 0:p[d],_=await Jk(Rn(t,d),e[d],{name:(b==null?void 0:b.name)||d,label:b==null?void 0:b.label,values:t,bails:(v=(g=n==null?void 0:n.bailsMap)===null||g===void 0?void 0:g[d])!==null&&v!==void 0?v:!0});return Object.assign(Object.assign({},_),{path:d})});let u=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(u=!1,f[d.path]=d.errors[0]);return{valid:u,results:l,errors:f}}let QI=0;function W2(e,t){const{value:n,initialValue:i,setInitialValue:o}=X2(e,t.modelValue,t.form);if(!t.form){let v=function(_){var T;"value"in _&&(n.value=_.value),"errors"in _&&d(_.errors),"touched"in _&&(g.touched=(T=_.touched)!==null&&T!==void 0?T:g.touched),"initialValue"in _&&o(_.initialValue)};var l=v;const{errors:f,setErrors:d}=J2(),p=QI>=Number.MAX_SAFE_INTEGER?0:++QI,g=Q2(n,i,f);return{id:p,path:e,value:n,initialValue:i,meta:g,flags:{pendingUnmount:{[p]:!1}},errors:f,setState:v}}const u=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate}),a=Fe(()=>u.errors);function l(f){var d,p,g;"value"in f&&(n.value=f.value),"errors"in f&&((d=t.form)===null||d===void 0||d.setFieldError(Ne(e),f.errors)),"touched"in f&&((p=t.form)===null||p===void 0||p.setFieldTouched(Ne(e),(g=f.touched)!==null&&g!==void 0?g:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(u.id)?u.id[u.id.length-1]:u.id,path:e,value:n,errors:a,meta:u,initialValue:i,flags:u.__flags,setState:l}}function X2(e,t,n){const i=wn(Ne(t));function o(){return n?Rn(n.initialValues.value,Ne(e),Ne(i)):Ne(i)}function u(d){if(!n){i.value=d;return}n.stageInitialValue(Ne(e),d,!0)}const a=Fe(o);if(!n)return{value:wn(o()),initialValue:a,setInitialValue:u};const l=Y2(t,n,a,e);return n.stageInitialValue(Ne(e),l,!0),{value:Fe({get(){return Rn(n.values,Ne(e))},set(d){n.setFieldValue(Ne(e),d,!1)}}),initialValue:a,setInitialValue:u}}function Y2(e,t,n,i){return at(e)?Ne(e):e!==void 0?e:Rn(t.values,Ne(i),Ne(n))}function Q2(e,t,n){const i=ai({touched:!1,pending:!1,valid:!0,validated:!!Ne(n).length,initialValue:Fe(()=>Ne(t)),dirty:Fe(()=>!Tn(Ne(e),Ne(t)))});return Jn(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function J2(){const e=wn([]);return{errors:e,setErrors:t=>{e.value=Xg(t)}}}function Z2(e,t,n){return Nc(n==null?void 0:n.type)?tq(e,t,n):tC(e,t,n)}function tC(e,t,n){const{initialValue:i,validateOnMount:o,bails:u,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:p,controlled:g,keepValueOnUnmount:v,syncVModel:b,form:_}=eq(n),T=g?Xk(Wh):void 0,S=_||T,x=Fe(()=>ba(vr(e))),O=Fe(()=>{if(Ne(S==null?void 0:S.schema))return;const ve=Ne(t);return Wf(ve)||Ki(ve)||Jt(ve)||Array.isArray(ve)?ve:Qk(ve)}),{id:U,value:B,initialValue:te,meta:V,setState:we,errors:G,flags:oe}=W2(x,{modelValue:i,form:S,bails:u,label:f,type:a,validate:O.value?Ge:void 0}),k=Fe(()=>G.value[0]);b&&nq({value:B,prop:b,handleChange:de});const $e=(pe,ve=!1)=>{V.touched=!0,ve&&rt()};async function nt(pe){var ve,D;return S!=null&&S.validateSchema?(ve=(await S.validateSchema(pe)).results[Ne(x)])!==null&&ve!==void 0?ve:{valid:!0,errors:[]}:O.value?Jk(B.value,O.value,{name:Ne(x),label:Ne(f),values:(D=S==null?void 0:S.values)!==null&&D!==void 0?D:{},bails:u}):{valid:!0,errors:[]}}const rt=Wg(async()=>(V.pending=!0,V.validated=!0,nt("validated-only")),pe=>{if(!oe.pendingUnmount[dt.id])return we({errors:pe.errors}),V.pending=!1,V.valid=pe.valid,pe}),lt=Wg(async()=>nt("silent"),pe=>(V.valid=pe.valid,pe));function Ge(pe){return(pe==null?void 0:pe.mode)==="silent"?lt():rt()}function de(pe,ve=!0){const D=Xf(pe);It(D,ve)}gv(()=>{if(o)return rt();(!S||!S.validateSchema)&&lt()});function De(pe){V.touched=pe}function ge(pe){var ve;const D=pe&&"value"in pe?pe.value:te.value;we({value:gt(D),initialValue:gt(D),touched:(ve=pe==null?void 0:pe.touched)!==null&&ve!==void 0?ve:!1,errors:(pe==null?void 0:pe.errors)||[]}),V.pending=!1,V.validated=!1,lt()}const ht=lh();function It(pe,ve=!0){B.value=ht&&b?x2(pe,ht.props.modelModifiers):pe,(ve?rt:lt)()}function Vt(pe){we({errors:Array.isArray(pe)?pe:[pe]})}const Ot=Fe({get(){return B.value},set(pe){It(pe,d)}}),dt={id:U,name:x,label:f,value:Ot,meta:V,errors:G,errorMessage:k,type:a,checkedValue:l,uncheckedValue:p,bails:u,keepValueOnUnmount:v,resetField:ge,handleReset:()=>ge(),validate:Ge,handleChange:de,handleBlur:$e,setState:we,setTouched:De,setErrors:Vt,setValue:It};if(js(T2,dt),at(t)&&typeof Ne(t)!="function"&&Jn(t,(pe,ve)=>{Tn(pe,ve)||(V.validated?rt():lt())},{deep:!0}),!S)return dt;const Vn=Fe(()=>{const pe=O.value;return!pe||Jt(pe)||Wf(pe)||Ki(pe)||Array.isArray(pe)?{}:Object.keys(pe).reduce((ve,D)=>{const $=F2(pe[D]).map(ee=>ee.__locatorRef).reduce((ee,ae)=>{const Ce=Rn(S.values,ae)||S.values[ae];return Ce!==void 0&&(ee[ae]=Ce),ee},{});return Object.assign(ve,$),ve},{})});return Jn(Vn,(pe,ve)=>{if(!Object.keys(pe).length)return;!Tn(pe,ve)&&(V.validated?rt():lt())}),ZT(()=>{var pe;const ve=(pe=Ne(dt.keepValueOnUnmount))!==null&&pe!==void 0?pe:Ne(S.keepValuesOnUnmount),D=vr(x);if(ve||!S||oe.pendingUnmount[dt.id]){S==null||S.removePathState(D,U);return}oe.pendingUnmount[dt.id]=!0;const $=S.getPathState(D);if(Array.isArray($==null?void 0:$.id)&&($!=null&&$.multiple)?$!=null&&$.id.includes(dt.id):($==null?void 0:$.id)===dt.id){if($!=null&&$.multiple&&Array.isArray($.value)){const ae=$.value.findIndex(Ce=>Tn(Ce,Ne(dt.checkedValue)));if(ae>-1){const Ce=[...$.value];Ce.splice(ae,1),S.setFieldValue(D,Ce)}Array.isArray($.id)&&$.id.splice($.id.indexOf(dt.id),1)}else S.unsetPathValue(vr(x));S.removePathState(D,U)}}),dt}function eq(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),i=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?Qg(lh(),i):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const u="valueProp"in e?e.valueProp:e.checkedValue,a="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:a??!0,checkedValue:u,syncVModel:l})}function tq(e,t,n){const i=n!=null&&n.standalone?void 0:Xk(Wh),o=n==null?void 0:n.checkedValue,u=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=Fe(()=>{const g=Ne(l.value),v=Ne(o);return Array.isArray(g)?g.findIndex(b=>Tn(b,v))>=0:Tn(v,g)});function p(g,v=!0){var b,_;if(d.value===((b=g==null?void 0:g.target)===null||b===void 0?void 0:b.checked)){v&&l.validate();return}const T=vr(e),S=i==null?void 0:i.getPathState(T),x=Xf(g);let O=(_=Ne(o))!==null&&_!==void 0?_:x;i&&(S!=null&&S.multiple)&&S.type==="checkbox"?O=WI(Rn(i.values,T)||[],O,void 0):(n==null?void 0:n.type)==="checkbox"&&(O=WI(Ne(l.value),O,Ne(u))),f(O,v)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:u,handleChange:p})}return a(tC(e,t,n))}function nq({prop:e,value:t,handleChange:n}){const i=lh();if(!i||!e)return;const o=typeof e=="string"?e:"modelValue",u=`update:${o}`;o in i.props&&(Jn(t,a=>{Tn(a,Qg(i,o))||i.emit(u,a)}),Jn(()=>Qg(i,o),a=>{if(a===Gf&&t.value===void 0)return;const l=a===Gf?void 0:a;Tn(l,t.value)||n(l)}))}function Qg(e,t){if(e)return e.props[t]}const rq=uc({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Li().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Gf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Ri(e,"rules"),i=Ri(e,"name"),o=Ri(e,"label"),u=Ri(e,"uncheckedValue"),a=Ri(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:p,handleChange:g,handleBlur:v,setTouched:b,resetField:_,handleReset:T,meta:S,checked:x,setErrors:O}=Z2(i,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:oq(e,t),checkedValue:t.attrs.value,uncheckedValue:u,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:a,syncVModel:!0}),U=function(oe,k=!0){g(oe,k),t.emit("update:modelValue",f.value)},B=Fe(()=>{const{validateOnInput:G,validateOnChange:oe,validateOnBlur:k,validateOnModelUpdate:$e}=iq(e);function nt(de){v(de,k),Jt(t.attrs.onBlur)&&t.attrs.onBlur(de)}function rt(de){U(de,G),Jt(t.attrs.onInput)&&t.attrs.onInput(de)}function lt(de){U(de,oe),Jt(t.attrs.onChange)&&t.attrs.onChange(de)}const Ge={name:e.name,onBlur:nt,onInput:rt,onChange:lt};return Ge["onUpdate:modelValue"]=de=>U(de,$e),Ge}),te=Fe(()=>{const G=Object.assign({},B.value);Nc(t.attrs.type)&&x&&(G.checked=x.value);const oe=JI(e,t);return R2(oe,t.attrs)&&(G.value=f.value),G}),V=Fe(()=>Object.assign(Object.assign({},B.value),{modelValue:f.value}));function we(){return{field:te.value,componentField:V.value,value:f.value,meta:S,errors:l.value,errorMessage:d.value,validate:p,resetField:_,handleChange:U,handleInput:G=>U(G,!1),handleReset:T,handleBlur:B.value.onBlur,setTouched:b,setErrors:O}}return t.expose({setErrors:O,setTouched:b,reset:_,validate:p,handleChange:g}),()=>{const G=yv(JI(e,t)),oe=Gy(G,t,we);return G?zs(G,Object.assign(Object.assign({},t.attrs),te.value),oe):oe}}});function JI(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function iq(e){var t,n,i,o;const{validateOnInput:u,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=Li();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:u,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=e.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function oq(e,t){return Nc(t.attrs.type)?KI(e,"modelValue")?e.modelValue:void 0:KI(e,"modelValue")?e.modelValue:t.attrs.value}const sq=rq;let uq=0;const pa=["bails","fieldsCount","id","multiple","type","validate"];function nC(e){const t=Ne(e==null?void 0:e.initialValues)||{},n=Ne(e==null?void 0:e.validationSchema);return n&&Ki(n)&&Jt(n.cast)?gt(n.cast(t)||{}):gt(t)}function aq(e){var t;const n=uq++;let i=0;const o=wn(!1),u=wn(!1),a=wn(0),l=[],f=ai(nC(e)),d=wn([]),p=wn({}),g=wn({}),v=O2(()=>{g.value=d.value.reduce((C,N)=>(C[ba(vr(N.path))]=N,C),{})});function b(C,N){const M=de(C);if(!M){typeof C=="string"&&(p.value[ba(C)]=Xg(N));return}if(typeof C=="string"){const z=ba(C);p.value[z]&&delete p.value[z]}M.errors=Xg(N),M.valid=!M.errors.length}function _(C){jr(C).forEach(N=>{b(N,C[N])})}e!=null&&e.initialErrors&&_(e.initialErrors);const T=Fe(()=>{const C=d.value.reduce((N,M)=>(M.errors.length&&(N[M.path]=M.errors),N),{});return Object.assign(Object.assign({},p.value),C)}),S=Fe(()=>jr(T.value).reduce((C,N)=>{const M=T.value[N];return M!=null&&M.length&&(C[N]=M[0]),C},{})),x=Fe(()=>d.value.reduce((C,N)=>(C[N.path]={name:N.path||"",label:N.label||""},C),{})),O=Fe(()=>d.value.reduce((C,N)=>{var M;return C[N.path]=(M=N.bails)!==null&&M!==void 0?M:!0,C},{})),U=Object.assign({},(e==null?void 0:e.initialErrors)||{}),B=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:te,originalInitialValues:V,setInitialValues:we}=lq(d,f,e),G=cq(d,f,V,S),oe=Fe(()=>d.value.reduce((C,N)=>{const M=Rn(f,N.path);return Eo(C,N.path,M),C},{})),k=e==null?void 0:e.validationSchema;function $e(C,N){var M,z;const le=Fe(()=>Rn(te.value,vr(C))),ue=g.value[vr(C)];if(ue){((N==null?void 0:N.type)==="checkbox"||(N==null?void 0:N.type)==="radio")&&(ue.multiple=!0);const vt=i++;return Array.isArray(ue.id)?ue.id.push(vt):ue.id=[ue.id,vt],ue.fieldsCount++,ue.__flags.pendingUnmount[vt]=!1,ue}const xe=Fe(()=>Rn(f,vr(C))),Ke=vr(C),Te=i++,Ve=ai({id:Te,path:C,touched:!1,pending:!1,valid:!0,validated:!!(!((M=U[Ke])===null||M===void 0)&&M.length),initialValue:le,errors:VT([]),bails:(z=N==null?void 0:N.bails)!==null&&z!==void 0?z:!1,label:N==null?void 0:N.label,type:(N==null?void 0:N.type)||"default",value:xe,multiple:!1,__flags:{pendingUnmount:{[Te]:!1}},fieldsCount:1,validate:N==null?void 0:N.validate,dirty:Fe(()=>!Tn(Ne(xe),Ne(le)))});return d.value.push(Ve),g.value[Ke]=Ve,v(),S.value[Ke]&&!U[Ke]&&ei(()=>{j(Ke,{mode:"silent"})}),at(C)&&Jn(C,vt=>{v();const it=gt(xe.value);g.value[vt]=Ve,ei(()=>{Eo(f,vt,it)})}),Ve}const nt=XI(re,5),rt=XI(re,5),lt=Wg(async C=>await C==="silent"?nt():rt(),(C,[N])=>{const M=jr(ve.errorBag.value);return[...new Set([...jr(C.results),...d.value.map(le=>le.path),...M])].sort().reduce((le,ue)=>{const xe=ue,Ke=de(xe)||De(xe),Te=(C.results[xe]||{errors:[]}).errors,Ve={errors:Te,valid:!Te.length};return le.results[xe]=Ve,Ve.valid||(le.errors[xe]=Ve.errors[0]),Ke&&p.value[xe]&&delete p.value[xe],Ke?(Ke.valid=Ve.valid,N==="silent"||N==="validated-only"&&!Ke.validated||b(Ke,Ve.errors),le):(b(xe,Te),le)},{valid:C.valid,results:{},errors:{}})});function Ge(C){d.value.forEach(C)}function de(C){const N=typeof C=="string"?ba(C):C;return typeof N=="string"?g.value[N]:N}function De(C){return d.value.filter(M=>C.startsWith(M.path)).reduce((M,z)=>M?z.path.length>M.path.length?z:M:z,void 0)}let ge=[],ht;function It(C){return ge.push(C),ht||(ht=ei(()=>{[...ge].sort().reverse().forEach(M=>{GI(f,M)}),ge=[],ht=null})),ht}function Vt(C){return function(M,z){return function(ue){return ue instanceof Event&&(ue.preventDefault(),ue.stopPropagation()),Ge(xe=>xe.touched=!0),o.value=!0,a.value++,L().then(xe=>{const Ke=gt(f);if(xe.valid&&typeof M=="function"){const Te=gt(oe.value);let Ve=C?Te:Ke;return xe.values&&(Ve=xe.values),M(Ve,{evt:ue,controlledValues:Te,setErrors:_,setFieldError:b,setTouched:I,setFieldTouched:Ce,setValues:$,setFieldValue:D,resetForm:R,resetField:A})}!xe.valid&&typeof z=="function"&&z({values:Ke,evt:ue,errors:xe.errors,results:xe.results})}).then(xe=>(o.value=!1,xe),xe=>{throw o.value=!1,xe})}}}const dt=Vt(!1);dt.withControlled=Vt(!0);function Vn(C,N){const M=d.value.findIndex(le=>le.path===C),z=d.value[M];if(!(M===-1||!z)){if(ei(()=>{j(C,{mode:"silent",warn:!1})}),z.multiple&&z.fieldsCount&&z.fieldsCount--,Array.isArray(z.id)){const le=z.id.indexOf(N);le>=0&&z.id.splice(le,1),delete z.__flags.pendingUnmount[N]}(!z.multiple||z.fieldsCount<=0)&&(d.value.splice(M,1),X(C),v(),delete g.value[C])}}function pe(C){return Ge(N=>{N.path.startsWith(C)&&jr(N.__flags.pendingUnmount).forEach(M=>{N.__flags.pendingUnmount[M]=!0})})}const ve={formId:n,values:f,controlledValues:oe,errorBag:T,errors:S,schema:k,submitCount:a,meta:G,isSubmitting:o,isValidating:u,fieldArrays:l,keepValuesOnUnmount:B,validateSchema:Ne(k)?lt:void 0,validate:L,setFieldError:b,validateField:j,setFieldValue:D,setValues:$,setErrors:_,setFieldTouched:Ce,setTouched:I,resetForm:R,resetField:A,handleSubmit:dt,stageInitialValue:ie,unsetInitialValue:X,setFieldInitialValue:Z,useFieldModel:ae,createPathState:$e,getPathState:de,unsetPathValue:It,removePathState:Vn,initialValues:te,getAllPathStates:()=>d.value,markForUnmount:pe};function D(C,N,M=!0){const z=gt(N),le=typeof C=="string"?C:C.path;de(le)||$e(le),Eo(f,le,z),M&&j(le)}function $(C,N=!0){zf(f,C),l.forEach(M=>M&&M.reset()),N&&L()}function ee(C){const N=de(Ne(C))||$e(C);return Fe({get(){return N.value},set(M){const z=Ne(C);D(z,M,!1),N.validated=!0,N.pending=!0,j(z).then(()=>{N.pending=!1})}})}function ae(C){return Array.isArray(C)?C.map(ee):ee(C)}function Ce(C,N){const M=de(C);M&&(M.touched=N)}function I(C){if(typeof C=="boolean"){Ge(N=>{N.touched=C});return}jr(C).forEach(N=>{Ce(N,!!C[N])})}function A(C,N){var M;const z=N&&"value"in N?N.value:Rn(te.value,C);Z(C,gt(z)),D(C,z,!1),Ce(C,(M=N==null?void 0:N.touched)!==null&&M!==void 0?M:!1),b(C,(N==null?void 0:N.errors)||[])}function R(C){let N=C!=null&&C.values?C.values:V.value;N=Ki(k)&&Jt(k.cast)?k.cast(N):N,we(N),Ge(M=>{var z;M.validated=!1,M.touched=((z=C==null?void 0:C.touched)===null||z===void 0?void 0:z[M.path])||!1,D(M.path,Rn(N,M.path),!1),b(M.path,void 0)}),$(N,!1),_((C==null?void 0:C.errors)||{}),a.value=(C==null?void 0:C.submitCount)||0,ei(()=>{L({mode:"silent"})})}async function L(C){const N=(C==null?void 0:C.mode)||"force";if(N==="force"&&Ge(ue=>ue.validated=!0),ve.validateSchema)return ve.validateSchema(N);u.value=!0;const M=await Promise.all(d.value.map(ue=>ue.validate?ue.validate(C).then(xe=>({key:ue.path,valid:xe.valid,errors:xe.errors})):Promise.resolve({key:ue.path,valid:!0,errors:[]})));u.value=!1;const z={},le={};for(const ue of M)z[ue.key]={valid:ue.valid,errors:ue.errors},ue.errors.length&&(le[ue.key]=ue.errors[0]);return{valid:M.every(ue=>ue.valid),results:z,errors:le}}async function j(C,N){var M;const z=de(C);if(z&&(z.validated=!0),k){const{results:le}=await lt((N==null?void 0:N.mode)||"validated-only");return le[C]||{errors:[],valid:!0}}return z!=null&&z.validate?z.validate(N):(!z&&(M=N==null?void 0:N.warn),Promise.resolve({errors:[],valid:!0}))}function X(C){GI(te.value,C)}function ie(C,N,M=!1){Z(C,N),Eo(f,C,N),M&&!(e!=null&&e.initialValues)&&Eo(V.value,C,gt(N))}function Z(C,N){Eo(te.value,C,gt(N))}async function re(){const C=Ne(k);if(!C)return{valid:!0,results:{},errors:{}};u.value=!0;const N=Wf(C)||Ki(C)?await z2(C,f):await G2(C,f,{names:x.value,bailsMap:O.value});return u.value=!1,N}const Q=dt((C,{evt:N})=>{Wk(N)&&N.target.submit()});gv(()=>{if(e!=null&&e.initialErrors&&_(e.initialErrors),e!=null&&e.initialTouched&&I(e.initialTouched),e!=null&&e.validateOnMount){L();return}ve.validateSchema&&ve.validateSchema("silent")}),at(k)&&Jn(k,()=>{var C;(C=ve.validateSchema)===null||C===void 0||C.call(ve,"validated-only")}),js(Wh,ve);function be(C,N){const M=de(vr(C))||$e(C),z=()=>Jt(N)?N(da(M,pa)):N||{};function le(){var Ke;M.touched=!0,((Ke=z().validateOnBlur)!==null&&Ke!==void 0?Ke:Li().validateOnBlur)&&j(M.path)}function ue(Ke){var Te;const Ve=(Te=z().validateOnModelUpdate)!==null&&Te!==void 0?Te:Li().validateOnModelUpdate;D(M.path,Ke,Ve)}return Fe(()=>{if(Jt(N)){const Ve=N(M),vt=Ve.model||"modelValue";return Object.assign({onBlur:le,[vt]:M.value,[`onUpdate:${vt}`]:ue},Ve.props||{})}const Ke=(N==null?void 0:N.model)||"modelValue",Te={onBlur:le,[Ke]:M.value,[`onUpdate:${Ke}`]:ue};return N!=null&&N.mapProps?Object.assign(Object.assign({},Te),N.mapProps(da(M,pa))):Te})}function fe(C,N){const M=de(vr(C))||$e(C),z=()=>Jt(N)?N(da(M,pa)):N||{};function le(){var Te;M.touched=!0,((Te=z().validateOnBlur)!==null&&Te!==void 0?Te:Li().validateOnBlur)&&j(M.path)}function ue(Te){var Ve;const vt=Xf(Te),it=(Ve=z().validateOnInput)!==null&&Ve!==void 0?Ve:Li().validateOnInput;D(M.path,vt,it)}function xe(Te){var Ve;const vt=Xf(Te),it=(Ve=z().validateOnChange)!==null&&Ve!==void 0?Ve:Li().validateOnChange;D(M.path,vt,it)}return Fe(()=>{const Te={value:M.value,onChange:xe,onInput:ue,onBlur:le};return Jt(N)?Object.assign(Object.assign({},Te),N(da(M,pa)).attrs||{}):N!=null&&N.mapAttrs?Object.assign(Object.assign({},Te),N.mapAttrs(da(M,pa))):Te})}return Object.assign(Object.assign({},ve),{values:lv(f),handleReset:()=>R(),submitForm:Q,defineComponentBinds:be,defineInputBinds:fe})}function cq(e,t,n,i){const o={touched:"some",pending:"some",valid:"every"},u=Fe(()=>!Tn(t,Ne(n)));function a(){const f=e.value;return jr(o).reduce((d,p)=>{const g=o[p];return d[p]=f[g](v=>v[p]),d},{})}const l=ai(a());return _P(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Fe(()=>Object.assign(Object.assign({initialValues:Ne(n)},l),{valid:l.valid&&!jr(i.value).length,dirty:u.value}))}function lq(e,t,n){const i=nC(n),o=n==null?void 0:n.initialValues,u=wn(i),a=wn(gt(i));function l(f,d=!1){u.value=zf(gt(u.value)||{},gt(f)),a.value=zf(gt(a.value)||{},gt(f)),d&&e.value.forEach(p=>{if(p.touched)return;const v=Rn(u.value,p.path);Eo(t,p.path,gt(v))})}return at(o)&&Jn(o,f=>{f&&l(f,!0)},{deep:!0}),{initialValues:u,originalInitialValues:a,setInitialValues:l}}const fq=uc({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Ri(e,"initialValues"),i=Ri(e,"validationSchema"),o=Ri(e,"keepValues"),{errors:u,errorBag:a,values:l,meta:f,isSubmitting:d,isValidating:p,submitCount:g,controlledValues:v,validate:b,validateField:_,handleReset:T,resetForm:S,handleSubmit:x,setErrors:O,setFieldError:U,setFieldValue:B,setValues:te,setFieldTouched:V,setTouched:we,resetField:G}=aq({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),oe=x((De,{evt:ge})=>{Wk(ge)&&ge.target.submit()},e.onInvalidSubmit),k=e.onSubmit?x(e.onSubmit,e.onInvalidSubmit):oe;function $e(De){Hy(De)&&De.preventDefault(),T(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function nt(De,ge){return x(typeof De=="function"&&!ge?De:ge,e.onInvalidSubmit)(De)}function rt(){return gt(l)}function lt(){return gt(f.value)}function Ge(){return gt(u.value)}function de(){return{meta:f.value,errors:u.value,errorBag:a.value,values:l,isSubmitting:d.value,isValidating:p.value,submitCount:g.value,controlledValues:v.value,validate:b,validateField:_,handleSubmit:nt,handleReset:T,submitForm:oe,setErrors:O,setFieldError:U,setFieldValue:B,setValues:te,setFieldTouched:V,setTouched:we,resetForm:S,resetField:G,getValues:rt,getMeta:lt,getErrors:Ge}}return t.expose({setFieldError:U,setErrors:O,setFieldValue:B,setValues:te,setFieldTouched:V,setTouched:we,resetForm:S,validate:b,validateField:_,resetField:G,getValues:rt,getMeta:lt,getErrors:Ge}),function(){const ge=e.as==="form"?e.as:yv(e.as),ht=Gy(ge,t,de);if(!e.as)return ht;const It=e.as==="form"?{novalidate:!0}:{};return zs(ge,Object.assign(Object.assign(Object.assign({},It),t.attrs),{onSubmit:k,onReset:$e}),ht)}}}),hq=fq,dq=uc({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=ar(Wh,void 0),i=Fe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const u=e.as?yv(e.as):e.as,a=Gy(u,t,o),l=Object.assign({role:"alert"},t.attrs);return!u&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?zs(u||"span",l,i.value):zs(u,l,a)}}}),Yh=dq,pq={name:"Login",data(){return{schema_login:{email:"required|email",password:"required|min:9|max:100|excluded:password"},login_show_alert:!1,login_in_submission:!1,login_alert_variant:"bg-red-500",login_alert_msg:"Please wait! We are logging you in"}},components:{ErrorMessage:Yh},methods:{...ES(Cc,["authenticate"]),async login(e){this.login_show_alert=!0,this.login_in_submission=!0,this.login_alert_variant="bg-blue-500",this.login_alert_msg="Please wait! We are logging you in";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="Invalid login details";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="Logged in successfully!",window.location.reload()}}},mq={class:"mb-3"},gq=q("label",{class:"inline-block mb-2"},"Email",-1),vq={class:"mb-3"},yq=q("label",{class:"inline-block mb-2"},"Password",-1),wq=q("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",-1);function bq(e,t,n,i,o,u){const a=Et("vee-field"),l=Et("ErrorMessage"),f=Et("vee-form");return ze(),st(xt,null,[o.login_show_alert?(ze(),st("div",{key:0,class:xn(["text-white text-center font-bold p-4 mb-04",o.login_alert_variant])},en(o.login_alert_msg),3)):ja("",!0),ke(f,{"validation-schema":o.schema_login,onSubmit:u.login},{default:ur(()=>[q("div",mq,[gq,ke(a,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),ke(l,{class:"text-red-600",name:"email"})]),q("div",vq,[yq,ke(a,{name:"password",bails:!1},{default:ur(({field:d,errors:p})=>[q("input",Ev({class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password",type:"password"},d),null,16),(ze(!0),st(xt,null,vu(p,g=>(ze(),st("div",{class:"text-red-600",key:g},en(g),1))),128))]),_:1})]),wq]),_:1},8,["validation-schema","onSubmit"])],64)}const _q=jn(pq,[["render",bq]]),Eq={name:"Registration",data(){return{schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:100",password:"required|min:9|max:100|excluded:password",confirm_password:"passwords_mismatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},userData:{country:"BRA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! Your account is being created."}},methods:{...ES(Cc,{createUser:"register"}),async register(e){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! Your account is being created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",this.reg_alert_msg="An unexpected error occured. Please, Try again later";return}this.reg_alert_variant="bg-green-500",this.reg_alert_msg="Success! Your account has been created",window.location.reload()}},components:{ErrorMessage:Yh}},Iq={class:"mb-3"},Tq=q("label",{class:"inline-block mb-2"},"Name",-1),Sq={class:"mb-3"},Aq=q("label",{class:"inline-block mb-2"},"Email",-1),kq={class:"mb-3"},Cq=q("label",{class:"inline-block mb-2"},"Age",-1),Nq={class:"mb-3"},Rq=q("label",{class:"inline-block mb-2"},"Password",-1),xq={class:"mb-3"},Oq=q("label",{class:"inline-block mb-2"},"Confirm Password",-1),Pq={class:"mb-3"},Dq=q("label",{class:"inline-block mb-2"},"Country",-1),Lq=q("option",{value:"USA"},"USA",-1),Mq=q("option",{value:"BRA"},"BRA",-1),Fq=q("option",{value:"Mexico"},"Mexico",-1),Uq=q("option",{value:"Germany"},"Germany",-1),jq=q("option",{value:"Antarctica"},"Antarctica",-1),Vq={class:"mb-3 pl-6"},qq=q("label",{class:"inline-block"},"Accept terms of service",-1),Bq=q("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",-1);function $q(e,t,n,i,o,u){const a=Et("vee-field"),l=Et("ErrorMessage"),f=Et("vee-form");return ze(),st("div",null,[mf(q("div",{class:xn(["text-white text-center font-bold p-4 rounded mb-04",o.reg_alert_variant])},en(o.reg_alert_msg),3),[[hg,o.reg_show_alert]]),ke(f,{"validation-schema":o.schema,onSubmit:u.register,"initial-values":o.userData},{default:ur(()=>[q("div",Iq,[Tq,ke(a,{type:"text",id:"name",name:"name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),ke(l,{class:"text-red-600",name:"name"})]),q("div",Sq,[Aq,ke(a,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),ke(l,{class:"text-red-600",name:"email"})]),q("div",kq,[Cq,ke(a,{name:"age",type:"number",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),ke(l,{class:"text-red-600",name:"age"})]),q("div",Nq,[Rq,ke(a,{name:"password",bails:!1},{default:ur(({field:d,errors:p})=>[q("input",Ev({class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",type:"password",placeholder:"Password"},d),null,16),(ze(!0),st(xt,null,vu(p,g=>(ze(),st("div",{class:"text-red-600",key:g},en(g),1))),128))]),_:1})]),q("div",xq,[Oq,ke(a,{type:"password",name:"confirm_password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),ke(l,{class:"text-red-600",name:"confirm_password"})]),q("div",Pq,[Dq,ke(a,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:ur(()=>[Lq,Mq,Fq,Uq,jq]),_:1}),ke(l,{class:"text-red-600",name:"country"})]),q("div",Vq,[ke(a,{type:"checkbox",name:"tos",value:"1",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),qq,ke(l,{class:"text-red-600 block",name:"tos"})]),Bq]),_:1},8,["validation-schema","onSubmit","initial-values"])])}const Kq=jn(Eq,[["render",$q]]),Hq={name:"Auth",data(){return{table:"login"}},components:{Login:_q,Registration:Kq},computed:{...KD(mg,["hiddenClass"]),...IS(mg,["isOpen"])}},zq={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Gq=q("div",{class:"fixed inset-0 transition-opacity"},[q("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),Wq=q("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1),Xq={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Yq={class:"py-4 text-left px-6"},Qq={class:"flex justify-between items-center pb-4"},Jq=q("p",{class:"text-2xl font-bold"},"Your Account",-1),Zq=q("i",{class:"fas fa-times"},null,-1),eB=[Zq],tB={class:"flex flex-wrap mb-4"},nB={class:"flex-auto text-center"};function rB(e,t,n,i,o,u){const a=Et("Login"),l=Et("Registration");return ze(),st("div",null,[q("div",{class:xn(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[q("div",zq,[Gq,Wq,q("div",Xq,[q("div",Yq,[q("div",Qq,[Jq,q("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=Gn(f=>e.isOpen=!1,["prevent"]))},eB)]),q("ul",tB,[q("li",nB,[q("a",{class:xn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.table=="login","hover:text-blue-600":o.table==="register"}]),href:"#",onClick:t[1]||(t[1]=f=>o.table="login")},"Login",2)]),q("li",{class:xn([{"hover:text-white text-white bg-blue-600":o.table=="register","hover:text-blue-600":o.table==="login"},"flex-auto text-center block rounded transition"])},[q("a",{class:"block rounded py-3 px-4 transition",href:"#",onClick:t[2]||(t[2]=f=>o.table="register")},"Register")],2)]),o.table=="login"?(ze(),$s(a,{key:0})):ja("",!0),o.table=="register"?(ze(),$s(l,{key:1})):ja("",!0)])])])],2)])}const iB=jn(Hq,[["render",rB]]),oB={name:"App",components:{AppHeader:v2,Auth:iB},computed:{...IS(Cc,["userLoggedIn"])},created(){Sr.currentUser&&(this.userLoggedIn=!0)}},sB=dS('<div class="fixed bottom-0 left-0 bg-white px-4 py-2 w-full p-16"><div class="text-center"><span class="song-title font-bold">Song Title</span> by <span class="song-artist">Artist</span></div><div class="flex flex-nowrap gap-4 items-center"><button type="button"><i class="fa fa-play text-gray-500 text-xl"></i></button><div class="player-currenttime">00:00</div><div class="w-full h-2 rounded bg-gray-200 relative cursor-pointer"><span class="absolute -top-2.5 -ml-2.5 text-gray-800 text-lg" style="left:50%;"><i class="fas fa-circle"></i></span><span class="block h-2 rounded bg-gradient-to-r from-green-500 to-green-400" style="width:50%;"></span></div><div class="player-duration">03:06</div></div></div>',1);function uB(e,t,n,i,o,u){const a=Et("app-header"),l=Et("router-view"),f=Et("auth");return ze(),st(xt,null,[ke(a),ke(l),sB,ke(f)],64)}const aB=jn(oB,[["render",uB]]);/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ps=typeof window<"u";function cB(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const tt=Object.assign;function Qm(e,t){const n={};for(const i in t){const o=t[i];n[i]=kr(o)?o.map(e):e(o)}return n}const Ra=()=>{},kr=Array.isArray,lB=/\/$/,fB=e=>e.replace(lB,"");function Jm(e,t,n="/"){let i,o={},u="",a="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=t.slice(0,f),u=t.slice(f+1,l>-1?l:t.length),o=e(u)),l>-1&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=mB(i??t,n),{fullPath:i+(u&&"?")+u+a,path:i,query:o,hash:a}}function hB(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ZI(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function dB(e,t,n){const i=t.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&hu(t.matched[i],n.matched[o])&&rC(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function hu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function rC(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!pB(e[n],t[n]))return!1;return!0}function pB(e,t){return kr(e)?eT(e,t):kr(t)?eT(t,e):e===t}function eT(e,t){return kr(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function mB(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let u=n.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")u>1&&u--;else break;return n.slice(0,u).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var oc;(function(e){e.pop="pop",e.push="push"})(oc||(oc={}));var xa;(function(e){e.back="back",e.forward="forward",e.unknown=""})(xa||(xa={}));function gB(e){if(!e)if(Ps){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),fB(e)}const vB=/^[^#]+#/;function yB(e,t){return e.replace(vB,"#")+t}function wB(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Qh=()=>({left:window.pageXOffset,top:window.pageYOffset});function bB(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=wB(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function tT(e,t){return(history.state?history.state.position-t:-1)+e}const Jg=new Map;function _B(e,t){Jg.set(e,t)}function EB(e){const t=Jg.get(e);return Jg.delete(e),t}let IB=()=>location.protocol+"//"+location.host;function iC(e,t){const{pathname:n,search:i,hash:o}=t,u=e.indexOf("#");if(u>-1){let l=o.includes(e.slice(u))?e.slice(u).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),ZI(f,"")}return ZI(n,e)+i+o}function TB(e,t,n,i){let o=[],u=[],a=null;const l=({state:v})=>{const b=iC(e,location),_=n.value,T=t.value;let S=0;if(v){if(n.value=b,t.value=v,a&&a===_){a=null;return}S=T?v.position-T.position:0}else i(b);o.forEach(x=>{x(n.value,_,{delta:S,type:oc.pop,direction:S?S>0?xa.forward:xa.back:xa.unknown})})};function f(){a=n.value}function d(v){o.push(v);const b=()=>{const _=o.indexOf(v);_>-1&&o.splice(_,1)};return u.push(b),b}function p(){const{history:v}=window;v.state&&v.replaceState(tt({},v.state,{scroll:Qh()}),"")}function g(){for(const v of u)v();u=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:f,listen:d,destroy:g}}function nT(e,t,n,i=!1,o=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:o?Qh():null}}function SB(e){const{history:t,location:n}=window,i={value:iC(e,n)},o={value:t.state};o.value||u(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function u(f,d,p){const g=e.indexOf("#"),v=g>-1?(n.host&&document.querySelector("base")?e:e.slice(g))+f:IB()+e+f;try{t[p?"replaceState":"pushState"](d,"",v),o.value=d}catch(b){console.error(b),n[p?"replace":"assign"](v)}}function a(f,d){const p=tt({},t.state,nT(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});u(f,p,!0),i.value=f}function l(f,d){const p=tt({},o.value,t.state,{forward:f,scroll:Qh()});u(p.current,p,!0);const g=tt({},nT(i.value,f,null),{position:p.position+1},d);u(f,g,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function AB(e){e=gB(e);const t=SB(e),n=TB(e,t.state,t.location,t.replace);function i(u,a=!0){a||n.pauseListeners(),history.go(u)}const o=tt({location:"",base:e,go:i,createHref:yB.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function kB(e){return typeof e=="string"||e&&typeof e=="object"}function oC(e){return typeof e=="string"||typeof e=="symbol"}const Si={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},sC=Symbol("");var rT;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(rT||(rT={}));function du(e,t){return tt(new Error,{type:e,[sC]:!0},t)}function Jr(e,t){return e instanceof Error&&sC in e&&(t==null||!!(e.type&t))}const iT="[^/]+?",CB={sensitive:!1,strict:!1,start:!0,end:!0},NB=/[.+*?^${}()[\]/\\]/g;function RB(e,t){const n=tt({},CB,t),i=[];let o=n.start?"^":"";const u=[];for(const d of e){const p=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let g=0;g<d.length;g++){const v=d[g];let b=40+(n.sensitive?.25:0);if(v.type===0)g||(o+="/"),o+=v.value.replace(NB,"\\$&"),b+=40;else if(v.type===1){const{value:_,repeatable:T,optional:S,regexp:x}=v;u.push({name:_,repeatable:T,optional:S});const O=x||iT;if(O!==iT){b+=10;try{new RegExp(`(${O})`)}catch(B){throw new Error(`Invalid custom RegExp for param "${_}" (${O}): `+B.message)}}let U=T?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;g||(U=S&&d.length<2?`(?:/${U})`:"/"+U),S&&(U+="?"),o+=U,b+=20,S&&(b+=-8),T&&(b+=-20),O===".*"&&(b+=-50)}p.push(b)}i.push(p)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const p=d.match(a),g={};if(!p)return null;for(let v=1;v<p.length;v++){const b=p[v]||"",_=u[v-1];g[_.name]=b&&_.repeatable?b.split("/"):b}return g}function f(d){let p="",g=!1;for(const v of e){(!g||!p.endsWith("/"))&&(p+="/"),g=!1;for(const b of v)if(b.type===0)p+=b.value;else if(b.type===1){const{value:_,repeatable:T,optional:S}=b,x=_ in d?d[_]:"";if(kr(x)&&!T)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const O=kr(x)?x.join("/"):x;if(!O)if(S)v.length<2&&(p.endsWith("/")?p=p.slice(0,-1):g=!0);else throw new Error(`Missing required param "${_}"`);p+=O}}return p||"/"}return{re:a,score:i,keys:u,parse:l,stringify:f}}function xB(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function OB(e,t){let n=0;const i=e.score,o=t.score;for(;n<i.length&&n<o.length;){const u=xB(i[n],o[n]);if(u)return u;n++}if(Math.abs(o.length-i.length)===1){if(oT(i))return 1;if(oT(o))return-1}return o.length-i.length}function oT(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const PB={type:0,value:""},DB=/[a-zA-Z0-9_]/;function LB(e){if(!e)return[[]];if(e==="/")return[[PB]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const o=[];let u;function a(){u&&o.push(u),u=[]}let l=0,f,d="",p="";function g(){d&&(n===0?u.push({type:0,value:d}):n===1||n===2||n===3?(u.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:d,regexp:p,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function v(){d+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&g(),a()):f===":"?(g(),n=1):v();break;case 4:v(),n=i;break;case 1:f==="("?n=2:DB.test(f)?v():(g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+f:n=3:p+=f;break;case 3:g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),g(),a(),o}function MB(e,t,n){const i=RB(LB(e.path),n),o=tt(i,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function FB(e,t){const n=[],i=new Map;t=aT({strict:!1,end:!0,sensitive:!1},t);function o(p){return i.get(p)}function u(p,g,v){const b=!v,_=UB(p);_.aliasOf=v&&v.record;const T=aT(t,p),S=[_];if("alias"in p){const U=typeof p.alias=="string"?[p.alias]:p.alias;for(const B of U)S.push(tt({},_,{components:v?v.record.components:_.components,path:B,aliasOf:v?v.record:_}))}let x,O;for(const U of S){const{path:B}=U;if(g&&B[0]!=="/"){const te=g.record.path,V=te[te.length-1]==="/"?"":"/";U.path=g.record.path+(B&&V+B)}if(x=MB(U,g,T),v?v.alias.push(x):(O=O||x,O!==x&&O.alias.push(x),b&&p.name&&!uT(x)&&a(p.name)),_.children){const te=_.children;for(let V=0;V<te.length;V++)u(te[V],x,v&&v.children[V])}v=v||x,(x.record.components&&Object.keys(x.record.components).length||x.record.name||x.record.redirect)&&f(x)}return O?()=>{a(O)}:Ra}function a(p){if(oC(p)){const g=i.get(p);g&&(i.delete(p),n.splice(n.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=n.indexOf(p);g>-1&&(n.splice(g,1),p.record.name&&i.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function f(p){let g=0;for(;g<n.length&&OB(p,n[g])>=0&&(p.record.path!==n[g].record.path||!uC(p,n[g]));)g++;n.splice(g,0,p),p.record.name&&!uT(p)&&i.set(p.record.name,p)}function d(p,g){let v,b={},_,T;if("name"in p&&p.name){if(v=i.get(p.name),!v)throw du(1,{location:p});T=v.record.name,b=tt(sT(g.params,v.keys.filter(O=>!O.optional).map(O=>O.name)),p.params&&sT(p.params,v.keys.map(O=>O.name))),_=v.stringify(b)}else if("path"in p)_=p.path,v=n.find(O=>O.re.test(_)),v&&(b=v.parse(_),T=v.record.name);else{if(v=g.name?i.get(g.name):n.find(O=>O.re.test(g.path)),!v)throw du(1,{location:p,currentLocation:g});T=v.record.name,b=tt({},g.params,p.params),_=v.stringify(b)}const S=[];let x=v;for(;x;)S.unshift(x.record),x=x.parent;return{name:T,path:_,params:b,matched:S,meta:VB(S)}}return e.forEach(p=>u(p)),{addRoute:u,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function sT(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function UB(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:jB(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function jB(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function uT(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function VB(e){return e.reduce((t,n)=>tt(t,n.meta),{})}function aT(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function uC(e,t){return t.children.some(n=>n===e||uC(e,n))}const aC=/#/g,qB=/&/g,BB=/\//g,$B=/=/g,KB=/\?/g,cC=/\+/g,HB=/%5B/g,zB=/%5D/g,lC=/%5E/g,GB=/%60/g,fC=/%7B/g,WB=/%7C/g,hC=/%7D/g,XB=/%20/g;function Wy(e){return encodeURI(""+e).replace(WB,"|").replace(HB,"[").replace(zB,"]")}function YB(e){return Wy(e).replace(fC,"{").replace(hC,"}").replace(lC,"^")}function Zg(e){return Wy(e).replace(cC,"%2B").replace(XB,"+").replace(aC,"%23").replace(qB,"%26").replace(GB,"`").replace(fC,"{").replace(hC,"}").replace(lC,"^")}function QB(e){return Zg(e).replace($B,"%3D")}function JB(e){return Wy(e).replace(aC,"%23").replace(KB,"%3F")}function ZB(e){return e==null?"":JB(e).replace(BB,"%2F")}function Yf(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function e3(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<i.length;++o){const u=i[o].replace(cC," "),a=u.indexOf("="),l=Yf(a<0?u:u.slice(0,a)),f=a<0?null:Yf(u.slice(a+1));if(l in t){let d=t[l];kr(d)||(d=t[l]=[d]),d.push(f)}else t[l]=f}return t}function cT(e){let t="";for(let n in e){const i=e[n];if(n=QB(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(kr(i)?i.map(u=>u&&Zg(u)):[i&&Zg(i)]).forEach(u=>{u!==void 0&&(t+=(t.length?"&":"")+n,u!=null&&(t+="="+u))})}return t}function t3(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=kr(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return t}const n3=Symbol(""),lT=Symbol(""),Xy=Symbol(""),dC=Symbol(""),ev=Symbol("");function ma(){let e=[];function t(i){return e.push(i),()=>{const o=e.indexOf(i);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Ni(e,t,n,i,o){const u=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=g=>{g===!1?l(du(4,{from:n,to:t})):g instanceof Error?l(g):kB(g)?l(du(2,{from:t,to:g})):(u&&i.enterCallbacks[o]===u&&typeof g=="function"&&u.push(g),a())},d=e.call(i&&i.instances[o],t,n,f);let p=Promise.resolve(d);e.length<3&&(p=p.then(f)),p.catch(g=>l(g))})}function Zm(e,t,n,i){const o=[];for(const u of e)for(const a in u.components){let l=u.components[a];if(!(t!=="beforeRouteEnter"&&!u.instances[a]))if(r3(l)){const d=(l.__vccOpts||l)[t];d&&o.push(Ni(d,n,i,u,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${u.path}"`));const p=cB(d)?d.default:d;u.components[a]=p;const v=(p.__vccOpts||p)[t];return v&&Ni(v,n,i,u,a)()}))}}return o}function r3(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function fT(e){const t=ar(Xy),n=ar(dC),i=Fe(()=>t.resolve(Ne(e.to))),o=Fe(()=>{const{matched:f}=i.value,{length:d}=f,p=f[d-1],g=n.matched;if(!p||!g.length)return-1;const v=g.findIndex(hu.bind(null,p));if(v>-1)return v;const b=hT(f[d-2]);return d>1&&hT(p)===b&&g[g.length-1].path!==b?g.findIndex(hu.bind(null,f[d-2])):v}),u=Fe(()=>o.value>-1&&u3(n.params,i.value.params)),a=Fe(()=>o.value>-1&&o.value===n.matched.length-1&&rC(n.params,i.value.params));function l(f={}){return s3(f)?t[Ne(e.replace)?"replace":"push"](Ne(e.to)).catch(Ra):Promise.resolve()}return{route:i,href:Fe(()=>i.value.href),isActive:u,isExactActive:a,navigate:l}}const i3=uc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fT,setup(e,{slots:t}){const n=ai(fT(e)),{options:i}=ar(Xy),o=Fe(()=>({[dT(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[dT(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=t.default&&t.default(n);return e.custom?u:zs("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},u)}}}),o3=i3;function s3(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function u3(e,t){for(const n in t){const i=t[n],o=e[n];if(typeof i=="string"){if(i!==o)return!1}else if(!kr(o)||o.length!==i.length||i.some((u,a)=>u!==o[a]))return!1}return!0}function hT(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const dT=(e,t,n)=>e??t??n,a3=uc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=ar(ev),o=Fe(()=>e.route||i.value),u=ar(lT,0),a=Fe(()=>{let d=Ne(u);const{matched:p}=o.value;let g;for(;(g=p[d])&&!g.components;)d++;return d}),l=Fe(()=>o.value.matched[a.value]);js(lT,Fe(()=>a.value+1)),js(n3,l),js(ev,o);const f=wn();return Jn(()=>[f.value,l.value,e.name],([d,p,g],[v,b,_])=>{p&&(p.instances[g]=d,b&&b!==p&&d&&d===v&&(p.leaveGuards.size||(p.leaveGuards=b.leaveGuards),p.updateGuards.size||(p.updateGuards=b.updateGuards))),d&&p&&(!b||!hu(p,b)||!v)&&(p.enterCallbacks[g]||[]).forEach(T=>T(d))},{flush:"post"}),()=>{const d=o.value,p=e.name,g=l.value,v=g&&g.components[p];if(!v)return pT(n.default,{Component:v,route:d});const b=g.props[p],_=b?b===!0?d.params:typeof b=="function"?b(d):b:null,S=zs(v,tt({},_,t,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(g.instances[p]=null)},ref:f}));return pT(n.default,{Component:S,route:d})||S}}});function pT(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const c3=a3;function l3(e){const t=FB(e.routes,e),n=e.parseQuery||e3,i=e.stringifyQuery||cT,o=e.history,u=ma(),a=ma(),l=ma(),f=VT(Si);let d=Si;Ps&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Qm.bind(null,D=>""+D),g=Qm.bind(null,ZB),v=Qm.bind(null,Yf);function b(D,$){let ee,ae;return oC(D)?(ee=t.getRecordMatcher(D),ae=$):ae=D,t.addRoute(ae,ee)}function _(D){const $=t.getRecordMatcher(D);$&&t.removeRoute($)}function T(){return t.getRoutes().map(D=>D.record)}function S(D){return!!t.getRecordMatcher(D)}function x(D,$){if($=tt({},$||f.value),typeof D=="string"){const R=Jm(n,D,$.path),L=t.resolve({path:R.path},$),j=o.createHref(R.fullPath);return tt(R,L,{params:v(L.params),hash:Yf(R.hash),redirectedFrom:void 0,href:j})}let ee;if("path"in D)ee=tt({},D,{path:Jm(n,D.path,$.path).path});else{const R=tt({},D.params);for(const L in R)R[L]==null&&delete R[L];ee=tt({},D,{params:g(R)}),$.params=g($.params)}const ae=t.resolve(ee,$),Ce=D.hash||"";ae.params=p(v(ae.params));const I=hB(i,tt({},D,{hash:YB(Ce),path:ae.path})),A=o.createHref(I);return tt({fullPath:I,hash:Ce,query:i===cT?t3(D.query):D.query||{}},ae,{redirectedFrom:void 0,href:A})}function O(D){return typeof D=="string"?Jm(n,D,f.value.path):tt({},D)}function U(D,$){if(d!==D)return du(8,{from:$,to:D})}function B(D){return we(D)}function te(D){return B(tt(O(D),{replace:!0}))}function V(D){const $=D.matched[D.matched.length-1];if($&&$.redirect){const{redirect:ee}=$;let ae=typeof ee=="function"?ee(D):ee;return typeof ae=="string"&&(ae=ae.includes("?")||ae.includes("#")?ae=O(ae):{path:ae},ae.params={}),tt({query:D.query,hash:D.hash,params:"path"in ae?{}:D.params},ae)}}function we(D,$){const ee=d=x(D),ae=f.value,Ce=D.state,I=D.force,A=D.replace===!0,R=V(ee);if(R)return we(tt(O(R),{state:typeof R=="object"?tt({},Ce,R.state):Ce,force:I,replace:A}),$||ee);const L=ee;L.redirectedFrom=$;let j;return!I&&dB(i,ae,ee)&&(j=du(16,{to:L,from:ae}),Vt(ae,ae,!0,!1)),(j?Promise.resolve(j):k(L,ae)).catch(X=>Jr(X)?Jr(X,2)?X:It(X):ge(X,L,ae)).then(X=>{if(X){if(Jr(X,2))return we(tt({replace:A},O(X.to),{state:typeof X.to=="object"?tt({},Ce,X.to.state):Ce,force:I}),$||L)}else X=nt(L,ae,!0,A,Ce);return $e(L,ae,X),X})}function G(D,$){const ee=U(D,$);return ee?Promise.reject(ee):Promise.resolve()}function oe(D){const $=Vn.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(D):D()}function k(D,$){let ee;const[ae,Ce,I]=f3(D,$);ee=Zm(ae.reverse(),"beforeRouteLeave",D,$);for(const R of ae)R.leaveGuards.forEach(L=>{ee.push(Ni(L,D,$))});const A=G.bind(null,D,$);return ee.push(A),ve(ee).then(()=>{ee=[];for(const R of u.list())ee.push(Ni(R,D,$));return ee.push(A),ve(ee)}).then(()=>{ee=Zm(Ce,"beforeRouteUpdate",D,$);for(const R of Ce)R.updateGuards.forEach(L=>{ee.push(Ni(L,D,$))});return ee.push(A),ve(ee)}).then(()=>{ee=[];for(const R of I)if(R.beforeEnter)if(kr(R.beforeEnter))for(const L of R.beforeEnter)ee.push(Ni(L,D,$));else ee.push(Ni(R.beforeEnter,D,$));return ee.push(A),ve(ee)}).then(()=>(D.matched.forEach(R=>R.enterCallbacks={}),ee=Zm(I,"beforeRouteEnter",D,$),ee.push(A),ve(ee))).then(()=>{ee=[];for(const R of a.list())ee.push(Ni(R,D,$));return ee.push(A),ve(ee)}).catch(R=>Jr(R,8)?R:Promise.reject(R))}function $e(D,$,ee){l.list().forEach(ae=>oe(()=>ae(D,$,ee)))}function nt(D,$,ee,ae,Ce){const I=U(D,$);if(I)return I;const A=$===Si,R=Ps?history.state:{};ee&&(ae||A?o.replace(D.fullPath,tt({scroll:A&&R&&R.scroll},Ce)):o.push(D.fullPath,Ce)),f.value=D,Vt(D,$,ee,A),It()}let rt;function lt(){rt||(rt=o.listen((D,$,ee)=>{if(!pe.listening)return;const ae=x(D),Ce=V(ae);if(Ce){we(tt(Ce,{replace:!0}),ae).catch(Ra);return}d=ae;const I=f.value;Ps&&_B(tT(I.fullPath,ee.delta),Qh()),k(ae,I).catch(A=>Jr(A,12)?A:Jr(A,2)?(we(A.to,ae).then(R=>{Jr(R,20)&&!ee.delta&&ee.type===oc.pop&&o.go(-1,!1)}).catch(Ra),Promise.reject()):(ee.delta&&o.go(-ee.delta,!1),ge(A,ae,I))).then(A=>{A=A||nt(ae,I,!1),A&&(ee.delta&&!Jr(A,8)?o.go(-ee.delta,!1):ee.type===oc.pop&&Jr(A,20)&&o.go(-1,!1)),$e(ae,I,A)}).catch(Ra)}))}let Ge=ma(),de=ma(),De;function ge(D,$,ee){It(D);const ae=de.list();return ae.length?ae.forEach(Ce=>Ce(D,$,ee)):console.error(D),Promise.reject(D)}function ht(){return De&&f.value!==Si?Promise.resolve():new Promise((D,$)=>{Ge.add([D,$])})}function It(D){return De||(De=!D,lt(),Ge.list().forEach(([$,ee])=>D?ee(D):$()),Ge.reset()),D}function Vt(D,$,ee,ae){const{scrollBehavior:Ce}=e;if(!Ps||!Ce)return Promise.resolve();const I=!ee&&EB(tT(D.fullPath,0))||(ae||!ee)&&history.state&&history.state.scroll||null;return ei().then(()=>Ce(D,$,I)).then(A=>A&&bB(A)).catch(A=>ge(A,D,$))}const Ot=D=>o.go(D);let dt;const Vn=new Set,pe={currentRoute:f,listening:!0,addRoute:b,removeRoute:_,hasRoute:S,getRoutes:T,resolve:x,options:e,push:B,replace:te,go:Ot,back:()=>Ot(-1),forward:()=>Ot(1),beforeEach:u.add,beforeResolve:a.add,afterEach:l.add,onError:de.add,isReady:ht,install(D){const $=this;D.component("RouterLink",o3),D.component("RouterView",c3),D.config.globalProperties.$router=$,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>Ne(f)}),Ps&&!dt&&f.value===Si&&(dt=!0,B(o.location).catch(Ce=>{}));const ee={};for(const Ce in Si)Object.defineProperty(ee,Ce,{get:()=>f.value[Ce],enumerable:!0});D.provide(Xy,$),D.provide(dC,MT(ee)),D.provide(ev,f);const ae=D.unmount;Vn.add(D),D.unmount=function(){Vn.delete(D),Vn.size<1&&(d=Si,rt&&rt(),rt=null,f.value=Si,dt=!1,De=!1),ae()}}};function ve(D){return D.reduce(($,ee)=>$.then(()=>oe(ee)),Promise.resolve())}return pe}function f3(e,t){const n=[],i=[],o=[],u=Math.max(t.matched.length,e.matched.length);for(let a=0;a<u;a++){const l=t.matched[a];l&&(e.matched.find(d=>hu(d,l))?i.push(l):n.push(l));const f=e.matched[a];f&&(t.matched.find(d=>hu(d,f))||o.push(f))}return[n,i,o]}const h3={name:"SongItem",props:{song:{type:Object,required:!0}},methods:{playSong(){this.$emit("playSong",this.song)}}},d3={class:"flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"},p3={class:"text-gray-500 text-sm"},m3={class:"text-gray-600 text-lg"},g3={class:"comments"},v3=q("i",{class:"fa fa-comments text-gray-600"},null,-1);function y3(e,t,n,i,o,u){const a=Et("router-link");return ze(),st("li",d3,[q("div",null,[ke(a,{to:{name:"song",params:{id:n.song.docID}},class:"font-bold block text-gray-600"},{default:ur(()=>[Oo(en(n.song.modified_name),1)]),_:1},8,["to"]),q("span",p3,en(n.song.display_name),1)]),q("div",m3,[q("span",g3,[v3,Oo(" "+en(n.song.comment_count),1)])])])}const w3=jn(h3,[["render",y3]]),b3="/Music/assets/img/introduction-music.png",_3={name:"Home",components:{AppSongItem:w3},data(){return{songs:[],maxPerPage:3,pendingRequest:!1}},async created(){this.getSongs(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.round(e)+n===t&&this.getSongs()},async getSongs(){var t;if(this.pendingRequest)return;this.pendingRequest=!0;let e;if(this.songs.length){const n=await si.doc((t=this.songs[this.songs.length-1])==null?void 0:t.docID).get();e=await si.orderBy("modified_name").startAfter(n).limit(this.maxPerPage).get()}else e=await si.orderBy("modified_name").limit(this.maxPerPage).get();e.forEach(n=>{this.songs.push({docID:n.id,...n.data()})}),this.pendingRequest=!1}}},E3=dS('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Listen to Great Music!</h1><p class="w-full md:w-8/12 mx-auto"> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus et dolor mollis, congue augue non, venenatis elit. Nunc justo eros, suscipit ac aliquet imperdiet, venenatis et sapien. Duis sed magna pulvinar, fringilla lorem eget, ullamcorper urna. </p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+b3+'"></section>',1),I3={class:"container mx-auto"},T3={class:"bg-white rounded border border-gray-200 relative flex flex-col"},S3=q("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[q("span",{class:"card-title"},"Songs"),q("i",{class:"fa fa-headphones-alt float-right text-green-400 text-xl"})],-1),A3={id:"playlist"};function k3(e,t,n,i,o,u){const a=Et("AppSongItem");return ze(),st(xt,null,[E3,q("section",I3,[q("div",T3,[S3,q("ol",A3,[(ze(!0),st(xt,null,vu(o.songs,l=>(ze(),$s(a,{key:l.docID,song:l},null,8,["song"]))),128))])])])],64)}const C3=jn(_3,[["render",k3]]),N3={},R3={class:"about"},x3=q("h1",null,"This is an about page",-1),O3=[x3];function P3(e,t){return ze(),st("div",R3,O3)}const D3=jn(N3,[["render",P3]]),L3={name:"Upload",data(){return{isDragging:!1,uploads:[]}},props:["addSong"],methods:{upload(e){this.isDragging=!1,(e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files]).forEach(n=>{if(n.type!=="audio/mpeg")return;const u=$k.ref().child(`songs/${n.name}`).put(n),a=this.uploads.push({task:u,current_progress:0,name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;u.on("state_changed",l=>{const f=l.bytesTransferred/l.totalBytes*100;this.uploads[a].current_progress=f},()=>{this.uploads[a].variant="bg-red-400",this.uploads[a].icon="fas fa-times",this.uploads[a].text_class="text-red-400"},async()=>{const l={uid:Sr.currentUser.uid,displayName:Sr.currentUser.displayName,original_name:u.snapshot.ref.name,modified_name:u.snapshot.metadata.name,genre:"",comment_count:0};l.url=await u.snapshot.ref.getDownloadURL();const d=await(await si.add(l)).get();this.addSong(d),this.uploads[a].variant="bg-green-400",this.uploads[a].icon="fas fa-check",this.uploads[a].text_class="text-green-400"})})},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})}},beforeUnmount(){this.uploads.forEach(e=>{e.task.cancel()})}},M3={class:"col-span-1"},F3={class:"bg-white rounded border border-gray-200 relative flex flex-col"},U3=q("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[q("span",{class:"card-title"},"Upload"),q("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),j3={class:"p-6"},V3=q("h5",null,"Drop your files here",-1),q3=[V3],B3=q("hr",{class:"my-6"},null,-1),$3={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function K3(e,t,n,i,o,u){return ze(),st("div",M3,[q("div",F3,[U3,q("div",j3,[q("div",{class:xn(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid",{"bg-green-400 border-green-400 border-solid":o.isDragging}]),onDrag:t[0]||(t[0]=Gn(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=Gn(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=Gn(a=>o.isDragging=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=Gn(a=>o.isDragging=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=Gn(a=>o.isDragging=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=Gn(a=>o.isDragging=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=Gn(a=>u.upload(a),["prevent","stop"]))},q3,34),q("input",{type:"file",multiple:"",onChange:t[7]||(t[7]=a=>u.upload(a))},null,32),B3,(ze(!0),st(xt,null,vu(o.uploads,a=>(ze(),st("div",{class:"mb-4",key:a.name},[q("div",{class:xn(["font-bold text-sm",a.text_class])},[q("i",{class:xn(a.icon)},null,2),Oo(" "+en(a.name),1)],2),q("div",$3,[q("div",{class:xn(["transition-all progress-bar",a.variant]),style:th({width:a.current_progress+"%"})},null,6)])]))),128))])])])}const H3=jn(L3,[["render",K3]]),z3={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},index:{type:Number,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function}},data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_message:"Please wait! Updating song info."}},methods:{async edit(e){this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_message="Please wait! Updating song info.";try{await si.doc(this.song.docID).update(e)}catch(t){console.log(t),this.in_submission=!1,this.alert_variant="bg-red-500",this.alert_message="Something went wrong! Try again later";return}this.updateSong(this.index,e),this.updateUnsavedFlag(!1),this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_message="Sucess!"},async deleteSong(){await $k.ref().child(`songs/${this.song.original_name}`).delete(),await si.doc(this.song.docID).delete(),this.removeSong(this.index)}},components:{ErrorMessage:Yh}},G3={class:"border border-gray-200 p-3 mb-4 rounded"},W3={class:"inline-block text-2xl font-bold"},X3=q("i",{class:"fa fa-times"},null,-1),Y3=[X3],Q3=q("i",{class:"fa fa-pencil-alt"},null,-1),J3=[Q3],Z3={class:"mb-3"},e4=q("label",{class:"inline-block mb-2"},null,-1),t4={class:"mb-3"},n4=q("label",{class:"inline-block mb-2"},null,-1),r4=["disabled"],i4=["disabled"];function o4(e,t,n,i,o,u){const a=Et("vee-field"),l=Et("ErrorMessage"),f=Et("vee-form");return ze(),st("div",G3,[mf(q("div",null,[q("h4",W3,en(n.song.modified_name),1),q("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right",onClick:t[0]||(t[0]=Gn((...d)=>u.deleteSong&&u.deleteSong(...d),["prevent"]))},Y3),q("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right",onClick:t[1]||(t[1]=Gn(d=>o.showForm=!o.showForm,["prevent"]))},J3)],512),[[hg,!o.showForm]]),mf(q("div",null,[o.show_alert?(ze(),st("div",{key:0,class:xn(["text-white text-center font-bold p-4 mb-4",o.alert_variant])},en(o.alert_message),3)):ja("",!0),ke(f,{"validation-schema":o.schema,"initial-values":n.song,onSubmit:u.edit},{default:ur(()=>[q("div",Z3,[e4,ke(a,{type:"text",name:"modified_name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=d=>n.updateUnsavedFlag(!0))}),ke(l,{class:"text-red-600",name:"modified_name"})]),q("div",t4,[n4,ke(a,{type:"text",name:"genre",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=d=>n.updateUnsavedFlag(!0))}),ke(l,{class:"text-red-600",name:"genre"})]),q("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600",disabled:o.in_submission}," Submit ",8,r4),q("button",{type:"button",class:"py-1.5 px-3 rounded text-white bg-gray-600",disabled:o.in_submission,onClick:t[4]||(t[4]=Gn(d=>o.showForm=!1,["prevent"]))}," Go Back ",8,i4)]),_:1},8,["validation-schema","initial-values","onSubmit"])],512),[[hg,o.showForm]])])}const s4=jn(z3,[["render",o4]]),u4={name:"manage",components:{AppUpload:H3,CompositionItem:s4},data(){return{songs:[],unsavedFlag:!1}},async created(){(await si.where("uid","==",Sr.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){console.log(e.data());const t={...e.data(),docID:e.id};this.songs.push(t)},updateUnsavedFlag(e){this.unsavedFlag=e}},beforeRouteLeave(e,t,n){if(!this.unsavedFlag)n();else{const i=confirm("You have unsaved changes. Are you sure you want to leave?");n(i)}}},a4={class:"container mx-auto mt-6"},c4={class:"md:grid md:grid-cols-3 md:gap-4"},l4={class:"col-span-2"},f4={class:"bg-white rounded border border-gray-200 relative flex flex-col"},h4=q("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[q("span",{class:"card-title"},"My Songs"),q("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"})],-1),d4={class:"p-6"};function p4(e,t,n,i,o,u){const a=Et("AppUpload"),l=Et("composition-item");return ze(),st("section",a4,[q("div",c4,[ke(a,{ref:"upload",addSong:u.addSong},null,8,["addSong"]),q("div",l4,[q("div",f4,[h4,q("div",d4,[(ze(!0),st(xt,null,vu(o.songs,(f,d)=>(ze(),$s(l,{key:f.docID,song:f,updateSong:u.updateSong,index:d,removeSong:u.removeSong,updateUnsavedFlag:u.updateUnsavedFlag},null,8,["song","updateSong","index","removeSong","updateUnsavedFlag"]))),128))])])])])])}const m4=jn(u4,[["render",p4]]),g4={name:"SongsComments",props:{comment:{type:Object,required:!0}}},v4={class:"p-6 bg-gray-50 border border-gray-200"},y4={class:"mb-5"},w4={class:"font-bold"};function b4(e,t,n,i,o,u){return ze(),st("li",v4,[q("div",y4,[q("div",w4,en(n.comment.user),1),q("time",null,en(n.comment.created_at),1)]),q("p",null,en(n.comment.comment),1)])}const _4=jn(g4,[["render",b4]]),E4={name:"SongsCommentSubmit",props:{getSong:{type:Function,required:!0},getComments:{type:Function,required:!0}},data(){return{schema_comment:{comment:"required|min:3|max:500"},comment_show_alert:!1,comment_in_submission:!1,comment_alert_variant:"bg-blue-500",comment_alert_message:"Great! Your comment has been submitted.",songs_count:0}},methods:{async comment(e,{resetForm:t}){if(this.comment_in_submission=!0,this.comment_show_alert=!0,this.comment_alert_variant="bg-blue-500",this.comment_alert_message="Please wait while we submit your comment.",!Sr.currentUser){this.comment_in_submission=!1,this.comment_show_alert=!0,this.comment_alert_variant="bg-red-500",this.comment_alert_message="Please login to submit a comment.",setTimeout(()=>{this.comment_show_alert=!1},2e3);return}const n={song_id:this.$route.params.id,uid:Sr.currentUser.uid,user:Sr.currentUser.displayName,comment:e.comment,created_at:new Date().toString()};try{await Kk.add(n),await si.doc(this.$route.params.id).update({comment_count:Se.firestore.FieldValue.increment(1)}),this.comment_in_submission=!1,this.comment_show_alert=!0,this.comment_alert_variant="bg-green-500",this.comment_alert_message="Great! Your comment has been submitted.",setTimeout(()=>{this.comment_show_alert=!1},2e3)}catch{this.comment_in_submission=!1,this.comment_show_alert=!0,this.comment_alert_variant="bg-red-500",this.comment_alert_message="Sorry! Your comment could not be submitted.",setTimeout(()=>{this.comment_show_alert=!1},2e3)}this.getSong(),this.getComments(),t()}}},I4=["disabled"];function T4(e,t,n,i,o,u){const a=Et("vee-field"),l=Et("ErrorMessage"),f=Et("vee-form");return ze(),st(xt,null,[o.comment_show_alert?(ze(),st("div",{key:0,class:xn(["text-white text-center font-bold p-4 mb-4",o.comment_alert_variant])},en(o.comment_alert_message),3)):ja("",!0),ke(f,{"validation-schema":o.schema_comment,onSubmit:u.comment},{default:ur(()=>[ke(a,{type:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded mb-4",placeholder:"Your comment here..."}),ke(l,{class:"text-red-600",name:"comment"}),q("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_submission}," Submit ",8,I4)]),_:1},8,["validation-schema","onSubmit"])],64)}const S4=jn(E4,[["render",T4]]),A4={name:"Song",components:{SongsComments:_4,SongsCommentSubmit:S4},data(){return{songs:{},comments:[],sort:"1"}},created(){this.getSong(),this.getComments()},methods:{async getSong(){const e=await si.doc(this.$route.params.id).get();if(!e.exists){this.$router.push({name:"home"});return}this.songs=e.data()},async getComments(){this.comments=[],(await Kk.orderBy("created_at","desc").get()).forEach(t=>{this.comments.push({docID:t.id,...t.data()})}),console.log(this.comments)}},computed:{sortedComments(){return this.comments.slice().sort((e,t)=>this.sort==="1"?new Date(t.created_at)-new Date(e.created_at):new Date(e.created_at)-new Date(t.created_at))}}},k4={class:"w-full mb-8 py-14 text-center text-white relative"},C4=q("div",{class:"absolute inset-0 w-full h-full box-border bg-contain music-bg",style:{"background-image":"url(/Music/assets/img/song-header.png)"}},null,-1),N4={class:"container mx-auto flex items-center"},R4=q("button",{type:"button",class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none"},[q("i",{class:"fas fa-play"})],-1),x4={class:"z-50 text-left ml-8"},O4={class:"text-3xl font-bold"},P4={class:"container mx-auto mt-6"},D4={class:"bg-white rounded border border-gray-200 relative flex flex-col"},L4={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},M4={class:"card-title"},F4=q("i",{class:"fa fa-comments float-right text-green-400 text-2xl"},null,-1),U4={class:"p-6"},j4=q("option",{value:"1"},"Latest",-1),V4=q("option",{value:"2"},"Oldest",-1),q4=[j4,V4],B4={class:"container mx-auto"};function $4(e,t,n,i,o,u){const a=Et("SongsCommentSubmit"),l=Et("SongsComments");return ze(),st(xt,null,[q("section",k4,[C4,q("div",N4,[R4,q("div",x4,[q("div",O4,en(o.songs.modified_name),1),q("div",null,en(o.songs.genre),1)])])]),q("section",P4,[q("div",D4,[q("div",L4,[q("span",M4,"Comments "+en(o.songs.comment_count),1),F4]),q("div",U4,[ke(a,{getSong:u.getSong,getComments:u.getComments},null,8,["getSong","getComments"]),mf(q("select",{"onUpdate:modelValue":t[0]||(t[0]=f=>o.sort=f),class:"block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},q4,512),[[CD,o.sort]])])])]),q("ul",B4,[(ze(!0),st(xt,null,vu(u.sortedComments,f=>(ze(),$s(l,{key:f,comment:f},null,8,["comment"]))),128))])],64)}const K4=jn(A4,[["render",$4]]),H4=[{name:"home",path:"/",component:C3},{name:"about",path:"/about",component:D3},{name:"manage",path:"/manage-music",component:m4,beforeEnter:(e,t,n)=>{n()},meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{name:"song",path:"/song/:id",component:K4},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],pC=l3({history:AB("/Music/"),routes:H4,linkActiveClass:"text-yellow-500"});pC.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}Cc().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.11.1
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const Ql={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},z4=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Rc(e,t){return Array.isArray(e)?e[0]:e[t]}function Qi(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const mC=(e,t)=>{if(Qi(e))return!0;const n=z4(t);if(Array.isArray(e))return e.every(o=>mC(o,{locale:n}));const i=String(e);return n?(Ql[n]||Ql.en).test(i):Object.keys(Ql).some(o=>Ql[o].test(i))},G4=(e,t)=>{const n=Rc(t,"target");return String(e)===String(n)},W4=e=>{if(Qi(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function X4(e){return e==null}function Y4(e){return Array.isArray(e)&&e.length===0}const gC=(e,t)=>{if(Qi(e))return!0;const n=Rc(t,"length");return Array.isArray(e)?e.every(i=>gC(i,{length:n})):[...String(e)].length<=Number(n)},vC=(e,t)=>{if(Qi(e))return!0;const n=Rc(t,"max");return Array.isArray(e)?e.length>0&&e.every(i=>vC(i,{max:n})):Number(e)<=Number(n)},yC=(e,t)=>{if(Qi(e))return!0;const n=Rc(t,"length");return Array.isArray(e)?e.every(i=>yC(i,{length:n})):[...String(e)].length>=Number(n)},wC=(e,t)=>{if(Qi(e))return!0;const n=Rc(t,"min");return Array.isArray(e)?e.length>0&&e.every(i=>wC(i,{min:n})):Number(e)>=Number(n)},bC=(e,t)=>Qi(e)?!0:Array.isArray(e)?e.every(n=>bC(n,t)):Array.from(t).some(n=>n==e),mT=(e,t)=>Qi(e)?!0:!bC(e,t),gT=e=>X4(e)||Y4(e)||e===!1?!1:!!String(e).trim().length,Q4={install(e){e.component("VeeForm",hq),e.component("VeeField",sq),e.component("ErrorMessage",Yh),mr("required",gT),mr("tos",gT),mr("min",yC),mr("max",gC),mr("alpha_spaces",mC),mr("email",W4),mr("min_value",wC),mr("max_value",vC),mr("passwords_mismatch",G4),mr("excluded",mT),mr("country_excluded",mT),V2({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short`,max:`The field ${t.field} is too long`,alpha_spaces:`The field ${t.field} may only contain alphabetic characters and spaces.`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,excluded:`You not allow to use this value for the field The field ${t.field}`,country_excluded:"Due to restrictions, we do not accept users from this location.",passwords_mismatch:"The passwords don't match.",tos:"You must accept the Terms of Service"};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1})}};let Ns;Sr.onAuthStateChanged(()=>{Ns||(Ns=PD(aB),Ns.use(MD()),Ns.use(pC),Ns.use(Q4),Ns.mount("#app"))});
