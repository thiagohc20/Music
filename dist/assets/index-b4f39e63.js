(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Qg(e,t){const n=Object.create(null),i=e.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const pt={},Ms=[],br=()=>{},oO=()=>!1,sO=/^on[^a-z]/,zf=e=>sO.test(e),Jg=e=>e.startsWith("onUpdate:"),Gt=Object.assign,Zg=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},uO=Object.prototype.hasOwnProperty,We=(e,t)=>uO.call(e,t),Oe=Array.isArray,Fs=e=>Gf(e)==="[object Map]",lT=e=>Gf(e)==="[object Set]",Le=e=>typeof e=="function",Ft=e=>typeof e=="string",ev=e=>typeof e=="symbol",gt=e=>e!==null&&typeof e=="object",fT=e=>gt(e)&&Le(e.then)&&Le(e.catch),hT=Object.prototype.toString,Gf=e=>hT.call(e),aO=e=>Gf(e).slice(8,-1),dT=e=>Gf(e)==="[object Object]",tv=e=>Ft(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Yl=Qg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wf=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},cO=/-(\w)/g,Kr=Wf(e=>e.replace(cO,(t,n)=>n?n.toUpperCase():"")),lO=/\B([A-Z])/g,pu=Wf(e=>e.replace(lO,"-$1").toLowerCase()),Xf=Wf(e=>e.charAt(0).toUpperCase()+e.slice(1)),bm=Wf(e=>e?`on${Xf(e)}`:""),Oa=(e,t)=>!Object.is(e,t),_m=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},af=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},fO=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let k_;const Xm=()=>k_||(k_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Yf(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=Ft(i)?mO(i):Yf(i);if(o)for(const u in o)t[u]=o[u]}return t}else{if(Ft(e))return e;if(gt(e))return e}}const hO=/;(?![^(]*\))/g,dO=/:([^]+)/,pO=/\/\*[^]*?\*\//g;function mO(e){const t={};return e.replace(pO,"").split(hO).forEach(n=>{if(n){const i=n.split(dO);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function xn(e){let t="";if(Ft(e))t=e;else if(Oe(e))for(let n=0;n<e.length;n++){const i=xn(e[n]);i&&(t+=i+" ")}else if(gt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const gO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vO=Qg(gO);function pT(e){return!!e||e===""}const en=e=>Ft(e)?e:e==null?"":Oe(e)||gt(e)&&(e.toString===hT||!Le(e.toString))?JSON.stringify(e,mT,2):String(e),mT=(e,t)=>t&&t.__v_isRef?mT(e,t.value):Fs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o])=>(n[`${i} =>`]=o,n),{})}:lT(t)?{[`Set(${t.size})`]:[...t.values()]}:gt(t)&&!Oe(t)&&!dT(t)?String(t):t;let Kn;class gT{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Kn,!t&&Kn&&(this.index=(Kn.scopes||(Kn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Kn;try{return Kn=this,t()}finally{Kn=n}}}on(){Kn=this}off(){Kn=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function vT(e){return new gT(e)}function yO(e,t=Kn){t&&t.active&&t.effects.push(e)}function yT(){return Kn}function wO(e){Kn&&Kn.cleanups.push(e)}const nv=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wT=e=>(e.w&Bi)>0,bT=e=>(e.n&Bi)>0,bO=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Bi},_O=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const o=t[i];wT(o)&&!bT(o)?o.delete(e):t[n++]=o,o.w&=~Bi,o.n&=~Bi}t.length=n}},cf=new WeakMap;let ga=0,Bi=1;const Ym=30;let yr;const xo=Symbol(""),Qm=Symbol("");class rv{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,yO(this,i)}run(){if(!this.active)return this.fn();let t=yr,n=Mi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=yr,yr=this,Mi=!0,Bi=1<<++ga,ga<=Ym?bO(this):N_(this),this.fn()}finally{ga<=Ym&&_O(this),Bi=1<<--ga,yr=this.parent,Mi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){yr===this?this.deferStop=!0:this.active&&(N_(this),this.onStop&&this.onStop(),this.active=!1)}}function N_(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Mi=!0;const _T=[];function mu(){_T.push(Mi),Mi=!1}function gu(){const e=_T.pop();Mi=e===void 0?!0:e}function Ln(e,t,n){if(Mi&&yr){let i=cf.get(e);i||cf.set(e,i=new Map);let o=i.get(n);o||i.set(n,o=nv()),ET(o)}}function ET(e,t){let n=!1;ga<=Ym?bT(e)||(e.n|=Bi,n=!wT(e)):n=!e.has(yr),n&&(e.add(yr),yr.deps.push(e))}function ui(e,t,n,i,o,u){const a=cf.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&Oe(e)){const f=Number(i);a.forEach((d,p)=>{(p==="length"||p>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":Oe(e)?tv(n)&&l.push(a.get("length")):(l.push(a.get(xo)),Fs(e)&&l.push(a.get(Qm)));break;case"delete":Oe(e)||(l.push(a.get(xo)),Fs(e)&&l.push(a.get(Qm)));break;case"set":Fs(e)&&l.push(a.get(xo));break}if(l.length===1)l[0]&&Jm(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);Jm(nv(f))}}function Jm(e,t){const n=Oe(e)?e:[...e];for(const i of n)i.computed&&C_(i);for(const i of n)i.computed||C_(i)}function C_(e,t){(e!==yr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function EO(e,t){var n;return(n=cf.get(e))==null?void 0:n.get(t)}const IO=Qg("__proto__,__v_isRef,__isVue"),IT=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ev)),TO=iv(),SO=iv(!1,!0),AO=iv(!0),R_=kO();function kO(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Xe(this);for(let u=0,a=this.length;u<a;u++)Ln(i,"get",u+"");const o=i[t](...n);return o===-1||o===!1?i[t](...n.map(Xe)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){mu();const i=Xe(this)[t].apply(this,n);return gu(),i}}),e}function NO(e){const t=Xe(this);return Ln(t,"has",e),t.hasOwnProperty(e)}function iv(e=!1,t=!1){return function(i,o,u){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&u===(e?t?HO:NT:t?kT:AT).get(i))return i;const a=Oe(i);if(!e){if(a&&We(R_,o))return Reflect.get(R_,o,u);if(o==="hasOwnProperty")return NO}const l=Reflect.get(i,o,u);return(ev(o)?IT.has(o):IO(o))||(e||Ln(i,"get",o),t)?l:at(l)?a&&tv(o)?l:l.value:gt(l)?e?uv(l):ai(l):l}}const CO=TT(),RO=TT(!0);function TT(e=!1){return function(n,i,o,u){let a=n[i];if(qs(a)&&at(a)&&!at(o))return!1;if(!e&&(!lf(o)&&!qs(o)&&(a=Xe(a),o=Xe(o)),!Oe(n)&&at(a)&&!at(o)))return a.value=o,!0;const l=Oe(n)&&tv(i)?Number(i)<n.length:We(n,i),f=Reflect.set(n,i,o,u);return n===Xe(u)&&(l?Oa(o,a)&&ui(n,"set",i,o):ui(n,"add",i,o)),f}}function xO(e,t){const n=We(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&ui(e,"delete",t,void 0),i}function OO(e,t){const n=Reflect.has(e,t);return(!ev(t)||!IT.has(t))&&Ln(e,"has",t),n}function PO(e){return Ln(e,"iterate",Oe(e)?"length":xo),Reflect.ownKeys(e)}const ST={get:TO,set:CO,deleteProperty:xO,has:OO,ownKeys:PO},DO={get:AO,set(e,t){return!0},deleteProperty(e,t){return!0}},LO=Gt({},ST,{get:SO,set:RO}),ov=e=>e,Qf=e=>Reflect.getPrototypeOf(e);function Rl(e,t,n=!1,i=!1){e=e.__v_raw;const o=Xe(e),u=Xe(t);n||(t!==u&&Ln(o,"get",t),Ln(o,"get",u));const{has:a}=Qf(o),l=i?ov:n?cv:Pa;if(a.call(o,t))return l(e.get(t));if(a.call(o,u))return l(e.get(u));e!==o&&e.get(t)}function xl(e,t=!1){const n=this.__v_raw,i=Xe(n),o=Xe(e);return t||(e!==o&&Ln(i,"has",e),Ln(i,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Ol(e,t=!1){return e=e.__v_raw,!t&&Ln(Xe(e),"iterate",xo),Reflect.get(e,"size",e)}function x_(e){e=Xe(e);const t=Xe(this);return Qf(t).has.call(t,e)||(t.add(e),ui(t,"add",e,e)),this}function O_(e,t){t=Xe(t);const n=Xe(this),{has:i,get:o}=Qf(n);let u=i.call(n,e);u||(e=Xe(e),u=i.call(n,e));const a=o.call(n,e);return n.set(e,t),u?Oa(t,a)&&ui(n,"set",e,t):ui(n,"add",e,t),this}function P_(e){const t=Xe(this),{has:n,get:i}=Qf(t);let o=n.call(t,e);o||(e=Xe(e),o=n.call(t,e)),i&&i.call(t,e);const u=t.delete(e);return o&&ui(t,"delete",e,void 0),u}function D_(){const e=Xe(this),t=e.size!==0,n=e.clear();return t&&ui(e,"clear",void 0,void 0),n}function Pl(e,t){return function(i,o){const u=this,a=u.__v_raw,l=Xe(a),f=t?ov:e?cv:Pa;return!e&&Ln(l,"iterate",xo),a.forEach((d,p)=>i.call(o,f(d),f(p),u))}}function Dl(e,t,n){return function(...i){const o=this.__v_raw,u=Xe(o),a=Fs(u),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,d=o[e](...i),p=n?ov:t?cv:Pa;return!t&&Ln(u,"iterate",f?Qm:xo),{next(){const{value:g,done:v}=d.next();return v?{value:g,done:v}:{value:l?[p(g[0]),p(g[1])]:p(g),done:v}},[Symbol.iterator](){return this}}}}function _i(e){return function(...t){return e==="delete"?!1:this}}function MO(){const e={get(u){return Rl(this,u)},get size(){return Ol(this)},has:xl,add:x_,set:O_,delete:P_,clear:D_,forEach:Pl(!1,!1)},t={get(u){return Rl(this,u,!1,!0)},get size(){return Ol(this)},has:xl,add:x_,set:O_,delete:P_,clear:D_,forEach:Pl(!1,!0)},n={get(u){return Rl(this,u,!0)},get size(){return Ol(this,!0)},has(u){return xl.call(this,u,!0)},add:_i("add"),set:_i("set"),delete:_i("delete"),clear:_i("clear"),forEach:Pl(!0,!1)},i={get(u){return Rl(this,u,!0,!0)},get size(){return Ol(this,!0)},has(u){return xl.call(this,u,!0)},add:_i("add"),set:_i("set"),delete:_i("delete"),clear:_i("clear"),forEach:Pl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=Dl(u,!1,!1),n[u]=Dl(u,!0,!1),t[u]=Dl(u,!1,!0),i[u]=Dl(u,!0,!0)}),[e,n,t,i]}const[FO,UO,jO,VO]=MO();function sv(e,t){const n=t?e?VO:jO:e?UO:FO;return(i,o,u)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get(We(n,o)&&o in i?n:i,o,u)}const BO={get:sv(!1,!1)},qO={get:sv(!1,!0)},$O={get:sv(!0,!1)},AT=new WeakMap,kT=new WeakMap,NT=new WeakMap,HO=new WeakMap;function KO(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zO(e){return e.__v_skip||!Object.isExtensible(e)?0:KO(aO(e))}function ai(e){return qs(e)?e:av(e,!1,ST,BO,AT)}function CT(e){return av(e,!1,LO,qO,kT)}function uv(e){return av(e,!0,DO,$O,NT)}function av(e,t,n,i,o){if(!gt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=o.get(e);if(u)return u;const a=zO(e);if(a===0)return e;const l=new Proxy(e,a===2?i:n);return o.set(e,l),l}function Fi(e){return qs(e)?Fi(e.__v_raw):!!(e&&e.__v_isReactive)}function qs(e){return!!(e&&e.__v_isReadonly)}function lf(e){return!!(e&&e.__v_isShallow)}function RT(e){return Fi(e)||qs(e)}function Xe(e){const t=e&&e.__v_raw;return t?Xe(t):e}function Jf(e){return af(e,"__v_skip",!0),e}const Pa=e=>gt(e)?ai(e):e,cv=e=>gt(e)?uv(e):e;function xT(e){Mi&&yr&&(e=Xe(e),ET(e.dep||(e.dep=nv())))}function OT(e,t){e=Xe(e);const n=e.dep;n&&Jm(n)}function at(e){return!!(e&&e.__v_isRef===!0)}function wn(e){return DT(e,!1)}function PT(e){return DT(e,!0)}function DT(e,t){return at(e)?e:new GO(e,t)}class GO{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Xe(t),this._value=n?t:Pa(t)}get value(){return xT(this),this._value}set value(t){const n=this.__v_isShallow||lf(t)||qs(t);t=n?t:Xe(t),Oa(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Pa(t),OT(this))}}function Ne(e){return at(e)?e.value:e}function vr(e){return Le(e)?e():Ne(e)}const WO={get:(e,t,n)=>Ne(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return at(o)&&!at(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function LT(e){return Fi(e)?e:new Proxy(e,WO)}function XO(e){const t=Oe(e)?new Array(e.length):{};for(const n in e)t[n]=MT(e,n);return t}class YO{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return EO(Xe(this._object),this._key)}}class QO{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ri(e,t,n){return at(e)?e:Le(e)?new QO(e):gt(e)&&arguments.length>1?MT(e,t,n):wn(e)}function MT(e,t,n){const i=e[t];return at(i)?i:new YO(e,t,n)}class JO{constructor(t,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new rv(t,()=>{this._dirty||(this._dirty=!0,OT(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const t=Xe(this);return xT(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function ZO(e,t,n=!1){let i,o;const u=Le(e);return u?(i=e,o=br):(i=e.get,o=e.set),new JO(i,o,u||!o,n)}function Ui(e,t,n,i){let o;try{o=i?e(...i):e()}catch(u){Zf(u,t,n)}return o}function _r(e,t,n,i){if(Le(e)){const u=Ui(e,t,n,i);return u&&fT(u)&&u.catch(a=>{Zf(a,t,n)}),u}const o=[];for(let u=0;u<e.length;u++)o.push(_r(e[u],t,n,i));return o}function Zf(e,t,n,i=!0){const o=t?t.vnode:null;if(t){let u=t.parent;const a=t.proxy,l=n;for(;u;){const d=u.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,a,l)===!1)return}u=u.parent}const f=t.appContext.config.errorHandler;if(f){Ui(f,null,10,[e,a,l]);return}}eP(e,n,o,i)}function eP(e,t,n,i=!0){console.error(e)}let Da=!1,Zm=!1;const an=[];let Br=0;const Us=[];let ei=null,Io=0;const FT=Promise.resolve();let lv=null;function ti(e){const t=lv||FT;return e?t.then(this?e.bind(this):e):t}function tP(e){let t=Br+1,n=an.length;for(;t<n;){const i=t+n>>>1;La(an[i])<e?t=i+1:n=i}return t}function fv(e){(!an.length||!an.includes(e,Da&&e.allowRecurse?Br+1:Br))&&(e.id==null?an.push(e):an.splice(tP(e.id),0,e),UT())}function UT(){!Da&&!Zm&&(Zm=!0,lv=FT.then(VT))}function nP(e){const t=an.indexOf(e);t>Br&&an.splice(t,1)}function rP(e){Oe(e)?Us.push(...e):(!ei||!ei.includes(e,e.allowRecurse?Io+1:Io))&&Us.push(e),UT()}function L_(e,t=Da?Br+1:0){for(;t<an.length;t++){const n=an[t];n&&n.pre&&(an.splice(t,1),t--,n())}}function jT(e){if(Us.length){const t=[...new Set(Us)];if(Us.length=0,ei){ei.push(...t);return}for(ei=t,ei.sort((n,i)=>La(n)-La(i)),Io=0;Io<ei.length;Io++)ei[Io]();ei=null,Io=0}}const La=e=>e.id==null?1/0:e.id,iP=(e,t)=>{const n=La(e)-La(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function VT(e){Zm=!1,Da=!0,an.sort(iP);const t=br;try{for(Br=0;Br<an.length;Br++){const n=an[Br];n&&n.active!==!1&&Ui(n,null,14)}}finally{Br=0,an.length=0,jT(),Da=!1,lv=null,(an.length||Us.length)&&VT()}}function oP(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||pt;let o=n;const u=t.startsWith("update:"),a=u&&t.slice(7);if(a&&a in i){const p=`${a==="modelValue"?"model":a}Modifiers`,{number:g,trim:v}=i[p]||pt;v&&(o=n.map(b=>Ft(b)?b.trim():b)),g&&(o=n.map(fO))}let l,f=i[l=bm(t)]||i[l=bm(Kr(t))];!f&&u&&(f=i[l=bm(pu(t))]),f&&_r(f,e,6,o);const d=i[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,_r(d,e,6,o)}}function BT(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(o!==void 0)return o;const u=e.emits;let a={},l=!1;if(!Le(e)){const f=d=>{const p=BT(d,t,!0);p&&(l=!0,Gt(a,p))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!u&&!l?(gt(e)&&i.set(e,null),null):(Oe(u)?u.forEach(f=>a[f]=null):Gt(a,u),gt(e)&&i.set(e,a),a)}function eh(e,t){return!e||!zf(t)?!1:(t=t.slice(2).replace(/Once$/,""),We(e,t[0].toLowerCase()+t.slice(1))||We(e,pu(t))||We(e,t))}let On=null,qT=null;function ff(e){const t=On;return On=e,qT=e&&e.type.__scopeId||null,t}function ur(e,t=On,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&z_(-1);const u=ff(t);let a;try{a=e(...o)}finally{ff(u),i._d&&z_(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Em(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:u,propsOptions:[a],slots:l,attrs:f,emit:d,render:p,renderCache:g,data:v,setupState:b,ctx:_,inheritAttrs:T}=e;let S,x;const O=ff(e);try{if(n.shapeFlag&4){const q=o||i;S=jr(p.call(q,q,g,u,b,v,_)),x=f}else{const q=t;S=jr(q.length>1?q(u,{attrs:f,slots:l,emit:d}):q(u,null)),x=t.props?f:sP(f)}}catch(q){Ea.length=0,Zf(q,e,1),S=Ae(Uo)}let U=S;if(x&&T!==!1){const q=Object.keys(x),{shapeFlag:te}=U;q.length&&te&7&&(a&&q.some(Jg)&&(x=uP(x,a)),U=Hs(U,x))}return n.dirs&&(U=Hs(U),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&(U.transition=n.transition),S=U,ff(O),S}const sP=e=>{let t;for(const n in e)(n==="class"||n==="style"||zf(n))&&((t||(t={}))[n]=e[n]);return t},uP=(e,t)=>{const n={};for(const i in e)(!Jg(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function aP(e,t,n){const{props:i,children:o,component:u}=e,{props:a,children:l,patchFlag:f}=t,d=u.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?M_(i,a,d):!!a;if(f&8){const p=t.dynamicProps;for(let g=0;g<p.length;g++){const v=p[g];if(a[v]!==i[v]&&!eh(d,v))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?M_(i,a,d):!0:!!a;return!1}function M_(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const u=i[o];if(t[u]!==e[u]&&!eh(n,u))return!0}return!1}function cP({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const lP=e=>e.__isSuspense;function fP(e,t){t&&t.pendingBranch?Oe(e)?t.effects.push(...e):t.effects.push(e):rP(e)}function hP(e,t){return hv(e,null,t)}const Ll={};function Jn(e,t,n){return hv(e,t,n)}function hv(e,t,{immediate:n,deep:i,flush:o,onTrack:u,onTrigger:a}=pt){var l;const f=yT()===((l=qt)==null?void 0:l.scope)?qt:null;let d,p=!1,g=!1;if(at(e)?(d=()=>e.value,p=lf(e)):Fi(e)?(d=()=>e,i=!0):Oe(e)?(g=!0,p=e.some(q=>Fi(q)||lf(q)),d=()=>e.map(q=>{if(at(q))return q.value;if(Fi(q))return Ao(q);if(Le(q))return Ui(q,f,2)})):Le(e)?t?d=()=>Ui(e,f,2):d=()=>{if(!(f&&f.isUnmounted))return v&&v(),_r(e,f,3,[b])}:d=br,t&&i){const q=d;d=()=>Ao(q())}let v,b=q=>{v=O.onStop=()=>{Ui(q,f,4)}},_;if(ja)if(b=br,t?n&&_r(t,f,3,[d(),g?[]:void 0,b]):d(),o==="sync"){const q=tD();_=q.__watcherHandles||(q.__watcherHandles=[])}else return br;let T=g?new Array(e.length).fill(Ll):Ll;const S=()=>{if(O.active)if(t){const q=O.run();(i||p||(g?q.some((te,V)=>Oa(te,T[V])):Oa(q,T)))&&(v&&v(),_r(t,f,3,[q,T===Ll?void 0:g&&T[0]===Ll?[]:T,b]),T=q)}else O.run()};S.allowRecurse=!!t;let x;o==="sync"?x=S:o==="post"?x=()=>Cn(S,f&&f.suspense):(S.pre=!0,f&&(S.id=f.uid),x=()=>fv(S));const O=new rv(d,x);t?n?S():T=O.run():o==="post"?Cn(O.run.bind(O),f&&f.suspense):O.run();const U=()=>{O.stop(),f&&f.scope&&Zg(f.scope.effects,O)};return _&&_.push(U),U}function dP(e,t,n){const i=this.proxy,o=Ft(e)?e.includes(".")?$T(i,e):()=>i[e]:e.bind(i,i);let u;Le(t)?u=t:(u=t.handler,n=t);const a=qt;Ks(this);const l=hv(o,u.bind(i),n);return a?Ks(a):Po(),l}function $T(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function Ao(e,t){if(!gt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),at(e))Ao(e.value,t);else if(Oe(e))for(let n=0;n<e.length;n++)Ao(e[n],t);else if(lT(e)||Fs(e))e.forEach(n=>{Ao(n,t)});else if(dT(e))for(const n in e)Ao(e[n],t);return e}function eg(e,t){const n=On;if(n===null)return e;const i=oh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let u=0;u<t.length;u++){let[a,l,f,d=pt]=t[u];a&&(Le(a)&&(a={mounted:a,updated:a}),a.deep&&Ao(l),o.push({dir:a,instance:i,value:l,oldValue:void 0,arg:f,modifiers:d}))}return e}function yo(e,t,n,i){const o=e.dirs,u=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];u&&(l.oldValue=u[a].value);let f=l.dir[i];f&&(mu(),_r(f,n,8,[e.el,l,e,t]),gu())}}function oc(e,t){return Le(e)?(()=>Gt({name:e.name},t,{setup:e}))():e}const Ql=e=>!!e.type.__asyncLoader,HT=e=>e.type.__isKeepAlive;function pP(e,t){KT(e,"a",t)}function mP(e,t){KT(e,"da",t)}function KT(e,t,n=qt){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(th(t,i,n),n){let o=n.parent;for(;o&&o.parent;)HT(o.parent.vnode)&&gP(i,t,n,o),o=o.parent}}function gP(e,t,n,i){const o=th(t,e,i,!0);GT(()=>{Zg(i[t],o)},n)}function th(e,t,n=qt,i=!1){if(n){const o=n[e]||(n[e]=[]),u=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;mu(),Ks(n);const l=_r(t,n,e,a);return Po(),gu(),l});return i?o.unshift(u):o.push(u),u}}const li=e=>(t,n=qt)=>(!ja||e==="sp")&&th(e,(...i)=>t(...i),n),vP=li("bm"),dv=li("m"),yP=li("bu"),wP=li("u"),zT=li("bum"),GT=li("um"),bP=li("sp"),_P=li("rtg"),EP=li("rtc");function IP(e,t=qt){th("ec",e,t)}const pv="components";function Et(e,t){return XT(pv,e,!0,t)||e}const WT=Symbol.for("v-ndc");function mv(e){return Ft(e)?XT(pv,e,!1)||e:e||WT}function XT(e,t,n=!0,i=!1){const o=On||qt;if(o){const u=o.type;if(e===pv){const l=JP(u,!1);if(l&&(l===t||l===Kr(t)||l===Xf(Kr(t))))return u}const a=F_(o[e]||u[e],t)||F_(o.appContext[e],t);return!a&&i?u:a}}function F_(e,t){return e&&(e[t]||e[Kr(t)]||e[Xf(Kr(t))])}function vu(e,t,n,i){let o;const u=n&&n[i];if(Oe(e)||Ft(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,u&&u[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,u&&u[a])}else if(gt(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,u&&u[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=t(e[d],d,l,u&&u[l])}}else o=[];return n&&(n[i]=o),o}const tg=e=>e?uS(e)?oh(e)||e.proxy:tg(e.parent):null,_a=Gt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>tg(e.parent),$root:e=>tg(e.root),$emit:e=>e.emit,$options:e=>gv(e),$forceUpdate:e=>e.f||(e.f=()=>fv(e.update)),$nextTick:e=>e.n||(e.n=ti.bind(e.proxy)),$watch:e=>dP.bind(e)}),Im=(e,t)=>e!==pt&&!e.__isScriptSetup&&We(e,t),TP={get({_:e},t){const{ctx:n,setupState:i,data:o,props:u,accessCache:a,type:l,appContext:f}=e;let d;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return u[t]}else{if(Im(i,t))return a[t]=1,i[t];if(o!==pt&&We(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&We(d,t))return a[t]=3,u[t];if(n!==pt&&We(n,t))return a[t]=4,n[t];ng&&(a[t]=0)}}const p=_a[t];let g,v;if(p)return t==="$attrs"&&Ln(e,"get",t),p(e);if((g=l.__cssModules)&&(g=g[t]))return g;if(n!==pt&&We(n,t))return a[t]=4,n[t];if(v=f.config.globalProperties,We(v,t))return v[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:u}=e;return Im(o,t)?(o[t]=n,!0):i!==pt&&We(i,t)?(i[t]=n,!0):We(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:u}},a){let l;return!!n[a]||e!==pt&&We(e,a)||Im(t,a)||(l=u[0])&&We(l,a)||We(i,a)||We(_a,a)||We(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:We(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function U_(e){return Oe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ng=!0;function SP(e){const t=gv(e),n=e.proxy,i=e.ctx;ng=!1,t.beforeCreate&&j_(t.beforeCreate,e,"bc");const{data:o,computed:u,methods:a,watch:l,provide:f,inject:d,created:p,beforeMount:g,mounted:v,beforeUpdate:b,updated:_,activated:T,deactivated:S,beforeDestroy:x,beforeUnmount:O,destroyed:U,unmounted:q,render:te,renderTracked:V,renderTriggered:we,errorCaptured:G,serverPrefetch:oe,expose:k,inheritAttrs:$e,components:nt,directives:rt,filters:ct}=t;if(d&&AP(d,i,null),a)for(const De in a){const ge=a[De];Le(ge)&&(i[De]=ge.bind(n))}if(o){const De=o.call(n,n);gt(De)&&(e.data=ai(De))}if(ng=!0,u)for(const De in u){const ge=u[De],ft=Le(ge)?ge.bind(n,n):Le(ge.get)?ge.get.bind(n,n):br,It=!Le(ge)&&Le(ge.set)?ge.set.bind(n):br,Vt=Fe({get:ft,set:It});Object.defineProperty(i,De,{enumerable:!0,configurable:!0,get:()=>Vt.value,set:Ot=>Vt.value=Ot})}if(l)for(const De in l)YT(l[De],i,n,De);if(f){const De=Le(f)?f.call(n):f;Reflect.ownKeys(De).forEach(ge=>{js(ge,De[ge])})}p&&j_(p,e,"c");function de(De,ge){Oe(ge)?ge.forEach(ft=>De(ft.bind(n))):ge&&De(ge.bind(n))}if(de(vP,g),de(dv,v),de(yP,b),de(wP,_),de(pP,T),de(mP,S),de(IP,G),de(EP,V),de(_P,we),de(zT,O),de(GT,q),de(bP,oe),Oe(k))if(k.length){const De=e.exposed||(e.exposed={});k.forEach(ge=>{Object.defineProperty(De,ge,{get:()=>n[ge],set:ft=>n[ge]=ft})})}else e.exposed||(e.exposed={});te&&e.render===br&&(e.render=te),$e!=null&&(e.inheritAttrs=$e),nt&&(e.components=nt),rt&&(e.directives=rt)}function AP(e,t,n=br){Oe(e)&&(e=rg(e));for(const i in e){const o=e[i];let u;gt(o)?"default"in o?u=ar(o.from||i,o.default,!0):u=ar(o.from||i):u=ar(o),at(u)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>u.value,set:a=>u.value=a}):t[i]=u}}function j_(e,t,n){_r(Oe(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function YT(e,t,n,i){const o=i.includes(".")?$T(n,i):()=>n[i];if(Ft(e)){const u=t[e];Le(u)&&Jn(o,u)}else if(Le(e))Jn(o,e.bind(n));else if(gt(e))if(Oe(e))e.forEach(u=>YT(u,t,n,i));else{const u=Le(e.handler)?e.handler.bind(n):t[e.handler];Le(u)&&Jn(o,u,e)}}function gv(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:u,config:{optionMergeStrategies:a}}=e.appContext,l=u.get(t);let f;return l?f=l:!o.length&&!n&&!i?f=t:(f={},o.length&&o.forEach(d=>hf(f,d,a,!0)),hf(f,t,a)),gt(t)&&u.set(t,f),f}function hf(e,t,n,i=!1){const{mixins:o,extends:u}=t;u&&hf(e,u,n,!0),o&&o.forEach(a=>hf(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const l=kP[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const kP={data:V_,props:B_,emits:B_,methods:va,computed:va,beforeCreate:gn,created:gn,beforeMount:gn,mounted:gn,beforeUpdate:gn,updated:gn,beforeDestroy:gn,beforeUnmount:gn,destroyed:gn,unmounted:gn,activated:gn,deactivated:gn,errorCaptured:gn,serverPrefetch:gn,components:va,directives:va,watch:CP,provide:V_,inject:NP};function V_(e,t){return t?e?function(){return Gt(Le(e)?e.call(this,this):e,Le(t)?t.call(this,this):t)}:t:e}function NP(e,t){return va(rg(e),rg(t))}function rg(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function gn(e,t){return e?[...new Set([].concat(e,t))]:t}function va(e,t){return e?Gt(Object.create(null),e,t):t}function B_(e,t){return e?Oe(e)&&Oe(t)?[...new Set([...e,...t])]:Gt(Object.create(null),U_(e),U_(t??{})):t}function CP(e,t){if(!e)return t;if(!t)return e;const n=Gt(Object.create(null),e);for(const i in t)n[i]=gn(e[i],t[i]);return n}function QT(){return{app:null,config:{isNativeTag:oO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let RP=0;function xP(e,t){return function(i,o=null){Le(i)||(i=Gt({},i)),o!=null&&!gt(o)&&(o=null);const u=QT(),a=new Set;let l=!1;const f=u.app={_uid:RP++,_component:i,_props:o,_container:null,_context:u,_instance:null,version:nD,get config(){return u.config},set config(d){},use(d,...p){return a.has(d)||(d&&Le(d.install)?(a.add(d),d.install(f,...p)):Le(d)&&(a.add(d),d(f,...p))),f},mixin(d){return u.mixins.includes(d)||u.mixins.push(d),f},component(d,p){return p?(u.components[d]=p,f):u.components[d]},directive(d,p){return p?(u.directives[d]=p,f):u.directives[d]},mount(d,p,g){if(!l){const v=Ae(i,o);return v.appContext=u,p&&t?t(v,d):e(v,d,g),l=!0,f._container=d,d.__vue_app__=f,oh(v.component)||v.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,p){return u.provides[d]=p,f},runWithContext(d){Ma=f;try{return d()}finally{Ma=null}}};return f}}let Ma=null;function js(e,t){if(qt){let n=qt.provides;const i=qt.parent&&qt.parent.provides;i===n&&(n=qt.provides=Object.create(i)),n[e]=t}}function ar(e,t,n=!1){const i=qt||On;if(i||Ma){const o=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Ma._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Le(t)?t.call(i&&i.proxy):t}}function OP(){return!!(qt||On||Ma)}function PP(e,t,n,i=!1){const o={},u={};af(u,rh,1),e.propsDefaults=Object.create(null),JT(e,t,o,u);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=i?o:CT(o):e.type.props?e.props=o:e.props=u,e.attrs=u}function DP(e,t,n,i){const{props:o,attrs:u,vnode:{patchFlag:a}}=e,l=Xe(o),[f]=e.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let g=0;g<p.length;g++){let v=p[g];if(eh(e.emitsOptions,v))continue;const b=t[v];if(f)if(We(u,v))b!==u[v]&&(u[v]=b,d=!0);else{const _=Kr(v);o[_]=ig(f,l,_,b,e,!1)}else b!==u[v]&&(u[v]=b,d=!0)}}}else{JT(e,t,o,u)&&(d=!0);let p;for(const g in l)(!t||!We(t,g)&&((p=pu(g))===g||!We(t,p)))&&(f?n&&(n[g]!==void 0||n[p]!==void 0)&&(o[g]=ig(f,l,g,void 0,e,!0)):delete o[g]);if(u!==l)for(const g in u)(!t||!We(t,g))&&(delete u[g],d=!0)}d&&ui(e,"set","$attrs")}function JT(e,t,n,i){const[o,u]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(Yl(f))continue;const d=t[f];let p;o&&We(o,p=Kr(f))?!u||!u.includes(p)?n[p]=d:(l||(l={}))[p]=d:eh(e.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(u){const f=Xe(n),d=l||pt;for(let p=0;p<u.length;p++){const g=u[p];n[g]=ig(o,f,g,d[g],e,!We(d,g))}}return a}function ig(e,t,n,i,o,u){const a=e[n];if(a!=null){const l=We(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&!a.skipFactory&&Le(f)){const{propsDefaults:d}=o;n in d?i=d[n]:(Ks(o),i=d[n]=f.call(null,t),Po())}else i=f}a[0]&&(u&&!l?i=!1:a[1]&&(i===""||i===pu(n))&&(i=!0))}return i}function ZT(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const u=e.props,a={},l=[];let f=!1;if(!Le(e)){const p=g=>{f=!0;const[v,b]=ZT(g,t,!0);Gt(a,v),b&&l.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!u&&!f)return gt(e)&&i.set(e,Ms),Ms;if(Oe(u))for(let p=0;p<u.length;p++){const g=Kr(u[p]);q_(g)&&(a[g]=pt)}else if(u)for(const p in u){const g=Kr(p);if(q_(g)){const v=u[p],b=a[g]=Oe(v)||Le(v)?{type:v}:Gt({},v);if(b){const _=K_(Boolean,b.type),T=K_(String,b.type);b[0]=_>-1,b[1]=T<0||_<T,(_>-1||We(b,"default"))&&l.push(g)}}}const d=[a,l];return gt(e)&&i.set(e,d),d}function q_(e){return e[0]!=="$"}function $_(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function H_(e,t){return $_(e)===$_(t)}function K_(e,t){return Oe(t)?t.findIndex(n=>H_(n,e)):Le(t)&&H_(t,e)?0:-1}const eS=e=>e[0]==="_"||e==="$stable",vv=e=>Oe(e)?e.map(jr):[jr(e)],LP=(e,t,n)=>{if(t._n)return t;const i=ur((...o)=>vv(t(...o)),n);return i._c=!1,i},tS=(e,t,n)=>{const i=e._ctx;for(const o in e){if(eS(o))continue;const u=e[o];if(Le(u))t[o]=LP(o,u,i);else if(u!=null){const a=vv(u);t[o]=()=>a}}},nS=(e,t)=>{const n=vv(t);e.slots.default=()=>n},MP=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Xe(t),af(t,"_",n)):tS(t,e.slots={})}else e.slots={},t&&nS(e,t);af(e.slots,rh,1)},FP=(e,t,n)=>{const{vnode:i,slots:o}=e;let u=!0,a=pt;if(i.shapeFlag&32){const l=t._;l?n&&l===1?u=!1:(Gt(o,t),!n&&l===1&&delete o._):(u=!t.$stable,tS(t,o)),a=t}else t&&(nS(e,t),a={default:1});if(u)for(const l in o)!eS(l)&&!(l in a)&&delete o[l]};function og(e,t,n,i,o=!1){if(Oe(e)){e.forEach((v,b)=>og(v,t&&(Oe(t)?t[b]:t),n,i,o));return}if(Ql(i)&&!o)return;const u=i.shapeFlag&4?oh(i.component)||i.component.proxy:i.el,a=o?null:u,{i:l,r:f}=e,d=t&&t.r,p=l.refs===pt?l.refs={}:l.refs,g=l.setupState;if(d!=null&&d!==f&&(Ft(d)?(p[d]=null,We(g,d)&&(g[d]=null)):at(d)&&(d.value=null)),Le(f))Ui(f,l,12,[a,p]);else{const v=Ft(f),b=at(f);if(v||b){const _=()=>{if(e.f){const T=v?We(g,f)?g[f]:p[f]:f.value;o?Oe(T)&&Zg(T,u):Oe(T)?T.includes(u)||T.push(u):v?(p[f]=[u],We(g,f)&&(g[f]=p[f])):(f.value=[u],e.k&&(p[e.k]=f.value))}else v?(p[f]=a,We(g,f)&&(g[f]=a)):b&&(f.value=a,e.k&&(p[e.k]=a))};a?(_.id=-1,Cn(_,n)):_()}}}const Cn=fP;function UP(e){return jP(e)}function jP(e,t){const n=Xm();n.__VUE__=!0;const{insert:i,remove:o,patchProp:u,createElement:a,createText:l,createComment:f,setText:d,setElementText:p,parentNode:g,nextSibling:v,setScopeId:b=br,insertStaticContent:_}=e,T=(I,A,R,L=null,j=null,X=null,ie=!1,Z=null,re=!!A.dynamicChildren)=>{if(I===A)return;I&&!ca(I,A)&&(L=D(I),Ot(I,j,X,!0),I=null),A.patchFlag===-2&&(re=!1,A.dynamicChildren=null);const{type:Q,ref:be,shapeFlag:fe}=A;switch(Q){case nh:S(I,A,R,L);break;case Uo:x(I,A,R,L);break;case Jl:I==null&&O(A,R,L,ie);break;case xt:nt(I,A,R,L,j,X,ie,Z,re);break;default:fe&1?te(I,A,R,L,j,X,ie,Z,re):fe&6?rt(I,A,R,L,j,X,ie,Z,re):(fe&64||fe&128)&&Q.process(I,A,R,L,j,X,ie,Z,re,ee)}be!=null&&j&&og(be,I&&I.ref,X,A||I,!A)},S=(I,A,R,L)=>{if(I==null)i(A.el=l(A.children),R,L);else{const j=A.el=I.el;A.children!==I.children&&d(j,A.children)}},x=(I,A,R,L)=>{I==null?i(A.el=f(A.children||""),R,L):A.el=I.el},O=(I,A,R,L)=>{[I.el,I.anchor]=_(I.children,A,R,L,I.el,I.anchor)},U=({el:I,anchor:A},R,L)=>{let j;for(;I&&I!==A;)j=v(I),i(I,R,L),I=j;i(A,R,L)},q=({el:I,anchor:A})=>{let R;for(;I&&I!==A;)R=v(I),o(I),I=R;o(A)},te=(I,A,R,L,j,X,ie,Z,re)=>{ie=ie||A.type==="svg",I==null?V(A,R,L,j,X,ie,Z,re):oe(I,A,j,X,ie,Z,re)},V=(I,A,R,L,j,X,ie,Z)=>{let re,Q;const{type:be,props:fe,shapeFlag:N,transition:C,dirs:M}=I;if(re=I.el=a(I.type,X,fe&&fe.is,fe),N&8?p(re,I.children):N&16&&G(I.children,re,null,L,j,X&&be!=="foreignObject",ie,Z),M&&yo(I,null,L,"created"),we(re,I,I.scopeId,ie,L),fe){for(const le in fe)le!=="value"&&!Yl(le)&&u(re,le,null,fe[le],X,I.children,L,j,ve);"value"in fe&&u(re,"value",null,fe.value),(Q=fe.onVnodeBeforeMount)&&Fr(Q,L,I)}M&&yo(I,null,L,"beforeMount");const z=(!j||j&&!j.pendingBranch)&&C&&!C.persisted;z&&C.beforeEnter(re),i(re,A,R),((Q=fe&&fe.onVnodeMounted)||z||M)&&Cn(()=>{Q&&Fr(Q,L,I),z&&C.enter(re),M&&yo(I,null,L,"mounted")},j)},we=(I,A,R,L,j)=>{if(R&&b(I,R),L)for(let X=0;X<L.length;X++)b(I,L[X]);if(j){let X=j.subTree;if(A===X){const ie=j.vnode;we(I,ie,ie.scopeId,ie.slotScopeIds,j.parent)}}},G=(I,A,R,L,j,X,ie,Z,re=0)=>{for(let Q=re;Q<I.length;Q++){const be=I[Q]=Z?ki(I[Q]):jr(I[Q]);T(null,be,A,R,L,j,X,ie,Z)}},oe=(I,A,R,L,j,X,ie)=>{const Z=A.el=I.el;let{patchFlag:re,dynamicChildren:Q,dirs:be}=A;re|=I.patchFlag&16;const fe=I.props||pt,N=A.props||pt;let C;R&&wo(R,!1),(C=N.onVnodeBeforeUpdate)&&Fr(C,R,A,I),be&&yo(A,I,R,"beforeUpdate"),R&&wo(R,!0);const M=j&&A.type!=="foreignObject";if(Q?k(I.dynamicChildren,Q,Z,R,L,M,X):ie||ge(I,A,Z,null,R,L,M,X,!1),re>0){if(re&16)$e(Z,A,fe,N,R,L,j);else if(re&2&&fe.class!==N.class&&u(Z,"class",null,N.class,j),re&4&&u(Z,"style",fe.style,N.style,j),re&8){const z=A.dynamicProps;for(let le=0;le<z.length;le++){const ue=z[le],Re=fe[ue],He=N[ue];(He!==Re||ue==="value")&&u(Z,ue,Re,He,j,I.children,R,L,ve)}}re&1&&I.children!==A.children&&p(Z,A.children)}else!ie&&Q==null&&$e(Z,A,fe,N,R,L,j);((C=N.onVnodeUpdated)||be)&&Cn(()=>{C&&Fr(C,R,A,I),be&&yo(A,I,R,"updated")},L)},k=(I,A,R,L,j,X,ie)=>{for(let Z=0;Z<A.length;Z++){const re=I[Z],Q=A[Z],be=re.el&&(re.type===xt||!ca(re,Q)||re.shapeFlag&70)?g(re.el):R;T(re,Q,be,null,L,j,X,ie,!0)}},$e=(I,A,R,L,j,X,ie)=>{if(R!==L){if(R!==pt)for(const Z in R)!Yl(Z)&&!(Z in L)&&u(I,Z,R[Z],null,ie,A.children,j,X,ve);for(const Z in L){if(Yl(Z))continue;const re=L[Z],Q=R[Z];re!==Q&&Z!=="value"&&u(I,Z,Q,re,ie,A.children,j,X,ve)}"value"in L&&u(I,"value",R.value,L.value)}},nt=(I,A,R,L,j,X,ie,Z,re)=>{const Q=A.el=I?I.el:l(""),be=A.anchor=I?I.anchor:l("");let{patchFlag:fe,dynamicChildren:N,slotScopeIds:C}=A;C&&(Z=Z?Z.concat(C):C),I==null?(i(Q,R,L),i(be,R,L),G(A.children,R,be,j,X,ie,Z,re)):fe>0&&fe&64&&N&&I.dynamicChildren?(k(I.dynamicChildren,N,R,j,X,ie,Z),(A.key!=null||j&&A===j.subTree)&&rS(I,A,!0)):ge(I,A,R,be,j,X,ie,Z,re)},rt=(I,A,R,L,j,X,ie,Z,re)=>{A.slotScopeIds=Z,I==null?A.shapeFlag&512?j.ctx.activate(A,R,L,ie,re):ct(A,R,L,j,X,ie,re):Ge(I,A,re)},ct=(I,A,R,L,j,X,ie)=>{const Z=I.component=GP(I,L,j);if(HT(I)&&(Z.ctx.renderer=ee),WP(Z),Z.asyncDep){if(j&&j.registerDep(Z,de),!I.el){const re=Z.subTree=Ae(Uo);x(null,re,A,R)}return}de(Z,I,A,R,j,X,ie)},Ge=(I,A,R)=>{const L=A.component=I.component;if(aP(I,A,R))if(L.asyncDep&&!L.asyncResolved){De(L,A,R);return}else L.next=A,nP(L.update),L.update();else A.el=I.el,L.vnode=A},de=(I,A,R,L,j,X,ie)=>{const Z=()=>{if(I.isMounted){let{next:be,bu:fe,u:N,parent:C,vnode:M}=I,z=be,le;wo(I,!1),be?(be.el=M.el,De(I,be,ie)):be=M,fe&&_m(fe),(le=be.props&&be.props.onVnodeBeforeUpdate)&&Fr(le,C,be,M),wo(I,!0);const ue=Em(I),Re=I.subTree;I.subTree=ue,T(Re,ue,g(Re.el),D(Re),I,j,X),be.el=ue.el,z===null&&cP(I,ue.el),N&&Cn(N,j),(le=be.props&&be.props.onVnodeUpdated)&&Cn(()=>Fr(le,C,be,M),j)}else{let be;const{el:fe,props:N}=A,{bm:C,m:M,parent:z}=I,le=Ql(A);if(wo(I,!1),C&&_m(C),!le&&(be=N&&N.onVnodeBeforeMount)&&Fr(be,z,A),wo(I,!0),fe&&ke){const ue=()=>{I.subTree=Em(I),ke(fe,I.subTree,I,j,null)};le?A.type.__asyncLoader().then(()=>!I.isUnmounted&&ue()):ue()}else{const ue=I.subTree=Em(I);T(null,ue,R,L,I,j,X),A.el=ue.el}if(M&&Cn(M,j),!le&&(be=N&&N.onVnodeMounted)){const ue=A;Cn(()=>Fr(be,z,ue),j)}(A.shapeFlag&256||z&&Ql(z.vnode)&&z.vnode.shapeFlag&256)&&I.a&&Cn(I.a,j),I.isMounted=!0,A=R=L=null}},re=I.effect=new rv(Z,()=>fv(Q),I.scope),Q=I.update=()=>re.run();Q.id=I.uid,wo(I,!0),Q()},De=(I,A,R)=>{A.component=I;const L=I.vnode.props;I.vnode=A,I.next=null,DP(I,A.props,L,R),FP(I,A.children,R),mu(),L_(),gu()},ge=(I,A,R,L,j,X,ie,Z,re=!1)=>{const Q=I&&I.children,be=I?I.shapeFlag:0,fe=A.children,{patchFlag:N,shapeFlag:C}=A;if(N>0){if(N&128){It(Q,fe,R,L,j,X,ie,Z,re);return}else if(N&256){ft(Q,fe,R,L,j,X,ie,Z,re);return}}C&8?(be&16&&ve(Q,j,X),fe!==Q&&p(R,fe)):be&16?C&16?It(Q,fe,R,L,j,X,ie,Z,re):ve(Q,j,X,!0):(be&8&&p(R,""),C&16&&G(fe,R,L,j,X,ie,Z,re))},ft=(I,A,R,L,j,X,ie,Z,re)=>{I=I||Ms,A=A||Ms;const Q=I.length,be=A.length,fe=Math.min(Q,be);let N;for(N=0;N<fe;N++){const C=A[N]=re?ki(A[N]):jr(A[N]);T(I[N],C,R,null,j,X,ie,Z,re)}Q>be?ve(I,j,X,!0,!1,fe):G(A,R,L,j,X,ie,Z,re,fe)},It=(I,A,R,L,j,X,ie,Z,re)=>{let Q=0;const be=A.length;let fe=I.length-1,N=be-1;for(;Q<=fe&&Q<=N;){const C=I[Q],M=A[Q]=re?ki(A[Q]):jr(A[Q]);if(ca(C,M))T(C,M,R,null,j,X,ie,Z,re);else break;Q++}for(;Q<=fe&&Q<=N;){const C=I[fe],M=A[N]=re?ki(A[N]):jr(A[N]);if(ca(C,M))T(C,M,R,null,j,X,ie,Z,re);else break;fe--,N--}if(Q>fe){if(Q<=N){const C=N+1,M=C<be?A[C].el:L;for(;Q<=N;)T(null,A[Q]=re?ki(A[Q]):jr(A[Q]),R,M,j,X,ie,Z,re),Q++}}else if(Q>N)for(;Q<=fe;)Ot(I[Q],j,X,!0),Q++;else{const C=Q,M=Q,z=new Map;for(Q=M;Q<=N;Q++){const it=A[Q]=re?ki(A[Q]):jr(A[Q]);it.key!=null&&z.set(it.key,Q)}let le,ue=0;const Re=N-M+1;let He=!1,Te=0;const Ve=new Array(Re);for(Q=0;Q<Re;Q++)Ve[Q]=0;for(Q=C;Q<=fe;Q++){const it=I[Q];if(ue>=Re){Ot(it,j,X,!0);continue}let Bn;if(it.key!=null)Bn=z.get(it.key);else for(le=M;le<=N;le++)if(Ve[le-M]===0&&ca(it,A[le])){Bn=le;break}Bn===void 0?Ot(it,j,X,!0):(Ve[Bn-M]=Q+1,Bn>=Te?Te=Bn:He=!0,T(it,A[Bn],R,null,j,X,ie,Z,re),ue++)}const vt=He?VP(Ve):Ms;for(le=vt.length-1,Q=Re-1;Q>=0;Q--){const it=M+Q,Bn=A[it],Xt=it+1<be?A[it+1].el:L;Ve[Q]===0?T(null,Bn,R,Xt,j,X,ie,Z,re):He&&(le<0||Q!==vt[le]?Vt(Bn,R,Xt,2):le--)}}},Vt=(I,A,R,L,j=null)=>{const{el:X,type:ie,transition:Z,children:re,shapeFlag:Q}=I;if(Q&6){Vt(I.component.subTree,A,R,L);return}if(Q&128){I.suspense.move(A,R,L);return}if(Q&64){ie.move(I,A,R,ee);return}if(ie===xt){i(X,A,R);for(let fe=0;fe<re.length;fe++)Vt(re[fe],A,R,L);i(I.anchor,A,R);return}if(ie===Jl){U(I,A,R);return}if(L!==2&&Q&1&&Z)if(L===0)Z.beforeEnter(X),i(X,A,R),Cn(()=>Z.enter(X),j);else{const{leave:fe,delayLeave:N,afterLeave:C}=Z,M=()=>i(X,A,R),z=()=>{fe(X,()=>{M(),C&&C()})};N?N(X,M,z):z()}else i(X,A,R)},Ot=(I,A,R,L=!1,j=!1)=>{const{type:X,props:ie,ref:Z,children:re,dynamicChildren:Q,shapeFlag:be,patchFlag:fe,dirs:N}=I;if(Z!=null&&og(Z,null,R,I,!0),be&256){A.ctx.deactivate(I);return}const C=be&1&&N,M=!Ql(I);let z;if(M&&(z=ie&&ie.onVnodeBeforeUnmount)&&Fr(z,A,I),be&6)pe(I.component,R,L);else{if(be&128){I.suspense.unmount(R,L);return}C&&yo(I,null,A,"beforeUnmount"),be&64?I.type.remove(I,A,R,j,ee,L):Q&&(X!==xt||fe>0&&fe&64)?ve(Q,A,R,!1,!0):(X===xt&&fe&384||!j&&be&16)&&ve(re,A,R),L&&ht(I)}(M&&(z=ie&&ie.onVnodeUnmounted)||C)&&Cn(()=>{z&&Fr(z,A,I),C&&yo(I,null,A,"unmounted")},R)},ht=I=>{const{type:A,el:R,anchor:L,transition:j}=I;if(A===xt){Vn(R,L);return}if(A===Jl){q(I);return}const X=()=>{o(R),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(I.shapeFlag&1&&j&&!j.persisted){const{leave:ie,delayLeave:Z}=j,re=()=>ie(R,X);Z?Z(I.el,X,re):re()}else X()},Vn=(I,A)=>{let R;for(;I!==A;)R=v(I),o(I),I=R;o(A)},pe=(I,A,R)=>{const{bum:L,scope:j,update:X,subTree:ie,um:Z}=I;L&&_m(L),j.stop(),X&&(X.active=!1,Ot(ie,I,A,R)),Z&&Cn(Z,A),Cn(()=>{I.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},ve=(I,A,R,L=!1,j=!1,X=0)=>{for(let ie=X;ie<I.length;ie++)Ot(I[ie],A,R,L,j)},D=I=>I.shapeFlag&6?D(I.component.subTree):I.shapeFlag&128?I.suspense.next():v(I.anchor||I.el),$=(I,A,R)=>{I==null?A._vnode&&Ot(A._vnode,null,null,!0):T(A._vnode||null,I,A,null,null,null,R),L_(),jT(),A._vnode=I},ee={p:T,um:Ot,m:Vt,r:ht,mt:ct,mc:G,pc:ge,pbc:k,n:D,o:e};let ae,ke;return t&&([ae,ke]=t(ee)),{render:$,hydrate:ae,createApp:xP($,ae)}}function wo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function rS(e,t,n=!1){const i=e.children,o=t.children;if(Oe(i)&&Oe(o))for(let u=0;u<i.length;u++){const a=i[u];let l=o[u];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[u]=ki(o[u]),l.el=a.el),n||rS(a,l)),l.type===nh&&(l.el=a.el)}}function VP(e){const t=e.slice(),n=[0];let i,o,u,a,l;const f=e.length;for(i=0;i<f;i++){const d=e[i];if(d!==0){if(o=n[n.length-1],e[o]<d){t[i]=o,n.push(i);continue}for(u=0,a=n.length-1;u<a;)l=u+a>>1,e[n[l]]<d?u=l+1:a=l;d<e[n[u]]&&(u>0&&(t[i]=n[u-1]),n[u]=i)}}for(u=n.length,a=n[u-1];u-- >0;)n[u]=a,a=t[a];return n}const BP=e=>e.__isTeleport,xt=Symbol.for("v-fgt"),nh=Symbol.for("v-txt"),Uo=Symbol.for("v-cmt"),Jl=Symbol.for("v-stc"),Ea=[];let wr=null;function ze(e=!1){Ea.push(wr=e?null:[])}function qP(){Ea.pop(),wr=Ea[Ea.length-1]||null}let Fa=1;function z_(e){Fa+=e}function iS(e){return e.dynamicChildren=Fa>0?wr||Ms:null,qP(),Fa>0&&wr&&wr.push(e),e}function st(e,t,n,i,o,u){return iS(B(e,t,n,i,o,u,!0))}function $s(e,t,n,i,o){return iS(Ae(e,t,n,i,o,!0))}function sg(e){return e?e.__v_isVNode===!0:!1}function ca(e,t){return e.type===t.type&&e.key===t.key}const rh="__vInternal",oS=({key:e})=>e??null,Zl=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ft(e)||at(e)||Le(e)?{i:On,r:e,k:t,f:!!n}:e:null);function B(e,t=null,n=null,i=0,o=null,u=e===xt?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&oS(t),ref:t&&Zl(t),scopeId:qT,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:On};return l?(yv(f,n),u&128&&e.normalize(f)):n&&(f.shapeFlag|=Ft(n)?8:16),Fa>0&&!a&&wr&&(f.patchFlag>0||u&6)&&f.patchFlag!==32&&wr.push(f),f}const Ae=$P;function $P(e,t=null,n=null,i=0,o=null,u=!1){if((!e||e===WT)&&(e=Uo),sg(e)){const l=Hs(e,t,!0);return n&&yv(l,n),Fa>0&&!u&&wr&&(l.shapeFlag&6?wr[wr.indexOf(e)]=l:wr.push(l)),l.patchFlag|=-2,l}if(ZP(e)&&(e=e.__vccOpts),t){t=HP(t);let{class:l,style:f}=t;l&&!Ft(l)&&(t.class=xn(l)),gt(f)&&(RT(f)&&!Oe(f)&&(f=Gt({},f)),t.style=Yf(f))}const a=Ft(e)?1:lP(e)?128:BP(e)?64:gt(e)?4:Le(e)?2:0;return B(e,t,n,i,o,a,u,!0)}function HP(e){return e?RT(e)||rh in e?Gt({},e):e:null}function Hs(e,t,n=!1){const{props:i,ref:o,patchFlag:u,children:a}=e,l=t?wv(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&oS(l),ref:t&&t.ref?n&&o?Oe(o)?o.concat(Zl(t)):[o,Zl(t)]:Zl(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xt?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Hs(e.ssContent),ssFallback:e.ssFallback&&Hs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Oo(e=" ",t=0){return Ae(nh,null,e,t)}function sS(e,t){const n=Ae(Jl,null,e);return n.staticCount=t,n}function Ua(e="",t=!1){return t?(ze(),$s(Uo,null,e)):Ae(Uo,null,e)}function jr(e){return e==null||typeof e=="boolean"?Ae(Uo):Oe(e)?Ae(xt,null,e.slice()):typeof e=="object"?ki(e):Ae(nh,null,String(e))}function ki(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Hs(e)}function yv(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Oe(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),yv(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(rh in t)?t._ctx=On:o===3&&On&&(On.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Le(t)?(t={default:t,_ctx:On},n=32):(t=String(t),i&64?(n=16,t=[Oo(t)]):n=8);e.children=t,e.shapeFlag|=n}function wv(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=xn([t.class,i.class]));else if(o==="style")t.style=Yf([t.style,i.style]);else if(zf(o)){const u=t[o],a=i[o];a&&u!==a&&!(Oe(u)&&u.includes(a))&&(t[o]=u?[].concat(u,a):a)}else o!==""&&(t[o]=i[o])}return t}function Fr(e,t,n,i=null){_r(e,t,7,[n,i])}const KP=QT();let zP=0;function GP(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||KP,u={uid:zP++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new gT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ZT(i,o),emitsOptions:BT(i,o),emit:null,emitted:null,propsDefaults:pt,inheritAttrs:i.inheritAttrs,ctx:pt,data:pt,props:pt,attrs:pt,slots:pt,refs:pt,setupState:pt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=oP.bind(null,u),e.ce&&e.ce(u),u}let qt=null;const ih=()=>qt||On;let bv,Ts,G_="__VUE_INSTANCE_SETTERS__";(Ts=Xm()[G_])||(Ts=Xm()[G_]=[]),Ts.push(e=>qt=e),bv=e=>{Ts.length>1?Ts.forEach(t=>t(e)):Ts[0](e)};const Ks=e=>{bv(e),e.scope.on()},Po=()=>{qt&&qt.scope.off(),bv(null)};function uS(e){return e.vnode.shapeFlag&4}let ja=!1;function WP(e,t=!1){ja=t;const{props:n,children:i}=e.vnode,o=uS(e);PP(e,n,o,t),MP(e,i);const u=o?XP(e,t):void 0;return ja=!1,u}function XP(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Jf(new Proxy(e.ctx,TP));const{setup:i}=n;if(i){const o=e.setupContext=i.length>1?QP(e):null;Ks(e),mu();const u=Ui(i,e,0,[e.props,o]);if(gu(),Po(),fT(u)){if(u.then(Po,Po),t)return u.then(a=>{W_(e,a,t)}).catch(a=>{Zf(a,e,0)});e.asyncDep=u}else W_(e,u,t)}else aS(e,t)}function W_(e,t,n){Le(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:gt(t)&&(e.setupState=LT(t)),aS(e,n)}let X_;function aS(e,t,n){const i=e.type;if(!e.render){if(!t&&X_&&!i.render){const o=i.template||gv(e).template;if(o){const{isCustomElement:u,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=i,d=Gt(Gt({isCustomElement:u,delimiters:l},a),f);i.render=X_(o,d)}}e.render=i.render||br}Ks(e),mu(),SP(e),gu(),Po()}function YP(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Ln(e,"get","$attrs"),t[n]}}))}function QP(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return YP(e)},slots:e.slots,emit:e.emit,expose:t}}function oh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(LT(Jf(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in _a)return _a[n](e)},has(t,n){return n in t||n in _a}}))}function JP(e,t=!0){return Le(e)?e.displayName||e.name:e.name||t&&e.__name}function ZP(e){return Le(e)&&"__vccOpts"in e}const Fe=(e,t)=>ZO(e,t,ja);function zs(e,t,n){const i=arguments.length;return i===2?gt(t)&&!Oe(t)?sg(t)?Ae(e,null,[t]):Ae(e,t):Ae(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&sg(n)&&(n=[n]),Ae(e,t,n))}const eD=Symbol.for("v-scx"),tD=()=>ar(eD),nD="3.3.4",rD="http://www.w3.org/2000/svg",To=typeof document<"u"?document:null,Y_=To&&To.createElement("template"),iD={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t?To.createElementNS(rD,e):To.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>To.createTextNode(e),createComment:e=>To.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>To.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,u){const a=n?n.previousSibling:t.lastChild;if(o&&(o===u||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===u||!(o=o.nextSibling)););else{Y_.innerHTML=i?`<svg>${e}</svg>`:e;const l=Y_.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function oD(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function sD(e,t,n){const i=e.style,o=Ft(n);if(n&&!o){if(t&&!Ft(t))for(const u in t)n[u]==null&&ug(i,u,"");for(const u in n)ug(i,u,n[u])}else{const u=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=u)}}const Q_=/\s*!important$/;function ug(e,t,n){if(Oe(n))n.forEach(i=>ug(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=uD(e,t);Q_.test(n)?e.setProperty(pu(i),n.replace(Q_,""),"important"):e[i]=n}}const J_=["Webkit","Moz","ms"],Tm={};function uD(e,t){const n=Tm[t];if(n)return n;let i=Kr(t);if(i!=="filter"&&i in e)return Tm[t]=i;i=Xf(i);for(let o=0;o<J_.length;o++){const u=J_[o]+i;if(u in e)return Tm[t]=u}return t}const Z_="http://www.w3.org/1999/xlink";function aD(e,t,n,i,o){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Z_,t.slice(6,t.length)):e.setAttributeNS(Z_,t,n);else{const u=vO(t);n==null||u&&!pT(n)?e.removeAttribute(t):e.setAttribute(t,u?"":n)}}function cD(e,t,n,i,o,u,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,o,u),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const d=l==="OPTION"?e.getAttribute("value"):e.value,p=n??"";d!==p&&(e.value=p),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=pT(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function lD(e,t,n,i){e.addEventListener(t,n,i)}function fD(e,t,n,i){e.removeEventListener(t,n,i)}function hD(e,t,n,i,o=null){const u=e._vei||(e._vei={}),a=u[t];if(i&&a)a.value=i;else{const[l,f]=dD(t);if(i){const d=u[t]=gD(i,o);lD(e,l,d,f)}else a&&(fD(e,l,a,f),u[t]=void 0)}}const eE=/(?:Once|Passive|Capture)$/;function dD(e){let t;if(eE.test(e)){t={};let i;for(;i=e.match(eE);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):pu(e.slice(2)),t]}let Sm=0;const pD=Promise.resolve(),mD=()=>Sm||(pD.then(()=>Sm=0),Sm=Date.now());function gD(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;_r(vD(i,n.value),t,5,[i])};return n.value=e,n.attached=mD(),n}function vD(e,t){if(Oe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const tE=/^on[a-z]/,yD=(e,t,n,i,o=!1,u,a,l,f)=>{t==="class"?oD(e,i,o):t==="style"?sD(e,n,i):zf(t)?Jg(t)||hD(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):wD(e,t,i,o))?cD(e,t,i,u,a,l,f):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),aD(e,t,i,o))};function wD(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&tE.test(t)&&Le(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||tE.test(t)&&Ft(n)?!1:t in e}const bD=["ctrl","shift","alt","meta"],_D={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>bD.some(n=>e[`${n}Key`]&&!t.includes(n))},Gn=(e,t)=>(n,...i)=>{for(let o=0;o<t.length;o++){const u=_D[t[o]];if(u&&u(n,t))return}return e(n,...i)},ag={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):la(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),la(e,!0),i.enter(e)):i.leave(e,()=>{la(e,!1)}):la(e,t))},beforeUnmount(e,{value:t}){la(e,t)}};function la(e,t){e.style.display=t?e._vod:"none"}const ED=Gt({patchProp:yD},iD);let nE;function ID(){return nE||(nE=UP(ED))}const TD=(...e)=>{const t=ID().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=SD(i);if(!o)return;const u=t._component;!Le(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function SD(e){return Ft(e)?document.querySelector(e):e}var AD=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let cS;const sh=e=>cS=e,lS=Symbol();function cg(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ia;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ia||(Ia={}));function kD(){const e=vT(!0),t=e.run(()=>wn({}));let n=[],i=[];const o=Jf({install(u){sh(o),o._a=u,u.provide(lS,o),u.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(u){return!this._a&&!AD?i.push(u):n.push(u),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const fS=()=>{};function rE(e,t,n,i=fS){e.push(t);const o=()=>{const u=e.indexOf(t);u>-1&&(e.splice(u,1),i())};return!n&&yT()&&wO(o),o}function Ss(e,...t){e.slice().forEach(n=>{n(...t)})}const ND=e=>e();function lg(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],o=e[n];cg(o)&&cg(i)&&e.hasOwnProperty(n)&&!at(i)&&!Fi(i)?e[n]=lg(o,i):e[n]=i}return e}const CD=Symbol();function RD(e){return!cg(e)||!e.hasOwnProperty(CD)}const{assign:Ai}=Object;function xD(e){return!!(at(e)&&e.effect)}function OD(e,t,n,i){const{state:o,actions:u,getters:a}=t,l=n.state.value[e];let f;function d(){l||(n.state.value[e]=o?o():{});const p=XO(n.state.value[e]);return Ai(p,u,Object.keys(a||{}).reduce((g,v)=>(g[v]=Jf(Fe(()=>{sh(n);const b=n._s.get(e);return a[v].call(b,b)})),g),{}))}return f=hS(e,d,t,n,i,!0),f}function hS(e,t,n={},i,o,u){let a;const l=Ai({actions:{}},n),f={deep:!0};let d,p,g=[],v=[],b;const _=i.state.value[e];!u&&!_&&(i.state.value[e]={}),wn({});let T;function S(G){let oe;d=p=!1,typeof G=="function"?(G(i.state.value[e]),oe={type:Ia.patchFunction,storeId:e,events:b}):(lg(i.state.value[e],G),oe={type:Ia.patchObject,payload:G,storeId:e,events:b});const k=T=Symbol();ti().then(()=>{T===k&&(d=!0)}),p=!0,Ss(g,oe,i.state.value[e])}const x=u?function(){const{state:oe}=n,k=oe?oe():{};this.$patch($e=>{Ai($e,k)})}:fS;function O(){a.stop(),g=[],v=[],i._s.delete(e)}function U(G,oe){return function(){sh(i);const k=Array.from(arguments),$e=[],nt=[];function rt(de){$e.push(de)}function ct(de){nt.push(de)}Ss(v,{args:k,name:G,store:te,after:rt,onError:ct});let Ge;try{Ge=oe.apply(this&&this.$id===e?this:te,k)}catch(de){throw Ss(nt,de),de}return Ge instanceof Promise?Ge.then(de=>(Ss($e,de),de)).catch(de=>(Ss(nt,de),Promise.reject(de))):(Ss($e,Ge),Ge)}}const q={_p:i,$id:e,$onAction:rE.bind(null,v),$patch:S,$reset:x,$subscribe(G,oe={}){const k=rE(g,G,oe.detached,()=>$e()),$e=a.run(()=>Jn(()=>i.state.value[e],nt=>{(oe.flush==="sync"?p:d)&&G({storeId:e,type:Ia.direct,events:b},nt)},Ai({},f,oe)));return k},$dispose:O},te=ai(q);i._s.set(e,te);const V=i._a&&i._a.runWithContext||ND,we=i._e.run(()=>(a=vT(),V(()=>a.run(t))));for(const G in we){const oe=we[G];if(at(oe)&&!xD(oe)||Fi(oe))u||(_&&RD(oe)&&(at(oe)?oe.value=_[G]:lg(oe,_[G])),i.state.value[e][G]=oe);else if(typeof oe=="function"){const k=U(G,oe);we[G]=k,l.actions[G]=oe}}return Ai(te,we),Ai(Xe(te),we),Object.defineProperty(te,"$state",{get:()=>i.state.value[e],set:G=>{S(oe=>{Ai(oe,G)})}}),i._p.forEach(G=>{Ai(te,a.run(()=>G({store:te,app:i._a,pinia:i,options:l})))}),_&&u&&n.hydrate&&n.hydrate(te.$state,_),d=!0,p=!0,te}function dS(e,t,n){let i,o;const u=typeof t=="function";typeof e=="string"?(i=e,o=u?n:t):(o=e,i=e.id);function a(l,f){const d=OP();return l=l||(d?ar(lS,null):null),l&&sh(l),l=cS,l._s.has(i)||(u?hS(i,t,o,l):OD(i,o,l)),l._s.get(i)}return a.$id=i,a}let PD="Store";function DD(...e){return e.reduce((t,n)=>(t[n.$id+PD]=function(){return n(this.$pinia)},t),{})}function LD(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(){return e(this.$pinia)[i]},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(){const o=e(this.$pinia),u=t[i];return typeof u=="function"?u.call(this,o):o[u]},n),{})}function pS(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[i](...o)},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[t[i]](...o)},n),{})}function mS(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[i]},set(o){return e(this.$pinia)[i]=o}},n),{}):Object.keys(t).reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[t[i]]},set(o){return e(this.$pinia)[t[i]]=o}},n),{})}const fg=dS("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var hg=function(e,t){return hg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},hg(e,t)};function Ie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");hg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Gs=function(){return Gs=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},Gs.apply(this,arguments)};function K(e,t,n,i){function o(u){return u instanceof n?u:new n(function(a){a(u)})}return new(n||(n=Promise))(function(u,a){function l(p){try{d(i.next(p))}catch(g){a(g)}}function f(p){try{d(i.throw(p))}catch(g){a(g)}}function d(p){p.done?u(p.value):o(p.value).then(l,f)}d((i=i.apply(e,t||[])).next())})}function H(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(p){return f([d,p])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(u=d[0]&2?o.return:d[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,d[1])).done)return u;switch(o=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){n.label=d[1];break}if(d[0]===6&&n.label<u[1]){n.label=u[1],u=d;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(d);break}u[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(p){d=[6,p],o=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Am(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ml(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,u=[],a;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return u}function bt(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gS=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},MD=function(e){for(var t=[],n=0,i=0;n<e.length;){var o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){var u=e[n++];t[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){var u=e[n++],a=e[n++],l=e[n++],f=((o&7)<<18|(u&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{var u=e[n++],a=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|a&63)}}return t.join("")},FD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var u=e[o],a=o+1<e.length,l=a?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,p=u>>2,g=(u&3)<<4|l>>4,v=(l&15)<<2|d>>6,b=d&63;f||(b=64,a||(v=64)),i.push(n[p],n[g],n[v],n[b])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(gS(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):MD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var u=n[e.charAt(o++)],a=o<e.length,l=a?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var p=o<e.length,g=p?n[e.charAt(o)]:64;if(++o,u==null||l==null||d==null||g==null)throw Error();var v=u<<2|l>>4;if(i.push(v),d!==64){var b=l<<4&240|d>>2;if(i.push(b),g!==64){var _=d<<6&192|g;i.push(_)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},UD=function(e){var t=gS(e);return FD.encodeByteArray(t,!0)},iE=function(e){return UD(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(e){return Va(void 0,e)}function Va(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!VD(i)||(e[i]=Va(e[i],t[i]));return e}function VD(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BD=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Gs({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[iE(JSON.stringify(n)),iE(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jo())}function yS(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $D(){return typeof self=="object"&&self.self===self}function HD(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function KD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zD(){return jo().indexOf("Electron/")>=0}function GD(){var e=jo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function WD(){return jo().indexOf("MSAppHost/")>=0}function XD(){return!yS()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YD="FirebaseError",wS=function(e){Ie(t,e);function t(n,i,o){var u=e.call(this,i)||this;return u.code=n,u.customData=o,u.name=YD,Object.setPrototypeOf(u,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,_v.prototype.create),u}return t}(Error),_v=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},u=this.service+"/"+t,a=this.errors[t],l=a?QD(a,o):"Error",f=this.serviceName+": "+l+" ("+u+").",d=new wS(u,f,o);return d},e}();function QD(e,t){return e.replace(JD,function(n,i){var o=t[i];return o!=null?String(o):"<"+i+"?>"})}var JD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ZD(e,t){var n=new eL(e,t);return n.subscribe.bind(n)}var eL=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(o){i.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var o=this,u;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");tL(t,["next","error","complete"])?u=t:u={next:t,error:n,complete:i},u.next===void 0&&(u.next=km),u.error===void 0&&(u.error=km),u.complete===void 0&&(u.complete=km);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?u.error(o.finalError):u.complete()}catch{}}),this.observers.push(u),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function tL(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function km(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(e){return e&&e._delegate?e._delegate:e}var sc=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new BD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(iL(t))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}try{for(var o=Am(this.instancesDeferred.entries()),u=o.next();!u.done;u=o.next()){var a=Ml(u.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:d});f.resolve(p)}catch{}}}catch(g){n={error:g}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=_o),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return K(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(bt(bt([],Ml(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),Ml(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=_o),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=_o),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var o=t.options,u=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:u});try{for(var f=Am(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var p=Ml(d.value,2),g=p[0],v=p[1],b=this.normalizeInstanceIdentifier(g);a===b&&v.resolve(l)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(t),this.onInitCallbacks.set(o,u);var a=this.instances.get(o);return a&&t(a,o),function(){u.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,o,u=this.onInitCallbacks.get(n);if(u)try{for(var a=Am(u),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(t,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,o=i===void 0?{}:i,u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:rL(n),options:o}),this.instances.set(n,u),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=_o),this.component?this.component.multipleInstances?t:_o:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function rL(e){return e===_o?void 0:e}function iL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oL=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new nL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function gr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var u=arguments[t],a=0,l=u.length;a<l;a++,o++)i[o]=u[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bo,Ev=[],Qe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Qe||(Qe={}));var bS={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},sL=Qe.INFO,uL=(bo={},bo[Qe.DEBUG]="log",bo[Qe.VERBOSE]="log",bo[Qe.INFO]="info",bo[Qe.WARN]="warn",bo[Qe.ERROR]="error",bo),aL=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),u=uL[t];if(u)console[u].apply(console,gr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},_S=function(){function e(t){this.name=t,this._logLevel=sL,this._logHandler=aL,this._userLogHandler=null,Ev.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Qe))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?bS[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,Qe.DEBUG],t)),this._logHandler.apply(this,gr([this,Qe.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,Qe.VERBOSE],t)),this._logHandler.apply(this,gr([this,Qe.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,Qe.INFO],t)),this._logHandler.apply(this,gr([this,Qe.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,Qe.WARN],t)),this._logHandler.apply(this,gr([this,Qe.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,Qe.ERROR],t)),this._logHandler.apply(this,gr([this,Qe.ERROR],t))},e}();function cL(e){Ev.forEach(function(t){t.setLogLevel(e)})}function lL(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=bS[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var p=[],g=2;g<arguments.length;g++)p[g-2]=arguments[g];var v=p.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");d>=(l??f.logLevel)&&e({level:Qe[d].toLowerCase(),message:v,args:p,type:f.name})}},i=0,o=Ev;i<o.length;i++){var u=o[i];n(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ei,fL=(Ei={},Ei["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ei["bad-app-name"]="Illegal App name: '{$appName}",Ei["duplicate-app"]="Firebase App named '{$appName}' already exists",Ei["app-deleted"]="Firebase App named '{$appName}' already deleted",Ei["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ei["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ei),Rs=new _v("app","Firebase",fL),ES="@firebase/app",hL="0.6.30",dL="@firebase/analytics",pL="@firebase/app-check",mL="@firebase/auth",gL="@firebase/database",vL="@firebase/functions",yL="@firebase/installations",wL="@firebase/messaging",bL="@firebase/performance",_L="@firebase/remote-config",EL="@firebase/storage",IL="@firebase/firestore",TL="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,df="[DEFAULT]",SL=(on={},on[ES]="fire-core",on[dL]="fire-analytics",on[pL]="fire-app-check",on[mL]="fire-auth",on[gL]="fire-rtdb",on[vL]="fire-fn",on[yL]="fire-iid",on[wL]="fire-fcm",on[bL]="fire-perf",on[_L]="fire-rc",on[EL]="fire-gcs",on[IL]="fire-fst",on["fire-js"]="fire-js",on[TL]="fire-js-all",on);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ws=new _S("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ef=function(){function e(t,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=jD(t),this.container=new oL(n.name),this._addComponent(new sc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(u){return o._addComponent(u)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=df),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=df),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Ws.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Rs.create("app-deleted",{appName:this.name_})},e}();ef.prototype.name&&ef.prototype.options||ef.prototype.delete||console.log("dc");var AL="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(e){var t={},n=new Map,i={__esModule:!0,initializeApp:a,app:u,registerVersion:d,setLogLevel:cL,onLog:p,apps:null,SDK_VERSION:AL,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:g}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(v){delete t[v]}function u(v){if(v=v||df,!oE(t,v))throw Rs.create("no-app",{appName:v});return t[v]}u.App=e;function a(v,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var _=b;b={name:_}}var T=b;T.name===void 0&&(T.name=df);var S=T.name;if(typeof S!="string"||!S)throw Rs.create("bad-app-name",{appName:String(S)});if(oE(t,S))throw Rs.create("duplicate-app",{appName:S});var x=new e(v,T,i);return t[S]=x,x}function l(){return Object.keys(t).map(function(v){return t[v]})}function f(v){var b=v.name;if(n.has(b))return Ws.debug("There were multiple attempts to register component "+b+"."),v.type==="PUBLIC"?i[b]:null;if(n.set(b,v),v.type==="PUBLIC"){var _=function(O){if(O===void 0&&(O=u()),typeof O[b]!="function")throw Rs.create("invalid-app-argument",{appName:b});return O[b]()};v.serviceProps!==void 0&&Va(_,v.serviceProps),i[b]=_,e.prototype[b]=function(){for(var O=[],U=0;U<arguments.length;U++)O[U]=arguments[U];var q=this._getService.bind(this,b);return q.apply(this,v.multipleInstances?O:[])}}for(var T=0,S=Object.keys(t);T<S.length;T++){var x=S[T];t[x]._addComponent(v)}return v.type==="PUBLIC"?i[b]:null}function d(v,b,_){var T,S=(T=SL[v])!==null&&T!==void 0?T:v;_&&(S+="-"+_);var x=S.match(/\s|\//),O=b.match(/\s|\//);if(x||O){var U=['Unable to register library "'+S+'" with version "'+b+'":'];x&&U.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),x&&O&&U.push("and"),O&&U.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),Ws.warn(U.join(" "));return}f(new sc(S+"-version",function(){return{library:S,version:b}},"VERSION"))}function p(v,b){if(v!==null&&typeof v!="function")throw Rs.create("invalid-log-argument");lL(v,b)}function g(v,b){if(b==="serverAuth")return null;var _=b;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){var e=kL(ef);e.INTERNAL=Gs(Gs({},e.INTERNAL),{createFirebaseNamespace:IS,extendNamespace:t,createSubscribe:ZD,ErrorFactory:_v,deepExtend:Va});function t(n){Va(e,n)}return e}var Iv=IS();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NL=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(CL(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();function CL(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(e,t){e.INTERNAL.registerComponent(new sc("platform-logger",function(n){return new NL(n)},"PRIVATE")),e.registerVersion(ES,hL,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if($D()&&self.firebase!==void 0){Ws.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var sE=self.firebase.SDK_VERSION;sE&&sE.indexOf("LITE")>=0&&Ws.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var xL=Iv.initializeApp;Iv.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yS()&&Ws.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),xL.apply(void 0,e)};var Se=Iv;RL(Se);var OL="firebase",TS="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Se.registerVersion(OL,TS,"app");Se.SDK_VERSION=TS;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,c){r!=Array.prototype&&r!=Object.prototype&&(r[s]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var c=r[s];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,s){if(s){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var m=r[h];m in c||(c[m]={}),c=c[m]}r=r[r.length-1],h=c[r],s=s(h),s!=h&&s!=null&&t(c,r,{configurable:!0,writable:!0,value:s})}}function u(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function a(r){var s=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:u(r)}}o("Promise",function(r){function s(w){this.b=0,this.c=void 0,this.a=[];var E=this.f();try{w(E.resolve,E.reject)}catch(F){E.reject(F)}}function c(){this.a=null}function h(w){return w instanceof s?w:new s(function(E){E(w)})}if(r)return r;c.prototype.b=function(w){if(this.a==null){this.a=[];var E=this;this.c(function(){E.g()})}this.a.push(w)};var m=i.setTimeout;c.prototype.c=function(w){m(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var E=0;E<w.length;++E){var F=w[E];w[E]=null;try{F()}catch(W){this.f(W)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},s.prototype.f=function(){function w(W){return function(xe){F||(F=!0,W.call(E,xe))}}var E=this,F=!1;return{resolve:w(this.m),reject:w(this.g)}},s.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof s)this.s(w);else{e:switch(typeof w){case"object":var E=w!=null;break e;case"function":E=!0;break e;default:E=!1}E?this.v(w):this.h(w)}},s.prototype.v=function(w){var E=void 0;try{E=w.then}catch(F){this.g(F);return}typeof E=="function"?this.u(E,w):this.h(w)},s.prototype.g=function(w){this.i(2,w)},s.prototype.h=function(w){this.i(1,w)},s.prototype.i=function(w,E){if(this.b!=0)throw Error("Cannot settle("+w+", "+E+"): Promise already settled in state"+this.b);this.b=w,this.c=E,this.l()},s.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)y.b(this.a[w]);this.a=null}};var y=new c;return s.prototype.s=function(w){var E=this.f();w.Ra(E.resolve,E.reject)},s.prototype.u=function(w,E){var F=this.f();try{w.call(E,F.resolve,F.reject)}catch(W){F.reject(W)}},s.prototype.then=function(w,E){function F(Ye,Kt){return typeof Ye=="function"?function(Jr){try{W(Ye(Jr))}catch(wm){xe(wm)}}:Kt}var W,xe,et=new s(function(Ye,Kt){W=Ye,xe=Kt});return this.Ra(F(w,W),F(E,xe)),et},s.prototype.catch=function(w){return this.then(void 0,w)},s.prototype.Ra=function(w,E){function F(){switch(W.b){case 1:w(W.c);break;case 2:E(W.c);break;default:throw Error("Unexpected state: "+W.b)}}var W=this;this.a==null?y.b(F):this.a.push(F)},s.resolve=h,s.reject=function(w){return new s(function(E,F){F(w)})},s.race=function(w){return new s(function(E,F){for(var W=a(w),xe=W.next();!xe.done;xe=W.next())h(xe.value).Ra(E,F)})},s.all=function(w){var E=a(w),F=E.next();return F.done?h([]):new s(function(W,xe){function et(Jr){return function(wm){Ye[Jr]=wm,Kt--,Kt==0&&W(Ye)}}var Ye=[],Kt=0;do Ye.push(void 0),Kt++,h(F.value).Ra(et(Ye.length-1),xe),F=E.next();while(!F.done)})},s});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,p=null;function g(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function v(){}function b(r){var s=typeof r;return s!="object"?s:r?Array.isArray(r)?"array":s:"null"}function _(r){var s=b(r);return s=="array"||s=="object"&&typeof r.length=="number"}function T(r){return b(r)=="function"}function S(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function x(r){return Object.prototype.hasOwnProperty.call(r,O)&&r[O]||(r[O]=++U)}var O="closure_uid_"+(1e9*Math.random()>>>0),U=0;function q(r,s,c){return r.call.apply(r.bind,arguments)}function te(r,s,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,h),r.apply(s,m)}}return function(){return r.apply(s,arguments)}}function V(r,s,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?V=q:V=te,V.apply(null,arguments)}function we(r,s){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function G(r,s){function c(){}c.prototype=s.prototype,r.bb=s.prototype,r.prototype=new c,r.prototype.constructor=r}function oe(r){return r}function k(r,s,c){this.code=nt+r,this.message=s||rt[r]||"",this.a=c||null}G(k,Error),k.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},k.prototype.toJSON=function(){return this.w()};function $e(r){var s=r&&r.code;return s?new k(s.substring(nt.length),r.message,r.serverResponse):null}var nt="auth/",rt={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ct={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ge(r){for(var s in ct)if(ct[s].id===r)return r=ct[s],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var de;de=Ge("__EID__")?"__EID__":void 0;function De(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function ge(r){if(Error.captureStackTrace)Error.captureStackTrace(this,ge);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}G(ge,Error),ge.prototype.name="CustomError";function ft(r,s){r=r.split("%s");for(var c="",h=r.length-1,m=0;m<h;m++)c+=r[m]+(m<s.length?s[m]:"%s");ge.call(this,c+r[h])}G(ft,ge),ft.prototype.name="AssertionError";function It(r,s){throw new ft("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function Vt(r,s){this.c=r,this.f=s,this.b=0,this.a=null}Vt.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function Ot(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function ht(){this.b=this.a=null}var Vn=new Vt(function(){return new ve},function(r){r.reset()});ht.prototype.add=function(r,s){var c=Vn.get();c.set(r,s),this.b?this.b.next=c:this.a=c,this.b=c};function pe(){var r=h0,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function ve(){this.next=this.b=this.a=null}ve.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},ve.prototype.reset=function(){this.next=this.b=this.a=null};var D=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===s)return c;return-1},$=Array.prototype.forEach?function(r,s,c){Array.prototype.forEach.call(r,s,c)}:function(r,s,c){for(var h=r.length,m=typeof r=="string"?r.split(""):r,y=0;y<h;y++)y in m&&s.call(c,m[y],y,r)};function ee(r,s){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&s.call(void 0,c[h],h,r)}var ae=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=[],m=0,y=typeof r=="string"?r.split(""):r,w=0;w<c;w++)if(w in y){var E=y[w];s.call(void 0,E,w,r)&&(h[m++]=E)}return h},ke=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=Array(c),m=typeof r=="string"?r.split(""):r,y=0;y<c;y++)y in m&&(h[y]=s.call(void 0,m[y],y,r));return h},I=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=typeof r=="string"?r.split(""):r,m=0;m<c;m++)if(m in h&&s.call(void 0,h[m],m,r))return!0;return!1};function A(r){e:{for(var s=UC,c=r.length,h=typeof r=="string"?r.split(""):r,m=0;m<c;m++)if(m in h&&s.call(void 0,h[m],m,r)){s=m;break e}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function R(r,s){return 0<=D(r,s)}function L(r,s){s=D(r,s);var c;return(c=0<=s)&&Array.prototype.splice.call(r,s,1),c}function j(r,s){var c=0;ee(r,function(h,m){s.call(void 0,h,m,r)&&Array.prototype.splice.call(r,m,1).length==1&&c++})}function X(r){return Array.prototype.concat.apply([],arguments)}function ie(r){var s=r.length;if(0<s){for(var c=Array(s),h=0;h<s;h++)c[h]=r[h];return c}return[]}var Z=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},re=/&/g,Q=/</g,be=/>/g,fe=/"/g,N=/'/g,C=/\x00/g,M=/[\x00&<>"']/;function z(r,s){return r.indexOf(s)!=-1}function le(r,s){return r<s?-1:r>s?1:0}var ue;e:{var Re=f.navigator;if(Re){var He=Re.userAgent;if(He){ue=He;break e}}ue=""}function Te(r){return z(ue,r)}function Ve(r,s){for(var c in r)s.call(void 0,r[c],c,r)}function vt(r){for(var s in r)return!1;return!0}function it(r){var s={},c;for(c in r)s[c]=r[c];return s}var Bn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xt(r,s){for(var c,h,m=1;m<arguments.length;m++){h=arguments[m];for(c in h)r[c]=h[c];for(var y=0;y<Bn.length;y++)c=Bn[y],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function zy(r,s){e:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var m=h;break e}}catch{}m=null}if(m&&typeof m[s]<"u"&&(!r||!(r instanceof m[s])&&(r instanceof m.Location||r instanceof m.Element))){if(S(r))try{var y=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{y="<object could not be stringified>"}else y=r===void 0?"undefined":r===null?"null":typeof r;It("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,y)}}function Cr(r,s){this.a=r===Cc&&s||"",this.b=Gy}Cr.prototype.ta=!0,Cr.prototype.sa=function(){return this.a},Cr.prototype.toString=function(){return"Const{"+this.a+"}"};function zh(r){return r instanceof Cr&&r.constructor===Cr&&r.b===Gy?r.a:(It("expected object of type Const, got '"+r+"'"),"type_error:Const")}var Gy={},Cc={},Rc;function Wy(){if(Rc===void 0){var r=null,s=f.trustedTypes;if(s&&s.createPolicy){try{r=s.createPolicy("goog#html",{createHTML:oe,createScript:oe,createScriptURL:oe})}catch(c){f.console&&f.console.error(c.message)}Rc=r}else Rc=r}return Rc}function ts(r,s){this.a=s===Yy?r:""}ts.prototype.ta=!0,ts.prototype.sa=function(){return this.a.toString()},ts.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Xy(r){return r instanceof ts&&r.constructor===ts?r.a:(It("expected object of type TrustedResourceUrl, got '"+r+"' of type "+b(r)),"type_error:TrustedResourceUrl")}function Gh(r,s){var c=zh(r);if(!pN.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(dN,function(h,m){if(!Object.prototype.hasOwnProperty.call(s,m))throw Error('Found marker, "'+m+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(s));return h=s[m],h instanceof Cr?zh(h):encodeURIComponent(String(h))}),mN(r)}var dN=/%{(\w+)}/g,pN=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Yy={};function mN(r){var s=Wy();return r=s?s.createScriptURL(r):r,new ts(r,Yy)}function Sn(r,s){this.a=s===ku?r:""}Sn.prototype.ta=!0,Sn.prototype.sa=function(){return this.a.toString()},Sn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function xc(r){return r instanceof Sn&&r.constructor===Sn?r.a:(It("expected object of type SafeUrl, got '"+r+"' of type "+b(r)),"type_error:SafeUrl")}var gN=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,vN=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Qy=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Jy(r){if(r instanceof Sn)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),Qy.test(r))r=new Sn(r,ku);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var s=r.match(vN);r=s&&gN.test(s[1])?new Sn(r,ku):null}return r}function Zy(r){return r instanceof Sn?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),Qy.test(r)||(r="about:invalid#zClosurez"),new Sn(r,ku))}var ku={},e0=new Sn("about:invalid#zClosurez",ku);function ns(r,s,c){this.a=c===t0?r:""}ns.prototype.ta=!0,ns.prototype.sa=function(){return this.a.toString()},ns.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function yN(r){return r instanceof ns&&r.constructor===ns?r.a:(It("expected object of type SafeHtml, got '"+r+"' of type "+b(r)),"type_error:SafeHtml")}var t0={};function wN(r,s){zy(r,"HTMLScriptElement"),r.src=Xy(s),(s=r.ownerDocument&&r.ownerDocument.defaultView)&&s!=f?s=g(s.document):(p===null&&(p=g(f.document)),s=p),s&&r.setAttribute("nonce",s)}function n0(r,s,c,h){return r=r instanceof Sn?r:Zy(r),s=s||f,c=c instanceof Cr?zh(c):c||"",s.open(xc(r),c,h,void 0)}function r0(r,s){for(var c=r.split("%s"),h="",m=Array.prototype.slice.call(arguments,1);m.length&&1<c.length;)h+=c.shift()+m.shift();return h+c.join("%s")}function Wh(r){return M.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(re,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(Q,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(be,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(fe,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(N,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(C,"&#0;"))),r}function Xh(r){return Xh[" "](r),r}Xh[" "]=v;function bN(r,s){var c=TN;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=s(r)}var _N=Te("Opera"),cr=Te("Trident")||Te("MSIE"),i0=Te("Edge"),EN=i0||cr,o0=Te("Gecko")&&!(z(ue.toLowerCase(),"webkit")&&!Te("Edge"))&&!(Te("Trident")||Te("MSIE"))&&!Te("Edge"),IN=z(ue.toLowerCase(),"webkit")&&!Te("Edge");function s0(){var r=f.document;return r?r.documentMode:void 0}var Oc;e:{var Yh="",Qh=function(){var r=ue;if(o0)return/rv:([^\);]+)(\)|;)/.exec(r);if(i0)return/Edge\/([\d\.]+)/.exec(r);if(cr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(IN)return/WebKit\/(\S+)/.exec(r);if(_N)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(Qh&&(Yh=Qh?Qh[1]:""),cr){var Jh=s0();if(Jh!=null&&Jh>parseFloat(Yh)){Oc=String(Jh);break e}}Oc=Yh}var TN={};function u0(r){return bN(r,function(){for(var s=0,c=Z(String(Oc)).split("."),h=Z(String(r)).split("."),m=Math.max(c.length,h.length),y=0;s==0&&y<m;y++){var w=c[y]||"",E=h[y]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],w[0].length==0&&E[0].length==0)break;s=le(w[1].length==0?0:parseInt(w[1],10),E[1].length==0?0:parseInt(E[1],10))||le(w[2].length==0,E[2].length==0)||le(w[2],E[2]),w=w[3],E=E[3]}while(s==0)}return 0<=s})}var Zh;if(f.document&&cr){var a0=s0();Zh=a0||parseInt(Oc,10)||void 0}else Zh=void 0;var di=Zh;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var SN=!cr||9<=Number(di);function Nu(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function c0(r,s){Ve(s,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:l0.hasOwnProperty(h)?r.setAttribute(l0[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var l0={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function AN(r,s,c){var h=arguments,m=document,y=String(h[0]),w=h[1];if(!SN&&w&&(w.name||w.type)){if(y=["<",y],w.name&&y.push(' name="',Wh(w.name),'"'),w.type){y.push(' type="',Wh(w.type),'"');var E={};Xt(E,w),delete E.type,w=E}y.push(">"),y=y.join("")}return y=Pc(m,y),w&&(typeof w=="string"?y.className=w:Array.isArray(w)?y.className=w.join(" "):c0(y,w)),2<h.length&&kN(m,y,h),y}function kN(r,s,c){function h(E){E&&s.appendChild(typeof E=="string"?r.createTextNode(E):E)}for(var m=2;m<c.length;m++){var y=c[m];if(!_(y)||S(y)&&0<y.nodeType)h(y);else{e:{if(y&&typeof y.length=="number"){if(S(y)){var w=typeof y.item=="function"||typeof y.item=="string";break e}if(T(y)){w=typeof y.item=="function";break e}}w=!1}$(w?ie(y):y,h)}}}function Pc(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function f0(r){f.setTimeout(function(){throw r},0)}var ed;function NN(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Te("Presto")&&(r=function(){var m=Pc(document,"IFRAME");m.style.display="none",document.documentElement.appendChild(m);var y=m.contentWindow;m=y.document,m.open(),m.close();var w="callImmediate"+Math.random(),E=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;m=V(function(F){(E=="*"||F.origin==E)&&F.data==w&&this.port1.onmessage()},this),y.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(w,E)}}}),typeof r<"u"&&!Te("Trident")&&!Te("MSIE")){var s=new r,c={},h=c;return s.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var m=c.Hb;c.Hb=null,m()}},function(m){h.next={Hb:m},h=h.next,s.port2.postMessage(0)}}return function(m){f.setTimeout(m,0)}}function Dc(r,s){Lc||CN(),td||(Lc(),td=!0),h0.add(r,s)}var Lc;function CN(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);Lc=function(){r.then(d0)}}else Lc=function(){var s=d0;!T(f.setImmediate)||f.Window&&f.Window.prototype&&!Te("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(ed||(ed=NN()),ed(s)):f.setImmediate(s)}}var td=!1,h0=new ht;function d0(){for(var r;r=pe();){try{r.a.call(r.b)}catch(s){f0(s)}Ot(Vn,r)}td=!1}function je(r,s){if(this.a=Ji,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=v)try{var c=this;r.call(s,function(h){Zi(c,Cu,h)},function(h){if(!(h instanceof rs))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}Zi(c,Wr,h)})}catch(h){Zi(this,Wr,h)}}var Ji=0,Cu=2,Wr=3;function p0(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}p0.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var m0=new Vt(function(){return new p0},function(r){r.reset()});function nd(r,s,c){var h=m0.get();return h.g=r,h.b=s,h.f=c,h}function Ee(r){if(r instanceof je)return r;var s=new je(v);return Zi(s,Cu,r),s}function yt(r){return new je(function(s,c){c(r)})}function g0(r,s,c){b0(r,s,c,null)||Dc(we(s,r))}function RN(r){return new je(function(s,c){var h=r.length,m=[];if(h)for(var y=function(W,xe){h--,m[W]=xe,h==0&&s(m)},w=function(W){c(W)},E=0,F;E<r.length;E++)F=r[E],g0(F,we(y,E),w);else s(m)})}function v0(r){return new je(function(s){var c=r.length,h=[];if(c)for(var m=function(E,F,W){c--,h[E]=F?{Qb:!0,value:W}:{Qb:!1,reason:W},c==0&&s(h)},y=0,w;y<r.length;y++)w=r[y],g0(w,we(m,y,!0),we(m,y,!1));else s(h)})}je.prototype.then=function(r,s,c){return w0(this,T(r)?r:null,T(s)?s:null,c)},je.prototype.$goog_Thenable=!0,e=je.prototype,e.oa=function(r,s){return r=nd(r,r,s),r.c=!0,rd(this,r),this},e.o=function(r,s){return w0(this,null,r,s)},e.cancel=function(r){if(this.a==Ji){var s=new rs(r);Dc(function(){y0(this,s)},this)}};function y0(r,s){if(r.a==Ji)if(r.c){var c=r.c;if(c.b){for(var h=0,m=null,y=null,w=c.b;w&&(w.c||(h++,w.a==r&&(m=w),!(m&&1<h)));w=w.next)m||(y=w);m&&(c.a==Ji&&h==1?y0(c,s):(y?(h=y,h.next==c.f&&(c.f=h),h.next=h.next.next):E0(c),I0(c,m,Wr,s)))}r.c=null}else Zi(r,Wr,s)}function rd(r,s){r.b||r.a!=Cu&&r.a!=Wr||_0(r),r.f?r.f.next=s:r.b=s,r.f=s}function w0(r,s,c,h){var m=nd(null,null,null);return m.a=new je(function(y,w){m.g=s?function(E){try{var F=s.call(h,E);y(F)}catch(W){w(W)}}:y,m.b=c?function(E){try{var F=c.call(h,E);F===void 0&&E instanceof rs?w(E):y(F)}catch(W){w(W)}}:w}),m.a.c=r,rd(r,m),m.a}e.$c=function(r){this.a=Ji,Zi(this,Cu,r)},e.ad=function(r){this.a=Ji,Zi(this,Wr,r)};function Zi(r,s,c){r.a==Ji&&(r===c&&(s=Wr,c=new TypeError("Promise cannot resolve to itself")),r.a=1,b0(c,r.$c,r.ad,r)||(r.i=c,r.a=s,r.c=null,_0(r),s!=Wr||c instanceof rs||ON(r,c)))}function b0(r,s,c,h){if(r instanceof je)return rd(r,nd(s||v,c||null,h)),!0;if(De(r))return r.then(s,c,h),!0;if(S(r))try{var m=r.then;if(T(m))return xN(r,m,s,c,h),!0}catch(y){return c.call(h,y),!0}return!1}function xN(r,s,c,h,m){function y(F){E||(E=!0,h.call(m,F))}function w(F){E||(E=!0,c.call(m,F))}var E=!1;try{s.call(r,w,y)}catch(F){y(F)}}function _0(r){r.h||(r.h=!0,Dc(r.gc,r))}function E0(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}e.gc=function(){for(var r;r=E0(this);)I0(this,r,this.a,this.i);this.h=!1};function I0(r,s,c,h){if(c==Wr&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,T0(s,c,h);else try{s.c?s.g.call(s.f):T0(s,c,h)}catch(m){S0.call(null,m)}Ot(m0,s)}function T0(r,s,c){s==Cu?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function ON(r,s){r.g=!0,Dc(function(){r.g&&S0.call(null,s)})}var S0=f0;function rs(r){ge.call(this,r)}G(rs,ge),rs.prototype.name="cancel";function Mc(){this.ya=this.ya,this.pa=this.pa}var PN=0;Mc.prototype.ya=!1;function A0(r){!r.ya&&(r.ya=!0,r.Da(),PN!=0)&&x(r)}Mc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var DN=Object.freeze||function(r){return r},k0=!cr||9<=Number(di),LN=cr&&!u0("9"),MN=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",v,s),f.removeEventListener("test",v,s)}catch{}return r}();function An(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}An.prototype.preventDefault=function(){this.defaultPrevented=!0};function eo(r,s){if(An.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(o0){e:{try{Xh(s.nodeName);var m=!0;break e}catch{}m=!1}m||(s=null)}}else c=="mouseover"?s=r.fromElement:c=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:FN[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}G(eo,An);var FN=DN({2:"touch",3:"pen",4:"mouse"});eo.prototype.preventDefault=function(){eo.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,LN)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},eo.prototype.g=function(){return this.a};var Ru="closure_listenable_"+(1e6*Math.random()|0),UN=0;function jN(r,s,c,h,m){this.listener=r,this.proxy=null,this.src=s,this.type=c,this.capture=!!h,this.Wa=m,this.key=++UN,this.wa=this.Qa=!1}function Fc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function Uc(r){this.src=r,this.a={},this.b=0}Uc.prototype.add=function(r,s,c,h,m){var y=r.toString();r=this.a[y],r||(r=this.a[y]=[],this.b++);var w=od(r,s,h,m);return-1<w?(s=r[w],c||(s.Qa=!1)):(s=new jN(s,this.src,y,!!h,m),s.Qa=c,r.push(s)),s};function id(r,s){var c=s.type;c in r.a&&L(r.a[c],s)&&(Fc(s),r.a[c].length==0&&(delete r.a[c],r.b--))}function od(r,s,c,h){for(var m=0;m<r.length;++m){var y=r[m];if(!y.wa&&y.listener==s&&y.capture==!!c&&y.Wa==h)return m}return-1}var sd="closure_lm_"+(1e6*Math.random()|0),ud={};function tr(r,s,c,h,m){if(h&&h.once)ad(r,s,c,h,m);else if(Array.isArray(s))for(var y=0;y<s.length;y++)tr(r,s[y],c,h,m);else c=ld(c),r&&r[Ru]?P0(r,s,c,S(h)?!!h.capture:!!h,m):N0(r,s,c,!1,h,m)}function N0(r,s,c,h,m,y){if(!s)throw Error("Invalid event type");var w=S(m)?!!m.capture:!!m,E=jc(r);if(E||(r[sd]=E=new Uc(r)),c=E.add(s,c,h,w,y),!c.proxy)if(h=VN(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)MN||(m=w),m===void 0&&(m=!1),r.addEventListener(s.toString(),h,m);else if(r.attachEvent)r.attachEvent(R0(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function VN(){var r=BN,s=k0?function(c){return r.call(s.src,s.listener,c)}:function(c){if(c=r.call(s.src,s.listener,c),!c)return c};return s}function ad(r,s,c,h,m){if(Array.isArray(s))for(var y=0;y<s.length;y++)ad(r,s[y],c,h,m);else c=ld(c),r&&r[Ru]?fd(r,s,c,S(h)?!!h.capture:!!h,m):N0(r,s,c,!0,h,m)}function qn(r,s,c,h,m){if(Array.isArray(s))for(var y=0;y<s.length;y++)qn(r,s[y],c,h,m);else h=S(h)?!!h.capture:!!h,c=ld(c),r&&r[Ru]?(r=r.v,s=String(s).toString(),s in r.a&&(y=r.a[s],c=od(y,c,h,m),-1<c&&(Fc(y[c]),Array.prototype.splice.call(y,c,1),y.length==0&&(delete r.a[s],r.b--)))):r&&(r=jc(r))&&(s=r.a[s.toString()],r=-1,s&&(r=od(s,c,h,m)),(c=-1<r?s[r]:null)&&C0(c))}function C0(r){if(typeof r!="number"&&r&&!r.wa){var s=r.src;if(s&&s[Ru])id(s.v,r);else{var c=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(c,h,r.capture):s.detachEvent?s.detachEvent(R0(c),h):s.addListener&&s.removeListener&&s.removeListener(h),(c=jc(s))?(id(c,r),c.b==0&&(c.src=null,s[sd]=null)):Fc(r)}}}function R0(r){return r in ud?ud[r]:ud[r]="on"+r}function x0(r,s,c,h){var m=!0;if((r=jc(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var y=s[r];y&&y.capture==c&&!y.wa&&(y=O0(y,h),m=m&&y!==!1)}return m}function O0(r,s){var c=r.listener,h=r.Wa||r.src;return r.Qa&&C0(r),c.call(h,s)}function BN(r,s){if(r.wa)return!0;if(!k0){if(!s)e:{s=["window","event"];for(var c=f,h=0;h<s.length;h++)if(c=c[s[h]],c==null){s=null;break e}s=c}if(h=s,s=new eo(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var m=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{m=!0}(m||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],m=s.b;m;m=m.parentNode)h.push(m);for(r=r.type,m=h.length-1;0<=m;m--){s.b=h[m];var y=x0(h[m],r,!0,s);c=c&&y}for(m=0;m<h.length;m++)s.b=h[m],y=x0(h[m],r,!1,s),c=c&&y}return c}return O0(r,new eo(s,this))}function jc(r){return r=r[sd],r instanceof Uc?r:null}var cd="__closure_events_fn_"+(1e9*Math.random()>>>0);function ld(r){return T(r)?r:(r[cd]||(r[cd]=function(s){return r.handleEvent(s)}),r[cd])}function dn(){Mc.call(this),this.v=new Uc(this),this.bc=this,this.hb=null}G(dn,Mc),dn.prototype[Ru]=!0,dn.prototype.addEventListener=function(r,s,c,h){tr(this,r,s,c,h)},dn.prototype.removeEventListener=function(r,s,c,h){qn(this,r,s,c,h)},dn.prototype.dispatchEvent=function(r){var s,c=this.hb;if(c)for(s=[];c;c=c.hb)s.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new An(r,c);else if(r instanceof An)r.target=r.target||c;else{var m=r;r=new An(h,c),Xt(r,m)}if(m=!0,s)for(var y=s.length-1;0<=y;y--){var w=r.b=s[y];m=Vc(w,h,!0,r)&&m}if(w=r.b=c,m=Vc(w,h,!0,r)&&m,m=Vc(w,h,!1,r)&&m,s)for(y=0;y<s.length;y++)w=r.b=s[y],m=Vc(w,h,!1,r)&&m;return m},dn.prototype.Da=function(){if(dn.bb.Da.call(this),this.v){var r=this.v,s;for(s in r.a){for(var c=r.a[s],h=0;h<c.length;h++)Fc(c[h]);delete r.a[s],r.b--}}this.hb=null};function P0(r,s,c,h,m){r.v.add(String(s),c,!1,h,m)}function fd(r,s,c,h,m){r.v.add(String(s),c,!0,h,m)}function Vc(r,s,c,h){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var m=!0,y=0;y<s.length;++y){var w=s[y];if(w&&!w.wa&&w.capture==c){var E=w.listener,F=w.Wa||w.src;w.Qa&&id(r.v,w),m=E.call(F,h)!==!1&&m}}return m&&!h.defaultPrevented}function hd(r,s,c){if(T(r))c&&(r=V(r,c));else if(r&&typeof r.handleEvent=="function")r=V(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:f.setTimeout(r,s||0)}function is(r){var s=null;return new je(function(c,h){s=hd(function(){c(void 0)},r),s==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(s),c})}function D0(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(_(r)){for(var s=[],c=r.length,h=0;h<c;h++)s.push(r[h]);return s}s=[],c=0;for(h in r)s[c++]=r[h];return s}function L0(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(_(r)||typeof r=="string"){var s=[];r=r.length;for(var c=0;c<r;c++)s.push(c);return s}s=[],c=0;for(var h in r)s[c++]=h;return s}}function qN(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(_(r)||typeof r=="string")$(r,s,void 0);else for(var c=L0(r),h=D0(r),m=h.length,y=0;y<m;y++)s.call(void 0,h[y],c&&c[y],r)}function os(r,s){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof os)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}e=os.prototype,e.X=function(){dd(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},e.Y=function(){return dd(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function dd(r){if(r.c!=r.a.length){for(var s=0,c=0;s<r.a.length;){var h=r.a[s];to(r.b,h)&&(r.a[c++]=h),s++}r.a.length=c}if(r.c!=r.a.length){var m={};for(c=s=0;s<r.a.length;)h=r.a[s],to(m,h)||(r.a[c++]=h,m[h]=1),s++;r.a.length=c}}e.get=function(r,s){return to(this.b,r)?this.b[r]:s},e.set=function(r,s){to(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},e.forEach=function(r,s){for(var c=this.Y(),h=0;h<c.length;h++){var m=c[h],y=this.get(m);r.call(s,y,m,this)}};function to(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var M0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $N(r,s){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),m=null;if(0<=h){var y=r[c].substring(0,h);m=r[c].substring(h+1)}else y=r[c];s(y,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function pi(r,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof pi?(this.i=s!==void 0?s:r.i,xu(this,r.c),this.l=r.l,this.a=r.a,Ou(this,r.g),this.f=r.f,pd(this,V0(r.b)),this.h=r.h):r&&(c=String(r).match(M0))?(this.i=!!s,xu(this,c[1]||"",!0),this.l=Pu(c[2]||""),this.a=Pu(c[3]||"",!0),Ou(this,c[4]),this.f=Pu(c[5]||"",!0),pd(this,c[6]||"",!0),this.h=Pu(c[7]||"")):(this.i=!!s,this.b=new no(null,this.i))}pi.prototype.toString=function(){var r=[],s=this.c;s&&r.push(Du(s,F0,!0),":");var c=this.a;return(c||s=="file")&&(r.push("//"),(s=this.l)&&r.push(Du(s,F0,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(Du(c,c.charAt(0)=="/"?zN:KN,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",Du(c,WN)),r.join("")},pi.prototype.resolve=function(r){var s=new pi(this),c=!!r.c;c?xu(s,r.c):c=!!r.l,c?s.l=r.l:c=!!r.a,c?s.a=r.a:c=r.g!=null;var h=r.f;if(c)Ou(s,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var m=s.f.lastIndexOf("/");m!=-1&&(h=s.f.substr(0,m+1)+h)}if(m=h,m==".."||m==".")h="";else if(z(m,"./")||z(m,"/.")){h=m.lastIndexOf("/",0)==0,m=m.split("/");for(var y=[],w=0;w<m.length;){var E=m[w++];E=="."?h&&w==m.length&&y.push(""):E==".."?((1<y.length||y.length==1&&y[0]!="")&&y.pop(),h&&w==m.length&&y.push("")):(y.push(E),h=!0)}h=y.join("/")}else h=m}return c?s.f=h:c=r.b.toString()!=="",c?pd(s,V0(r.b)):c=!!r.h,c&&(s.h=r.h),s};function xu(r,s,c){r.c=c?Pu(s,!0):s,r.c&&(r.c=r.c.replace(/:$/,""))}function Ou(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function pd(r,s,c){s instanceof no?(r.b=s,XN(r.b,r.i)):(c||(s=Du(s,GN)),r.b=new no(s,r.i))}function Nt(r,s,c){r.b.set(s,c)}function nr(r,s){return r.b.get(s)}function kn(r){return r instanceof pi?new pi(r):new pi(r,void 0)}function Bc(r,s,c,h){var m=new pi(null,void 0);return r&&xu(m,r),s&&(m.a=s),c&&Ou(m,c),h&&(m.f=h),m}function Pu(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Du(r,s,c){return typeof r=="string"?(r=encodeURI(r).replace(s,HN),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function HN(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var F0=/[#\/\?@]/g,KN=/[#\?:]/g,zN=/[#\?]/g,GN=/[#\?@]/g,WN=/#/g;function no(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function mi(r){r.a||(r.a=new os,r.b=0,r.c&&$N(r.c,function(s,c){r.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}function U0(r){var s=L0(r);if(typeof s>"u")throw Error("Keys are undefined");var c=new no(null,void 0);r=D0(r);for(var h=0;h<s.length;h++){var m=s[h],y=r[h];Array.isArray(y)?j0(c,m,y):c.add(m,y)}return c}e=no.prototype,e.add=function(r,s){mi(this),this.c=null,r=ss(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(s),this.b+=1,this};function Rr(r,s){mi(r),s=ss(r,s),to(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,to(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&dd(r)))}e.clear=function(){this.a=this.c=null,this.b=0};function md(r,s){return mi(r),s=ss(r,s),to(r.a.b,s)}e.forEach=function(r,s){mi(this),this.a.forEach(function(c,h){$(c,function(m){r.call(s,m,h,this)},this)},this)},e.Y=function(){mi(this);for(var r=this.a.X(),s=this.a.Y(),c=[],h=0;h<s.length;h++)for(var m=r[h],y=0;y<m.length;y++)c.push(s[h]);return c},e.X=function(r){mi(this);var s=[];if(typeof r=="string")md(this,r)&&(s=X(s,this.a.get(ss(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)s=X(s,r[c])}return s},e.set=function(r,s){return mi(this),this.c=null,r=ss(this,r),md(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},e.get=function(r,s){return r?(r=this.X(r),0<r.length?String(r[0]):s):s};function j0(r,s,c){Rr(r,s),0<c.length&&(r.c=null,r.a.set(ss(r,s),ie(c)),r.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),c=0;c<s.length;c++){var h=s[c],m=encodeURIComponent(String(h));h=this.X(h);for(var y=0;y<h.length;y++){var w=m;h[y]!==""&&(w+="="+encodeURIComponent(String(h[y]))),r.push(w)}}return this.c=r.join("&")};function V0(r){var s=new no;return s.c=r.c,r.a&&(s.a=new os(r.a),s.b=r.b),s}function ss(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function XN(r,s){s&&!r.f&&(mi(r),r.c=null,r.a.forEach(function(c,h){var m=h.toLowerCase();h!=m&&(Rr(this,h),j0(this,m,c))},r)),r.f=s}function B0(r){var s=[];return gd(new YN,r,s),s.join("")}function YN(){}function gd(r,s,c){if(s==null)c.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var h=s;s=h.length,c.push("[");for(var m="",y=0;y<s;y++)c.push(m),gd(r,h[y],c),m=",";c.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{c.push("{"),m="";for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(y=s[h],typeof y!="function"&&(c.push(m),$0(h,c),c.push(":"),gd(r,y,c),m=","));c.push("}");return}}switch(typeof s){case"string":$0(s,c);break;case"number":c.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":c.push(String(s));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var q0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},QN=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function $0(r,s){s.push('"',r.replace(QN,function(c){var h=q0[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),q0[c]=h),h}),'"')}function vd(){var r=Yt();return cr&&!!di&&di==11||/Edge\/\d+/.test(r)}function Lu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function H0(r,s){s=s||f.window;var c="about:blank";r&&(c=xc(Jy(r)||e0)),s.location.href=c}function K0(r,s){var c=[],h;for(h in r)h in s?typeof r[h]!=typeof s[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&s[h]!=null?0<K0(r[h],s[h]).length&&c.push(h):r[h]!==s[h]&&c.push(h):c.push(h);for(h in s)h in r||c.push(h);return c}function JN(){var r=Yt();return r=us(r)!=X0?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!cr||!di||9<di}function z0(r){return r=(r||Yt()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function ro(r){r=r||f.window;try{r.close()}catch{}}function G0(r,s,c){var h=Math.floor(1e9*Math.random()).toString();s=s||500,c=c||600;var m=(window.screen.availHeight-c)/2,y=(window.screen.availWidth-s)/2;s={width:s,height:c,top:0<m?m:0,left:0<y?y:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=Yt().toLowerCase(),h&&(s.target=h,z(c,"crios/")&&(s.target="_blank")),us(Yt())==bd&&(r=r||"http://localhost",s.scrollbars=!0),c=r||"",(r=s)||(r={}),h=window,s=c instanceof Sn?c:Jy(typeof c.href<"u"?c.href:String(c))||e0,c=r.target||c.target,m=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":m.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(w+"="+(r[w]?1:0))}var w=m.join(",");if((Te("iPhone")&&!Te("iPod")&&!Te("iPad")||Te("iPad")||Te("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=Pc(document,"A"),zy(w,"HTMLAnchorElement"),s=s instanceof Sn?s:Zy(s),w.href=xc(s),w.setAttribute("target",c),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=n0("",h,c,w),r=xc(s),w&&(EN&&z(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Wh(r)+'">',r=(h=Wy())?h.createHTML(r):r,r=new ns(r,null,t0),h=w.document)&&(h.write(yN(r)),h.close())):(w=n0(s,h,c,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function ZN(r){return new je(function(s){function c(){is(2e3).then(function(){if(!r||r.closed)s();else return c()})}return c()})}var eC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tC=/^[^@]+@[^@]+$/;function qc(){var r=null;return new je(function(s){f.document.readyState=="complete"?s():(r=function(){s()},ad(window,"load",r))}).o(function(s){throw qn(window,"load",r),s})}function nC(){return yd(void 0)?qc().then(function(){return new je(function(r,s){var c=f.document,h=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):yt(Error("Cordova must run in an Android or iOS file scheme."))}function yd(r){return r=r||Yt(),!(cs()!=="file:"&&cs()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function wd(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function lr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function xr(){return Se.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Se.INTERNAL.hasOwnProperty("node")?"Node":lr()?"Worker":"Browser"}function W0(){var r=xr();return r==="ReactNative"||r==="Node"}function rC(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var bd="Firefox",X0="Chrome";function us(r){var s=r.toLowerCase();if(z(s,"opera/")||z(s,"opr/")||z(s,"opios/"))return"Opera";if(z(s,"iemobile"))return"IEMobile";if(z(s,"msie")||z(s,"trident/"))return"IE";if(z(s,"edge/"))return"Edge";if(z(s,"firefox/"))return bd;if(z(s,"silk/"))return"Silk";if(z(s,"blackberry"))return"Blackberry";if(z(s,"webos"))return"Webos";if(!z(s,"safari/")||z(s,"chrome/")||z(s,"crios/")||z(s,"android"))if(!z(s,"chrome/")&&!z(s,"crios/")||z(s,"edge/")){if(z(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return X0;else return"Safari";return"Other"}var Y0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function as(r,s){s=s||[];var c=[],h={},m;for(m in Y0)h[Y0[m]]=!0;for(m=0;m<s.length;m++)typeof h[s[m]]<"u"&&(delete h[s[m]],c.push(s[m]));return c.sort(),s=c,s.length||(s=["FirebaseCore-web"]),c=xr(),c==="Browser"?(h=Yt(),c=us(h)):c==="Worker"&&(h=Yt(),c=us(h)+"-"+c),c+"/JsCore/"+r+"/"+s.join(",")}function Yt(){return f.navigator&&f.navigator.userAgent||""}function wt(r,s){r=r.split("."),s=s||f;for(var c=0;c<r.length&&typeof s=="object"&&s!=null;c++)s=s[r[c]];return c!=r.length&&(s=void 0),s}function _d(){try{var r=f.localStorage,s=oo();if(r)return r.setItem(s,"1"),r.removeItem(s),vd()?!!f.indexedDB:!0}catch{return lr()&&!!f.indexedDB}return!1}function io(){return($c()||cs()==="chrome-extension:"||yd())&&!W0()&&_d()&&!lr()}function $c(){return cs()==="http:"||cs()==="https:"}function cs(){return f.location&&f.location.protocol||null}function Mu(r){return r=r||Yt(),!(z0(r)||us(r)==bd)}function Fu(r){return typeof r>"u"?null:B0(r)}function Q0(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(s[c]=r[c]);return s}function ls(r){if(r!==null)return JSON.parse(r)}function oo(r){return r||Math.floor(1e9*Math.random()).toString()}function J0(r){return r=r||Yt(),!(us(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function Z0(){var r=f.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function gi(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=Yt(),s=xr(),this.b=z0(r)||s==="ReactNative"}gi.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&($c()||cs()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Ed(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function iC(){var r=f.document,s=null;return Ed()||!r?Ee():new je(function(c){s=function(){Ed()&&(r.removeEventListener("visibilitychange",s,!1),c())},r.addEventListener("visibilitychange",s,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",s,!1),c})}function Uu(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function ew(){return!(!wt("fireauth.oauthhelper",f)&&!wt("fireauth.iframe",f))}function oC(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function sC(){var r=f.navigator;return r&&r.serviceWorker?Ee().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):Ee(null)}var tw={};function Id(r){tw[r]||(tw[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var Td;try{var Sd={};Object.defineProperty(Sd,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Sd,"abcd",{configurable:!0,enumerable:!0,value:2}),Td=Sd.abcd==2}catch{Td=!1}function me(r,s,c){Td?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:c}):r[s]=c}function pn(r,s){if(s)for(var c in s)s.hasOwnProperty(c)&&me(r,c,s[c])}function Or(r){var s={};return pn(s,r),s}function uC(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&(s[c]=r[c]);return s}function aC(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var c=0;c<s.length;c++){var h=r[s[c]];if(h==null||h==="")return!1}return!0}function Ad(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var c in r)me(s,c,Ad(r[c]))}return s}function kd(r){var s=r&&(r[xd]?"phone":null);if(s&&r&&r[Rd]){me(this,"uid",r[Rd]),me(this,"displayName",r[nw]||null);var c=null;r[Cd]&&(c=new Date(r[Cd]).toUTCString()),me(this,"enrollmentTime",c),me(this,"factorId",s)}else throw new k("internal-error","Internal assert: invalid MultiFactorInfo object")}kd.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Nd(r){try{var s=new ju(r)}catch{s=null}return s}var nw="displayName",Cd="enrolledAt",Rd="mfaEnrollmentId",xd="phoneInfo";function ju(r){kd.call(this,r),me(this,"phoneNumber",r[xd])}G(ju,kd),ju.prototype.w=function(){var r=ju.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function cC(r){var s={},c=r[lC],h=r[hC],m=r[dC];if(r=Nd(r[fC]),!m||m!=Hc&&m!=Vu&&!c||m==Vu&&!h||m==Od&&!r)throw Error("Invalid checkActionCode response!");m==Vu?(s[iw]=c||null,s[ow]=c||null,s[rw]=h):(s[iw]=h||null,s[ow]=h||null,s[rw]=c||null),s[pC]=r||null,me(this,gC,m),me(this,mC,Ad(s))}var Od="REVERT_SECOND_FACTOR_ADDITION",Hc="EMAIL_SIGNIN",Vu="VERIFY_AND_CHANGE_EMAIL",lC="email",fC="mfaInfo",hC="newEmail",dC="requestType",rw="email",iw="fromEmail",pC="multiFactorInfo",ow="previousEmail",mC="data",gC="operation";function Pd(r){r=kn(r);var s=nr(r,sw)||null,c=nr(r,uw)||null,h=nr(r,aw)||null;if(h=h&&bC[h]||null,!s||!c||!h)throw new k("argument-error",sw+", "+uw+"and "+aw+" are required in a valid action code URL.");pn(this,{apiKey:s,operation:h,code:c,continueUrl:nr(r,vC)||null,languageCode:nr(r,yC)||null,tenantId:nr(r,wC)||null})}var sw="apiKey",uw="oobCode",vC="continueUrl",yC="languageCode",aw="mode",wC="tenantId",bC={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Od,signIn:Hc,verifyAndChangeEmail:Vu,verifyEmail:"VERIFY_EMAIL"};function cw(r){try{return new Pd(r)}catch{return null}}function Kc(r){var s=r[_C];if(typeof s>"u")throw new k("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new k("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var c=r[lw];if(c&&typeof c=="object"){s=c[mw];var h=c[dw];if(c=c[pw],typeof s=="string"&&s.length){if(this.a=s,typeof h<"u"&&typeof h!="boolean")throw new k("argument-error",dw+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new k("argument-error",pw+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof s<"u")throw new k("argument-error",mw+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new k("missing-android-pkg-name")}}else if(typeof c<"u")throw new k("argument-error",lw+" property must be a non null object when specified.");if(this.f=null,(s=r[hw])&&typeof s=="object"){if(s=s[gw],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new k("argument-error",gw+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new k("argument-error",hw+" property must be a non null object when specified.");if(s=r[Dd],typeof s<"u"&&typeof s!="boolean")throw new k("argument-error",Dd+" property must be a boolean when specified.");if(this.c=!!s,r=r[fw],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new k("argument-error",fw+" property must be a non empty string when specified.");this.i=r||null}var lw="android",fw="dynamicLinkDomain",Dd="handleCodeInApp",hw="iOS",_C="url",dw="installApp",pw="minimumVersion",mw="packageName",gw="bundleId";function zc(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var c in s)s[c]===null&&delete s[c];return s}function EC(r){return ke(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var Bu=null;function IC(r){var s=[];return TC(r,function(c){s.push(c)}),s}function TC(r,s){function c(F){for(;h<r.length;){var W=r.charAt(h++),xe=Bu[W];if(xe!=null)return xe;if(!/^[\s\xa0]*$/.test(W))throw Error("Unknown base64 encoding at char: "+W)}return F}SC();for(var h=0;;){var m=c(-1),y=c(0),w=c(64),E=c(64);if(E===64&&m===-1)break;s(m<<2|y>>4),w!=64&&(s(y<<4&240|w>>2),E!=64&&s(w<<6&192|E))}}function SC(){if(!Bu){Bu={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(s[c].split("")),m=0;m<h.length;m++){var y=h[m];Bu[y]===void 0&&(Bu[y]=m)}}}function Gc(r){var s=vw(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=r,this.a=s.exp,this.i=s.sub,r=Date.now()/1e3,this.g=s.iat||(r>this.a?this.a:r),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}Gc.prototype.T=function(){return this.f},Gc.prototype.l=function(){return this.c},Gc.prototype.toString=function(){return this.h};function Wc(r){try{return new Gc(r)}catch{return null}}function vw(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,c=0;c<s;c++)r+=".";try{var h=IC(r);for(r=[],c=s=0;s<h.length;){var m=h[s++];if(128>m)r[c++]=String.fromCharCode(m);else if(191<m&&224>m){var y=h[s++];r[c++]=String.fromCharCode((m&31)<<6|y&63)}else if(239<m&&365>m){y=h[s++];var w=h[s++],E=h[s++],F=((m&7)<<18|(y&63)<<12|(w&63)<<6|E&63)-65536;r[c++]=String.fromCharCode(55296+(F>>10)),r[c++]=String.fromCharCode(56320+(F&1023))}else y=h[s++],w=h[s++],r[c++]=String.fromCharCode((m&15)<<12|(y&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var yw="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Xc=["client_id","response_type","scope","redirect_uri","state"],Ld={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Xc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Xc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Xc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:yw},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Md(r){for(var s in Ld)if(Ld[s].fa==r)return Ld[s];return null}function ww(r){var s={};s["facebook.com"]=_w,s["google.com"]=Iw,s["github.com"]=Ew,s["twitter.com"]=Tw;var c=r&&r[bw];try{if(c)return s[c]?new s[c](r):new Pr(r);if(typeof r[Fd]<"u")return new Ud(r)}catch{}return null}var Fd="idToken",bw="providerId";function Ud(r){var s=r[bw];if(!s&&r[Fd]){var c=Wc(r[Fd]);c&&c.b&&(s=c.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),me(this,"providerId",s),me(this,"isNewUser",c)}function Pr(r){Ud.call(this,r),r=ls(r.rawUserInfo||"{}"),me(this,"profile",Ad(r||{}))}G(Pr,Ud);function _w(r){if(Pr.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}G(_w,Pr);function Ew(r){if(Pr.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");me(this,"username",this.profile&&this.profile.login||null)}G(Ew,Pr);function Iw(r){if(Pr.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}G(Iw,Pr);function Tw(r){if(Pr.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");me(this,"username",r.screenName||null)}G(Tw,Pr);function Sw(r){var s=kn(r),c=nr(s,"link"),h=nr(kn(c),"link");return s=nr(s,"deep_link_id"),nr(kn(s),"link")||s||h||c||r}function Yc(r,s){if(!r&&!s)throw new k("internal-error","Internal assert: no raw session string available");if(r&&s)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?qu:Qc}var qu="enroll",Qc="signin";Yc.prototype.Ha=function(){return this.a?Ee(this.a):Ee(this.b)},Yc.prototype.w=function(){return this.type==qu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function fs(){}fs.prototype.ka=function(){},fs.prototype.b=function(){},fs.prototype.c=function(){},fs.prototype.w=function(){};function hs(r,s){return r.then(function(c){if(c[dr]){var h=Wc(c[dr]);if(!h||s!=h.i)throw new k("user-mismatch");return c}throw new k("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==nt+"user-not-found"?new k("user-mismatch"):c})}function so(r,s){if(s)this.a=s;else throw new k("internal-error","failed to construct a credential");me(this,"providerId",r),me(this,"signInMethod",r)}so.prototype.ka=function(r){return ap(r,jd(this))},so.prototype.b=function(r,s){var c=jd(this);return c.idToken=s,cp(r,c)},so.prototype.c=function(r,s){return hs(lp(r,jd(this)),s)};function jd(r){return{pendingToken:r.a,requestUri:"http://localhost"}}so.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function AC(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new so(r.providerId,r.pendingToken)}catch{}return null}function Xr(r,s,c){if(this.a=null,s.idToken||s.accessToken)s.idToken&&me(this,"idToken",s.idToken),s.accessToken&&me(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&me(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)me(this,"accessToken",s.oauthToken),me(this,"secret",s.oauthTokenSecret);else throw new k("internal-error","failed to construct a credential");me(this,"providerId",r),me(this,"signInMethod",c)}Xr.prototype.ka=function(r){return ap(r,Vd(this))},Xr.prototype.b=function(r,s){var c=Vd(this);return c.idToken=s,cp(r,c)},Xr.prototype.c=function(r,s){var c=Vd(this);return hs(lp(r,c),s)};function Vd(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:U0(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}Xr.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function kC(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new Xr(r.providerId,s,r.signInMethod)}catch{}}return null}function uo(r,s){this.Qc=s||[],pn(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(Md(r)||{}).Ja||null,this.pb=null}uo.prototype.Ka=function(r){return this.Jb=it(r),this};function Aw(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');uo.call(this,r,[])}G(Aw,uo);function $n(r){uo.call(this,r,Xc),this.a=[]}G($n,uo),$n.prototype.Ca=function(r){return R(this.a,r)||this.a.push(r),this},$n.prototype.Rb=function(){return ie(this.a)},$n.prototype.credential=function(r,s){var c;if(S(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:s||null},!c.idToken&&!c.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new Xr(this.providerId,c,this.providerId)};function ao(){$n.call(this,"facebook.com")}G(ao,$n),me(ao,"PROVIDER_ID","facebook.com"),me(ao,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function kw(r){if(!r)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return S(r)&&(s=r.accessToken),new ao().credential({accessToken:s})}function co(){$n.call(this,"github.com")}G(co,$n),me(co,"PROVIDER_ID","github.com"),me(co,"GITHUB_SIGN_IN_METHOD","github.com");function Nw(r){if(!r)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return S(r)&&(s=r.accessToken),new co().credential({accessToken:s})}function lo(){$n.call(this,"google.com"),this.Ca("profile")}G(lo,$n),me(lo,"PROVIDER_ID","google.com"),me(lo,"GOOGLE_SIGN_IN_METHOD","google.com");function Cw(r,s){var c=r;return S(r)&&(c=r.idToken,s=r.accessToken),new lo().credential({idToken:c,accessToken:s})}function ds(){uo.call(this,"twitter.com",yw)}G(ds,uo),me(ds,"PROVIDER_ID","twitter.com"),me(ds,"TWITTER_SIGN_IN_METHOD","twitter.com");function Rw(r,s){var c=r;if(S(c)||(c={oauthToken:r,oauthTokenSecret:s}),!c.oauthToken||!c.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Xr("twitter.com",c,"twitter.com")}function vi(r,s,c){this.a=r,this.f=s,me(this,"providerId","password"),me(this,"signInMethod",c===rr.EMAIL_LINK_SIGN_IN_METHOD?rr.EMAIL_LINK_SIGN_IN_METHOD:rr.EMAIL_PASSWORD_SIGN_IN_METHOD)}vi.prototype.ka=function(r){return this.signInMethod==rr.EMAIL_LINK_SIGN_IN_METHOD?Be(r,fR,{email:this.a,oobCode:this.f}):Be(r,ib,{email:this.a,password:this.f})},vi.prototype.b=function(r,s){return this.signInMethod==rr.EMAIL_LINK_SIGN_IN_METHOD?Be(r,hR,{idToken:s,email:this.a,oobCode:this.f}):Be(r,rb,{idToken:s,email:this.a,password:this.f})},vi.prototype.c=function(r,s){return hs(this.ka(r),s)},vi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function NC(r){return r&&r.email&&r.password?new vi(r.email,r.password,r.signInMethod):null}function rr(){pn(this,{providerId:"password",isOAuthProvider:!1})}function xw(r,s){if(s=Bd(s),!s)throw new k("argument-error","Invalid email link!");return new vi(r,s.code,rr.EMAIL_LINK_SIGN_IN_METHOD)}function Bd(r){return r=Sw(r),(r=cw(r))&&r.operation===Hc?r:null}pn(rr,{PROVIDER_ID:"password"}),pn(rr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),pn(rr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function yi(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new k("internal-error");this.a=r,me(this,"providerId","phone"),this.fa="phone",me(this,"signInMethod","phone")}yi.prototype.ka=function(r){return r.gb($u(this))},yi.prototype.b=function(r,s){var c=$u(this);return c.idToken=s,Be(r,OR,c)},yi.prototype.c=function(r,s){var c=$u(this);return c.operation="REAUTH",r=Be(r,PR,c),hs(r,s)},yi.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function CC(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return $(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(s[c]=r[c])}),new yi(s)}return null}function $u(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function Yr(r){try{this.a=r||Se.auth()}catch{throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}pn(this,{providerId:"phone",isOAuthProvider:!1})}Yr.prototype.gb=function(r,s){var c=this.a.a;return Ee(s.verify()).then(function(h){if(typeof h!="string")throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var m=S(r)?r.session:null,y=S(r)?r.phoneNumber:r,w;return m&&m.type==qu?w=m.Ha().then(function(E){return nR(c,{idToken:E,phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:h}})}):m&&m.type==Qc?w=m.Ha().then(function(E){return rR(c,{mfaPendingCredential:E,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=tR(c,{phoneNumber:y,recaptchaToken:h}),w.then(function(E){return typeof s.reset=="function"&&s.reset(),E},function(E){throw typeof s.reset=="function"&&s.reset(),E});default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function Ow(r,s){if(!r)throw new k("missing-verification-id");if(!s)throw new k("missing-verification-code");return new yi({fb:r,eb:s})}pn(Yr,{PROVIDER_ID:"phone"}),pn(Yr,{PHONE_SIGN_IN_METHOD:"phone"});function qd(r){if(r.temporaryProof&&r.phoneNumber)return new yi({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,m=r&&r.nonce,y=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(s){case"google.com":return Cw(y,c);case"facebook.com":return kw(c);case"github.com":return Nw(c);case"twitter.com":return Rw(c,h);default:return c||h||y||w?w?s.indexOf("saml.")==0?new so(s,w):new Xr(s,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new $n(s).credential({idToken:y,accessToken:c,rawNonce:m}):null}}catch{return null}}function $d(r){if(!r.isOAuthProvider)throw new k("invalid-oauth-provider")}function fr(r,s,c,h,m,y,w){if(this.c=r,this.b=s||null,this.g=c||null,this.f=h||null,this.i=y||null,this.h=w||null,this.a=m||null,this.g||this.a){if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}else throw new k("invalid-auth-event")}fr.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},fr.prototype.T=function(){return this.h},fr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Pw(r){return r=r||{},r.type?new fr(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&$e(r.error),r.postBody,r.tenantId):null}function RC(){this.b=null,this.a=[]}var Hd=null;function xC(r){var s=Hd;s.a.push(r),s.b||(s.b=function(c){for(var h=0;h<s.a.length;h++)s.a[h](c)},r=wt("universalLinks.subscribe",f),typeof r=="function"&&r(null,s.b))}function Kd(r){var s="unauthorized-domain",c=void 0,h=kn(r);r=h.a,h=h.c,h=="chrome-extension"?c=r0("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=r0("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",k.call(this,s,c)}G(Kd,k);function Hu(r,s,c){k.call(this,r,c),r=s||{},r.Kb&&me(this,"email",r.Kb),r.ea&&me(this,"phoneNumber",r.ea),r.credential&&me(this,"credential",r.credential),r.$b&&me(this,"tenantId",r.$b)}G(Hu,k),Hu.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&Xt(r,s),r},Hu.prototype.toJSON=function(){return this.w()};function Jc(r){if(r.code){var s=r.code||"";s.indexOf(nt)==0&&(s=s.substring(nt.length));var c={credential:qd(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new k(s,r.message||void 0);return new Hu(s,c,r.message)}return null}function Ku(){}Ku.prototype.c=null;function Dw(r){return r.c||(r.c=r.b())}var zd;function Zc(){}G(Zc,Ku),Zc.prototype.a=function(){var r=Lw(this);return r?new ActiveXObject(r):new XMLHttpRequest},Zc.prototype.b=function(){var r={};return Lw(this)&&(r[0]=!0,r[1]=!0),r};function Lw(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<s.length;c++){var h=s[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}zd=new Zc;function el(){}G(el,Ku),el.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new Mw;throw Error("Unsupported browser")},el.prototype.b=function(){return{}};function Mw(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=V(this.qc,this),this.a.onerror=V(this.Tb,this),this.a.onprogress=V(this.rc,this),this.a.ontimeout=V(this.vc,this)}e=Mw.prototype,e.open=function(r,s,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,s)},e.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Gd(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Gd(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Gd(this,1)};function Gd(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Wd(r,s,c){this.reset(r,s,c,void 0,void 0)}Wd.prototype.a=null,Wd.prototype.reset=function(r,s,c,h,m){delete this.a};function Xd(r){this.f=r,this.b=this.c=this.a=null}function zu(r,s){this.name=r,this.value=s}zu.prototype.toString=function(){return this.name};var Fw=new zu("SEVERE",1e3),Yd=new zu("WARNING",900),OC=new zu("CONFIG",700),PC=new zu("FINE",500);function Uw(r){return r.c?r.c:r.a?Uw(r.a):(It("Root logger has no level set."),null)}Xd.prototype.log=function(r,s,c){if(r.value>=Uw(this).value)for(T(s)&&(s=s()),r=new Wd(r,String(s),this.f),c&&(r.a=c),c=this;c;)c=c.a};var Qd={},tl=null;function Jd(r){tl||(tl=new Xd(""),Qd[""]=tl,tl.c=OC);var s;if(!(s=Qd[r])){s=new Xd(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=Jd(r.substr(0,c)),c.b||(c.b={}),c.b[h]=s,s.a=c,Qd[r]=s}return s}function ir(r,s){r&&r.log(PC,s,void 0)}function nl(r){this.f=r}G(nl,Ku),nl.prototype.a=function(){return new rl(this.f)},nl.prototype.b=function(r){return function(){return r}}({});function rl(r){dn.call(this),this.u=r,this.h=void 0,this.readyState=Zd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Jd("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}G(rl,dn);var Zd=0;e=rl.prototype,e.open=function(r,s){if(this.readyState!=Zd)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=s,this.readyState=1,Wu(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(s.body=r),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Gu(this)),this.readyState=Zd},e.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,Wu(this)),this.a&&(this.readyState=3,Wu(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,jw(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function jw(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}e.pc=function(r){if(this.a){var s=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?Gu(this):Wu(this),this.readyState==3&&jw(this)}},e.tc=function(r){this.a&&(this.response=this.responseText=r,Gu(this))},e.sc=function(r){this.a&&(this.response=r,Gu(this))},e.Va=function(r){var s=this.i;s&&s.log(Yd,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&Gu(this)};function Gu(r){r.readyState=4,r.g=null,r.c=null,r.m=null,Wu(r)}e.setRequestHeader=function(r,s){this.l.append(r,s)},e.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(Yd,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(Yd,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var s=this.b.entries(),c=s.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=s.next();return r.join(`\r
`)};function Wu(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(rl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function Xu(r){dn.call(this),this.headers=new os,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Vw,this.u=this.S=!1}G(Xu,dn);var Vw="";Xu.prototype.b=Jd("goog.net.XhrIo");var DC=/^https?$/i,LC=["POST","PUT"];function MC(r,s,c,h,m){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);c=c?c.toUpperCase():"GET",r.l=s,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():zd.a(),r.C=r.D?Dw(r.D):Dw(zd),r.a.onreadystatechange=V(r.Wb,r);try{ir(r.b,Qr(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(s),!0),r.N=!1}catch(w){ir(r.b,Qr(r,"Error opening Xhr: "+w.message)),Bw(r,w);return}s=h||"";var y=new os(r.headers);m&&qN(m,function(w,E){y.set(E,w)}),m=A(y.Y()),h=f.FormData&&s instanceof f.FormData,!R(LC,c)||m||h||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(w,E){this.a.setRequestHeader(E,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{Hw(r),0<r.g&&(r.u=FC(r.a),ir(r.b,Qr(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=V(r.Ma,r)):r.s=hd(r.Ma,r.g,r)),ir(r.b,Qr(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(w){ir(r.b,Qr(r,"Send error: "+w.message)),Bw(r,w)}}function FC(r){return cr&&u0(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function UC(r){return r.toLowerCase()=="content-type"}e=Xu.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ir(this.b,Qr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Bw(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,qw(r),il(r)}function qw(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(ir(this.b,Qr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),il(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),il(this,!0)),Xu.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?$w(this):this.Jc())},e.Jc=function(){$w(this)};function $w(r){if(r.c&&typeof l<"u"){if(r.C[1]&&Yu(r)==4&&ol(r)==2)ir(r.b,Qr(r,"Local request error detected and ignored"));else if(r.i&&Yu(r)==4)hd(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),Yu(r)==4){ir(r.b,Qr(r,"Request complete")),r.c=!1;try{var s=ol(r);e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var h;if(!(h=c)){var m;if(m=s===0){var y=String(r.l).match(M0)[1]||null;if(!y&&f.self&&f.self.location){var w=f.self.location.protocol;y=w.substr(0,w.length-1)}m=!DC.test(y?y.toLowerCase():"")}h=m}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var E=2<Yu(r)?r.a.statusText:""}catch(F){ir(r.b,"Can not get status: "+F.message),E=""}r.h=E+" ["+ol(r)+"]",qw(r)}}finally{il(r)}}}}function il(r,s){if(r.a){Hw(r);var c=r.a,h=r.C[0]?v:null;r.a=null,r.C=null,s||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(m){(r=r.b)&&r.log(Fw,"Problem encountered resetting onreadystatechange: "+m.message,void 0)}}}function Hw(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function Yu(r){return r.a?r.a.readyState:0}function ol(r){try{return 2<Yu(r)?r.a.status:-1}catch{return-1}}function jC(r){try{return r.a?r.a.responseText:""}catch(s){return ir(r.b,"Can not get responseText: "+s.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Vw:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(Fw,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return ir(this.b,"Can not get response: "+s.message),null}};function Qr(r,s){return s+" ["+r.P+" "+r.l+" "+ol(r)+"]"}function fo(r){var s=qC;this.g=[],this.u=s,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}fo.prototype.cancel=function(r){if(this.a)this.c instanceof fo&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new Ju,sl(this),Qu(this,!1,r))}},fo.prototype.m=function(r,s){this.i=!1,Qu(this,r,s)};function Qu(r,s,c){r.a=!0,r.c=c,r.f=!s,zw(r)}function sl(r){if(r.a){if(!r.v)throw new ul;r.v=!1}}function VC(r,s){ep(r,null,s,void 0)}function ep(r,s,c,h){r.g.push([s,c,h]),r.a&&zw(r)}fo.prototype.then=function(r,s,c){var h,m,y=new je(function(w,E){h=w,m=E});return ep(this,h,function(w){w instanceof Ju?y.cancel():m(w)}),y.then(r,s,c)},fo.prototype.$goog_Thenable=!0;function Kw(r){return I(r.g,function(s){return T(s[1])})}function zw(r){if(r.h&&r.a&&Kw(r)){var s=r.h,c=al[s];c&&(f.clearTimeout(c.a),delete al[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var h=c=!1;r.g.length&&!r.i;){var m=r.g.shift(),y=m[0],w=m[1];if(m=m[2],y=r.f?w:y)try{var E=y.call(m||r.s,s);E!==void 0&&(r.f=r.f&&(E==s||E instanceof Error),r.c=s=E),(De(s)||typeof f.Promise=="function"&&s instanceof f.Promise)&&(h=!0,r.i=!0)}catch(F){s=F,r.f=!0,Kw(r)||(c=!0)}}r.c=s,h&&(E=V(r.m,r,!0),h=V(r.m,r,!1),s instanceof fo?(ep(s,E,h),s.C=!0):s.then(E,h)),c&&(s=new Gw(s),al[s.a]=s,r.h=s.a)}function ul(){ge.call(this)}G(ul,ge),ul.prototype.message="Deferred has already fired",ul.prototype.name="AlreadyCalledError";function Ju(){ge.call(this)}G(Ju,ge),Ju.prototype.message="Deferred was canceled",Ju.prototype.name="CanceledError";function Gw(r){this.a=f.setTimeout(V(this.c,this),0),this.b=r}Gw.prototype.c=function(){throw delete al[this.a],this.b};var al={};function tp(r){var s={},c=s.document||document,h=Xy(r).toString(),m=Pc(document,"SCRIPT"),y={Xb:m,Ma:void 0},w=new fo(y),E=null,F=s.timeout!=null?s.timeout:5e3;return 0<F&&(E=window.setTimeout(function(){cl(m,!0);var W=new np(HC,"Timeout reached for loading script "+h);sl(w),Qu(w,!1,W)},F),y.Ma=E),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(cl(m,s.xd||!1,E),sl(w),Qu(w,!0,null))},m.onerror=function(){cl(m,!0,E);var W=new np($C,"Error while loading script "+h);sl(w),Qu(w,!1,W)},y=s.attributes||{},Xt(y,{type:"text/javascript",charset:"UTF-8"}),c0(m,y),wN(m,r),BC(c).appendChild(m),w}function BC(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function qC(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&cl(r,!0,this.Ma)}}function cl(r,s,c){c!=null&&f.clearTimeout(c),r.onload=v,r.onerror=v,r.onreadystatechange=v,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var $C=0,HC=1;function np(r,s){var c="Jsloader error (code #"+r+")";s&&(c+=": "+s),ge.call(this,c),this.code=r}G(np,ge);function ll(r){this.f=r}G(ll,Ku),ll.prototype.a=function(){return new this.f},ll.prototype.b=function(){return{}};function hr(r,s,c){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||KC,this.g=it(r.secureTokenHeaders||zC),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||GC,this.a=it(r.firebaseHeaders||WC),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=xr()=="Node",c=f.XMLHttpRequest||c&&Se.INTERNAL.node&&Se.INTERNAL.node.XMLHttpRequest,!c&&!lr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,lr()?this.f=new nl(self):W0()?this.f=new ll(c):this.f=new el,this.b=null}var rp,dr="idToken",KC=new gi(3e4,6e4),zC={"Content-Type":"application/x-www-form-urlencoded"},GC=new gi(3e4,6e4),WC={"Content-Type":"application/json"};function Ww(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function fl(r,s){s&&(r.l=ip("https://securetoken.googleapis.com/v1/token",s),r.h=ip("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=ip("https://identitytoolkit.googleapis.com/v2/",s))}function ip(r,s){return r=kn(r),s=kn(s.url),r.f=r.a+r.f,xu(r,s.c),r.a=s.a,Ou(r,s.g),r.toString()}function Xw(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}hr.prototype.T=function(){return this.b};function Yw(r,s,c,h,m,y,w){JN()||lr()?r=V(r.u,r):(rp||(rp=new je(function(E,F){YC(E,F)})),r=V(r.s,r)),r(s,c,h,m,y,w)}hr.prototype.u=function(r,s,c,h,m,y){if(lr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new Xu(this.f);if(y){w.g=Math.max(0,y);var E=setTimeout(function(){w.dispatchEvent("timeout")},y)}P0(w,"complete",function(){E&&clearTimeout(E);var F=null;try{F=JSON.parse(jC(this))||null}catch{F=null}s&&s(F)}),fd(w,"ready",function(){E&&clearTimeout(E),A0(this)}),fd(w,"timeout",function(){E&&clearTimeout(E),A0(this),s&&s(null)}),MC(w,r,c,h,m)};var XC=new Cr(Cc,"https://apis.google.com/js/client.js?onload=%{onload}"),Qw="__fcb"+Math.floor(1e6*Math.random()).toString();function YC(r,s){if(((window.gapi||{}).client||{}).request)r();else{f[Qw]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var c=Gh(XC,{onload:Qw});VC(tp(c),function(){s(Error("CORS_UNSUPPORTED"))})}}hr.prototype.s=function(r,s,c,h,m){var y=this;rp.then(function(){window.gapi.client.setApiKey(y.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:m,authType:"none",callback:function(E){window.gapi.auth.setToken(w),s&&s(E)}})}).o(function(w){s&&s({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function QC(r,s){return new je(function(c,h){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?Yw(r,r.l+"?key="+encodeURIComponent(r.c),function(m){m?m.error?h(hp(m)):m.access_token&&m.refresh_token?c(m):h(new k("internal-error")):h(new k("network-request-failed"))},"POST",U0(s).toString(),r.g,r.m.get()):h(new k("internal-error"))})}function Jw(r,s,c,h,m,y,w){var E=kn(s+c);Nt(E,"key",r.c),w&&Nt(E,"cb",Date.now().toString());var F=h=="GET";if(F)for(var W in m)m.hasOwnProperty(W)&&Nt(E,W,m[W]);return new je(function(xe,et){Yw(r,E.toString(),function(Ye){Ye?Ye.error?et(hp(Ye,y||{})):xe(Ye):et(new k("network-request-failed"))},h,F?void 0:B0(Q0(m)),r.a,r.v.get())})}function ho(r){if(r=r.email,typeof r!="string"||!tC.test(r))throw new k("invalid-email")}function Zw(r){"email"in r&&ho(r)}function JC(r,s){return Be(r,aR,{identifier:s,continueUri:$c()?Lu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function ZC(r){return Be(r,bR,{}).then(function(s){return s.authorizedDomains||[]})}function Nn(r){if(!r[dr])throw r.mfaPendingCredential?new k("multi-factor-auth-required",null,it(r)):new k("internal-error")}function op(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new k("internal-error")}else{if(!r.sessionInfo)throw new k("missing-verification-id");if(!r.code)throw new k("missing-verification-code")}}hr.prototype.Ab=function(){return Be(this,TR,{})},hr.prototype.Cb=function(r,s){return Be(this,nb,{idToken:r,email:s})},hr.prototype.Db=function(r,s){return Be(this,rb,{idToken:r,password:s})};var eR={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=hr.prototype,e.Eb=function(r,s){var c={idToken:r},h=[];return Ve(eR,function(m,y){var w=s[y];w===null?h.push(m):y in s&&(c[y]=w)}),h.length&&(c.deleteAttribute=h),Be(this,nb,c)},e.wb=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},Xt(r,s),Be(this,wR,r)},e.xb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},Xt(r,s),Be(this,gR,r)},e.vb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},Xt(r,s),Be(this,vR,r)},e.Fb=function(r,s,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},Xt(r,c),Be(this,yR,r)};function tR(r,s){return Be(r,IR,s)}e.gb=function(r){return Be(this,xR,r)};function nR(r,s){return Be(r,SR,s).then(function(c){return c.phoneSessionInfo.sessionInfo})}function eb(r){if(!r.phoneVerificationInfo)throw new k("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new k("missing-verification-code")}function rR(r,s){return Be(r,AR,s).then(function(c){return c.phoneResponseInfo.sessionInfo})}function iR(r,s,c){return Be(r,lR,{idToken:s,deleteProvider:c})}function sp(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new k("internal-error")}function up(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new no(r.postBody),md(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function tb(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=Jc(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=Jc(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=Jc(r)):r.errorMessage&&(s=ob(r.errorMessage)),s)throw s;Nn(r)}function ap(r,s){return s.returnIdpCredential=!0,Be(r,kR,s)}function cp(r,s){return s.returnIdpCredential=!0,Be(r,CR,s)}function lp(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,Be(r,NR,s)}function fp(r){if(!r.oobCode)throw new k("invalid-action-code")}e.ob=function(r,s){return Be(this,ER,{oobCode:r,newPassword:s})},e.Sa=function(r){return Be(this,sR,{oobCode:r})},e.kb=function(r){return Be(this,oR,{oobCode:r})};var oR={endpoint:"setAccountInfo",A:fp,Z:"email",B:!0},sR={endpoint:"resetPassword",A:fp,G:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},B:!0},uR={endpoint:"signupNewUser",A:function(r){if(ho(r),!r.password)throw new k("weak-password")},G:Nn,V:!0,B:!0},aR={endpoint:"createAuthUri",B:!0},cR={endpoint:"deleteAccount",O:["idToken"]},lR={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new k("internal-error")}},fR={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ho,G:Nn,V:!0,B:!0},hR={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ho,G:Nn,V:!0},dR={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:eb,G:Nn,B:!0,Na:!0},pR={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:eb,G:Nn,B:!0,Na:!0},mR={endpoint:"getAccountInfo"},gR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new k("internal-error");ho(r)},Z:"email",B:!0},vR={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new k("internal-error")},Z:"email",B:!0},yR={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},Z:"email",B:!0},wR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new k("internal-error");ho(r)},Z:"email",B:!0},bR={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},_R={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new k("internal-error")}},ER={endpoint:"resetPassword",A:fp,Z:"email",B:!0},IR={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},nb={endpoint:"setAccountInfo",O:["idToken"],A:Zw,V:!0},rb={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(Zw(r),!r.password)throw new k("weak-password")},G:Nn,V:!0},TR={endpoint:"signupNewUser",G:Nn,V:!0,B:!0},SR={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new k("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},AR={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},kR={endpoint:"verifyAssertion",A:sp,Za:up,G:tb,V:!0,B:!0},NR={endpoint:"verifyAssertion",A:sp,Za:up,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new k("user-not-found");if(r.errorMessage)throw ob(r.errorMessage);Nn(r)},V:!0,B:!0},CR={endpoint:"verifyAssertion",A:function(r){if(sp(r),!r.idToken)throw new k("internal-error")},Za:up,G:tb,V:!0},RR={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new k("invalid-custom-token")},G:Nn,V:!0,B:!0},ib={endpoint:"verifyPassword",A:function(r){if(ho(r),!r.password)throw new k("wrong-password")},G:Nn,V:!0,B:!0},xR={endpoint:"verifyPhoneNumber",A:op,G:Nn,B:!0},OR={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new k("internal-error");op(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",Jc(r);Nn(r)}},PR={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:op,G:Nn,B:!0},DR={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[dr]^!!r.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function Be(r,s,c){if(!aC(c,s.O))return yt(new k("internal-error"));var h=!!s.Na,m=s.Vb||"POST",y;return Ee(c).then(s.A).then(function(){return s.V&&(c.returnSecureToken=!0),s.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?Jw(r,r.i,s.endpoint,m,c,s.Ib,s.mb||!1):Jw(r,r.h,s.endpoint,m,c,s.Ib,s.mb||!1)}).then(function(w){return y=w,s.Za?s.Za(c,y):y}).then(s.G).then(function(){if(!s.Z)return y;if(!(s.Z in y))throw new k("internal-error");return y[s.Z]})}function ob(r){return hp({error:{errors:[{message:r}],code:400,message:r}})}function hp(r,s){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new k(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Xt(h,s||{}),s=(s=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var m in h)if(c.indexOf(m)===0)return new k(h[m],s);return!s&&r&&(s=Fu(r)),new k("internal-error",s)}function LR(r){this.b=r,this.a=null,this.sb=MR(this)}function MR(r){return qR().then(function(){return new je(function(s,c){wt("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:wt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function m(){clearTimeout(y),s()}r.a=h,r.a.restyle({setHideOnLeave:!1});var y=setTimeout(function(){c(Error("Network Error"))},BR.get());h.ping(m).then(m,function(){c(Error("Network Error"))})})})})}function FR(r,s){return r.sb.then(function(){return new je(function(c){r.a.send(s.type,s,c,wt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function UR(r,s){r.sb.then(function(){r.a.register("authEvent",s,wt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var jR=new Cr(Cc,"https://apis.google.com/js/api.js?onload=%{onload}"),VR=new gi(3e4,6e4),BR=new gi(5e3,15e3),hl=null;function qR(){return hl||(hl=new je(function(r,s){function c(){Z0(),wt("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){Z0(),s(Error("Network Error"))},timeout:VR.get()})}if(wt("gapi.iframes.Iframe"))r();else if(wt("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){wt("gapi.load")?c():s(Error("Network Error"))},h=Gh(jR,{onload:h}),Ee(tp(h)).o(function(){s(Error("Network Error"))})}}).o(function(r){throw hl=null,r}))}function sb(r,s,c,h){this.l=r,this.h=s,this.i=c,this.g=h,this.f=null,this.g?(r=kn(this.g.url),r=Bc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=Bc("https",this.l,null,"/__/auth/iframe"),this.a=r,Nt(this.a,"apiKey",this.h),Nt(this.a,"appName",this.i),this.b=null,this.c=[]}sb.prototype.toString=function(){return this.f?Nt(this.a,"v",this.f):Rr(this.a.b,"v"),this.b?Nt(this.a,"eid",this.b):Rr(this.a.b,"eid"),this.c.length?Nt(this.a,"fw",this.c.join(",")):Rr(this.a.b,"fw"),this.a.toString()};function dp(r,s,c,h,m,y){this.u=r,this.s=s,this.c=c,this.m=h,this.v=y,this.i=this.g=this.l=null,this.a=m,this.h=this.f=null}dp.prototype.zb=function(r){return this.h=r,this},dp.prototype.toString=function(){if(this.v){var r=kn(this.v.url);r=Bc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=Bc("https",this.u,null,"/__/auth/handler");if(Nt(r,"apiKey",this.s),Nt(r,"appName",this.c),Nt(r,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var c=Se.app(this.c).auth().la()}catch{c=null}s.pb=c,Nt(r,"providerId",this.a.providerId),c=this.a,s=Q0(c.Jb);for(var h in s)s[h]=s[h].toString();h=c.Qc,s=it(s);for(var m=0;m<h.length;m++){var y=h[m];y in s&&delete s[y]}c.qb&&c.pb&&!s[c.qb]&&(s[c.qb]=c.pb),vt(s)||Nt(r,"customParameters",Fu(s))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Nt(r,"scopes",c.join(","))),this.l?Nt(r,"redirectUrl",this.l):Rr(r.b,"redirectUrl"),this.g?Nt(r,"eventId",this.g):Rr(r.b,"eventId"),this.i?Nt(r,"v",this.i):Rr(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!nr(r,w)&&Nt(r,w,this.b[w]);return this.h?Nt(r,"tid",this.h):Rr(r.b,"tid"),this.f?Nt(r,"eid",this.f):Rr(r.b,"eid"),w=pp(this.c),w.length&&Nt(r,"fw",w.join(",")),r.toString()};function pp(r){try{return Se.app(r).auth().Ga()}catch{return[]}}function ub(r,s,c,h,m,y){this.s=r,this.g=s,this.b=c,this.f=y,this.c=h||null,this.i=m||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function ab(r){var s=Lu();return ZC(r).then(function(c){e:{var h=kn(s),m=h.c;h=h.a;for(var y=0;y<c.length;y++){var w=c[y],E=h,F=m;if(w.indexOf("chrome-extension://")==0?E=kn(w).a==E&&F=="chrome-extension":F!="http"&&F!="https"?E=!1:eC.test(w)?E=E==w:(w=w.split(".").join("\\."),E=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(E)),E){c=!0;break e}}c=!1}if(!c)throw new Kd(Lu())})}function cb(r){return r.m||(r.m=qc().then(function(){if(!r.u){var s=r.c,c=r.i,h=pp(r.b),m=new sb(r.s,r.g,r.b,r.f);m.f=s,m.b=c,m.c=ie(h||[]),r.u=m.toString()}r.v=new LR(r.u),$R(r)})),r.m}e=ub.prototype,e.Pb=function(r,s,c){var h=new k("popup-closed-by-user"),m=new k("web-storage-unsupported"),y=this,w=!1;return this.ma().then(function(){HR(y).then(function(E){E||(r&&ro(r),s(m),w=!0)})}).o(function(){}).then(function(){if(!w)return ZN(r)}).then(function(){if(!w)return is(c).then(function(){s(h)})})},e.Yb=function(){var r=Yt();return!Mu(r)&&!J0(r)},e.Ub=function(){return!1},e.Nb=function(r,s,c,h,m,y,w,E){if(!r)return yt(new k("popup-blocked"));if(w&&!Mu())return this.ma().o(function(W){ro(r),m(W)}),h(),Ee();this.a||(this.a=ab(lb(this)));var F=this;return this.a.then(function(){var W=F.ma().o(function(xe){throw ro(r),m(xe),xe});return h(),W}).then(function(){if($d(c),!w){var W=Zu(F.s,F.g,F.b,s,c,null,y,F.c,void 0,F.i,E,F.f);H0(W,r)}}).o(function(W){throw W.code=="auth/network-request-failed"&&(F.a=null),W})};function lb(r){return r.l||(r.C=r.c?as(r.c,pp(r.b)):null,r.l=new hr(r.g,Ge(r.i),r.C),r.f&&fl(r.l,r.f)),r.l}e.Ob=function(r,s,c,h){this.a||(this.a=ab(lb(this)));var m=this;return this.a.then(function(){$d(s);var y=Zu(m.s,m.g,m.b,r,s,Lu(),c,m.c,void 0,m.i,h,m.f);H0(y)}).o(function(y){throw y.code=="auth/network-request-failed"&&(m.a=null),y})},e.ma=function(){var r=this;return cb(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new k("network-request-failed")})},e.ac=function(){return!0};function Zu(r,s,c,h,m,y,w,E,F,W,xe,et){return r=new dp(r,s,c,h,m,et),r.l=y,r.g=w,r.i=E,r.b=it(F||null),r.f=W,r.zb(xe).toString()}function $R(r){if(!r.v)throw Error("IfcHandler must be initialized!");UR(r.v,function(s){var c={};if(s&&s.authEvent){var h=!1;for(s=Pw(s.authEvent),c=0;c<r.h.length;c++)h=r.h[c](s)||h;return c={},c.status=h?"ACK":"ERROR",Ee(c)}return c.status="ERROR",Ee(c)})}function HR(r){var s={type:"webStorageSupport"};return cb(r).then(function(){return FR(r.v,s)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(r){this.h.push(r)},e.Ta=function(r){j(this.h,function(s){return s==r})};function fb(r){if(this.a=r||Se.INTERNAL.reactNative&&Se.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=fb.prototype,e.get=function(r){return Ee(this.a.getItem(r)).then(function(s){return s&&ls(s)})},e.set=function(r,s){return Ee(this.a.setItem(r,Fu(s)))},e.U=function(r){return Ee(this.a.removeItem(r))},e.ca=function(){},e.ia=function(){};function hb(r){this.b=r,this.a={},this.f=V(this.c,this)}var db=[];function KR(){var r=lr()?self:null;if($(db,function(c){c.b==r&&(s=c)}),!s){var s=new hb(r);db.push(s)}return s}hb.prototype.c=function(r){var s=r.data.eventType,c=r.data.eventId,h=this.a[s];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:s,response:null});var m=[];$(h,function(y){m.push(Ee().then(function(){return y(r.origin,r.data.data)}))}),v0(m).then(function(y){var w=[];$(y,function(E){w.push({fulfilled:E.Qb,value:E.value,reason:E.reason?E.reason.message:void 0})}),$(w,function(E){for(var F in E)typeof E[F]>"u"&&delete E[F]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:s,response:w})})}};function pb(r,s,c){vt(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]>"u"&&(r.a[s]=[]),r.a[s].push(c)}function mb(r){this.a=r}mb.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function gb(r){this.c=r,this.b=!1,this.a=[]}function vb(r,s,c,h){var m,y=c||{},w,E,F,W=null;if(r.b)return yt(Error("connection_unavailable"));var xe=h?800:50,et=typeof MessageChannel<"u"?new MessageChannel:null;return new je(function(Ye,Kt){et?(m=Math.floor(Math.random()*Math.pow(10,20)).toString(),et.port1.start(),E=setTimeout(function(){Kt(Error("unsupported_event"))},xe),w=function(Jr){Jr.data.eventId===m&&(Jr.data.status==="ack"?(clearTimeout(E),F=setTimeout(function(){Kt(Error("timeout"))},3e3)):Jr.data.status==="done"?(clearTimeout(F),typeof Jr.data.response<"u"?Ye(Jr.data.response):Kt(Error("unknown_error"))):(clearTimeout(E),clearTimeout(F),Kt(Error("invalid_response"))))},W={messageChannel:et,onMessage:w},r.a.push(W),et.port1.addEventListener("message",w),r.c.postMessage({eventType:s,eventId:m,data:y},[et.port2])):Kt(Error("connection_unavailable"))}).then(function(Ye){return mp(r,W),Ye}).o(function(Ye){throw mp(r,W),Ye})}function mp(r,s){if(s){var c=s.messageChannel,h=s.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),j(r.a,function(m){return m==s})}}gb.prototype.close=function(){for(;0<this.a.length;)mp(this,this.a[0]);this.b=!0};function yb(){if(!yp())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;lr()&&self?(this.v=KR(),pb(this.v,"keyChanged",function(s,c){return _b(r).then(function(h){return 0<h.length&&$(r.a,function(m){m(h)}),{keyProcessed:R(h,c.key)}})}),pb(this.v,"ping",function(){return Ee(["keyChanged"])})):sC().then(function(s){(r.h=s)&&(r.g=new gb(new mb(s)),vb(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&R(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var gp;function zR(r){return new je(function(s,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){s()},h.onerror=function(m){c(Error(m.target.error))}})}function wb(r){return new je(function(s,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(m){try{m.preventDefault()}catch{}c(Error(m.target.error))},h.onupgradeneeded=function(m){m=m.target.result;try{m.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(y){c(y)}},h.onsuccess=function(m){m=m.target.result,m.objectStoreNames.contains("firebaseLocalStorage")?s(m):zR(r).then(function(){return wb(r)}).then(function(y){s(y)}).o(function(y){c(y)})}})}function vp(r){return r.i||(r.i=wb(r)),r.i}function dl(r,s){function c(m,y){vp(r).then(s).then(m).o(function(w){if(3<++h)y(w);else return vp(r).then(function(E){return E.close(),r.i=void 0,c(m,y)}).o(function(E){y(E)})})}var h=0;return new je(c)}function yp(){try{return!!f.indexedDB}catch{return!1}}function ea(r){return r.objectStore("firebaseLocalStorage")}function ta(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function ps(r){return new je(function(s,c){r.onsuccess=function(h){h&&h.target?s(h.target.result):s()},r.onerror=function(h){c(h.target.error)}})}e=yb.prototype,e.set=function(r,s){var c=this,h=!1;return dl(this,function(m){return m=ea(ta(m,!0)),ps(m.get(r))}).then(function(m){return dl(c,function(y){if(y=ea(ta(y,!0)),m)return m.value=s,ps(y.put(m));c.b++,h=!0;var w={};return w.fbase_key=r,w.value=s,ps(y.add(w))})}).then(function(){return c.c[r]=s,bb(c,r)}).oa(function(){h&&c.b--})};function bb(r,s){return r.g&&r.h&&oC()===r.h?vb(r.g,"keyChanged",{key:s},r.s).then(function(){}).o(function(){}):Ee()}e.get=function(r){return dl(this,function(s){return ps(ea(ta(s,!1)).get(r))}).then(function(s){return s&&s.value})},e.U=function(r){var s=this,c=!1;return dl(this,function(h){return c=!0,s.b++,ps(ea(ta(h,!0)).delete(r))}).then(function(){return delete s.c[r],bb(s,r)}).oa(function(){c&&s.b--})};function _b(r){return vp(r).then(function(s){var c=ea(ta(s,!1));return c.getAll?ps(c.getAll()):new je(function(h,m){var y=[],w=c.openCursor();w.onsuccess=function(E){(E=E.target.result)?(y.push(E.value),E.continue()):h(y)},w.onerror=function(E){m(E.target.error)}})}).then(function(s){var c={},h=[];if(r.b==0){for(h=0;h<s.length;h++)c[s[h].fbase_key]=s[h].value;h=K0(r.c,c),r.c=c}return h})}e.ca=function(r){this.a.length==0&&GR(this),this.a.push(r)},e.ia=function(r){j(this.a,function(s){return s==r}),this.a.length==0&&Eb(this)};function GR(r){function s(){r.f=setTimeout(function(){r.l=_b(r).then(function(c){0<c.length&&$(r.a,function(h){h(c)})}).then(function(){s()}).o(function(c){c.message!="STOP_EVENT"&&s()})},800)}Eb(r),s()}function Eb(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function Ib(r){var s=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=Ee().then(function(){if(yp()){var h=oo(),m="__sak"+h;return gp||(gp=new yb),c=gp,c.set(m,h).then(function(){return c.get(m)}).then(function(y){if(y!==h)throw Error("indexedDB not supported!");return c.U(m)}).then(function(){return c}).o(function(){return s.c})}return s.c}).then(function(h){return s.type=h.type,h.ca(function(m){$(s.a,function(y){y(m)})}),h})}e=Ib.prototype,e.get=function(r){return this.b.then(function(s){return s.get(r)})},e.set=function(r,s){return this.b.then(function(c){return c.set(r,s)})},e.U=function(r){return this.b.then(function(s){return s.U(r)})},e.ca=function(r){this.a.push(r)},e.ia=function(r){j(this.a,function(s){return s==r})};function na(){this.a={},this.type="inMemory"}e=na.prototype,e.get=function(r){return Ee(this.a[r])},e.set=function(r,s){return this.a[r]=s,Ee()},e.U=function(r){return delete this.a[r],Ee()},e.ca=function(){},e.ia=function(){};function pl(){if(!WR())throw xr()=="Node"?new k("internal-error","The LocalStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=Tb()||Se.INTERNAL.node.localStorage,this.type="localStorage"}function Tb(){try{var r=f.localStorage,s=oo();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function WR(){var r=xr()=="Node";if(r=Tb()||r&&Se.INTERNAL.node&&Se.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=pl.prototype,e.get=function(r){var s=this;return Ee().then(function(){var c=s.a.getItem(r);return ls(c)})},e.set=function(r,s){var c=this;return Ee().then(function(){var h=Fu(s);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var s=this;return Ee().then(function(){s.a.removeItem(r)})},e.ca=function(r){f.window&&tr(f.window,"storage",r)},e.ia=function(r){f.window&&qn(f.window,"storage",r)};function wp(){this.type="nullStorage"}e=wp.prototype,e.get=function(){return Ee(null)},e.set=function(){return Ee()},e.U=function(){return Ee()},e.ca=function(){},e.ia=function(){};function bp(){if(!XR())throw xr()=="Node"?new k("internal-error","The SessionStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=Sb()||Se.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Sb(){try{var r=f.sessionStorage,s=oo();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function XR(){var r=xr()=="Node";if(r=Sb()||r&&Se.INTERNAL.node&&Se.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=bp.prototype,e.get=function(r){var s=this;return Ee().then(function(){var c=s.a.getItem(r);return ls(c)})},e.set=function(r,s){var c=this;return Ee().then(function(){var h=Fu(s);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var s=this;return Ee().then(function(){s.a.removeItem(r)})},e.ca=function(){},e.ia=function(){};function YR(){var r={};r.Browser=QR,r.Node=JR,r.ReactNative=ZR,r.Worker=ex,this.a=r[xr()]}var _p,QR={F:pl,cb:bp},JR={F:pl,cb:bp},ZR={F:fb,cb:wp},ex={F:pl,cb:wp},ms={rd:"local",NONE:"none",td:"session"};function tx(r){var s=new k("invalid-persistence-type"),c=new k("unsupported-persistence-type");e:{for(h in ms)if(ms[h]==r){var h=!0;break e}h=!1}if(!h||typeof r!="string")throw s;switch(xr()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!yp()&&r!=="none")throw c;break;default:if(!_d()&&r!=="none")throw c}}function Ab(){var r=!!(!J0(Yt())&&wd()),s=Mu(),c=_d();this.m=r,this.h=s,this.l=c,this.a={},_p||(_p=new YR),r=_p;try{this.g=!vd()&&ew()||!f.indexedDB?new r.a.F:new Ib(lr()?new na:new r.a.F)}catch{this.g=new na,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new na}this.v=new na,this.f=V(this.Zb,this),this.b={}}var Ep;function ra(){return Ep||(Ep=new Ab),Ep}function po(r,s){switch(s){case"session":return r.i;case"none":return r.v;default:return r.g}}function gs(r,s){return"firebase:"+r.name+(s?":"+s:"")}function nx(r,s,c){var h=gs(s,c),m=po(r,s.F);return r.get(s,c).then(function(y){var w=null;try{w=ls(f.localStorage.getItem(h))}catch{}if(w&&!y)return f.localStorage.removeItem(h),r.set(s,w,c);w&&y&&m.type!="localStorage"&&f.localStorage.removeItem(h)})}e=Ab.prototype,e.get=function(r,s){return po(this,r.F).get(gs(r,s))};function vs(r,s,c){return c=gs(s,c),s.F=="local"&&(r.b[c]=null),po(r,s.F).U(c)}e.set=function(r,s,c){var h=gs(r,c),m=this,y=po(this,r.F);return y.set(h,s).then(function(){return y.get(h)}).then(function(w){r.F=="local"&&(m.b[h]=w)})},e.addListener=function(r,s,c){r=gs(r,s),this.l&&(this.b[r]=f.localStorage.getItem(r)),vt(this.a)&&(po(this,"local").ca(this.f),this.h||(vd()||!ew())&&f.indexedDB||!this.l||rx(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},e.removeListener=function(r,s,c){r=gs(r,s),this.a[r]&&(j(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),vt(this.a)&&(po(this,"local").ia(this.f),Ip(this))};function rx(r){Ip(r),r.c=setInterval(function(){for(var s in r.a){var c=f.localStorage.getItem(s),h=r.b[s];c!=h&&(r.b[s]=c,c=new eo({type:"storage",key:s,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function Ip(r){r.c&&(clearInterval(r.c),r.c=null)}e.Zb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var m=f.localStorage.getItem(c);m!==h&&(this.b[c]=m,this.nb(c))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a<"u"?po(this,"local").ia(this.f):Ip(this),this.m){if(c=f.localStorage.getItem(s),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(s,h):f.localStorage.removeItem(s);else if(this.b[s]===h&&typeof r.a.a>"u")return}var y=this;c=function(){(typeof r.a.a<"u"||y.b[s]!==f.localStorage.getItem(s))&&(y.b[s]=f.localStorage.getItem(s),y.nb(s))},cr&&di&&di==10&&f.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else $(r,V(this.nb,this))},e.nb=function(r){this.a[r]&&$(this.a[r],function(s){s()})};function ix(r){this.a=r,this.b=ra()}var Tp={name:"authEvent",F:"local"};function ox(r){return r.b.get(Tp,r.a).then(function(s){return Pw(s)})}function sx(){this.a=ra()}function ux(){this.b=-1}function ml(r,s){this.b=kb,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=f.Int32Array?new Int32Array(64):Array(64),gl===void 0&&(f.Int32Array?gl=new Int32Array(Rb):gl=Rb),this.reset()}var gl;G(ml,ux);for(var kb=64,ax=kb-1,Nb=[],Sp=0;Sp<ax;Sp++)Nb[Sp]=0;var Cb=X(128,Nb);ml.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):ie(this.h)};function Ap(r){for(var s=r.f,c=r.l,h=0,m=0;m<s.length;)c[h++]=s[m]<<24|s[m+1]<<16|s[m+2]<<8|s[m+3],m=4*h;for(s=16;64>s;s++){m=c[s-15]|0,h=c[s-2]|0;var y=(c[s-16]|0)+((m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3)|0,w=(c[s-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[s]=y+w|0}h=r.a[0]|0,m=r.a[1]|0;var E=r.a[2]|0,F=r.a[3]|0,W=r.a[4]|0,xe=r.a[5]|0,et=r.a[6]|0;for(y=r.a[7]|0,s=0;64>s;s++){var Ye=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&m^h&E^m&E)|0;w=W&xe^~W&et,y=y+((W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7))|0,w=w+(gl[s]|0)|0,w=y+(w+(c[s]|0)|0)|0,y=et,et=xe,xe=W,W=F+w|0,F=E,E=m,m=h,h=w+Ye|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+m|0,r.a[2]=r.a[2]+E|0,r.a[3]=r.a[3]+F|0,r.a[4]=r.a[4]+W|0,r.a[5]=r.a[5]+xe|0,r.a[6]=r.a[6]+et|0,r.a[7]=r.a[7]+y|0}function kp(r,s,c){c===void 0&&(c=s.length);var h=0,m=r.c;if(typeof s=="string")for(;h<c;)r.f[m++]=s.charCodeAt(h++),m==r.b&&(Ap(r),m=0);else if(_(s))for(;h<c;){var y=s[h++];if(!(typeof y=="number"&&0<=y&&255>=y&&y==(y|0)))throw Error("message must be a byte array");r.f[m++]=y,m==r.b&&(Ap(r),m=0)}else throw Error("message must be string or array");r.c=m,r.g+=c}var Rb=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function xb(){ml.call(this,8,cx)}G(xb,ml);var cx=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ob(r,s,c,h,m,y){this.v=r,this.i=s,this.l=c,this.m=h||null,this.u=m||null,this.s=y,this.h=s+":"+c,this.C=new sx,this.g=new ix(this.h),this.f=null,this.b=[],this.a=this.c=null}function vl(r){return new k("invalid-cordova-configuration",r)}e=Ob.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=nC().then(function(){if(typeof wt("universalLinks.subscribe",f)!="function")throw vl("cordova-universal-links-plugin-fix is not installed");if(typeof wt("BuildInfo.packageName",f)>"u")throw vl("cordova-plugin-buildinfo is not installed");if(typeof wt("cordova.plugins.browsertab.openUrl",f)!="function")throw vl("cordova-plugin-browsertab is not installed");if(typeof wt("cordova.InAppBrowser.open",f)!="function")throw vl("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})};function lx(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function fx(r){var s=new xb;kp(s,r),r=[];var c=8*s.g;56>s.c?kp(s,Cb,56-s.c):kp(s,Cb,s.b-(s.c-56));for(var h=63;56<=h;h--)s.f[h]=c&255,c/=256;for(Ap(s),h=c=0;h<s.i;h++)for(var m=24;0<=m;m-=8)r[c++]=s.a[h]>>m&255;return EC(r)}e.Pb=function(r,s){return s(new k("operation-not-supported-in-this-environment")),Ee()},e.Nb=function(){return yt(new k("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(r,s,c,h){if(this.c)return yt(new k("redirect-operation-pending"));var m=this,y=f.document,w=null,E=null,F=null,W=null;return this.c=Ee().then(function(){return $d(s),Db(m)}).then(function(){return hx(m,r,s,c,h)}).then(function(){return new je(function(xe,et){E=function(){var Ye=wt("cordova.plugins.browsertab.close",f);return xe(),typeof Ye=="function"&&Ye(),m.a&&typeof m.a.close=="function"&&(m.a.close(),m.a=null),!1},m.Ea(E),F=function(){w||(w=is(2e3).then(function(){et(new k("redirect-cancelled-by-user"))}))},W=function(){Ed()&&F()},y.addEventListener("resume",F,!1),Yt().toLowerCase().match(/android/)||y.addEventListener("visibilitychange",W,!1)}).o(function(xe){return Np(m).then(function(){throw xe})})}).oa(function(){F&&y.removeEventListener("resume",F,!1),W&&y.removeEventListener("visibilitychange",W,!1),w&&w.cancel(),E&&m.Ta(E),m.c=null})};function hx(r,s,c,h,m){var y=lx(),w=new fr(s,h,null,y,new k("no-auth-event"),null,m),E=wt("BuildInfo.packageName",f);if(typeof E!="string")throw new k("invalid-cordova-configuration");var F=wt("BuildInfo.displayName",f),W={};if(Yt().toLowerCase().match(/iphone|ipad|ipod/))W.ibi=E;else if(Yt().toLowerCase().match(/android/))W.apn=E;else return yt(new k("operation-not-supported-in-this-environment"));F&&(W.appDisplayName=F),y=fx(y),W.sessionId=y;var xe=Zu(r.v,r.i,r.l,s,c,null,h,r.m,W,r.u,m,r.s);return r.ma().then(function(){var et=r.h;return r.C.a.set(Tp,w.w(),et)}).then(function(){var et=wt("cordova.plugins.browsertab.isAvailable",f);if(typeof et!="function")throw new k("invalid-cordova-configuration");var Ye=null;et(function(Kt){if(Kt){if(Ye=wt("cordova.plugins.browsertab.openUrl",f),typeof Ye!="function")throw new k("invalid-cordova-configuration");Ye(xe)}else{if(Ye=wt("cordova.InAppBrowser.open",f),typeof Ye!="function")throw new k("invalid-cordova-configuration");Kt=Yt(),r.a=Ye(xe,Kt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Kt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Pb(r,s){for(var c=0;c<r.b.length;c++)try{r.b[c](s)}catch{}}function Db(r){return r.f||(r.f=r.ma().then(function(){return new je(function(s){function c(h){return s(h),r.Ta(c),!1}r.Ea(c),dx(r)})})),r.f}function Np(r){var s=null;return ox(r.g).then(function(c){return s=c,c=r.g,vs(c.b,Tp,c.a)}).then(function(){return s})}function dx(r){function s(w){h=!0,m&&m.cancel(),Np(r).then(function(E){var F=c;if(E&&w&&w.url){var W=null;F=Sw(w.url),F.indexOf("/__/auth/callback")!=-1&&(W=kn(F),W=ls(nr(W,"firebaseError")||null),W=(W=typeof W=="object"?$e(W):null)?new fr(E.c,E.b,null,null,W,null,E.T()):new fr(E.c,E.b,F,E.f,null,null,E.T())),F=W||c}Pb(r,F)})}var c=new fr("unknown",null,null,null,new k("no-auth-event")),h=!1,m=is(500).then(function(){return Np(r).then(function(){h||Pb(r,c)})}),y=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(wt("BuildInfo.packageName",f).toLowerCase()+"://")==0&&s({url:w}),typeof y=="function")try{y(w)}catch(E){console.error(E)}},Hd||(Hd=new RC),xC(s)}e.Ea=function(r){this.b.push(r),Db(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new fr("unknown",null,null,null,new k("no-auth-event")),r(s))})},e.Ta=function(r){j(this.b,function(s){return s==r})};function px(r){this.a=r,this.b=ra()}var Cp={name:"pendingRedirect",F:"session"};function mx(r){return r.b.set(Cp,"pending",r.a)}function Rp(r){return vs(r.b,Cp,r.a)}function gx(r){return r.b.get(Cp,r.a).then(function(s){return s=="pending"})}function yl(r,s,c,h){this.i={},this.u=0,this.D=r,this.v=s,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=V(this.s,this),this.b=new bl,this.C=new Hb,this.g=new px(Bb(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Lb(this.D,this.v,this.m,de,this.J)}function Lb(r,s,c,h,m){var y=Se.SDK_VERSION||null;return yd()?new Ob(r,s,c,y,h,m):new ub(r,s,c,y,h,m)}yl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Lb(this.D,this.v,this.m,null,this.J),this.i={}};function Mb(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.ma().o(function(c){throw r.a==s&&r.reset(),c})}function Fb(r){r.a.Yb()&&Mb(r).o(function(s){var c=new fr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Op(s)&&r.s(c)}),r.a.Ub()||qb(r.b)}function wl(r,s){R(r.h,s)||r.h.push(s),r.f||gx(r.g).then(function(c){c?Rp(r.g).then(function(){Mb(r).o(function(h){var m=new fr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Op(h)&&r.s(m)})}):Fb(r)}).o(function(){Fb(r)})}function xp(r,s){j(r.h,function(c){return c==s})}yl.prototype.s=function(r){if(!r)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),s=!0;break}}return qb(this.b),s};var vx=new gi(2e3,1e4),yx=new gi(3e4,6e4);yl.prototype.ra=function(){return this.b.ra()};function Ub(r,s,c,h,m,y,w){return r.a.Nb(s,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},m,y,w)}function Op(r){return!!(r&&r.code=="auth/cordova-not-ready")}function jb(r,s,c,h,m){var y;return mx(r.g).then(function(){return r.a.Ob(s,c,h,m).o(function(w){if(Op(w))throw new k("operation-not-supported-in-this-environment");return y=w,Rp(r.g).then(function(){throw y})}).then(function(){return r.a.ac()?new je(function(){}):Rp(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function Vb(r,s,c,h,m){return r.a.Pb(h,function(y){s.na(c,null,y,m)},vx.get())}var Pp={};function Bb(r,s,c){return r=r+":"+s,c&&(r=r+":"+c.url),r}function Dp(r,s,c,h){var m=Bb(s,c,h);return Pp[m]||(Pp[m]=new yl(r,s,c,h)),Pp[m]}function bl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}bl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},bl.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,m=r.a&&r.a.code=="auth/web-storage-unsupported",y=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!m&&!y),c!="unknown"||m||y?r.a?(mo(this,!0,null,r.a),Ee()):s.Fa(c,h)?wx(this,r,s):yt(new k("invalid-auth-event")):(mo(this,!1,null,null),Ee())}else yt(new k("invalid-auth-event"))};function qb(r){r.g||(r.g=!0,mo(r,!1,null,null))}function _l(r){r.g&&!r.i&&mo(r,!1,null,null)}function wx(r,s,c){c=c.Fa(s.c,s.b);var h=s.g,m=s.f,y=s.i,w=s.T(),E=!!s.c.match(/Redirect$/);c(h,m,w,y).then(function(F){mo(r,E,F,null)}).o(function(F){mo(r,E,null,F)})}function bx(r,s){if(r.b=function(){return yt(s)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](s)}function $b(r,s){if(r.b=function(){return Ee(s)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](s)}function mo(r,s,c,h){s?h?bx(r,h):$b(r,c):$b(r,{user:null}),r.f=[],r.c=[]}bl.prototype.ra=function(){var r=this;return new je(function(s,c){r.b?r.b().then(s,c):(r.f.push(s),r.c.push(c),_x(r))})};function _x(r){var s=new k("timeout");r.a&&r.a.cancel(),r.a=is(yx.get()).then(function(){r.b||(r.g=!0,mo(r,!0,null,s))})}function Hb(){}Hb.prototype.h=function(r,s){if(r){var c=r.c,h=r.b;r.a?(s.na(r.c,null,r.a,r.b),Ee()):s.Fa(c,h)?Ex(r,s):yt(new k("invalid-auth-event"))}else yt(new k("invalid-auth-event"))};function Ex(r,s){var c=r.b,h=r.c;s.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(m){s.na(h,m,null,c)}).o(function(m){s.na(h,null,m,c)})}function Kb(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function Lp(r,s){this.a=s,me(this,"verificationId",r)}Lp.prototype.confirm=function(r){return r=Ow(this.verificationId,r),this.a(r)};function Mp(r,s,c,h){return new Yr(r).gb(s,c).then(function(m){return new Lp(m,h)})}function Ix(r){var s=vw(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");pn(this,{token:r,expirationTime:Uu(1e3*s.exp),authTime:Uu(1e3*s.auth_time),issuedAtTime:Uu(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function Fp(r,s,c){var h=s&&s[Gb];if(!h)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=it(s),this.g=c,this.c=new Yc(null,h),this.b=[];var m=this;$(s[zb]||[],function(y){(y=Nd(y))&&m.b.push(y)}),me(this,"auth",this.a),me(this,"session",this.c),me(this,"hints",this.b)}var zb="mfaInfo",Gb="mfaPendingCredential";Fp.prototype.Rc=function(r){var s=this;return r.tb(this.a.a,this.c).then(function(c){var h=it(s.f);return delete h[zb],delete h[Gb],Xt(h,c),s.g(h)})};function Up(r,s,c,h){k.call(this,"multi-factor-auth-required",h,s),this.b=new Fp(r,s,c),me(this,"resolver",this.b)}G(Up,k);function Wb(r,s,c){if(r&&S(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new Up(s,r.serverResponse,c,r.message)}catch{}return null}function Xb(){}Xb.prototype.tb=function(r,s,c){return s.type==qu?Tx(this,r,s,c):Sx(this,r,s)};function Tx(r,s,c,h){return c.Ha().then(function(m){return m={idToken:m},typeof h<"u"&&(m.displayName=h),Xt(m,{phoneVerificationInfo:$u(r.a)}),Be(s,dR,m)})}function Sx(r,s,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},Xt(h,{phoneVerificationInfo:$u(r.a)}),Be(s,pR,h)})}function jp(r){me(this,"factorId",r.fa),this.a=r}G(jp,Xb);function Yb(r){if(jp.call(this,r),this.a.fa!=Yr.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}G(Yb,jp);function ys(r,s){An.call(this,r);for(var c in s)this[c]=s[c]}G(ys,An);function Vp(r,s){this.a=r,this.b=[],this.c=V(this.yc,this),tr(this.a,"userReloaded",this.c);var c=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&$(s.multiFactor.enrolledFactors,function(h){var m=null,y={};if(h){h.uid&&(y[Rd]=h.uid),h.displayName&&(y[nw]=h.displayName),h.enrollmentTime&&(y[Cd]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(y[xd]=h.phoneNumber);try{m=new ju(y)}catch{}h=m}else h=null;h&&c.push(h)}),El(this,c)}function Ax(r){var s=[];return $(r.mfaInfo||[],function(c){(c=Nd(c))&&s.push(c)}),s}e=Vp.prototype,e.yc=function(r){El(this,Ax(r.hd))};function El(r,s){r.b=s,me(r,"enrolledFactors",s)}e.Sb=function(){return this.a.I().then(function(r){return new Yc(r,null)})},e.fc=function(r,s){var c=this,h=this.a.a;return this.Sb().then(function(m){return r.tb(h,m,s)}).then(function(m){return Dr(c.a,m),c.a.reload()})},e.bd=function(r){var s=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(m){return Be(h,DR,{idToken:m,mfaEnrollmentId:c})}).then(function(m){var y=ae(s.b,function(w){return w.uid!=c});return El(s,y),Dr(s.a,m),s.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:ke(this.b,function(r){return r.w()})}}};function Bp(r,s,c){if(this.h=r,this.i=s,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Bp.prototype.start=function(){this.a=this.c,qp(this,!0)};function kx(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function qp(r,s){r.stop(),r.b=is(kx(r,s)).then(function(){return iC()}).then(function(){return r.h()}).then(function(){qp(r,!0)}).o(function(c){r.i(c)&&qp(r,!1)})}Bp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function $p(r){this.f=r,this.b=this.a=null,this.c=Date.now()}$p.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function Qb(r,s){typeof s>"u"&&(r.b?(s=r.b,s=s.a-s.g):s=0),r.c=Date.now()+1e3*s}function Jb(r,s){r.b=Wc(s[dr]||""),r.a=s.refreshToken,s=s.expiresIn,Qb(r,typeof s<"u"?Number(s):void 0)}function Nx(r,s){r.b=s.b,r.a=s.a,r.c=s.c}function Cx(r,s){return QC(r.f,s).then(function(c){return r.b=Wc(c.access_token),r.a=c.refresh_token,Qb(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}$p.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?yt(new k("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?Cx(this,{grant_type:"refresh_token",refresh_token:this.a}):Ee(null):Ee({accessToken:this.b.toString(),refreshToken:this.a})};function Il(r,s){this.a=r||null,this.b=s||null,pn(this,{lastSignInTime:Uu(s||null),creationTime:Uu(r||null)})}function Rx(r){return new Il(r.a,r.b)}Il.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function xx(r,s,c,h,m,y){pn(this,{uid:r,displayName:h||null,photoURL:m||null,email:c||null,phoneNumber:y||null,providerId:s})}function Hn(r,s,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=Se.SDK_VERSION?as(Se.SDK_VERSION):null;this.a=new hr(this.l,Ge(de),h),(this.u=r.emulatorConfig||null)&&fl(this.a,this.u),this.h=new $p(this.a),Yp(this,s[dr]),Jb(this.h,s),me(this,"refreshToken",this.h.a),e_(this,c||{}),dn.call(this),this.P=!1,this.s&&io()&&(this.b=Dp(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=Ox(this),this.ba=V(this.ib,this);var m=this;this.za=null,this.Pa=function(y){m.xa(y.h)},this.qa=null,this.Ba=function(y){Hp(m,y.c)},this.$=null,this.aa=[],this.Oa=function(y){ia(m,y.f)},this.ja=null,this.S=new Vp(this,c),me(this,"multiFactor",this.S)}G(Hn,dn),Hn.prototype.xa=function(r){this.za=r,Ww(this.a,r)};function Hp(r,s){r.u=s,fl(r.a,s),r.b&&(s=r.b,r.b=Dp(r.s,r.l,r.m,r.u),r.P&&(xp(s,r),wl(r.b,r)))}Hn.prototype.la=function(){return this.za};function Kp(r,s){r.qa&&qn(r.qa,"languageCodeChanged",r.Pa),(r.qa=s)&&tr(s,"languageCodeChanged",r.Pa)}function zp(r,s){r.$&&qn(r.$,"emulatorConfigChanged",r.Ba),(r.$=s)&&tr(s,"emulatorConfigChanged",r.Ba)}function ia(r,s){r.aa=s,Xw(r.a,Se.SDK_VERSION?as(Se.SDK_VERSION,r.aa):null)}Hn.prototype.Ga=function(){return ie(this.aa)};function Gp(r,s){r.ja&&qn(r.ja,"frameworkChanged",r.Oa),(r.ja=s)&&tr(s,"frameworkChanged",r.Oa)}Hn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Wp(r){try{return Se.app(r.m).auth()}catch{throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function Ox(r){return new Bp(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=r.h.c-Date.now()-3e5;return 0<s?s:0})}function Zb(r){r.J||r.D.b||(r.D.start(),qn(r,"tokenChanged",r.ba),tr(r,"tokenChanged",r.ba))}function Xp(r){qn(r,"tokenChanged",r.ba),r.D.stop()}function Yp(r,s){r.Aa=s,me(r,"_lat",s)}function Px(r,s){j(r.W,function(c){return c==s})}function go(r){for(var s=[],c=0;c<r.W.length;c++)s.push(r.W[c](r));return v0(s).then(function(){return r})}function oa(r){r.b&&!r.P&&(r.P=!0,wl(r.b,r))}function e_(r,s){pn(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new Il(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}me(Hn.prototype,"providerId","firebase");function t_(){}function Qp(r){return Ee().then(function(){if(r.J)throw new k("app-deleted")})}function Jp(r){return ke(r.providerData,function(s){return s.providerId})}function Zp(r,s){s&&(n_(r,s.providerId),r.providerData.push(s))}function n_(r,s){j(r.providerData,function(c){return c.providerId==s})}function wi(r,s,c){(s!="uid"||c)&&r.hasOwnProperty(s)&&me(r,s,c)}function Tl(r,s){r!=s&&(pn(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?me(r,"metadata",Rx(s.metadata)):me(r,"metadata",new Il),$(s.providerData,function(c){Zp(r,c)}),Nx(r.h,s.h),me(r,"refreshToken",r.h.a),El(r.S,s.S.b))}e=Hn.prototype,e.reload=function(){var r=this;return Bt(this,Qp(this).then(function(){return em(r).then(function(){return go(r)}).then(t_)}))};function em(r){return r.I().then(function(s){var c=r.isAnonymous;return Dx(r,s).then(function(){return c||wi(r,"isAnonymous",!1),s})})}e.oc=function(r){return this.I(r).then(function(s){return new Ix(s)})},e.I=function(r){var s=this;return Bt(this,Qp(this).then(function(){return s.h.getToken(r)}).then(function(c){if(!c)throw new k("internal-error");return c.accessToken!=s.Aa&&(Yp(s,c.accessToken),s.dispatchEvent(new ys("tokenChanged"))),wi(s,"refreshToken",c.refreshToken),c.accessToken}))};function Dr(r,s){s[dr]&&r.Aa!=s[dr]&&(Jb(r.h,s),r.dispatchEvent(new ys("tokenChanged")),Yp(r,s[dr]),wi(r,"refreshToken",r.h.a))}function Dx(r,s){return Be(r.a,mR,{idToken:s}).then(V(r.Kc,r))}e.Kc=function(r){if(r=r.users,!r||!r.length)throw new k("internal-error");r=r[0],e_(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=Lx(r),c=0;c<s.length;c++)Zp(this,s[c]);wi(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ys("userReloaded",{hd:r}))};function Lx(r){return(r=r.providerUserInfo)&&r.length?ke(r,function(s){return new xx(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}e.Lc=function(r){return Id("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},e.ub=function(r){var s=this,c=null;return Bt(this,r.c(this.a,this.uid).then(function(h){return Dr(s,h),c=sa(s,h,"reauthenticate"),s.i=null,s.reload()}).then(function(){return c}),!0)};function Sl(r,s){return em(r).then(function(){if(R(Jp(r),s))return go(r).then(function(){throw new k("provider-already-linked")})})}e.Cc=function(r){return Id("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},e.rb=function(r){var s=this,c=null;return Bt(this,Sl(this,r.providerId).then(function(){return s.I()}).then(function(h){return r.b(s.a,h)}).then(function(h){return c=sa(s,h,"link"),r_(s,h)}).then(function(){return c}))},e.Dc=function(r,s){var c=this;return Bt(this,Sl(this,"phone").then(function(){return Mp(Wp(c),r,s,V(c.rb,c))}))},e.Mc=function(r,s){var c=this;return Bt(this,Ee().then(function(){return Mp(Wp(c),r,s,V(c.ub,c))}),!0)};function sa(r,s,c){var h=qd(s);return s=ww(s),Or({user:r,credential:h,additionalUserInfo:s,operationType:c})}function r_(r,s){return Dr(r,s),r.reload().then(function(){return r})}e.Cb=function(r){var s=this;return Bt(this,this.I().then(function(c){return s.a.Cb(c,r)}).then(function(c){return Dr(s,c),s.reload()}))},e.ed=function(r){var s=this;return Bt(this,this.I().then(function(c){return r.b(s.a,c)}).then(function(c){return Dr(s,c),s.reload()}))},e.Db=function(r){var s=this;return Bt(this,this.I().then(function(c){return s.a.Db(c,r)}).then(function(c){return Dr(s,c),s.reload()}))},e.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return Qp(this);var s=this;return Bt(this,this.I().then(function(c){return s.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return Dr(s,c),wi(s,"displayName",c.displayName||null),wi(s,"photoURL",c.photoUrl||null),$(s.providerData,function(h){h.providerId==="password"&&(me(h,"displayName",s.displayName),me(h,"photoURL",s.photoURL))}),go(s)}).then(t_))},e.cd=function(r){var s=this;return Bt(this,em(this).then(function(c){return R(Jp(s),r)?iR(s.a,c,[r]).then(function(h){var m={};return $(h.providerUserInfo||[],function(y){m[y.providerId]=!0}),$(Jp(s),function(y){m[y]||n_(s,y)}),m[Yr.PROVIDER_ID]||me(s,"phoneNumber",null),go(s)}):go(s).then(function(){throw new k("no-such-provider")})}))},e.delete=function(){var r=this;return Bt(this,this.I().then(function(s){return Be(r.a,cR,{idToken:s})}).then(function(){r.dispatchEvent(new ys("userDeleted"))})).then(function(){for(var s=0;s<r.N.length;s++)r.N[s].cancel("app-deleted");Kp(r,null),zp(r,null),Gp(r,null),r.N=[],r.J=!0,Xp(r),me(r,"refreshToken",null),r.b&&xp(r.b,r)})},e.Gb=function(r,s){return!!(r=="linkViaPopup"&&(this.g||null)==s&&this.f||r=="reauthViaPopup"&&(this.g||null)==s&&this.f||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},e.na=function(r,s,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.g||null)?V(this.Lb,this):r=="reauthViaPopup"&&s==(this.g||null)?V(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==s?V(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?V(this.Mb,this):null},e.Ec=function(r){var s=this;return i_(this,"linkViaPopup",r,function(){return Sl(s,r.providerId).then(function(){return go(s)})},!1)},e.Nc=function(r){return i_(this,"reauthViaPopup",r,function(){return Ee()},!0)};function i_(r,s,c,h,m){if(!io())return yt(new k("operation-not-supported-in-this-environment"));if(r.i&&!m)return yt(r.i);var y=Md(c.providerId),w=oo(r.uid+":::"),E=null;(!Mu()||wd())&&r.s&&c.isOAuthProvider&&(E=Zu(r.s,r.l,r.m,s,c,null,w,Se.SDK_VERSION||null,null,null,r.tenantId,r.u));var F=G0(E,y&&y.va,y&&y.ua);return h=h().then(function(){if(s_(r),!m)return r.I().then(function(){})}).then(function(){return Ub(r.b,F,s,c,w,!!E,r.tenantId)}).then(function(){return new je(function(W,xe){r.na(s,null,new k("cancelled-popup-request"),r.g||null),r.f=W,r.C=xe,r.g=w,r.c=Vb(r.b,r,s,F,w)})}).then(function(W){return F&&ro(F),W?Or(W):null}).o(function(W){throw F&&ro(F),W}),Bt(r,h,m)}e.Fc=function(r){var s=this;return o_(this,"linkViaRedirect",r,function(){return Sl(s,r.providerId)},!1)},e.Oc=function(r){return o_(this,"reauthViaRedirect",r,function(){return Ee()},!0)};function o_(r,s,c,h,m){if(!io())return yt(new k("operation-not-supported-in-this-environment"));if(r.i&&!m)return yt(r.i);var y=null,w=oo(r.uid+":::");return h=h().then(function(){if(s_(r),!m)return r.I().then(function(){})}).then(function(){return r.ga=w,go(r)}).then(function(E){return r.ha&&(E=r.ha,E=E.b.set(tm,r.w(),E.a)),E}).then(function(){return jb(r.b,s,c,w,r.tenantId)}).o(function(E){if(y=E,r.ha)return a_(r.ha);throw y}).then(function(){if(y)throw y}),Bt(r,h,m)}function s_(r){if(!r.b||!r.P)throw r.b&&!r.P?new k("internal-error"):new k("auth-domain-config-required")}e.Lb=function(r,s,c,h){var m=this;this.c&&(this.c.cancel(),this.c=null);var y=null;return c=this.I().then(function(w){return cp(m.a,{requestUri:r,postBody:h,sessionId:s,idToken:w})}).then(function(w){return y=sa(m,w,"link"),r_(m,w)}).then(function(){return y}),Bt(this,c)},e.Mb=function(r,s,c,h){var m=this;this.c&&(this.c.cancel(),this.c=null);var y=null,w=Ee().then(function(){return hs(lp(m.a,{requestUri:r,sessionId:s,postBody:h,tenantId:c}),m.uid)}).then(function(E){return y=sa(m,E,"reauthenticate"),Dr(m,E),m.i=null,m.reload()}).then(function(){return y});return Bt(this,w,!0)},e.vb=function(r){var s=this,c=null;return Bt(this,this.I().then(function(h){return c=h,typeof r>"u"||vt(r)?{}:zc(new Kc(r))}).then(function(h){return s.a.vb(c,h)}).then(function(h){if(s.email!=h)return s.reload()}).then(function(){}))},e.Fb=function(r,s){var c=this,h=null;return Bt(this,this.I().then(function(m){return h=m,typeof s>"u"||vt(s)?{}:zc(new Kc(s))}).then(function(m){return c.a.Fb(h,r,m)}).then(function(m){if(c.email!=m)return c.reload()}).then(function(){}))};function Bt(r,s,c){var h=Mx(r,s,c);return r.N.push(h),h.oa(function(){L(r.N,h)}),h.o(function(m){var y=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(y=Wb(m.w(),Wp(r),V(r.jc,r))),y||m})}e.jc=function(r){var s=null,c=this;return r=hs(Ee(r),c.uid).then(function(h){return s=sa(c,h,"reauthenticate"),Dr(c,h),c.i=null,c.reload()}).then(function(){return s}),Bt(this,r,!0)};function Mx(r,s,c){return r.i&&!c?(s.cancel(),yt(r.i)):s.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new ys("userInvalidated")),r.i=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Xt(r,this.metadata.w()),$(this.providerData,function(s){r.providerData.push(uC(s))}),Xt(r,this.S.w()),r};function u_(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[dr]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var m=new Hn(s,c,r);return r.providerData&&$(r.providerData,function(y){y&&Zp(m,Or(y))}),r.redirectEventId&&(m.ga=r.redirectEventId),m}function Fx(r,s,c,h){var m=new Hn(r,s);return c&&(m.ha=c),h&&ia(m,h),m.reload().then(function(){return m})}function Ux(r,s,c,h){var m=r.h,y={};return y[dr]=m.b&&m.b.toString(),y.refreshToken=m.a,s=new Hn(s||{apiKey:r.l,authDomain:r.s,appName:r.m},y),c&&(s.ha=c),h&&ia(s,h),Tl(s,r),s}function jx(r){this.a=r,this.b=ra()}var tm={name:"redirectUser",F:"session"};function a_(r){return vs(r.b,tm,r.a)}function Vx(r,s){return r.b.get(tm,r.a).then(function(c){return c&&s&&(c.authDomain=s),u_(c||{})})}function nm(r){this.a=r,this.b=ra(),this.c=null,this.f=Bx(this),this.b.addListener(Lr("local"),this.a,V(this.g,this))}nm.prototype.g=function(){var r=this,s=Lr("local");ws(this,function(){return Ee().then(function(){return r.c&&r.c.F!="local"?r.b.get(s,r.a):null}).then(function(c){if(c)return rm(r,"local").then(function(){r.c=s})})})};function rm(r,s){var c=[],h;for(h in ms)ms[h]!==s&&c.push(vs(r.b,Lr(ms[h]),r.a));return c.push(vs(r.b,im,r.a)),RN(c)}function Bx(r){var s=Lr("local"),c=Lr("session"),h=Lr("none");return nx(r.b,s,r.a).then(function(){return r.b.get(c,r.a)}).then(function(m){return m?c:r.b.get(h,r.a).then(function(y){return y?h:r.b.get(s,r.a).then(function(w){return w?s:r.b.get(im,r.a).then(function(E){return E?Lr(E):s})})})}).then(function(m){return r.c=m,rm(r,m.F)}).o(function(){r.c||(r.c=s)})}var im={name:"persistence",F:"session"};function Lr(r){return{name:"authUser",F:r}}nm.prototype.yb=function(r){var s=null,c=this;return tx(r),ws(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return s=h,rm(c,r)}).then(function(){if(c.c=Lr(r),s)return c.b.set(c.c,s,c.a)}):Ee()})};function qx(r){return ws(r,function(){return r.b.set(im,r.c.F,r.a)})}function c_(r,s){return ws(r,function(){return r.b.set(r.c,s.w(),r.a)})}function l_(r){return ws(r,function(){return vs(r.b,r.c,r.a)})}function f_(r,s,c){return ws(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&s&&(h.authDomain=s),h&&c&&(h.emulatorConfig=c),u_(h||{})})})}function ws(r,s){return r.f=r.f.then(s,s),r.f}function pr(r){if(this.l=!1,me(this,"settings",new Kb),me(this,"app",r),ot(this).options&&ot(this).options.apiKey)r=Se.SDK_VERSION?as(Se.SDK_VERSION):null,this.a=new hr(ot(this).options&&ot(this).options.apiKey,Ge(de),r);else throw new k("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Se.INTERNAL.createSubscribe(V(this.zc,this)),this.W=void 0,this.ib=Se.INTERNAL.createSubscribe(V(this.Ac,this)),bs(this,null),this.i=new nm(ot(this).options.apiKey+":"+ot(this).name),this.D=new jx(ot(this).options.apiKey+":"+ot(this).name),this.$=At(this,Wx(this)),this.h=At(this,Xx(this)),this.ba=!1,this.ja=V(this.Zc,this),this.Ba=V(this.da,this),this.qa=V(this.mc,this),this.za=V(this.wc,this),this.Aa=V(this.xc,this),this.b=null,Kx(this),this.INTERNAL={},this.INTERNAL.delete=V(this.delete,this),this.INTERNAL.logFramework=V(this.Gc,this),this.u=0,dn.call(this),Hx(this),this.J=[],this.R=null}G(pr,dn);function h_(r){An.call(this,"languageCodeChanged"),this.h=r}G(h_,An);function d_(r){An.call(this,"emulatorConfigChanged"),this.c=r}G(d_,An);function p_(r){An.call(this,"frameworkChanged"),this.f=r}G(p_,An),e=pr.prototype,e.yb=function(r){return r=this.i.yb(r),At(this,r)},e.xa=function(r){this.aa===r||this.l||(this.aa=r,Ww(this.a,this.aa),this.dispatchEvent(new h_(this.la())))},e.la=function(){return this.aa},e.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},e.gd=function(r,s){if(!this.R){if(!/^https?:\/\//.test(r))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,$x(s),this.R={url:r,ec:s},this.settings.jb=!0,fl(this.a,this.R),this.dispatchEvent(new d_(this.R))}};function $x(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&qc().then(function(){var s=f.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),f.document.body.appendChild(s)})}e.Gc=function(r){this.J.push(r),Xw(this.a,Se.SDK_VERSION?as(Se.SDK_VERSION,this.J):null),this.dispatchEvent(new p_(this.J))},e.Ga=function(){return ie(this.J)},e.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},e.T=function(){return this.S};function Hx(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var s=kn(this.R.url);s=Or({protocol:s.c,host:s.a,port:s.g,options:Or({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}e.toJSON=function(){return{apiKey:ot(this).options.apiKey,authDomain:ot(this).options.authDomain,appName:ot(this).name,currentUser:Me(this)&&Me(this).w()}};function om(r){return r.Oa||yt(new k("auth-domain-config-required"))}function Kx(r){var s=ot(r).options.authDomain,c=ot(r).options.apiKey;s&&io()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Dp(s,c,ot(r).name,r.R),wl(r.b,r),Me(r)&&oa(Me(r)),r.m){oa(r.m);var h=r.m;h.xa(r.la()),Kp(h,r),h=r.m,ia(h,r.J),Gp(h,r),h=r.m,Hp(h,r.R),zp(h,r),r.m=null}return r.b}}))}e.Gb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},e.na=function(r,s,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==s&&this.f?V(this.ic,this):null},e.ic=function(r,s,c,h){var m=this,y={requestUri:r,postBody:h,sessionId:s,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),m.$.then(function(){return vo(m,ap(m.a,y))})},e.Xc=function(r){if(!io())return yt(new k("operation-not-supported-in-this-environment"));var s=this,c=Md(r.providerId),h=oo(),m=null;(!Mu()||wd())&&ot(this).options.authDomain&&r.isOAuthProvider&&(m=Zu(ot(this).options.authDomain,ot(this).options.apiKey,ot(this).name,"signInViaPopup",r,null,h,Se.SDK_VERSION||null,null,null,this.T(),this.R));var y=G0(m,c&&c.va,c&&c.ua);return c=om(this).then(function(w){return Ub(w,y,"signInViaPopup",r,h,!!m,s.T())}).then(function(){return new je(function(w,E){s.na("signInViaPopup",null,new k("cancelled-popup-request"),s.g),s.f=w,s.C=E,s.g=h,s.c=Vb(s.b,s,"signInViaPopup",y,h)})}).then(function(w){return y&&ro(y),w?Or(w):null}).o(function(w){throw y&&ro(y),w}),At(this,c)},e.Yc=function(r){if(!io())return yt(new k("operation-not-supported-in-this-environment"));var s=this,c=om(this).then(function(){return qx(s.i)}).then(function(){return jb(s.b,"signInViaRedirect",r,void 0,s.T())});return At(this,c)};function m_(r){if(!io())return yt(new k("operation-not-supported-in-this-environment"));var s=om(r).then(function(){return r.b.ra()}).then(function(c){return c?Or(c):null});return At(r,s)}e.ra=function(){var r=this;return m_(this).then(function(s){return r.b&&_l(r.b.b),s}).o(function(s){throw r.b&&_l(r.b.b),s})},e.dd=function(r){if(!r)return yt(new k("null-user"));if(this.S!=r.tenantId)return yt(new k("tenant-id-mismatch"));var s=this,c={};c.apiKey=ot(this).options.apiKey,c.authDomain=ot(this).options.authDomain,c.appName=ot(this).name;var h=Ux(r,c,s.D,s.Ga());return At(this,this.h.then(function(){if(ot(s).options.apiKey!=r.l)return h.reload()}).then(function(){return Me(s)&&r.uid==Me(s).uid?(Tl(Me(s),r),s.da(r)):(bs(s,h),oa(h),s.da(h))}).then(function(){ua(s)}))};function zx(r,s){var c={};return c.apiKey=ot(r).options.apiKey,c.authDomain=ot(r).options.authDomain,c.appName=ot(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return Fx(c,s,r.D,r.Ga())}).then(function(h){return Me(r)&&h.uid==Me(r).uid?(Tl(Me(r),h),r.da(h)):(bs(r,h),oa(h),r.da(h))}).then(function(){ua(r)})}function bs(r,s){Me(r)&&(Px(Me(r),r.Ba),qn(Me(r),"tokenChanged",r.qa),qn(Me(r),"userDeleted",r.za),qn(Me(r),"userInvalidated",r.Aa),Xp(Me(r))),s&&(s.W.push(r.Ba),tr(s,"tokenChanged",r.qa),tr(s,"userDeleted",r.za),tr(s,"userInvalidated",r.Aa),0<r.u&&Zb(s)),me(r,"currentUser",s),s&&(s.xa(r.la()),Kp(s,r),ia(s,r.J),Gp(s,r),Hp(s,r.R),zp(s,r))}e.Bb=function(){var r=this,s=this.h.then(function(){return r.b&&_l(r.b.b),Me(r)?(bs(r,null),l_(r.i).then(function(){ua(r)})):Ee()});return At(this,s)};function Gx(r){var s=Vx(r.D,ot(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),a_(r.D)});return At(r,s)}function Wx(r){var s=ot(r).options.authDomain,c=Gx(r).then(function(){return f_(r.i,s,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return c_(r.i,h).then(function(){return h})}).o(function(m){return m.code=="auth/network-request-failed"?h:l_(r.i)})):null}).then(function(h){bs(r,h||null)});return At(r,c)}function Xx(r){return r.$.then(function(){return m_(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var s=r.i;s.b.addListener(Lr("local"),s.a,r.ja)}})}e.Zc=function(){var r=this;return f_(this.i,ot(this).options.authDomain).then(function(s){if(!r.l){var c;if(c=Me(r)&&s){c=Me(r).uid;var h=s.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return Tl(Me(r),s),Me(r).I();(Me(r)||s)&&(bs(r,s),s&&(oa(s),s.ha=r.D),r.b&&wl(r.b,r),ua(r))}})},e.da=function(r){return c_(this.i,r)},e.mc=function(){ua(this),this.da(Me(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function vo(r,s){var c=null,h=null;return At(r,s.then(function(m){return c=qd(m),h=ww(m),zx(r,m)},function(m){var y=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(y=Wb(m.w(),r,V(r.kc,r))),y||m}).then(function(){return Or({user:Me(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(r){var s=this;return this.h.then(function(){return vo(s,Ee(r))})},e.zc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(Me(s))})},e.Ac=function(r){var s=this;Yx(this,function(){r.next(Me(s))})},e.Ic=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(Me(h)):typeof r.next=="function"&&r.next(Me(h))}),this.Pa(r,s,c)},e.Hc=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(Me(h)):typeof r.next=="function"&&r.next(Me(h))}),this.ib(r,s,c)},e.nc=function(r){var s=this,c=this.h.then(function(){return Me(s)?Me(s).I(r).then(function(h){return{accessToken:h}}):null});return At(this,c)},e.Tc=function(r){var s=this;return this.h.then(function(){return vo(s,Be(s.a,RR,{token:r}))}).then(function(c){var h=c.user;return wi(h,"isAnonymous",!1),s.da(h),c})},e.Uc=function(r,s){var c=this;return this.h.then(function(){return vo(c,Be(c.a,ib,{email:r,password:s}))})},e.dc=function(r,s){var c=this;return this.h.then(function(){return vo(c,Be(c.a,uR,{email:r,password:s}))})},e.ab=function(r){var s=this;return this.h.then(function(){return vo(s,r.ka(s.a))})},e.Sc=function(r){return Id("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},e.Ab=function(){var r=this;return this.h.then(function(){var s=Me(r);if(s&&s.isAnonymous){var c=Or({providerId:null,isNewUser:!1});return Or({user:s,credential:null,additionalUserInfo:c,operationType:"signIn"})}return vo(r,r.a.Ab()).then(function(h){var m=h.user;return wi(m,"isAnonymous",!0),r.da(m),h})})};function ot(r){return r.app}function Me(r){return r.currentUser}e.getUid=function(){return Me(this)&&Me(this).uid||null};function Al(r){return Me(r)&&Me(r)._lat||null}function ua(r){if(r.ba){for(var s=0;s<r.s.length;s++)r.s[s]&&r.s[s](Al(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),s=0;s<r.N.length;s++)r.N[s]&&r.N[s](Al(r))}}e.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&Me(this)&&Zb(Me(this))},e.Pc=function(r){var s=this;$(this.s,function(c){c==r&&s.u--}),0>this.u&&(this.u=0),this.u==0&&Me(this)&&Xp(Me(this)),this.removeAuthTokenListener(r)},e.addAuthTokenListener=function(r){var s=this;this.s.push(r),At(this,this.h.then(function(){s.l||R(s.s,r)&&r(Al(s))}))},e.removeAuthTokenListener=function(r){j(this.s,function(s){return s==r})};function Yx(r,s){r.N.push(s),At(r,r.h.then(function(){!r.l&&R(r.N,s)&&r.W!==r.getUid()&&(r.W=r.getUid(),s(Al(r)))}))}e.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(Lr("local"),r.a,this.ja)),this.b&&(xp(this.b,this),_l(this.b.b)),Promise.resolve()};function At(r,s){return r.P.push(s),s.oa(function(){L(r.P,s)}),s}e.hc=function(r){return At(this,JC(this.a,r))},e.Bc=function(r){return!!Bd(r)},e.xb=function(r,s){var c=this;return At(this,Ee().then(function(){var h=new Kc(s);if(!h.c)throw new k("argument-error",Dd+" must be true when sending sign in link to email");return zc(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},e.jd=function(r){return this.Sa(r).then(function(s){return s.data.email})},e.ob=function(r,s){return At(this,this.a.ob(r,s).then(function(){}))},e.Sa=function(r){return At(this,this.a.Sa(r).then(function(s){return new cC(s)}))},e.kb=function(r){return At(this,this.a.kb(r).then(function(){}))},e.wb=function(r,s){var c=this;return At(this,Ee().then(function(){return typeof s>"u"||vt(s)?{}:zc(new Kc(s))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},e.Wc=function(r,s){return At(this,Mp(this,r,s,V(this.ab,this)))},e.Vc=function(r,s){var c=this;return At(this,Ee().then(function(){var h=s||Lu(),m=xw(r,h);if(h=Bd(h),!h)throw new k("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new k("tenant-id-mismatch");return c.ab(m)}))};function aa(){}aa.prototype.render=function(){},aa.prototype.reset=function(){},aa.prototype.getResponse=function(){},aa.prototype.execute=function(){};function _s(){this.a={},this.b=1e12}var sm=null;_s.prototype.render=function(r,s){return this.a[this.b.toString()]=new kl(r,s),this.b++},_s.prototype.reset=function(r){var s=um(this,r);r=g_(r),s&&r&&(s.delete(),delete this.a[r])},_s.prototype.getResponse=function(r){return(r=um(this,r))?r.getResponse():null},_s.prototype.execute=function(r){(r=um(this,r))&&r.execute()};function um(r,s){return(s=g_(s))&&r.a[s]||null}function g_(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function kl(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Nu(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():tr(this.f,"click",this.i)}kl.prototype.getResponse=function(){return am(this),this.b},kl.prototype.execute=function(){am(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=rC();var s=r.c.callback,c=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},kl.prototype.delete=function(){am(this),this.g=!0,clearTimeout(this.a),this.a=null,qn(this.f,"click",this.i)};function am(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function cm(){}me(cm,"FACTOR_ID","phone");function lm(){}lm.prototype.g=function(){return sm||(sm=new _s),Ee(sm)},lm.prototype.c=function(){};var fm=null;function hm(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Qx=new Cr(Cc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Jx=new gi(3e4,6e4);hm.prototype.g=function(r){var s=this;return new je(function(c,h){var m=setTimeout(function(){h(new k("network-request-failed"))},Jx.get());if(!f.grecaptcha||r!==s.f&&!s.b){f[s.a]=function(){if(f.grecaptcha){s.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(E,F){return E=w(E,F),s.b++,E},clearTimeout(m),c(f.grecaptcha)}else clearTimeout(m),h(new k("internal-error"));delete f[s.a]};var y=Gh(Qx,{onload:s.a,hl:r||""});Ee(tp(y)).o(function(){clearTimeout(m),h(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(m),c(f.grecaptcha)})},hm.prototype.c=function(){this.b--};var dm=null;function pm(r,s,c,h,m,y,w){if(me(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,w?(fm||(fm=new lm),w=fm):(dm||(dm=new hm),w=dm),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[w_])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[Zx]==="invisible",!f.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Nu(s)||!this.i&&Nu(s).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new hr(r,y||null,m||null),this.u=h||function(){return null};var E=this;this.l=[];var F=this.a[v_];this.a[v_]=function(xe){if(b_(E,xe),typeof F=="function")F(xe);else if(typeof F=="string"){var et=wt(F,f);typeof et=="function"&&et(xe)}};var W=this.a[y_];this.a[y_]=function(){if(b_(E,null),typeof W=="function")W();else if(typeof W=="string"){var xe=wt(W,f);typeof xe=="function"&&xe()}}}var v_="callback",y_="expired-callback",w_="sitekey",Zx="size";function b_(r,s){for(var c=0;c<r.l.length;c++)try{r.l[c](s)}catch{}}function eO(r,s){j(r.l,function(c){return c==s})}function mm(r,s){return r.h.push(s),s.oa(function(){L(r.h,s)}),s}e=pm.prototype,e.Ia=function(){var r=this;return this.f?this.f:this.f=mm(this,Ee().then(function(){if($c()&&!lr())return qc();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(s){return r.g=s,Be(r.s,_R,{})}).then(function(s){r.a[w_]=s.recaptchaSiteKey}).o(function(s){throw r.f=null,s}))},e.render=function(){Nl(this);var r=this;return mm(this,this.Ia().then(function(){if(r.c===null){var s=r.v;if(!r.i){var c=Nu(s);s=AN("DIV"),c.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},e.verify=function(){Nl(this);var r=this;return mm(this,this.render().then(function(s){return new je(function(c){var h=r.g.getResponse(s);if(h)c(h);else{var m=function(y){y&&(eO(r,m),c(y))};r.l.push(m),r.i&&r.g.execute(r.c)}})}))},e.reset=function(){Nl(this),this.c!==null&&this.g.reset(this.c)};function Nl(r){if(r.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Nl(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=Nu(this.v);for(var s;s=r.firstChild;)r.removeChild(s)}};function gm(r,s,c){var h=!1;try{this.b=c||Se.app()}catch{throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new k("invalid-api-key");var m=this,y=null;try{y=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}y=Se.SDK_VERSION?as(Se.SDK_VERSION,y):null,pm.call(this,c,r,s,function(){try{var w=m.b.auth().la()}catch{w=null}return w},y,Ge(de),h)}G(gm,pm);function __(r,s,c,h){e:{c=Array.prototype.slice.call(c);for(var m=0,y=!1,w=0;w<s.length;w++)if(s[w].optional)y=!0;else{if(y)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");m++}if(y=s.length,c.length<m||y<c.length)h="Expected "+(m==y?m==1?"1 argument":m+" arguments":m+"-"+y+" arguments")+" but got "+c.length+".";else{for(m=0;m<c.length;m++)if(y=s[m].optional&&c[m]===void 0,!s[m].M(c[m])&&!y){if(s=s[m],0>m||m>=E_.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");c=E_[m],h=(h?"":c+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break e}h=null}}if(h)throw new k("argument-error",r+" failed: "+h)}var E_="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function he(r,s){return{name:r||"",K:"a valid string",optional:!!s,M:function(c){return typeof c=="string"}}}function vm(r,s){return{name:r||"",K:"a boolean",optional:!!s,M:function(c){return typeof c=="boolean"}}}function Pt(r,s){return{name:r||"",K:"a valid object",optional:!!s,M:S}}function Es(r,s){return{name:r||"",K:"a function",optional:!!s,M:function(c){return typeof c=="function"}}}function Mr(r,s){return{name:r||"",K:"null",optional:!!s,M:function(c){return c===null}}}function tO(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function nO(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof pr)}}}function rO(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof Se.app.App)}}}function bi(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var c=!r||s.providerId===r;return!(!s.ka||!c)}}}function I_(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function Is(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function ym(r,s){return S(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function T_(r){return S(r)&&typeof r.uid=="string"}function Cl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function Ct(r,s,c,h){return{name:c||"",K:r.K+" or "+s.K,optional:!!h,M:function(m){return r.M(m)||s.M(m)}}}function Tt(r,s){for(var c in s){var h=s[c].name;r[h]=A_(h,r[c],s[c].j)}}function S_(r,s){for(var c in s){var h=s[c].name;h!==c&&Object.defineProperty(r,h,{get:we(function(m){return this[m]},c),set:we(function(m,y,w,E){__(m,[w],[E],!0),this[y]=E},h,c,s[c].lb),enumerable:!0})}}function Rt(r,s,c,h){r[s]=A_(s,c,h)}function A_(r,s,c){function h(){var w=Array.prototype.slice.call(arguments);return __(m,c,w),s.apply(this,w)}if(!c)return s;var m=iO(r),y;for(y in s)h[y]=s[y];for(y in s.prototype)h.prototype[y]=s.prototype[y];return h}function iO(r){return r=r.split("."),r[r.length-1]}Tt(pr.prototype,{kb:{name:"applyActionCode",j:[he("code")]},Sa:{name:"checkActionCode",j:[he("code")]},ob:{name:"confirmPasswordReset",j:[he("code"),he("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[he("email"),he("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[he("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[he("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Ct(Pt(),Es(),"nextOrObserver"),Es("opt_error",!0),Es("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Ct(Pt(),Es(),"nextOrObserver"),Es("opt_error",!0),Es("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[he("email"),Ct(Pt("opt_actionCodeSettings",!0),Mr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[he("email"),Pt("actionCodeSettings")]},yb:{name:"setPersistence",j:[he("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[bi()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[bi()]},Tc:{name:"signInWithCustomToken",j:[he("token")]},Uc:{name:"signInWithEmailAndPassword",j:[he("email"),he("password")]},Vc:{name:"signInWithEmailLink",j:[he("email"),he("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[he("phoneNumber"),Cl()]},Xc:{name:"signInWithPopup",j:[Is()]},Yc:{name:"signInWithRedirect",j:[Is()]},dd:{name:"updateCurrentUser",j:[Ct(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(s){return!!(s&&s instanceof Hn)}}}(),Mr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[he(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[he("url"),Pt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[he("code")]}}),S_(pr.prototype,{lc:{name:"languageCode",lb:Ct(he(),Mr(),"languageCode")},ti:{name:"tenantId",lb:Ct(he(),Mr(),"tenantId")}}),pr.Persistence=ms,pr.Persistence.LOCAL="local",pr.Persistence.SESSION="session",pr.Persistence.NONE="none",Tt(Hn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[vm("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[vm("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[bi()]},rb:{name:"linkWithCredential",j:[bi()]},Dc:{name:"linkWithPhoneNumber",j:[he("phoneNumber"),Cl()]},Ec:{name:"linkWithPopup",j:[Is()]},Fc:{name:"linkWithRedirect",j:[Is()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[bi()]},ub:{name:"reauthenticateWithCredential",j:[bi()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[he("phoneNumber"),Cl()]},Nc:{name:"reauthenticateWithPopup",j:[Is()]},Oc:{name:"reauthenticateWithRedirect",j:[Is()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Ct(Pt("opt_actionCodeSettings",!0),Mr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[he(null,!0)]},cd:{name:"unlink",j:[he("provider")]},Cb:{name:"updateEmail",j:[he("email")]},Db:{name:"updatePassword",j:[he("password")]},ed:{name:"updatePhoneNumber",j:[bi("phone")]},Eb:{name:"updateProfile",j:[Pt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[he("email"),Ct(Pt("opt_actionCodeSettings",!0),Mr(null,!0),"opt_actionCodeSettings",!0)]}}),Tt(_s.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tt(aa.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tt(je.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),S_(Kb.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:vm("appVerificationDisabledForTesting")}}),Tt(Lp.prototype,{confirm:{name:"confirm",j:[he("verificationCode")]}}),Rt(fs,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,c=[kC,NC,CC,AC],h=0;h<c.length;h++)if(s=c[h](r))return s;return null},[Ct(he(),Pt(),"json")]),Rt(rr,"credential",function(r,s){return new vi(r,s)},[he("email"),he("password")]),Tt(vi.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Tt(ao.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Pt("customOAuthParameters")]}}),Rt(ao,"credential",kw,[Ct(he(),Pt(),"token")]),Rt(rr,"credentialWithLink",xw,[he("email"),he("emailLink")]),Tt(co.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Pt("customOAuthParameters")]}}),Rt(co,"credential",Nw,[Ct(he(),Pt(),"token")]),Tt(lo.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Pt("customOAuthParameters")]}}),Rt(lo,"credential",Cw,[Ct(he(),Ct(Pt(),Mr()),"idToken"),Ct(he(),Mr(),"accessToken",!0)]),Tt(ds.prototype,{Ka:{name:"setCustomParameters",j:[Pt("customOAuthParameters")]}}),Rt(ds,"credential",Rw,[Ct(he(),Pt(),"token"),he("secret",!0)]),Tt($n.prototype,{Ca:{name:"addScope",j:[he("scope")]},credential:{name:"credential",j:[Ct(he(),Ct(Pt(),Mr()),"optionsOrIdToken"),Ct(he(),Mr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Pt("customOAuthParameters")]}}),Tt(Xr.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Tt(so.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Rt(Yr,"credential",Ow,[he("verificationId"),he("verificationCode")]),Tt(Yr.prototype,{gb:{name:"verifyPhoneNumber",j:[Ct(he(),function(r,s){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(c){return c?c.session&&c.phoneNumber?ym(c.session,qu)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?ym(c.session,Qc)&&T_(c.multiFactorHint):c.session&&c.multiFactorUid?ym(c.session,Qc)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Cl()]}}),Tt(yi.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Tt(k.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),Tt(Hu.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),Tt(Kd.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),Tt(Up.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),Tt(Fp.prototype,{Rc:{name:"resolveSignIn",j:[I_()]}}),Tt(Vp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[I_(),he("displayName",!0)]},bd:{name:"unenroll",j:[Ct({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:T_},he(),"multiFactorInfoIdentifier")]}}),Tt(gm.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Rt(Pd,"parseLink",cw,[he("link")]),Rt(cm,"assertion",function(r){return new Yb(r)},[bi("phone")]),function(){if(typeof Se<"u"&&Se.INTERNAL&&Se.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Hc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Od,VERIFY_AND_CHANGE_EMAIL:Vu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:pr,AuthCredential:fs,Error:k};Rt(r,"EmailAuthProvider",rr,[]),Rt(r,"FacebookAuthProvider",ao,[]),Rt(r,"GithubAuthProvider",co,[]),Rt(r,"GoogleAuthProvider",lo,[]),Rt(r,"TwitterAuthProvider",ds,[]),Rt(r,"OAuthProvider",$n,[he("providerId")]),Rt(r,"SAMLAuthProvider",Aw,[he("providerId")]),Rt(r,"PhoneAuthProvider",Yr,[nO()]),Rt(r,"RecaptchaVerifier",gm,[Ct(he(),tO(),"recaptchaContainer"),Pt("recaptchaParameters",!0),rO()]),Rt(r,"ActionCodeURL",Pd,[]),Rt(r,"PhoneMultiFactorGenerator",cm,[]),Se.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new pr(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),Se.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:V(s.getUid,s),getToken:V(s.nc,s),addAuthTokenListener:V(s.cc,s),removeAuthTokenListener:V(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Se.registerVersion("@firebase/auth","0.16.8"),Se.INTERNAL.extendNamespace({User:Hn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dg=function(e,t){return dg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},dg(e,t)};function PL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");dg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function SS(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var DL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce,Tv=Tv||{},Pe=DL||self;function pf(){}function pg(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function uc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function LL(e){return Object.prototype.hasOwnProperty.call(e,Nm)&&e[Nm]||(e[Nm]=++ML)}var Nm="closure_uid_"+(1e9*Math.random()>>>0),ML=0;function FL(e,t,n){return e.call.apply(e.bind,arguments)}function UL(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function tn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?tn=FL:tn=UL,tn.apply(null,arguments)}function Fl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function rn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,o,u){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[o].apply(i,a)}}function Ki(){this.s=this.s,this.o=this.o}var jL=0;Ki.prototype.s=!1;Ki.prototype.na=function(){!this.s&&(this.s=!0,this.M(),jL!=0)&&LL(this)};Ki.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var AS=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},kS=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=typeof e=="string"?e.split(""):e,u=0;u<i;u++)u in o&&t.call(n,o[u],u,e)};function VL(e){e:{for(var t=xM,n=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function uE(e){return Array.prototype.concat.apply([],arguments)}function Sv(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function mf(e){return/^[\s\xa0]*$/.test(e)}var aE=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function bn(e,t){return e.indexOf(t)!=-1}function Cm(e,t){return e<t?-1:e>t?1:0}var _n;e:{var cE=Pe.navigator;if(cE){var lE=cE.userAgent;if(lE){_n=lE;break e}}_n=""}function Av(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function NS(e){var t={};for(var n in e)t[n]=e[n];return t}var fE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function CS(e,t){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(var u=0;u<fE.length;u++)n=fE[u],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function kv(e){return kv[" "](e),e}kv[" "]=pf;function BL(e){var t=HL;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var qL=bn(_n,"Opera"),Xs=bn(_n,"Trident")||bn(_n,"MSIE"),RS=bn(_n,"Edge"),mg=RS||Xs,xS=bn(_n,"Gecko")&&!(bn(_n.toLowerCase(),"webkit")&&!bn(_n,"Edge"))&&!(bn(_n,"Trident")||bn(_n,"MSIE"))&&!bn(_n,"Edge"),$L=bn(_n.toLowerCase(),"webkit")&&!bn(_n,"Edge");function OS(){var e=Pe.document;return e?e.documentMode:void 0}var gf;e:{var Rm="",xm=function(){var e=_n;if(xS)return/rv:([^\);]+)(\)|;)/.exec(e);if(RS)return/Edge\/([\d\.]+)/.exec(e);if(Xs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if($L)return/WebKit\/(\S+)/.exec(e);if(qL)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(xm&&(Rm=xm?xm[1]:""),Xs){var Om=OS();if(Om!=null&&Om>parseFloat(Rm)){gf=String(Om);break e}}gf=Rm}var HL={};function KL(){return BL(function(){for(var e=0,t=aE(String(gf)).split("."),n=aE("9").split("."),i=Math.max(t.length,n.length),o=0;e==0&&o<i;o++){var u=t[o]||"",a=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u[0].length==0&&a[0].length==0)break;e=Cm(u[1].length==0?0:parseInt(u[1],10),a[1].length==0?0:parseInt(a[1],10))||Cm(u[2].length==0,a[2].length==0)||Cm(u[2],a[2]),u=u[3],a=a[3]}while(e==0)}return 0<=e})}var gg;if(Pe.document&&Xs){var hE=OS();gg=hE||parseInt(gf,10)||void 0}else gg=void 0;var zL=gg,GL=function(){if(!Pe.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Pe.addEventListener("test",pf,t),Pe.removeEventListener("test",pf,t)}catch{}return e}();function ln(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};function Ba(e,t){if(ln.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(xS){e:{try{kv(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:WL[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ba.Z.h.call(this)}}rn(Ba,ln);var WL={2:"touch",3:"pen",4:"mouse"};Ba.prototype.h=function(){Ba.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ac="closure_listenable_"+(1e6*Math.random()|0),XL=0;function YL(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=o,this.key=++XL,this.ca=this.fa=!1}function uh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ah(e){this.src=e,this.g={},this.h=0}ah.prototype.add=function(e,t,n,i,o){var u=e.toString();e=this.g[u],e||(e=this.g[u]=[],this.h++);var a=yg(e,t,i,o);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new YL(t,this.src,u,!!i,o),t.fa=n,e.push(t)),t};function vg(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=AS(i,t),u;(u=0<=o)&&Array.prototype.splice.call(i,o,1),u&&(uh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function yg(e,t,n,i){for(var o=0;o<e.length;++o){var u=e[o];if(!u.ca&&u.listener==t&&u.capture==!!n&&u.ia==i)return o}return-1}var Nv="closure_lm_"+(1e6*Math.random()|0),Pm={};function PS(e,t,n,i,o){if(i&&i.once)return LS(e,t,n,i,o);if(Array.isArray(t)){for(var u=0;u<t.length;u++)PS(e,t[u],n,i,o);return null}return n=xv(n),e&&e[ac]?e.N(t,n,uc(i)?!!i.capture:!!i,o):DS(e,t,n,!1,i,o)}function DS(e,t,n,i,o,u){if(!t)throw Error("Invalid event type");var a=uc(o)?!!o.capture:!!o,l=Rv(e);if(l||(e[Nv]=l=new ah(e)),n=l.add(t,n,i,a,u),n.proxy)return n;if(i=QL(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)GL||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(FS(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function QL(){function e(n){return t.call(e.src,e.listener,n)}var t=JL;return e}function LS(e,t,n,i,o){if(Array.isArray(t)){for(var u=0;u<t.length;u++)LS(e,t[u],n,i,o);return null}return n=xv(n),e&&e[ac]?e.O(t,n,uc(i)?!!i.capture:!!i,o):DS(e,t,n,!0,i,o)}function MS(e,t,n,i,o){if(Array.isArray(t))for(var u=0;u<t.length;u++)MS(e,t[u],n,i,o);else i=uc(i)?!!i.capture:!!i,n=xv(n),e&&e[ac]?(e=e.i,t=String(t).toString(),t in e.g&&(u=e.g[t],n=yg(u,n,i,o),-1<n&&(uh(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete e.g[t],e.h--)))):e&&(e=Rv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=yg(t,n,i,o)),(n=-1<e?t[e]:null)&&Cv(n))}function Cv(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[ac])vg(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(FS(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Rv(t))?(vg(n,e),n.h==0&&(n.src=null,t[Nv]=null)):uh(e)}}}function FS(e){return e in Pm?Pm[e]:Pm[e]="on"+e}function JL(e,t){if(e.ca)e=!0;else{t=new Ba(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&Cv(e),e=n.call(i,t)}return e}function Rv(e){return e=e[Nv],e instanceof ah?e:null}var Dm="__closure_events_fn_"+(1e9*Math.random()>>>0);function xv(e){return typeof e=="function"?e:(e[Dm]||(e[Dm]=function(t){return e.handleEvent(t)}),e[Dm])}function Wt(){Ki.call(this),this.i=new ah(this),this.P=this,this.I=null}rn(Wt,Ki);Wt.prototype[ac]=!0;Wt.prototype.removeEventListener=function(e,t,n,i){MS(this,e,t,n,i)};function nn(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new ln(t,e);else if(t instanceof ln)t.target=t.target||e;else{var o=t;t=new ln(i,e),CS(t,o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var a=t.g=n[u];o=Ul(a,i,!0,t)&&o}if(a=t.g=e,o=Ul(a,i,!0,t)&&o,o=Ul(a,i,!1,t)&&o,n)for(u=0;u<n.length;u++)a=t.g=n[u],o=Ul(a,i,!1,t)&&o}Wt.prototype.M=function(){if(Wt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)uh(n[i]);delete e.g[t],e.h--}}this.I=null};Wt.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};Wt.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Ul(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,u=0;u<t.length;++u){var a=t[u];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&vg(e.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Ov=Pe.JSON.stringify;function ZL(){var e=jS,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var eM=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=US.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),US=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new tM},function(e){return e.reset()}),tM=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function nM(e){Pe.setTimeout(function(){throw e},0)}function Pv(e,t){wg||rM(),bg||(wg(),bg=!0),jS.add(e,t)}var wg;function rM(){var e=Pe.Promise.resolve(void 0);wg=function(){e.then(iM)}}var bg=!1,jS=new eM;function iM(){for(var e;e=ZL();){try{e.h.call(e.g)}catch(n){nM(n)}var t=US;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}bg=!1}function ch(e,t){Wt.call(this),this.h=e||1,this.g=t||Pe,this.j=tn(this.kb,this),this.l=Date.now()}rn(ch,Wt);ce=ch.prototype;ce.da=!1;ce.S=null;ce.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),nn(this,"tick"),this.da&&(Dv(this),this.start()))}};ce.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Dv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}ce.M=function(){ch.Z.M.call(this),Dv(this),delete this.g};function Lv(e,t,n){if(typeof e=="function")n&&(e=tn(e,n));else if(e&&typeof e.handleEvent=="function")e=tn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Pe.setTimeout(e,t||0)}function VS(e){e.g=Lv(function(){e.g=null,e.i&&(e.i=!1,VS(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var oM=function(e){PL(t,e);function t(n,i){var o=e.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:VS(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Ki);function qa(e){Ki.call(this),this.h=e,this.g={}}rn(qa,Ki);var dE=[];function BS(e,t,n,i){Array.isArray(n)||(n&&(dE[0]=n.toString()),n=dE);for(var o=0;o<n.length;o++){var u=PS(t,n[o],i||e.handleEvent,!1,e.h||e);if(!u)break;e.g[u.key]=u}}function qS(e){Av(e.g,function(t,n){this.g.hasOwnProperty(n)&&Cv(t)},e),e.g={}}qa.prototype.M=function(){qa.Z.M.call(this),qS(this)};qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function lh(){this.g=!0}lh.prototype.Aa=function(){this.g=!1};function sM(e,t,n,i,o,u){e.info(function(){if(e.g)if(u)for(var a="",l=u.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var p=d[0];d=d[1];var g=p.split("_");a=2<=g.length&&g[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=u;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function uM(e,t,n,i,o,u,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+u+" "+a})}function Ds(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+cM(e,n)+(i?" "+i:"")})}function aM(e,t){e.info(function(){return"TIMEOUT: "+t})}lh.prototype.info=function(){};function cM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Ov(n)}catch{return t}}var Go={},pE=null;function fh(){return pE=pE||new Wt}Go.Ma="serverreachability";function $S(e){ln.call(this,Go.Ma,e)}rn($S,ln);function $a(e){var t=fh();nn(t,new $S(t))}Go.STAT_EVENT="statevent";function HS(e,t){ln.call(this,Go.STAT_EVENT,e),this.stat=t}rn(HS,ln);function En(e){var t=fh();nn(t,new HS(t,e))}Go.Na="timingevent";function KS(e,t){ln.call(this,Go.Na,e),this.size=t}rn(KS,ln);function cc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Pe.setTimeout(function(){e()},t)}var hh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},zS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Mv(){}Mv.prototype.h=null;function mE(e){return e.h||(e.h=e.i())}function GS(){}var lc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Fv(){ln.call(this,"d")}rn(Fv,ln);function Uv(){ln.call(this,"c")}rn(Uv,ln);var _g;function dh(){}rn(dh,Mv);dh.prototype.g=function(){return new XMLHttpRequest};dh.prototype.i=function(){return{}};_g=new dh;function fc(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new qa(this),this.P=lM,e=mg?125:void 0,this.W=new ch(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new WS}function WS(){this.i=null,this.g="",this.h=!1}var lM=45e3,Eg={},vf={};ce=fc.prototype;ce.setTimeout=function(e){this.P=e};function Ig(e,t,n){e.K=1,e.v=mh(ci(t)),e.s=n,e.U=!0,XS(e,null)}function XS(e,t){e.F=Date.now(),hc(e),e.A=ci(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),n1(n.h,"t",i),e.C=0,n=e.l.H,e.h=new WS,e.g=E1(e.l,n?t:null,!e.s),0<e.O&&(e.L=new oM(tn(e.Ia,e,e.g),e.O)),BS(e.V,e.g,"readystatechange",e.gb),t=e.H?NS(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),$a(),sM(e.j,e.u,e.A,e.m,e.X,e.s)}ce.gb=function(e){e=e.target;var t=this.L;t&&ni(e)==3?t.l():this.Ia(e)};ce.Ia=function(e){try{if(e==this.g)e:{var t=ni(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||mg||this.g&&(this.h.h||this.g.ga()||wE(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?$a(3):$a(2)),ph(this);var o=this.g.ba();this.N=o;t:if(YS(this)){var u=wE(this.g);e="";var a=u.length,l=ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ko(this),Ta(this);var f="";break t}this.h.i=new Pe.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(u[n],{stream:l&&n==a-1});u.splice(0,a),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,uM(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mf(d)){var g=d;break t}}g=null}if(o=g)Ds(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Tg(this,o);else{this.i=!1,this.o=3,En(12),ko(this),Ta(this);break e}}this.U?(QS(this,t,f),mg&&this.i&&t==3&&(BS(this.V,this.W,"tick",this.fb),this.W.start())):(Ds(this.j,this.m,f,null),Tg(this,f)),t==4&&ko(this),this.i&&!this.I&&(t==4?y1(this.l,this):(this.i=!1,hc(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,En(12)):(this.o=0,En(13)),ko(this),Ta(this)}}}catch{}finally{}};function YS(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function QS(e,t,n){for(var i=!0,o;!e.I&&e.C<n.length;)if(o=fM(e,n),o==vf){t==4&&(e.o=4,En(14),i=!1),Ds(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Eg){e.o=4,En(15),Ds(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Ds(e.j,e.m,o,null),Tg(e,o);YS(e)&&o!=vf&&o!=Eg&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,En(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gv(t),t.L=!0,En(11))):(Ds(e.j,e.m,n,"[Invalid Chunked Response]"),ko(e),Ta(e))}ce.fb=function(){if(this.g){var e=ni(this.g),t=this.g.ga();this.C<t.length&&(ph(this),QS(this,e,t),this.i&&e!=4&&hc(this))}};function fM(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?vf:(n=Number(t.substring(n,i)),isNaN(n)?Eg:(i+=1,i+n>t.length?vf:(t=t.substr(i,n),e.C=i+n,t)))}ce.cancel=function(){this.I=!0,ko(this)};function hc(e){e.Y=Date.now()+e.P,JS(e,e.P)}function JS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=cc(tn(e.eb,e),t)}function ph(e){e.B&&(Pe.clearTimeout(e.B),e.B=null)}ce.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(aM(this.j,this.A),this.K!=2&&($a(),En(17)),ko(this),this.o=2,Ta(this)):JS(this,this.Y-e)};function Ta(e){e.l.G==0||e.I||y1(e.l,e)}function ko(e){ph(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Dv(e.W),qS(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Tg(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Sg(n.i,e))){if(n.I=e.N,!e.J&&Sg(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)_f(n),yh(n);else break e;zv(n),En(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=cc(tn(n.ab,n),6e3));if(1>=o1(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else No(n,11)}else if((e.J||n.g==e)&&_f(n),!mf(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var u=o[t];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];var a=u[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=u[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=e.g;if(d){var p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var g=i.i;!g.g&&(bn(p,"spdy")||bn(p,"quic")||bn(p,"h2"))&&(g.j=g.l,g.g=new Set,g.h&&(Bv(g,g.h),g.h=null))}if(i.D){var v=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(i.sa=v,_t(i.F,i.D,v))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var b=e;if(i.oa=_1(i,i.H?i.la:null,i.W),b.J){s1(i.i,b);var _=b,T=i.K;T&&_.setTimeout(T),_.B&&(ph(_),hc(_)),i.g=b}else g1(i);0<n.l.length&&wh(n)}else u[0]!="stop"&&u[0]!="close"||No(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?No(n,7):Kv(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}$a(4)}catch{}}function hM(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(pg(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function jv(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(pg(e)||typeof e=="string")kS(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(pg(e)||typeof e=="string"){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=hM(e),o=i.length;for(var u=0;u<o;u++)t.call(void 0,i[u],n&&n[u],e)}}function yu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof yu)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}ce=yu.prototype;ce.R=function(){Vv(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};ce.T=function(){return Vv(this),this.g.concat()};function Vv(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Vo(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)i=e.g[t],Vo(o,i)||(e.g[n++]=i,o[i]=1),t++;e.g.length=n}}ce.get=function(e,t){return Vo(this.h,e)?this.h[e]:t};ce.set=function(e,t){Vo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};ce.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],u=this.get(o);e.call(t,u,o,this)}};function Vo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var ZS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function dM(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var u=e[n].substring(0,i);o=e[n].substring(i+1)}else u=e[n];t(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Bo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Bo){this.g=t!==void 0?t:e.g,yf(this,e.j),this.s=e.s,wf(this,e.i),bf(this,e.m),this.l=e.l,t=e.h;var n=new Ha;n.i=t.i,t.g&&(n.g=new yu(t.g),n.h=t.h),gE(this,n),this.o=e.o}else e&&(n=String(e).match(ZS))?(this.g=!!t,yf(this,n[1]||"",!0),this.s=Sa(n[2]||""),wf(this,n[3]||"",!0),bf(this,n[4]),this.l=Sa(n[5]||"",!0),gE(this,n[6]||"",!0),this.o=Sa(n[7]||"")):(this.g=!!t,this.h=new Ha(null,this.g))}Bo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ya(t,vE,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ya(t,vE,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(ya(n,n.charAt(0)=="/"?yM:vM,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ya(n,bM)),e.join("")};function ci(e){return new Bo(e)}function yf(e,t,n){e.j=n?Sa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wf(e,t,n){e.i=n?Sa(t,!0):t}function bf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function gE(e,t,n){t instanceof Ha?(e.h=t,_M(e.h,e.g)):(n||(t=ya(t,wM)),e.h=new Ha(t,e.g))}function _t(e,t,n){e.h.set(t,n)}function mh(e){return _t(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function pM(e){return e instanceof Bo?ci(e):new Bo(e,void 0)}function mM(e,t,n,i){var o=new Bo(null,void 0);return e&&yf(o,e),t&&wf(o,t),n&&bf(o,n),i&&(o.l=i),o}function Sa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ya(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,gM),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function gM(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var vE=/[#\/\?@]/g,vM=/[#\?:]/g,yM=/[#\?]/g,wM=/[#\?@]/g,bM=/#/g;function Ha(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function zi(e){e.g||(e.g=new yu,e.h=0,e.i&&dM(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ce=Ha.prototype;ce.add=function(e,t){zi(this),this.i=null,e=wu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function e1(e,t){zi(e),t=wu(e,t),Vo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Vo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Vv(e)))}function t1(e,t){return zi(e),t=wu(e,t),Vo(e.g.h,t)}ce.forEach=function(e,t){zi(this),this.g.forEach(function(n,i){kS(n,function(o){e.call(t,o,i,this)},this)},this)};ce.T=function(){zi(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var o=e[i],u=0;u<o.length;u++)n.push(t[i]);return n};ce.R=function(e){zi(this);var t=[];if(typeof e=="string")t1(this,e)&&(t=uE(t,this.g.get(wu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=uE(t,e[n])}return t};ce.set=function(e,t){return zi(this),this.i=null,e=wu(this,e),t1(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ce.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function n1(e,t,n){e1(e,t),0<n.length&&(e.i=null,e.g.set(wu(e,t),Sv(n)),e.h+=n.length)}ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],o=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var a=o;i[u]!==""&&(a+="="+encodeURIComponent(String(i[u]))),e.push(a)}}return this.i=e.join("&")};function wu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _M(e,t){t&&!e.j&&(zi(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(e1(this,i),n1(this,o,n))},e)),e.j=t}var EM=function(){function e(t,n){this.h=t,this.g=n}return e}();function r1(e){this.l=e||IM,Pe.PerformanceNavigationTiming?(e=Pe.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Pe.g&&Pe.g.Ea&&Pe.g.Ea()&&Pe.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var IM=10;function i1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function o1(e){return e.h?1:e.g?e.g.size:0}function Sg(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Bv(e,t){e.g?e.g.add(t):e.h=t}function s1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}r1.prototype.cancel=function(){var e,t;if(this.i=u1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=SS(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function u1(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var o=SS(e.g.values()),u=o.next();!u.done;u=o.next()){var a=u.value;i=i.concat(a.D)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return Sv(e.i)}function qv(){}qv.prototype.stringify=function(e){return Pe.JSON.stringify(e,void 0)};qv.prototype.parse=function(e){return Pe.JSON.parse(e,void 0)};function TM(){this.g=new qv}function SM(e,t,n){var i=n||"";try{jv(e,function(o,u){var a=o;uc(o)&&(a=Ov(o)),t.push(i+u+"="+encodeURIComponent(a))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function AM(e,t){var n=new lh;if(Pe.Image){var i=new Image;i.onload=Fl(jl,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Fl(jl,n,i,"TestLoadImage: error",!1,t),i.onabort=Fl(jl,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Fl(jl,n,i,"TestLoadImage: timeout",!1,t),Pe.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function jl(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function dc(e){this.l=e.$b||null,this.j=e.ib||!1}rn(dc,Mv);dc.prototype.g=function(){return new gh(this.l,this.j)};dc.prototype.i=function(e){return function(){return e}}({});function gh(e,t){Wt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=$v,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rn(gh,Wt);var $v=0;ce=gh.prototype;ce.open=function(e,t){if(this.readyState!=$v)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ka(this)};ce.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Pe).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pc(this)),this.readyState=$v};ce.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ka(this)),this.g&&(this.readyState=3,Ka(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Pe.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;a1(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function a1(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}ce.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pc(this):Ka(this),this.readyState==3&&a1(this)}};ce.Ua=function(e){this.g&&(this.response=this.responseText=e,pc(this))};ce.Ta=function(e){this.g&&(this.response=e,pc(this))};ce.ha=function(){this.g&&pc(this)};function pc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ka(e)}ce.setRequestHeader=function(e,t){this.v.append(e,t)};ce.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ce.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Ka(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(gh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var kM=Pe.JSON.parse;function Ut(e){Wt.call(this),this.headers=new yu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=c1,this.K=this.L=!1}rn(Ut,Wt);var c1="",NM=/^https?$/i,CM=["POST","PUT"];ce=Ut.prototype;ce.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_g.g(),this.C=this.u?mE(this.u):mE(_g),this.g.onreadystatechange=tn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){yE(this,u);return}e=n||"";var o=new yu(this.headers);i&&jv(i,function(u,a){o.set(a,u)}),i=VL(o.T()),n=Pe.FormData&&e instanceof Pe.FormData,!(0<=AS(CM,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,a){this.g.setRequestHeader(a,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{h1(this),0<this.B&&((this.K=RM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tn(this.pa,this)):this.A=Lv(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){yE(this,u)}};function RM(e){return Xs&&KL()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function xM(e){return e.toLowerCase()=="content-type"}ce.pa=function(){typeof Tv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nn(this,"timeout"),this.abort(8))};function yE(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,l1(e),vh(e)}function l1(e){e.D||(e.D=!0,nn(e,"complete"),nn(e,"error"))}ce.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,nn(this,"complete"),nn(this,"abort"),vh(this))};ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vh(this,!0)),Ut.Z.M.call(this)};ce.Fa=function(){this.s||(this.F||this.v||this.l?f1(this):this.cb())};ce.cb=function(){f1(this)};function f1(e){if(e.h&&typeof Tv<"u"&&(!e.C[1]||ni(e)!=4||e.ba()!=2)){if(e.v&&ni(e)==4)Lv(e.Fa,0,e);else if(nn(e,"readystatechange"),ni(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var o;if(o=t===0){var u=String(e.H).match(ZS)[1]||null;if(!u&&Pe.self&&Pe.self.location){var a=Pe.self.location.protocol;u=a.substr(0,a.length-1)}o=!NM.test(u?u.toLowerCase():"")}i=o}if(i)nn(e,"complete"),nn(e,"success");else{e.m=6;try{var l=2<ni(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",l1(e)}}finally{vh(e)}}}}function vh(e,t){if(e.g){h1(e);var n=e.g,i=e.C[0]?pf:null;e.g=null,e.C=null,t||nn(e,"ready");try{n.onreadystatechange=i}catch{}}}function h1(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Pe.clearTimeout(e.A),e.A=null)}function ni(e){return e.g?e.g.readyState:0}ce.ba=function(){try{return 2<ni(this)?this.g.status:-1}catch{return-1}};ce.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ce.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),kM(t)}};function wE(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case c1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ce.Da=function(){return this.m};ce.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function OM(e){var t="";return Av(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Hv(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=OM(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):_t(e,t,n))}function fa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function d1(e){this.za=0,this.l=[],this.h=new lh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fa("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fa("baseRetryDelayMs",5e3,e),this.$a=fa("retryDelaySeedMs",1e4,e),this.Ya=fa("forwardChannelMaxRetries",2,e),this.ra=fa("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new r1(e&&e.concurrentRequestLimit),this.Ca=new TM,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}ce=d1.prototype;ce.ma=8;ce.G=1;function Kv(e){if(p1(e),e.G==3){var t=e.V++,n=ci(e.F);_t(n,"SID",e.J),_t(n,"RID",t),_t(n,"TYPE","terminate"),mc(e,n),t=new fc(e,e.h,t,void 0),t.K=2,t.v=mh(ci(n)),n=!1,Pe.navigator&&Pe.navigator.sendBeacon&&(n=Pe.navigator.sendBeacon(t.v.toString(),"")),!n&&Pe.Image&&(new Image().src=t.v,n=!0),n||(t.g=E1(t.l,null),t.g.ea(t.v)),t.F=Date.now(),hc(t)}b1(e)}ce.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function yh(e){e.g&&(Gv(e),e.g.cancel(),e.g=null)}function p1(e){yh(e),e.u&&(Pe.clearTimeout(e.u),e.u=null),_f(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Pe.clearTimeout(e.m),e.m=null)}function Lm(e,t){e.l.push(new EM(e.Za++,t)),e.G==3&&wh(e)}function wh(e){i1(e.i)||e.m||(e.m=!0,Pv(e.Ha,e),e.C=0)}function PM(e,t){return o1(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=cc(tn(e.Ha,e,t),w1(e,e.C)),e.C++,!0)}ce.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new fc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=NS(n),CS(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){t:{var u=this.l[o];if("__data__"in u.g&&(u=u.g.__data__,typeof u=="string")){u=u.length;break t}u=void 0}if(u===void 0)break;if(i+=u,4096<i){i=o;break e}if(i===4096||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=m1(this,t,i),o=ci(this.F),_t(o,"RID",e),_t(o,"CVER",22),this.D&&_t(o,"X-HTTP-Session-Id",this.D),mc(this,o),this.o&&n&&Hv(o,this.o,n),Bv(this.i,t),this.Ra&&_t(o,"TYPE","init"),this.ja?(_t(o,"$req",i),_t(o,"SID","null"),t.$=!0,Ig(t,o,null)):Ig(t,o,i),this.G=2}}else this.G==3&&(e?bE(this,e):this.l.length==0||i1(this.i)||bE(this))};function bE(e,t){var n;t?n=t.m:n=e.V++;var i=ci(e.F);_t(i,"SID",e.J),_t(i,"RID",n),_t(i,"AID",e.U),mc(e,i),e.o&&e.s&&Hv(i,e.o,e.s),n=new fc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=m1(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Bv(e.i,n),Ig(n,i,t)}function mc(e,t){e.j&&jv({},function(n,i){_t(t,i,n)})}function m1(e,t,n){n=Math.min(e.l.length,n);var i=e.j?tn(e.j.Oa,e.j,e):null;e:for(var o=e.l,u=-1;;){var a=["count="+n];u==-1?0<n?(u=o[0].h,a.push("ofs="+u)):u=0:a.push("ofs="+u);for(var l=!0,f=0;f<n;f++){var d=o[f].h,p=o[f].g;if(d-=u,0>d)u=Math.max(0,o[f].h-100),l=!1;else try{SM(p,a,"req"+d+"_")}catch{i&&i(p)}}if(l){i=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,i}function g1(e){e.g||e.u||(e.Y=1,Pv(e.Ga,e),e.A=0)}function zv(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=cc(tn(e.Ga,e),w1(e,e.A)),e.A++,!0)}ce.Ga=function(){if(this.u=null,v1(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=cc(tn(this.bb,this),e)}};ce.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,En(10),yh(this),v1(this))};function Gv(e){e.B!=null&&(Pe.clearTimeout(e.B),e.B=null)}function v1(e){e.g=new fc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=ci(e.oa);_t(t,"RID","rpc"),_t(t,"SID",e.J),_t(t,"CI",e.N?"0":"1"),_t(t,"AID",e.U),mc(e,t),_t(t,"TYPE","xmlhttp"),e.o&&e.s&&Hv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=mh(ci(t)),n.s=null,n.U=!0,XS(n,e)}ce.ab=function(){this.v!=null&&(this.v=null,yh(this),zv(this),En(19))};function _f(e){e.v!=null&&(Pe.clearTimeout(e.v),e.v=null)}function y1(e,t){var n=null;if(e.g==t){_f(e),Gv(e),e.g=null;var i=2}else if(Sg(e.i,t))n=t.D,s1(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;i=fh(),nn(i,new KS(i,n)),wh(e)}else g1(e);else if(o=t.o,o==3||o==0&&0<e.I||!(i==1&&PM(e,t)||i==2&&zv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:No(e,5);break;case 4:No(e,10);break;case 3:No(e,6);break;default:No(e,2)}}}function w1(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function No(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=tn(e.jb,e);n||(n=new Bo("//www.google.com/images/cleardot.gif"),Pe.location&&Pe.location.protocol=="http"||yf(n,"https"),mh(n)),AM(n.toString(),i)}else En(2);e.G=0,e.j&&e.j.va(t),b1(e),p1(e)}ce.jb=function(e){e?(this.h.info("Successfully pinged google.com"),En(2)):(this.h.info("Failed to ping google.com"),En(1))};function b1(e){e.G=0,e.I=-1,e.j&&((u1(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Sv(e.l),e.l.length=0),e.j.ua())}function _1(e,t,n){var i=pM(n);if(i.i!="")t&&wf(i,t+"."+i.i),bf(i,i.m);else{var o=Pe.location;i=mM(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Av(e.aa,function(u,a){_t(i,a,u)}),t=e.D,n=e.sa,t&&n&&_t(i,t,n),_t(i,"VER",e.ma),mc(e,i),i}function E1(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Ut(new dc({ib:!0})):new Ut(e.qa),t.L=e.H,t}function I1(){}ce=I1.prototype;ce.xa=function(){};ce.wa=function(){};ce.va=function(){};ce.ua=function(){};ce.Oa=function(){};function Ef(){if(Xs&&!(10<=Number(zL)))throw Error("Environmental error: no available transport.")}Ef.prototype.g=function(e,t){return new er(e,t)};function er(e,t){Wt.call(this),this.g=new d1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!mf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!mf(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new bu(this)}rn(er,Wt);er.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Pv(tn(e.hb,e,t))),En(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=_1(e,null,e.W),wh(e)};er.prototype.close=function(){Kv(this.g)};er.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Lm(this.g,t)}else this.v?(t={},t.__data__=Ov(e),Lm(this.g,t)):Lm(this.g,e)};er.prototype.M=function(){this.g.j=null,delete this.j,Kv(this.g),delete this.g,er.Z.M.call(this)};function T1(e){Fv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}rn(T1,Fv);function S1(){Uv.call(this),this.status=1}rn(S1,Uv);function bu(e){this.g=e}rn(bu,I1);bu.prototype.xa=function(){nn(this.g,"a")};bu.prototype.wa=function(e){nn(this.g,new T1(e))};bu.prototype.va=function(e){nn(this.g,new S1)};bu.prototype.ua=function(){nn(this.g,"b")};Ef.prototype.createWebChannel=Ef.prototype.g;er.prototype.send=er.prototype.u;er.prototype.open=er.prototype.m;er.prototype.close=er.prototype.close;hh.NO_ERROR=0;hh.TIMEOUT=8;hh.HTTP_ERROR=6;zS.COMPLETE="complete";GS.EventType=lc;lc.OPEN="a";lc.CLOSE="b";lc.ERROR="c";lc.MESSAGE="d";Wt.prototype.listen=Wt.prototype.N;Ut.prototype.listenOnce=Ut.prototype.O;Ut.prototype.getLastError=Ut.prototype.La;Ut.prototype.getLastErrorCode=Ut.prototype.Da;Ut.prototype.getStatus=Ut.prototype.ba;Ut.prototype.getResponseJson=Ut.prototype.Qa;Ut.prototype.getResponseText=Ut.prototype.ga;Ut.prototype.send=Ut.prototype.ea;var DM=function(){return new Ef},LM=function(){return fh()},Mm=hh,MM=zS,FM=Go,_E={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},UM=dc,Vl=GS,jM=Ut;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Yn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=function(e){function t(n,i){var o=this;return(o=e.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Ie(t,e),t}(Error),Er=new _S("@firebase/firestore");function Ag(){return Er.logLevel}function ne(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Er.logLevel<=Qe.DEBUG){var i=t.map(Wv);Er.debug.apply(Er,bt(["Firestore (8.10.1): "+e],i))}}function Mt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Er.logLevel<=Qe.ERROR){var i=t.map(Wv);Er.error.apply(Er,bt(["Firestore (8.10.1): "+e],i))}}function If(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Er.logLevel<=Qe.WARN){var i=t.map(Wv);Er.warn.apply(Er,bt(["Firestore (8.10.1): "+e],i))}}function Wv(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Mt(t),new Error(t)}function Ce(e,t){e||ye()}function se(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A1=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var o=VM(40),u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=t.charAt(o[u]%t.length));return i},e}();function qe(e,t){return e<t?-1:e>t?1:0}function Ys(e,t,n){return e.length===t.length&&e.every(function(i,o){return n(i,t[o])})}function k1(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Y(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Y(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Y(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?qe(this.nanoseconds,t.nanoseconds):qe(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ue=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Dn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function N1(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C1=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&ye(),i===void 0?i=t.length-n:i>t.length-n&&ye(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var u=t.get(o),a=n.get(o);if(u<a)return-1;if(u>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Je=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],u=0,a=n;u<a.length;u++){var l=a[u];if(l.indexOf("//")>=0)throw new Y(P.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(C1),BM=/^[_a-zA-Z][_a-zA-Z0-9]*$/,kr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.isValidIdentifier=function(n){return BM.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],o="",u=0,a=function(){if(o.length===0)throw new Y(P.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;u<n.length;){var f=n[u];if(f==="\\"){if(u+1===n.length)throw new Y(P.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[u+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Y(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,u+=2}else f==="`"?(l=!l,u++):f!=="."||l?(o+=f,u++):(a(),u++)}if(a(),l)throw new Y(P.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(C1),Qs=function(){function e(t){this.fields=t,t.sort(kr.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Ys(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),Mn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return qe(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Mn.EMPTY_BYTE_STRING=new Mn("");var qM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(e){if(Ce(!!e),typeof e=="string"){var t=0,n=qM.exec(e);if(Ce(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Lt(e.seconds),nanos:Lt(e.nanos)}}function Lt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Js(e){return typeof e=="string"?Mn.fromBase64String(e):Mn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function R1(e){var t=e.mapValue.fields.__previous_value__;return Xv(t)?R1(t):t}function za(e){var t=qi(e.mapValue.fields.__local_write_time__.timestampValue);return new Dn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(e){return e==null}function Tf(e){return e===0&&1/e==-1/0}function x1(e){return typeof e=="number"&&Number.isInteger(e)&&!Tf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Je.fromString(t))},e.fromName=function(t){return new e(Je.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Je.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Je.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Je(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Xv(e)?4:10:ye()}function zr(e,t){var n=qo(e);if(n!==qo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return za(e).isEqual(za(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var u=qi(i.timestampValue),a=qi(o.timestampValue);return u.seconds===a.seconds&&u.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return Js(i.bytesValue).isEqual(Js(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Lt(i.geoPointValue.latitude)===Lt(o.geoPointValue.latitude)&&Lt(i.geoPointValue.longitude)===Lt(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Lt(i.integerValue)===Lt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var u=Lt(i.doubleValue),a=Lt(o.doubleValue);return u===a?Tf(u)===Tf(a):isNaN(u)&&isNaN(a)}return!1}(e,t);case 9:return Ys(e.arrayValue.values||[],t.arrayValue.values||[],zr);case 10:return function(i,o){var u=i.mapValue.fields||{},a=o.mapValue.fields||{};if(EE(u)!==EE(a))return!1;for(var l in u)if(u.hasOwnProperty(l)&&(a[l]===void 0||!zr(u[l],a[l])))return!1;return!0}(e,t);default:return ye()}}function Ga(e,t){return(e.values||[]).find(function(n){return zr(n,t)})!==void 0}function Zs(e,t){var n=qo(e),i=qo(t);if(n!==i)return qe(n,i);switch(n){case 0:return 0;case 1:return qe(e.booleanValue,t.booleanValue);case 2:return function(o,u){var a=Lt(o.integerValue||o.doubleValue),l=Lt(u.integerValue||u.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return IE(e.timestampValue,t.timestampValue);case 4:return IE(za(e),za(t));case 5:return qe(e.stringValue,t.stringValue);case 6:return function(o,u){var a=Js(o),l=Js(u);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,u){for(var a=o.split("/"),l=u.split("/"),f=0;f<a.length&&f<l.length;f++){var d=qe(a[f],l[f]);if(d!==0)return d}return qe(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,u){var a=qe(Lt(o.latitude),Lt(u.latitude));return a!==0?a:qe(Lt(o.longitude),Lt(u.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,u){for(var a=o.values||[],l=u.values||[],f=0;f<a.length&&f<l.length;++f){var d=Zs(a[f],l[f]);if(d)return d}return qe(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,u){var a=o.fields||{},l=Object.keys(a),f=u.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var p=0;p<l.length&&p<d.length;++p){var g=qe(l[p],d[p]);if(g!==0)return g;var v=Zs(a[l[p]],f[d[p]]);if(v!==0)return v}return qe(l.length,d.length)}(e.mapValue,t.mapValue);default:throw ye()}}function IE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return qe(e,t);var n=qi(e),i=qi(t),o=qe(n.seconds,i.seconds);return o!==0?o:qe(n.nanos,i.nanos)}function Yv(e){return kg(e)}function kg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var o=qi(i);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Js(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_e.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var o="[",u=!0,a=0,l=i.values||[];a<l.length;a++)u?u=!1:o+=",",o+=kg(l[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var o="{",u=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];u?u=!1:o+=",",o+=f+":"+kg(i.fields[f])}return o+"}"}(e.mapValue):ye();var t,n}function Sf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Ng(e){return!!e&&"integerValue"in e}function Qv(e){return!!e&&"arrayValue"in e}function TE(e){return!!e&&"nullValue"in e}function SE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tf(e){return!!e&&"mapValue"in e}function Aa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Wo(e.mapValue.fields,function(o,u){return t.mapValue.fields[o]=Aa(u)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Aa(e.arrayValue.values[i]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!tf(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Aa(n)},e.prototype.setAll=function(t){var n=this,i=kr.emptyPath(),o={},u=[];t.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,u),o={},u=[],i=f.popLast()}l?o[f.lastSegment()]=Aa(l):u.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,u)},e.prototype.delete=function(t){var n=this.field(t.popLast());tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return zr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var o=n.mapValue.fields[t.get(i)];tf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){Wo(n,function(l,f){return t[l]=f});for(var o=0,u=i;o<u.length;o++){var a=u[o];delete t[a]}},e.prototype.clone=function(){return new e(Aa(this.value))},e}();function O1(e){var t=[];return Wo(e.fields,function(n,i){var o=new kr([n]);if(tf(i)){var u=O1(i.mapValue).fields;if(u.length===0)t.push(o);else for(var a=0,l=u;a<l.length;a++){var f=l[a];t.push(o.child(f))}}else t.push(o)}),new Qs(t)}var fn=function(){function e(t,n,i,o,u){this.key=t,this.documentType=n,this.version=i,this.data=o,this.documentState=u}return e.newInvalidDocument=function(t){return new e(t,0,Ue.min(),Xn.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Xn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Xn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),$M=function(e,t,n,i,o,u,a){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=u,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(e,t,n,i,o,u,a){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),new $M(e,t,n,i,o,u,a)}function gc(e){var t=se(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+Yv(o.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),Xo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=kf(t.startAt)),t.endAt&&(n+="|ub:",n+=kf(t.endAt)),t.h=n}return t.h}function bh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!QM(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(o=e.filters[i],u=t.filters[i],o.op!==u.op||!o.field.isEqual(u.field)||!zr(o.value,u.value))return!1;var o,u;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!NE(e.startAt,t.startAt)&&NE(e.endAt,t.endAt)}function Af(e){return _e.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Qn=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).field=n,u.op=i,u.value=o,u}return Ie(t,e),t.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new HM(n,i,o):i==="array-contains"?new GM(n,o):i==="in"?new WM(n,o):i==="not-in"?new XM(n,o):i==="array-contains-any"?new YM(n,o):new t(n,i,o)},t.l=function(n,i,o){return i==="in"?new KM(n,o):new zM(n,o)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(Zs(i,this.value)):i!==null&&qo(this.value)===qo(i)&&this.m(Zs(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ye()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),HM=function(e){function t(n,i,o){var u=this;return(u=e.call(this,n,i,o)||this).key=_e.fromName(o.referenceValue),u}return Ie(t,e),t.prototype.matches=function(n){var i=_e.comparator(n.key,this.key);return this.m(i)},t}(Qn),KM=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"in",i)||this).keys=P1("in",i),o}return Ie(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(Qn),zM=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"not-in",i)||this).keys=P1("not-in",i),o}return Ie(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(Qn);function P1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return _e.fromName(i.referenceValue)})}var GM=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return Ie(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return Qv(i)&&Ga(i.arrayValue,this.value)},t}(Qn),WM=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return Ie(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&Ga(this.value.arrayValue,i)},t}(Qn),XM=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return Ie(t,e),t.prototype.matches=function(n){if(Ga(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!Ga(this.value.arrayValue,i)},t}(Qn),YM=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return Ie(t,e),t.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!Qv(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(u){return Ga(i.value.arrayValue,u)})},t}(Qn),Wa=function(e,t){this.position=e,this.before=t};function kf(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Yv(t)}).join(",")}var Vs=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function QM(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function kE(e,t,n){for(var i=0,o=0;o<e.position.length;o++){var u=t[o],a=e.position[o];if(i=u.field.isKeyField()?_e.comparator(_e.fromName(a.referenceValue),n.key):Zs(a,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function NE(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!zr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi=function(e,t,n,i,o,u,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=u,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function D1(e,t,n,i,o,u,a,l){return new fi(e,t,n,i,o,u,a,l)}function vc(e){return new fi(e)}function nf(e){return!Xo(e.limit)&&e.limitType==="F"}function Nf(e){return!Xo(e.limit)&&e.limitType==="L"}function Jv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Zv(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function ey(e){return e.collectionGroup!==null}function eu(e){var t=se(e);if(t.p===null){t.p=[];var n=Zv(t),i=Jv(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new Vs(n)),t.p.push(new Vs(kr.keyField(),"asc"));else{for(var o=!1,u=0,a=t.explicitOrderBy;u<a.length;u++){var l=a[u];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Vs(kr.keyField(),f))}}}return t.p}function Gr(e){var t=se(e);if(!t.T)if(t.limitType==="F")t.T=AE(t.path,t.collectionGroup,eu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,o=eu(t);i<o.length;i++){var u=o[i],a=u.dir==="desc"?"asc":"desc";n.push(new Vs(u.field,a))}var l=t.endAt?new Wa(t.endAt.position,!t.endAt.before):null,f=t.startAt?new Wa(t.startAt.position,!t.startAt.before):null;t.T=AE(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function L1(e,t,n){return new fi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yc(e,t){return bh(Gr(e),Gr(t))&&e.limitType===t.limitType}function M1(e){return gc(Gr(e))+"|lt:"+e.limitType}function Cg(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+Yv(o.value);var o}).join(", ")+"]"),Xo(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+kf(t.startAt)),t.endAt&&(n+=", endAt: "+kf(t.endAt)),"Target("+n+")"}(Gr(e))+"; limitType="+e.limitType+")"}function wc(e,t){return t.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):_e.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,i){for(var o=0,u=n.explicitOrderBy;o<u.length;o++){var a=u[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var o=0,u=n.filters;o<u.length;o++)if(!u[o].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!kE(n.startAt,eu(n),i))&&(!n.endAt||!kE(n.endAt,eu(n),i))}(e,t)}function F1(e){return function(t,n){for(var i=!1,o=0,u=eu(e);o<u.length;o++){var a=u[o],l=JM(a,t,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function JM(e,t,n){var i=e.field.isKeyField()?_e.comparator(t.key,n.key):function(o,u,a){var l=u.data.field(o),f=a.data.field(o);return l!==null&&f!==null?Zs(l,f):ye()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tf(t)?"-0":t}}function j1(e){return{integerValue:""+e}}function V1(e,t){return x1(t)?j1(t):U1(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _h=function(){this._=void 0};function ZM(e,t,n){return e instanceof tu?function(i,o){var u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,t):e instanceof $o?q1(e,t):e instanceof Ho?$1(e,t):function(i,o){var u=B1(i,o),a=CE(u)+CE(i.A);return Ng(u)&&Ng(i.A)?j1(a):U1(i.R,a)}(e,t)}function eF(e,t,n){return e instanceof $o?q1(e,t):e instanceof Ho?$1(e,t):n}function B1(e,t){return e instanceof nu?Ng(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}var tu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t}(_h),$o=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Ie(t,e),t}(_h);function q1(e,t){for(var n=H1(t),i=function(a){n.some(function(l){return zr(l,a)})||n.push(a)},o=0,u=e.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var Ho=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Ie(t,e),t}(_h);function $1(e,t){for(var n=H1(t),i=function(a){n=n.filter(function(l){return!zr(l,a)})},o=0,u=e.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var nu=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).R=n,o.A=i,o}return Ie(t,e),t}(_h);function CE(e){return Lt(e.integerValue||e.doubleValue)}function H1(e){return Qv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bc=function(e,t){this.field=e,this.transform=t},tF=function(e,t){this.version=e,this.transformResults=t},cn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function rf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Eh=function(){};function nF(e,t,n){e instanceof _c?function(i,o,u){var a=i.value.clone(),l=OE(i.fieldTransforms,o,u.transformResults);a.setAll(l),o.convertToFoundDocument(u.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Gi?function(i,o,u){if(rf(i.precondition,o)){var a=OE(i.fieldTransforms,o,u.transformResults),l=o.data;l.setAll(K1(i)),l.setAll(a),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(u.version)}(e,t,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,n)}function Rg(e,t,n){e instanceof _c?function(i,o,u){if(rf(i.precondition,o)){var a=i.value.clone(),l=PE(i.fieldTransforms,u,o);a.setAll(l),o.convertToFoundDocument(xE(o),a).setHasLocalMutations()}}(e,t,n):e instanceof Gi?function(i,o,u){if(rf(i.precondition,o)){var a=PE(i.fieldTransforms,u,o),l=o.data;l.setAll(K1(i)),l.setAll(a),o.convertToFoundDocument(xE(o),l).setHasLocalMutations()}}(e,t,n):function(i,o){rf(i.precondition,o)&&o.convertToNoDocument(Ue.min())}(e,t)}function rF(e,t){for(var n=null,i=0,o=e.fieldTransforms;i<o.length;i++){var u=o[i],a=t.data.field(u.field),l=B1(u.transform,a||null);l!=null&&(n==null&&(n=Xn.empty()),n.set(u.field,l))}return n||null}function RE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ys(n,i,function(o,u){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof $o&&d instanceof $o||f instanceof Ho&&d instanceof Ho?Ys(f.elements,d.elements,zr):f instanceof nu&&d instanceof nu?zr(f.A,d.A):f instanceof tu&&d instanceof tu}(a.transform,l.transform)}(o,u)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function xE(e){return e.isFoundDocument()?e.version:Ue.min()}var _c=function(e){function t(n,i,o,u){u===void 0&&(u=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=u,a.type=0,a}return Ie(t,e),t}(Eh),Gi=function(e){function t(n,i,o,u,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=u,l.fieldTransforms=a,l.type=1,l}return Ie(t,e),t}(Eh);function K1(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function OE(e,t,n){var i=new Map;Ce(e.length===n.length);for(var o=0;o<n.length;o++){var u=e[o],a=u.transform,l=t.data.field(u.field);i.set(u.field,eF(a,l,n[o]))}return i}function PE(e,t,n){for(var i=new Map,o=0,u=e;o<u.length;o++){var a=u[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,ZM(l,f,t))}return i}var Dt,Ke,Ec=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return Ie(t,e),t}(Eh),ty=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return Ie(t,e),t}(Eh),iF=function(e){this.count=e};function z1(e){switch(e){case P.OK:return ye();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return ye()}}function G1(e){if(e===void 0)return Mt("GRPC error has no .code"),P.UNKNOWN;switch(e){case Dt.OK:return P.OK;case Dt.CANCELLED:return P.CANCELLED;case Dt.UNKNOWN:return P.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return P.INTERNAL;case Dt.UNAVAILABLE:return P.UNAVAILABLE;case Dt.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Dt.NOT_FOUND:return P.NOT_FOUND;case Dt.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Dt.ABORTED:return P.ABORTED;case Dt.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Dt.DATA_LOSS:return P.DATA_LOSS;default:return ye()}}(Ke=Dt||(Dt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn=function(){function e(t,n){this.comparator=t,this.root=n||xi.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,xi.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xi.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Bl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Bl(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Bl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Bl(this.root,t,this.comparator,!0)},e}(),Bl=function(){function e(t,n,i,o){this.isReverse=o,this.nodeStack=[];for(var u=1;!t.isEmpty();)if(u=n?i(t.key,n):1,o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),xi=function(){function e(t,n,i,o,u){this.key=t,this.value=n,this.color=i??e.RED,this.left=o??e.EMPTY,this.right=u??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,o,u){return new e(t??this.key,n??this.value,i??this.color,o??this.left,u??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var o=this,u=i(t,o.key);return(o=u<0?o.copy(null,null,null,o.left.insert(t,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();var t=this.left.check();if(t!==this.right.check())throw ye();return t+(this.isRed()?0:1)},e}();xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1,xi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ye()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,o,u){return this},e.prototype.insert=function(t,n,i){return new xi(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht=function(){function e(t){this.comparator=t,this.data=new hn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new DE(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new DE(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),DE=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),oF=new hn(_e.comparator);function Ir(){return oF}var sF=new hn(_e.comparator);function xg(){return sF}var uF=new hn(_e.comparator);function aF(){return uF}var cF=new Ht(_e.comparator);function lt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=cF,i=0,o=e;i<o.length;i++){var u=o[i];n=n.add(u)}return n}var lF=new Ht(qe);function Ih(){return lF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ny=function(){function e(t,n,i,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,ry.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ue.min(),i,Ih(),Ir(),lt())},e}(),ry=function(){function e(t,n,i,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Mn.EMPTY_BYTE_STRING,n,lt(),lt(),lt())},e}(),of=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},W1=function(e,t){this.targetId=e,this.V=t},X1=function(e,t,n,i){n===void 0&&(n=Mn.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},LE=function(){function e(){this.S=0,this.D=FE(),this.C=Mn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=lt(),n=lt(),i=lt();return this.D.forEach(function(o,u){switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ye()}}),new ry(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=FE()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),fF=function(){function e(t){this.W=t,this.G=new Map,this.H=Ir(),this.J=ME(),this.Y=new Ht(qe)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var o=i[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var u=0,a=t.removedTargetIds;u<a.length;u++)o=a[u],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var o=n.nt(i);switch(t.state){case 0:n.st(i)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(t.resumeToken));break;default:ye()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,u){i.st(u)&&n(u)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,o=this.ot(n);if(o){var u=o.target;if(Af(u))if(i===0){var a=new _e(u.path);this.tt(n,a,fn.newNoDocument(a,Ue.min()))}else Ce(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&Af(f.target)){var d=new _e(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,fn.newNoDocument(d,t))}a.$&&(i.set(l,a.M()),a.L())}});var o=lt();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var p=n.ot(d);return!p||p.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var u=new ny(t,i,this.Y,this.H,o);return this.H=Ir(),this.J=ME(),this.Y=new Ht(qe),u},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new LE,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Ht(qe),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new LE),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function ME(){return new hn(_e.comparator)}function FE(){return new hn(_e.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hF={asc:"ASCENDING",desc:"DESCENDING"},dF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pF=function(e,t){this.databaseId=e,this.I=t};function Xa(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Y1(e,t){return e.I?t.toBase64():t.toUint8Array()}function mF(e,t){return Xa(e,t.toTimestamp())}function In(e){return Ce(!!e),Ue.fromTimestamp(function(t){var n=qi(t);return new Dn(n.seconds,n.nanos)}(e))}function iy(e,t){return function(n){return new Je(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function Q1(e){var t=Je.fromString(e);return Ce(iA(t)),t}function Ya(e,t){return iy(e.databaseId,t.path)}function ii(e,t){var n=Q1(t);if(n.get(1)!==e.databaseId.projectId)throw new Y(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Y(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _e(Z1(n))}function Og(e,t){return iy(e.databaseId,t)}function J1(e){var t=Q1(e);return t.length===4?Je.emptyPath():Z1(t)}function Qa(e){return new Je(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Z1(e){return Ce(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function UE(e,t,n){return{name:Ya(e,t),fields:n.value.mapValue.fields}}function gF(e,t,n){var i=ii(e,t.name),o=In(t.updateTime),u=new Xn({mapValue:{fields:t.fields}}),a=fn.newFoundDocument(i,o,u);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Cf(e,t){var n;if(t instanceof _c)n={update:UE(e,t.key,t.value)};else if(t instanceof Ec)n={delete:Ya(e,t.key)};else if(t instanceof Gi)n={update:UE(e,t.key,t.data),updateMask:_F(t.fieldMask)};else{if(!(t instanceof ty))return ye();n={verify:Ya(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(o,u){var a=u.transform;if(a instanceof tu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $o)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ho)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof nu)return{fieldPath:u.field.canonicalString(),increment:a.A};throw ye()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:mF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye()}(e,t.precondition)),n}function jE(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?cn.updateTime(In(d.updateTime)):d.exists!==void 0?cn.exists(d.exists):cn.none()}(t.currentDocument):cn.none(),i=t.updateTransforms?t.updateTransforms.map(function(d){return function(p,g){var v=null;if("setToServerValue"in g)Ce(g.setToServerValue==="REQUEST_TIME"),v=new tu;else if("appendMissingElements"in g){var b=g.appendMissingElements.values||[];v=new $o(b)}else if("removeAllFromArray"in g){var _=g.removeAllFromArray.values||[];v=new Ho(_)}else"increment"in g?v=new nu(p,g.increment):ye();var T=kr.fromServerFormat(g.fieldPath);return new bc(T,v)}(e,d)}):[];if(t.update){t.update.name;var o=ii(e,t.update.name),u=new Xn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(d){var p=d.fieldPaths||[];return new Qs(p.map(function(g){return kr.fromServerFormat(g)}))}(t.updateMask);return new Gi(o,u,a,n,i)}return new _c(o,u,n,i)}if(t.delete){var l=ii(e,t.delete);return new Ec(l,n)}if(t.verify){var f=ii(e,t.verify);return new ty(f,n)}return ye()}function eA(e,t){return{documents:[Og(e,t.path)]}}function tA(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Og(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Og(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(p){if(p.op==="=="){if(SE(p.value))return{unaryFilter:{field:As(p.field),op:"IS_NAN"}};if(TE(p.value))return{unaryFilter:{field:As(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(SE(p.value))return{unaryFilter:{field:As(p.field),op:"IS_NOT_NAN"}};if(TE(p.value))return{unaryFilter:{field:As(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(p.field),op:yF(p.op),value:p.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var u=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:As(d.field),direction:vF(d.dir)}}(f)})}(t.orderBy);u&&(n.structuredQuery.orderBy=u);var a=function(l,f){return l.I||Xo(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=VE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=VE(t.endAt)),n}function nA(e){var t=J1(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Ce(i===1);var u=n.from[0];u.allDescendants?o=u.collectionId:t=t.child(u.collectionId)}var a=[];n.where&&(a=rA(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(g){return function(v){return new Vs(Ls(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(g)}));var f=null;n.limit&&(f=function(g){var v;return Xo(v=typeof g=="object"?g.value:g)?null:v}(n.limit));var d=null;n.startAt&&(d=BE(n.startAt));var p=null;return n.endAt&&(p=BE(n.endAt)),D1(t,o,l,a,f,"F",d,p)}function rA(e){return e?e.unaryFilter!==void 0?[bF(e)]:e.fieldFilter!==void 0?[wF(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return rA(t)}).reduce(function(t,n){return t.concat(n)}):ye():[]}function VE(e){return{before:e.before,values:e.position}}function BE(e){var t=!!e.before,n=e.values||[];return new Wa(n,t)}function vF(e){return hF[e]}function yF(e){return dF[e]}function As(e){return{fieldPath:e.canonicalString()}}function Ls(e){return kr.fromServerFormat(e.fieldPath)}function wF(e){return Qn.create(Ls(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ye()}}(e.fieldFilter.op),e.fieldFilter.value)}function bF(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ls(e.unaryFilter.field);return Qn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ls(e.unaryFilter.field);return Qn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Ls(e.unaryFilter.field);return Qn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Ls(e.unaryFilter.field);return Qn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ye()}}function _F(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function iA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=qE(t)),t=EF(e.get(n),t);return qE(t)}function EF(e,t){for(var n=t,i=e.length,o=0;o<i;o++){var u=e.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function qE(e){return e+""}function ri(e){var t=e.length;if(Ce(t>=2),t===2)return Ce(e.charAt(0)===""&&e.charAt(1)===""),Je.emptyPath();for(var n=t-2,i=[],o="",u=0;u<t;){var a=e.indexOf("",u);switch((a<0||a>n)&&ye(),e.charAt(a+1)){case"":var l=e.substring(u,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=e.substring(u,a),o+="\0";break;case"":o+=e.substring(u,a+1);break;default:ye()}u=a+2}return new Je(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IF=function(e,t){this.seconds=e,this.nanoseconds=t},zn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};zn.store="owner",zn.key="owner";var ji=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};ji.store="mutationQueues",ji.keyPath="userId";var dt=function(e,t,n,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};dt.store="mutations",dt.keyPath="batchId",dt.userMutationsIndex="userMutationsIndex",dt.userMutationsKeyPath=["userId","batchId"];var sn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Tr(n)]},e.key=function(t,n,i){return[t,Tr(n),i]},e}();sn.store="documentMutations",sn.PLACEHOLDER=new sn;var TF=function(e,t){this.path=e,this.readTime=t},SF=function(e,t){this.path=e,this.version=t},kt=function(e,t,n,i,o,u){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=u};kt.store="remoteDocuments",kt.readTimeIndex="readTimeIndex",kt.readTimeIndexPath="readTime",kt.collectionReadTimeIndex="collectionReadTimeIndex",kt.collectionReadTimeIndexPath=["parentPath","readTime"];var qr=function(e){this.byteSize=e};qr.store="remoteDocumentGlobal",qr.key="remoteDocumentGlobalKey";var Pn=function(e,t,n,i,o,u,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=a};Pn.store="targets",Pn.keyPath="targetId",Pn.queryTargetsIndexName="queryTargetsIndex",Pn.queryTargetsKeyPath=["canonicalId","targetId"];var Zt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Zt.store="targetDocuments",Zt.keyPath=["targetId","path"],Zt.documentTargetsIndex="documentTargetsIndex",Zt.documentTargetsKeyPath=["path","targetId"];var Wn=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Wn.key="targetGlobalKey",Wn.store="targetGlobal";var Do=function(e,t){this.collectionId=e,this.parent=t};Do.store="collectionParents",Do.keyPath=["collectionId","parent"];var oi=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};oi.store="clientMetadata",oi.keyPath="clientId";var ru=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};ru.store="bundles",ru.keyPath="bundleId";var iu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};iu.store="namedQueries",iu.keyPath="name";var AF=bt(bt([],bt(bt([],bt(bt([],bt(bt([],[ji.store,dt.store,sn.store,kt.store,Pn.store,zn.store,Wn.store,Zt.store]),[oi.store])),[qr.store])),[Do.store])),[ru.store,iu.store]),oA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sA=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Fn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},J=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,u){i.nextCallback=function(a){i.wrapSuccess(t,a).next(o,u)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,u)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var o=0,u=0,a=!1;t.forEach(function(l){++o,l.next(function(){++u,a&&u===o&&n()},function(f){return i(f)})}),a=!0,u===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},o=0,u=t;o<u.length;o++)i(u[o]);return n},e.forEach=function(t,n){var i=this,o=[];return t.forEach(function(u,a){o.push(n.call(i,u,a))}),this.waitFor(o)},e}(),uA=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Fn,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new ka(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var u=oy(o.target.error);i.ft.reject(new ka(t,u))}}return e.open=function(t,n,i,o){try{return new e(n,t.transaction(o,i))}catch(u){throw new ka(n,u)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ne("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new NF(n)},e}(),ou=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(jo())===12.2&&Mt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return ne("SimpleDb","Removing database:",t),So(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=jo(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),u=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||u)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return K(this,void 0,void 0,function(){var n,i=this;return H(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ne("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(u,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;u(d)},l.onblocked=function(){a(new ka(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new Y(P.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new ka(t,d))},l.onupgradeneeded=function(f){ne("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){ne("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return i.bt(u)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,o){return K(this,void 0,void 0,function(){var u,a,l,f,d;return H(this,function(p){switch(p.label){case 0:u=n==="readonly",a=0,l=function(){var g,v,b,_,T;return H(this,function(S){switch(S.label){case 0:++a,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=S.sent(),g=uA.open(f.db,t,u?"readonly":"readwrite",i),v=o(g).catch(function(x){return g.abort(x),J.reject(x)}).toPromise(),b={},v.catch(function(){}),[4,g.dt];case 3:return[2,(b.value=(S.sent(),v),b)];case 4:return _=S.sent(),T=_.name!=="FirebaseError"&&a<3,ne("SimpleDb","Transaction failed with error:",_.message,"Retrying:",T),f.close(),T?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(d=p.sent())=="object")return[2,d.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),kF=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return So(this.Pt.delete())},e}(),ka=function(e){function t(n,i){var o=this;return(o=e.call(this,P.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return Ie(t,e),t}(Y);function Yo(e){return e.name==="IndexedDbTransactionError"}var NF=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(ne("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(ne("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),So(i)},e.prototype.add=function(t){return ne("SimpleDb","ADD",this.store.name,t,t),So(this.store.add(t))},e.prototype.get=function(t){var n=this;return So(this.store.get(t)).next(function(i){return i===void 0&&(i=null),ne("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return ne("SimpleDb","DELETE",this.store.name,t),So(this.store.delete(t))},e.prototype.count=function(){return ne("SimpleDb","COUNT",this.store.name),So(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),o=[];return this.xt(i,function(u,a){o.push(a)}).next(function(){return o})},e.prototype.kt=function(t,n){ne("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(u,a,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var o=this.cursor(i);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new J(function(i,o){n.onerror=function(u){var a=oy(u.target.error);o(a)},n.onsuccess=function(u){var a=u.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new J(function(o,u){t.onerror=function(a){u(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var f=new kF(l),d=n(l.primaryKey,l.value,f);if(d instanceof J){var p=d.catch(function(g){return f.done(),J.reject(g)});i.push(p)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return J.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function So(e){return new J(function(t,n){e.onsuccess=function(i){var o=i.target.result;t(o)},e.onerror=function(i){var o=oy(i.target.error);n(o)}})}var $E=!1;function oy(e){var t=ou._t(jo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new Y("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return $E||($E=!0,setTimeout(function(){throw i},0)),i}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HE=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return Ie(t,e),t}(sA);function Un(e,t){var n=se(e);return ou.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sy=function(){function e(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var u=this.mutations[o];u.key.isEqual(t.key)&&nF(u,t,i[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(t.key)&&Rg(a,t,this.localWriteTime);for(var o=0,u=this.mutations;o<u.length;o++){var a;(a=u[o]).key.isEqual(t.key)&&Rg(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var o=t.get(i.key),u=o;n.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(Ue.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},lt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ys(this.mutations,t.mutations,function(n,i){return RE(n,i)})&&Ys(this.baseMutations,t.baseMutations,function(n,i){return RE(n,i)})},e}(),CF=function(){function e(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return e.from=function(t,n,i){Ce(t.mutations.length===i.length);for(var o=aF(),u=t.mutations,a=0;a<u.length;a++)o=o.insert(u[a].key,i[a].version);return new e(t,n,i,o)},e}(),Th=function(){function e(t,n,i,o,u,a,l){u===void 0&&(u=Ue.min()),a===void 0&&(a=Ue.min()),l===void 0&&(l=Mn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),aA=function(e){this.Lt=e};function Pg(e,t){if(t.document)return gF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=_e.fromSegments(t.noDocument.path),i=uu(t.noDocument.readTime),o=fn.newNoDocument(n,i);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var u=_e.fromSegments(t.unknownDocument.path);return i=uu(t.unknownDocument.version),fn.newUnknownDocument(u,i)}return ye()}function KE(e,t,n){var i=uy(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var u=function(g,v){return{name:Ya(g,v.key),fields:v.data.value.mapValue.fields,updateTime:Xa(g,v.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new kt(null,null,u,a,i,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=su(t.version);return a=t.hasCommittedMutations,new kt(null,new TF(l,f),null,a,i,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),p=su(t.version);return new kt(new SF(d,p),null,null,!0,i,o)}return ye()}function uy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function cA(e){var t=new Dn(e[0],e[1]);return Ue.fromTimestamp(t)}function su(e){var t=e.toTimestamp();return new IF(t.seconds,t.nanoseconds)}function uu(e){var t=new Dn(e.seconds,e.nanoseconds);return Ue.fromTimestamp(t)}function xs(e,t){for(var n=(t.baseMutations||[]).map(function(f){return jE(e.Lt,f)}),i=0;i<t.mutations.length-1;++i){var o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var u=t.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var a=t.mutations.map(function(f){return jE(e.Lt,f)}),l=Dn.fromMillis(t.localWriteTimeMs);return new sy(t.batchId,l,n,a)}function wa(e){var t,n,i=uu(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?uu(e.lastLimboFreeSnapshotVersion):Ue.min();return e.query.documents!==void 0?(Ce((n=e.query).documents.length===1),t=Gr(vc(J1(n.documents[0])))):t=function(u){return Gr(nA(u))}(e.query),new Th(t,e.targetId,0,e.lastListenSequenceNumber,i,o,Mn.fromBase64String(e.resumeToken))}function lA(e,t){var n,i=su(t.snapshotVersion),o=su(t.lastLimboFreeSnapshotVersion);n=Af(t.target)?eA(e.Lt,t.target):tA(e.Lt,t.target);var u=t.resumeToken.toBase64();return new Pn(t.targetId,gc(t.target),i,u,t.sequenceNumber,o,n)}function fA(e){var t=nA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?L1(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RF=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return zE(t).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:uu(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return zE(t).put({bundleId:(i=n).id,createTime:su(In(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return GE(t).get(n).next(function(i){if(i)return{name:(o=i).name,query:fA(o.bundledQuery),readTime:uu(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return GE(t).put(function(i){return{name:i.name,readTime:su(In(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();function zE(e){return Un(e,ru.store)}function GE(e){return Un(e,iu.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xF=function(){function e(){this.Bt=new ay}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),J.resolve()},e.prototype.getCollectionParents=function(t,n){return J.resolve(this.Bt.getEntries(n))},e}(),ay=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Ht(Je.comparator),u=!o.has(i);return this.index[n]=o.add(i),u},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new Ht(Je.comparator)).toArray()},e}(),OF=function(){function e(){this.qt=new ay}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),u=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:Tr(u)};return WE(t).put(a)}return J.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],o=IDBKeyRange.bound([n,""],[k1(n),""],!1,!0);return WE(t).Nt(o).next(function(u){for(var a=0,l=u;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(ri(f.parent))}return i})},e}();function WE(e){return Un(e,Do.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ur=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(e,t,n){var i=e.store(dt.store),o=e.store(sn.store),u=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(_,T,S){return l++,S.delete()});u.push(f.next(function(){Ce(l===1)}));for(var d=[],p=0,g=n.mutations;p<g.length;p++){var v=g[p],b=sn.key(t,v.key.path,n.batchId);u.push(o.delete(b)),d.push(v.key)}return J.waitFor(u).next(function(){return d})}function Rf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ye();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur.DEFAULT_COLLECTION_PERCENTILE=10,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ur.DEFAULT=new Ur(41943040,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ur.DISABLED=new Ur(-1,0,0);var PF=function(){function e(t,n,i,o){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,i,o){return Ce(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,o)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ii(t).$t({index:dt.userMutationsIndex,range:i},function(o,u,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,o){var u=this,a=Os(t),l=Ii(t);return l.add({}).next(function(f){Ce(typeof f=="number");for(var d=new sy(f,n,i,o),p=function(x,O,U){var q=U.baseMutations.map(function(V){return Cf(x.Lt,V)}),te=U.mutations.map(function(V){return Cf(x.Lt,V)});return new dt(O,U.batchId,U.localWriteTime.toMillis(),q,te)}(u.R,u.userId,d),g=[],v=new Ht(function(x,O){return qe(x.canonicalString(),O.canonicalString())}),b=0,_=o;b<_.length;b++){var T=_[b],S=sn.key(u.userId,T.key.path,f);v=v.add(T.key.path.popLast()),g.push(l.put(p)),g.push(a.put(S,sn.PLACEHOLDER))}return v.forEach(function(x){g.push(u.Ut.addToCollectionParentIndex(t,x))}),t.addOnCommittedListener(function(){u.Kt[f]=d.keys()}),J.waitFor(g).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return Ii(t).get(n).next(function(o){return o?(Ce(o.userId===i.userId),xs(i.R,o)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?J.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var u=o.keys();return i.Kt[n]=u,u}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]),a=null;return Ii(t).$t({index:dt.userMutationsIndex,range:u},function(l,f,d){f.userId===i.userId&&(Ce(f.batchId>=o),a=xs(i.R,f)),d.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Ii(t).$t({index:dt.userMutationsIndex,range:n,reverse:!0},function(o,u,a){i=u.batchId,a.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ii(t).Nt(dt.userMutationsIndex,i).next(function(o){return o.map(function(u){return xs(n.R,u)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=sn.prefixForPath(this.userId,n.path),u=IDBKeyRange.lowerBound(o),a=[];return Os(t).$t({range:u},function(l,f,d){var p=l[0],g=l[1],v=l[2],b=ri(g);if(p===i.userId&&n.path.isEqual(b))return Ii(t).get(v).next(function(_){if(!_)throw ye();Ce(_.userId===i.userId),a.push(xs(i.R,_))});d.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Ht(qe),u=[];return n.forEach(function(a){var l=sn.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=Os(t).$t({range:f},function(p,g,v){var b=p[0],_=p[1],T=p[2],S=ri(_);b===i.userId&&a.path.isEqual(S)?o=o.add(T):v.done()});u.push(d)}),J.waitFor(u).next(function(){return i.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,o=n.path,u=o.length+1,a=sn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new Ht(qe);return Os(t).$t({range:l},function(d,p,g){var v=d[0],b=d[1],_=d[2],T=ri(b);v===i.userId&&o.isPrefixOf(T)?T.length===u&&(f=f.add(_)):g.done()}).next(function(){return i.Wt(t,f)})},e.prototype.Wt=function(t,n){var i=this,o=[],u=[];return n.forEach(function(a){u.push(Ii(t).get(a).next(function(l){if(l===null)throw ye();Ce(l.userId===i.userId),o.push(xs(i.R,l))}))}),J.waitFor(u).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var i=this;return hA(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),J.forEach(o,function(u){return i.referenceDelegate.markPotentiallyOrphaned(t,u)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return J.resolve();var o=IDBKeyRange.lowerBound(sn.prefixForUser(n.userId)),u=[];return Os(t).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=ri(a[1]);u.push(d)}else f.done()}).next(function(){Ce(u.length===0)})})},e.prototype.containsKey=function(t,n){return dA(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return pA(t).get(this.userId).next(function(i){return i||new ji(n.userId,-1,"")})},e}();function dA(e,t,n){var i=sn.prefixForPath(t,n.path),o=i[1],u=IDBKeyRange.lowerBound(i),a=!1;return Os(e).$t({range:u,Ft:!0},function(l,f,d){var p=l[0],g=l[1];l[2],p===t&&g===o&&(a=!0),d.done()}).next(function(){return a})}function Ii(e){return Un(e,dt.store)}function Os(e){return Un(e,sn.store)}function pA(e){return Un(e,ji.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xf=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),DF=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var o=new xf(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Ue.fromTimestamp(new Dn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var o=this;return this.Xt(t).next(function(u){return u.highestListenSequenceNumber=n,i&&(u.lastRemoteSnapshotVersion=i.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),o.Zt(t,u)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return ks(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(o){return Ce(o.targetCount>0),o.targetCount-=1,i.Zt(t,o)})},e.prototype.removeTargets=function(t,n,i){var o=this,u=0,a=[];return ks(t).$t(function(l,f){var d=wa(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(u++,a.push(o.removeTargetData(t,d)))}).next(function(){return J.waitFor(a)}).next(function(){return u})},e.prototype.forEachTarget=function(t,n){return ks(t).$t(function(i,o){var u=wa(o);n(u)})},e.prototype.Xt=function(t){return YE(t).get(Wn.key).next(function(n){return Ce(n!==null),n})},e.prototype.Zt=function(t,n){return YE(t).put(Wn.key,n)},e.prototype.te=function(t,n){return ks(t).put(lA(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=gc(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),u=null;return ks(t).$t({range:o,index:Pn.queryTargetsIndexName},function(a,l,f){var d=wa(l);bh(n,d.target)&&(u=d,f.done())}).next(function(){return u})},e.prototype.addMatchingKeys=function(t,n,i){var o=this,u=[],a=Oi(t);return n.forEach(function(l){var f=Tr(l.path);u.push(a.put(new Zt(i,f))),u.push(o.referenceDelegate.addReference(t,i,l))}),J.waitFor(u)},e.prototype.removeMatchingKeys=function(t,n,i){var o=this,u=Oi(t);return J.forEach(n,function(a){var l=Tr(a.path);return J.waitFor([u.delete([i,l]),o.referenceDelegate.removeReference(t,i,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=Oi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=Oi(t),u=lt();return o.$t({range:i,Ft:!0},function(a,l,f){var d=ri(a[1]),p=new _e(d);u=u.add(p)}).next(function(){return u})},e.prototype.containsKey=function(t,n){var i=Tr(n.path),o=IDBKeyRange.bound([i],[k1(i)],!1,!0),u=0;return Oi(t).$t({index:Zt.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(u++,f.done())}).next(function(){return u>0})},e.prototype.lt=function(t,n){return ks(t).get(n).next(function(i){return i?wa(i):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(e){return Un(e,Pn.store)}function YE(e){return Un(e,Wn.store)}function Oi(e){return Un(e,Zt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(e){return K(this,void 0,void 0,function(){return H(this,function(t){if(e.code!==P.FAILED_PRECONDITION||e.message!==oA)throw e;return ne("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(e,t){var n=e[0],i=e[1],o=t[0],u=t[1],a=qe(n,o);return a===0?qe(i,u):a}var LF=function(){function e(t){this.ne=t,this.buffer=new Ht(QE),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();QE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),MF=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;ne("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return K(n,void 0,void 0,function(){var o;return H(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return Yo(o=u.sent())?(ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Qo(o)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return u.sent(),[2]}})})})},e}(),FF=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return J.resolve(Yn.o);var o=new LF(n);return this.ae.forEachTarget(t,function(u){return o.re(u.sequenceNumber)}).next(function(){return i.ae.le(t,function(u){return o.re(u)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(XE)):this.getCacheSize(t).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),XE):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,o,u,a,l,f,d,p=this,g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(v){return v>p.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+v),o=p.params.maximumSequenceNumbersToCollect):o=v,a=Date.now(),p.nthSequenceNumber(t,o)}).next(function(v){return i=v,l=Date.now(),p.removeTargets(t,i,n)}).next(function(v){return u=v,f=Date.now(),p.removeOrphanedDocuments(t,i)}).next(function(v){return d=Date.now(),Ag()<=Qe.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-g)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+u+" targets in "+(f-l)+`ms
	Removed `+v+" documents in "+(d-f)+`ms
Total Duration: `+(d-g)+"ms"),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:v})})},e}(),UF=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,o){return new FF(i,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(o){return i+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,o){return n(o)})},e.prototype.addReference=function(t,n,i){return ql(t,i)},e.prototype.removeReference=function(t,n,i){return ql(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return ql(t,n)},e.prototype._e=function(t,n){return function(i,o){var u=!1;return pA(i).Ot(function(a){return dA(i,a,o).next(function(l){return l&&(u=!0),J.resolve(!l)})}).next(function(){return u})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],a=0;return this.we(t,function(l,f){if(f<=n){var d=i._e(t,l).next(function(p){if(!p)return a++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Oi(t).delete([0,Tr(l.path)])})});u.push(d)}}).next(function(){return J.waitFor(u)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return ql(t,n)},e.prototype.we=function(t,n){var i,o=Oi(t),u=Yn.o;return o.$t({index:Zt.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,p=l.sequenceNumber;f===0?(u!==Yn.o&&n(new _e(ri(i)),u),u=p,i=d):u=Yn.o}).next(function(){u!==Yn.o&&n(new _e(ri(i)),u)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function ql(e,t){return Oi(e).put(function(n,i){return new Zt(0,Tr(n.path),i)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _u=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Wo(this.inner,function(n,i){for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];t(l,f)}})},e.prototype.isEmpty=function(){return N1(this.inner)},e}(),mA=function(){function e(){this.changes=new _u(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Ue.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:fn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?J.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),jF=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return Ni(t).put($l(n),i)},e.prototype.removeEntry=function(t,n){var i=Ni(t),o=$l(n);return i.delete(o)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,i.me(t,o)})},e.prototype.getEntry=function(t,n){var i=this;return Ni(t).get($l(n)).next(function(o){return i.ye(n,o)})},e.prototype.ge=function(t,n){var i=this;return Ni(t).get($l(n)).next(function(o){return{document:i.ye(n,o),size:Rf(o)}})},e.prototype.getEntries=function(t,n){var i=this,o=Ir();return this.pe(t,n,function(u,a){var l=i.ye(u,a);o=o.insert(u,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var i=this,o=Ir(),u=new hn(_e.comparator);return this.pe(t,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),u=u.insert(a,Rf(l))}).next(function(){return{documents:o,Te:u}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return J.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator(),a=u.getNext();return Ni(t).$t({range:o},function(l,f,d){for(var p=_e.fromSegments(l);a&&_e.comparator(a,p)<0;)i(a,null),a=u.getNext();a&&a.isEqual(p)&&(i(a,f),a=u.hasNext()?u.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=u.hasNext()?u.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var o=this,u=Ir(),a=n.path.length+1,l={};if(i.isEqual(Ue.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),p=uy(i);l.range=IDBKeyRange.lowerBound([d,p],!0),l.index=kt.collectionReadTimeIndex}return Ni(t).$t(l,function(g,v,b){if(g.length===a){var _=Pg(o.R,v);n.path.isPrefixOf(_.key.path)?wc(n,_)&&(u=u.insert(_.key,_)):b.done()}}).next(function(){return u})},e.prototype.newChangeBuffer=function(t){return new VF(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return JE(t).get(qr.key).next(function(n){return Ce(!!n),n})},e.prototype.me=function(t,n){return JE(t).put(qr.key,n)},e.prototype.ye=function(t,n){if(n){var i=Pg(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(Ue.min()))return i}return fn.newInvalidDocument(t)},e}(),VF=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new _u(function(u){return u.toString()},function(u,a){return u.isEqual(a)}),o}return Ie(t,e),t.prototype.applyChanges=function(n){var i=this,o=[],u=0,a=new Ht(function(l,f){return qe(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var p=KE(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var g=Rf(p);u+=g-d,o.push(i.Ie.addEntry(n,l,p))}else if(u-=d,i.trackRemovals){var v=KE(i.Ie.R,fn.newNoDocument(l,Ue.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,v))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,u)),J.waitFor(o)},t.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(u){return o.Ae.set(i,u.size),u.document})},t.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(u){var a=u.documents;return u.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},t}(mA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(e){return Un(e,qr.store)}function Ni(e){return Un(e,kt.store)}function $l(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BF=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,o){var u=this;Ce(i<o&&i>=0&&o<=11);var a=new uA("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(zn.store)}(t),function(f){f.createObjectStore(ji.store,{keyPath:ji.keyPath}),f.createObjectStore(dt.store,{keyPath:dt.keyPath,autoIncrement:!0}).createIndex(dt.userMutationsIndex,dt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(sn.store)}(t),ZE(t),function(f){f.createObjectStore(kt.store)}(t));var l=J.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(Zt.store),f.deleteObjectStore(Pn.store),f.deleteObjectStore(Wn.store)}(t),ZE(t)),l=l.next(function(){return function(f){var d=f.store(Wn.store),p=new Wn(0,0,Ue.min().toTimestamp(),0);return d.put(Wn.key,p)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(dt.store).Nt().next(function(p){f.deleteObjectStore(dt.store),f.createObjectStore(dt.store,{keyPath:dt.keyPath,autoIncrement:!0}).createIndex(dt.userMutationsIndex,dt.userMutationsKeyPath,{unique:!0});var g=d.store(dt.store),v=p.map(function(b){return g.put(b)});return J.waitFor(v)})}(t,a)})),l=l.next(function(){(function(f){f.createObjectStore(oi.store,{keyPath:oi.keyPath})})(t)})),i<5&&o>=5&&(l=l.next(function(){return u.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(qr.store)}(t),u.be(a)})),i<7&&o>=7&&(l=l.next(function(){return u.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return u.Pe(t,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(kt.store);d.createIndex(kt.readTimeIndex,kt.readTimeIndexPath,{unique:!1}),d.createIndex(kt.collectionReadTimeIndex,kt.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return u.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(ru.store,{keyPath:ru.keyPath})})(t),function(f){f.createObjectStore(iu.store,{keyPath:iu.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(kt.store).$t(function(i,o){n+=Rf(o)}).next(function(){var i=new qr(n);return t.store(qr.store).put(qr.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(ji.store),o=t.store(dt.store);return i.Nt().next(function(u){return J.forEach(u,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(dt.userMutationsIndex,l).next(function(f){return J.forEach(f,function(d){Ce(d.userId===a.userId);var p=xs(n.R,d);return hA(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Zt.store),i=t.store(kt.store);return t.store(Wn.store).get(Wn.key).next(function(o){var u=[];return i.$t(function(a,l){var f=new Je(a),d=function(p){return[0,Tr(p)]}(f);u.push(n.get(d).next(function(p){return p?J.resolve():function(g){return n.put(new Zt(0,Tr(g),o.highestListenSequenceNumber))}(f)}))}).next(function(){return J.waitFor(u)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Do.store,{keyPath:Do.keyPath});var i=n.store(Do.store),o=new ay,u=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:Tr(f)})}};return n.store(kt.store).$t({Ft:!0},function(a,l){var f=new Je(a);return u(f.popLast())}).next(function(){return n.store(sn.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=ri(f);return u(d.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(Pn.store);return i.$t(function(o,u){var a=wa(u),l=lA(n.R,a);return i.put(l)})},e}();function ZE(e){e.createObjectStore(Zt.store,{keyPath:Zt.keyPath}).createIndex(Zt.documentTargetsIndex,Zt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Pn.store,{keyPath:Pn.keyPath}).createIndex(Pn.queryTargetsIndexName,Pn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Wn.store)}var Fm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",qF=function(){function e(t,n,i,o,u,a,l,f,d,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=u,this.window=a,this.document=l,this.De=d,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(g){return Promise.resolve()},!e.yt())throw new Y(P.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new UF(this,o),this.Le=n+"main",this.R=new aA(f),this.Be=new ou(this.Le,11,new BF(this.R)),this.qe=new DF(this.referenceDelegate,this.R),this.Ut=new OF,this.Ue=function(g,v){return new jF(g,v)}(this.R,this.Ut),this.Ke=new RF,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&Mt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Y(P.FAILED_PRECONDITION,Fm);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Yn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return K(n,void 0,void 0,function(){return H(this,function(o){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return K(n,void 0,void 0,function(){return H(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return K(n,void 0,void 0,function(){return H(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Hl(n).put(new oi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Yo(n))return ne("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return ha(t).get(zn.key).next(function(i){return J.resolve(n.tn(i))})},e.prototype.en=function(t){return Hl(t).delete(this.clientId)},e.prototype.nn=function(){return K(this,void 0,void 0,function(){var t,n,i,o,u=this;return H(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Un(l,oi.store);return f.Nt().next(function(d){var p=u.rn(d,18e5),g=d.filter(function(v){return p.indexOf(v)===-1});return J.forEach(g,function(v){return f.delete(v.clientId)}).next(function(){return g})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?J.resolve(!0):ha(t).get(zn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new Y(P.FAILED_PRECONDITION,Fm);return!1}}return!(!n.networkEnabled||!n.inForeground)||Hl(t).Nt().next(function(o){return n.rn(o,5e3).find(function(u){if(n.clientId!==u.clientId){var a=!n.networkEnabled&&u.networkEnabled,l=!n.inForeground&&u.inForeground,f=n.networkEnabled===u.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&ne("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return K(this,void 0,void 0,function(){var t=this;return H(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[zn.store,oi.store],function(i){var o=new HE(i,Yn.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Hl(n).Nt().next(function(i){return t.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return PF.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ne("IndexedDbPersistence","Starting transaction:",t);var u,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,AF,function(l){return u=new HE(l,o.Ne?o.Ne.next():Yn.o),n==="readwrite-primary"?o.Je(u).next(function(f){return!!f||o.Ye(u)}).next(function(f){if(!f)throw Mt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new Y(P.FAILED_PRECONDITION,oA);return i(u)}).next(function(f){return o.Ze(u).next(function(){return f})}):o.dn(u).next(function(){return i(u)})}).then(function(l){return u.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return ha(t).get(zn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new Y(P.FAILED_PRECONDITION,Fm)})},e.prototype.Ze=function(t){var n=new zn(this.clientId,this.allowTabSynchronization,Date.now());return ha(t).put(zn.key,n)},e.yt=function(){return ou.yt()},e.prototype.Xe=function(t){var n=this,i=ha(t);return i.get(zn.key).next(function(o){return n.tn(o)?(ne("IndexedDbPersistence","Releasing primary lease."),i.delete(zn.key)):J.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(Mt("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),XD()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return ne("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Mt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Mt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function ha(e){return Un(e,zn.store)}function Hl(e){return Un(e,oi.store)}function cy(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var gA=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return i.yn(t,n,o)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(o){for(var u=0,a=i;u<a.length;u++)a[u].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(i,o){for(var u=0,a=n;u<a.length;u++)a[u].applyToLocalView(o)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(o){return i.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return i.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(o){return _e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):ey(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new _e(n)).next(function(i){var o=xg();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},e.prototype.In=function(t,n,i){var o=this,u=n.collectionGroup,a=xg();return this.Ut.getCollectionParents(t,u).next(function(l){return J.forEach(l,function(f){var d=function(p,g){return new fi(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,f.child(u));return o.An(t,d,i).next(function(p){p.forEach(function(g,v){a=a.insert(g,v)})})}).next(function(){return a})})},e.prototype.An=function(t,n,i){var o,u,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return u=l,a.Rn(t,u,o).next(function(f){o=f;for(var d=0,p=u;d<p.length;d++)for(var g=p[d],v=0,b=g.mutations;v<b.length;v++){var _=b[v],T=_.key,S=o.get(T);S==null&&(S=fn.newInvalidDocument(T),o=o.insert(T,S)),Rg(_,S,g.localWriteTime),S.isFoundDocument()||(o=o.remove(T))}})}).next(function(){return o.forEach(function(l,f){wc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,i){for(var o=lt(),u=0,a=n;u<a.length;u++)for(var l=0,f=a[u].mutations;l<f.length;l++){var d=f[l];d instanceof Gi&&i.get(d.key)===null&&(o=o.add(d.key))}var p=i;return this.Ue.getEntries(t,o).next(function(g){return g.forEach(function(v,b){b.isFoundDocument()&&(p=p.insert(v,b))}),p})},e}(),$F=function(){function e(t,n,i,o){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=o}return e.Pn=function(t,n){for(var i=lt(),o=lt(),u=0,a=n.docChanges;u<a.length;u++){var l=a[u];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,i,o)},e}(),vA=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,o){var u=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(Ue.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var l=u.Cn(n,a);return(nf(n)||Nf(n))&&u.Nn(n.limitType,l,o,i)?u.Dn(t,n):(Ag()<=Qe.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cg(n)),u.Sn.getDocumentsMatchingQuery(t,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var i=new Ht(F1(t));return n.forEach(function(o,u){wc(t,u)&&(i=i.add(u))}),i},e.prototype.Nn=function(t,n,i,o){if(i.size!==n.size)return!0;var u=t==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Ag()<=Qe.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Cg(n)),this.Sn.getDocumentsMatchingQuery(t,n,Ue.min())},e}(),HF=function(){function e(t,n,i,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new hn(qe),this.Fn=new _u(function(u){return gc(u)},bh),this.$n=Ue.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new gA(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(e,t,n,i){return new HF(e,t,n,i)}function wA(e,t){return K(this,void 0,void 0,function(){var n,i,o,u;return H(this,function(a){switch(a.label){case 0:return n=se(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(t),o=new gA(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var p=[],g=[],v=lt(),b=0,_=f;b<_.length;b++){var T=_[b];p.push(T.batchId);for(var S=0,x=T.mutations;S<x.length;S++){var O=x[S];v=v.add(O.key)}}for(var U=0,q=d;U<q.length;U++){var te=q[U];g.push(te.batchId);for(var V=0,we=te.mutations;V<we.length;V++){var G=we[V];v=v.add(G.key)}}return o.pn(l,v).next(function(oe){return{Ln:oe,removedBatchIds:p,addedBatchIds:g}})})})];case 1:return u=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),u)]}})})}function KF(e,t){var n=se(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=t.batch.keys(),u=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var p=f.batch,g=p.keys(),v=J.resolve();return g.forEach(function(b){v=v.next(function(){return d.getEntry(l,b)}).next(function(_){var T=f.docVersions.get(b);Ce(T!==null),_.version.compareTo(T)<0&&(p.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),v.next(function(){return a._n.removeMutationBatch(l,p)})}(n,i,t,u).next(function(){return u.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function bA(e){var t=se(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function zF(e,t){var n=se(e),i=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(p,g){var v=o.get(g);if(v){l.push(n.qe.removeMatchingKeys(u,p.removedDocuments,g).next(function(){return n.qe.addMatchingKeys(u,p.addedDocuments,g)}));var b=p.resumeToken;if(b.approximateByteSize()>0){var _=v.withResumeToken(b,i).withSequenceNumber(u.currentSequenceNumber);o=o.insert(g,_),function(T,S,x){return Ce(S.resumeToken.approximateByteSize()>0),T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(v,_,p)&&l.push(n.qe.updateTargetData(u,_))}}});var f=Ir();if(t.documentUpdates.forEach(function(p,g){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(u,p))}),l.push(GF(u,a,t.documentUpdates,i,void 0).next(function(p){f=p})),!i.isEqual(Ue.min())){var d=n.qe.getLastRemoteSnapshotVersion(u).next(function(p){return n.qe.setTargetsMetadata(u,u.currentSequenceNumber,i)});l.push(d)}return J.waitFor(l).next(function(){return a.apply(u)}).next(function(){return n.Mn.En(u,f)}).next(function(){return f})}).then(function(u){return n.kn=o,u})}function GF(e,t,n,i,o){var u=lt();return n.forEach(function(a){return u=u.add(a)}),t.getEntries(e,u).next(function(a){var l=Ir();return n.forEach(function(f,d){var p=a.get(f),g=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual(Ue.min())?(t.removeEntry(f,g),l=l.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(d,g),l=l.insert(f,d)):ne("LocalStore","Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),l})}function WF(e,t){var n=se(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function Of(e,t){var n=se(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,t).next(function(u){return u?(o=u,J.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new Th(t,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function au(e,t,n){return K(this,void 0,void 0,function(){var i,o,u,a;return H(this,function(l){switch(l.label){case 0:i=se(e),o=i.kn.get(t),u=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",u,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Yo(a=l.sent()))throw a;return ne("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function Pf(e,t,n){var i=se(e),o=Ue.min(),u=lt();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var p=se(l),g=p.Fn.get(d);return g!==void 0?J.resolve(p.kn.get(g)):p.qe.getTargetData(f,d)}(i,a,Gr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){u=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,t,n?o:Ue.min(),n?u:lt())}).next(function(l){return{documents:l,Bn:u}})})}function _A(e,t){var n=se(e),i=se(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(u){return i.lt(u,t).next(function(a){return a?a.target:null})})}function EA(e){var t=se(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,u){var a=se(i),l=Ir(),f=uy(u),d=Ni(o),p=IDBKeyRange.lowerBound(f,!0);return d.$t({index:kt.readTimeIndex,range:p},function(g,v){var b=Pg(a.R,v);l=l.insert(b.key,b),f=v.readTime}).next(function(){return{wn:l,readTime:cA(f)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,o=n.readTime;return t.$n=o,i})}function XF(e){return K(this,void 0,void 0,function(){var t;return H(this,function(n){return[2,(t=se(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var u=Ni(o),a=Ue.min();return u.$t({index:kt.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=cA(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){t.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YF=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return J.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:In(i.createTime)}),J.resolve()},e.prototype.getNamedQuery=function(t,n){return J.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:fA(i.bundledQuery),readTime:In(i.readTime)}}(n)),J.resolve()},e}(),ly=function(){function e(){this.Wn=new Ht(zt.Gn),this.zn=new Ht(zt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new zt(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(o){return i.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new zt(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(o){return i.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,i=new _e(new Je([])),o=new zt(i,t),u=new zt(i,t+1),a=[];return this.zn.forEachInRange([o,u],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new _e(new Je([])),i=new zt(n,t),o=new zt(n,t+1),u=lt();return this.zn.forEachInRange([i,o],function(a){u=u.add(a.key)}),u},e.prototype.containsKey=function(t){var n=new zt(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),zt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return _e.comparator(t.key,n.key)||qe(t.ns,n.ns)},e.Hn=function(t,n){return qe(t.ns,n.ns)||_e.comparator(t.key,n.key)},e}(),QF=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Ht(zt.Gn)}return e.prototype.checkEmpty=function(t){return J.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,o){var u=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new sy(u,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new zt(d.key,u)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return J.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return J.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,o=this.cs(i),u=o<0?0:o;return J.resolve(this._n.length>u?this._n[u]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return J.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return J.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=new zt(n,0),u=new zt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,u],function(l){var f=i.os(l.ns);a.push(f)}),J.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Ht(qe);return n.forEach(function(u){var a=new zt(u,0),l=new zt(u,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),J.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,o=i.length+1,u=i;_e.isDocumentKey(u)||(u=u.child(""));var a=new zt(new _e(u),0),l=new Ht(qe);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),J.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(o){var u=n.os(o);u!==null&&i.push(u)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;Ce(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return J.forEach(n.mutations,function(u){var a=new zt(u.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(function(){i.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new zt(n,0),o=this.rs.firstAfterOrEqual(i);return J.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,J.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),JF=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new hn(_e.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var o=n.key,u=this.docs.get(o),a=u?u.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return J.resolve(i?i.document.clone():fn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,o=Ir();return n.forEach(function(u){var a=i.docs.get(u);o=o.insert(u,a?a.document.clone():fn.newInvalidDocument(u))}),J.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var o=Ir(),u=new _e(n.path.child("")),a=this.docs.getIteratorFrom(u);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,p=d.document,g=d.readTime;if(!n.path.isPrefixOf(f.path))break;g.compareTo(i)<=0||wc(n,p)&&(o=o.insert(p.key,p.clone()))}return J.resolve(o)},e.prototype.fs=function(t,n){return J.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new ZF(this)},e.prototype.getSize=function(t){return J.resolve(this.size)},e}(),ZF=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return Ie(t,e),t.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(u,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(u))):i.Ie.removeEntry(u)}),J.waitFor(o)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(mA),eU=function(){function e(t){this.persistence=t,this.ds=new _u(function(n){return gc(n)},bh),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.ws=0,this._s=new ly,this.targetCount=0,this.ys=xf.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,o){return n(o)}),J.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return J.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return J.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),J.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),J.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new xf(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,J.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),J.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,J.resolve()},e.prototype.removeTargets=function(t,n,i){var o=this,u=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),u++)}),J.waitFor(a).next(function(){return u})},e.prototype.getTargetCount=function(t){return J.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return J.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),J.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(function(a){u.push(o.markPotentiallyOrphaned(t,a))}),J.waitFor(u)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),J.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return J.resolve(i)},e.prototype.containsKey=function(t,n){return J.resolve(this._s.containsKey(n))},e}(),tU=function(){function e(t,n){var i=this;this.gs={},this.Ne=new Yn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new eU(this),this.Ut=new xF,this.Ue=function(o,u){return new JF(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new aA(n),this.Ke=new YF(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new QF(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ne("MemoryPersistence","Starting transaction:",t);var u=new nU(this.Ne.next());return this.referenceDelegate.Es(),i(u).next(function(a){return o.referenceDelegate.Ts(u).next(function(){return a})}).toPromise().then(function(a){return u.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return J.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),nU=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return Ie(t,e),t}(sA),rU=function(){function e(t){this.persistence=t,this.As=new ly,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ye()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),J.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),J.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),J.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(u){return i.vs.add(u.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(u){u.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.vs,function(o){var u=_e.fromPath(o);return n.Ps(t,u).next(function(a){a||i.removeEntry(u)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return J.or([function(){return J.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),Qt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(e,t){return"firestore_clients_"+e+"_"+t}function tI(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function Um(e,t){return"firestore_targets_"+e+"_"+t}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");var nI=function(){function e(t,n,i,o){this.user=t,this.batchId=n,this.state=i,this.error=o}return e.Vs=function(t,n,i){var o,u=JSON.parse(i),a=typeof u=="object"&&["pending","acknowledged","rejected"].indexOf(u.state)!==-1&&(u.error===void 0||typeof u.error=="object");return a&&u.error&&(a=typeof u.error.message=="string"&&typeof u.error.code=="string")&&(o=new Y(u.error.code,u.error.message)),a?new e(t,n,u.state,o):(Mt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),jm=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,o=JSON.parse(n),u=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new Y(o.error.code,o.error.message)),u?new e(t,o.state,i):(Mt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),rI=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,u=Ih(),a=0;o&&a<i.activeTargetIds.length;++a)o=x1(i.activeTargetIds[a]),u=u.add(i.activeTargetIds[a]);return o?new e(t,u):(Mt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),iU=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Mt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Dg=function(){function e(){this.activeTargetIds=Ih()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Vm=function(){function e(t,n,i,o,u){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new hn(qe),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=eI(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Dg),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return K(this,void 0,void 0,function(){var t,n,i,o,u,a,l,f,d,p,g,v=this;return H(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=b.sent(),n=0,i=t;n<i.length;n++)(o=i[n])!==this.Ns&&(u=this.getItem(eI(this.persistenceKey,o)))&&(a=rI.Vs(o,u))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,p=this.$s;d<p.length;d++)g=p[d],this.ks(g);return this.$s=[],this.window.addEventListener("pagehide",function(){return v.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(Um(this.persistenceKey,t));if(i){var o=jm.Vs(t,i);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Um(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var o=this;n.forEach(function(u){o.Hs(u)}),this.currentUser=t,i.forEach(function(u){o.addPendingMutation(u)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return ne("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){ne("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){ne("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(ne("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Mt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return K(n,void 0,void 0,function(){var o,u,a,l,f,d;return H(this,function(p){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(u=this.ni(i.key,i.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(g){var v=Yn.o;if(g!=null)try{var b=JSON.parse(g);Ce(typeof b=="number"),v=b}catch(_){Mt("SharedClientState","Failed to read sequence number from WebStorage",_)}return v}(i.newValue))!==Yn.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var o=new nI(this.currentUser,t,n,i),u=tI(this.persistenceKey,this.currentUser,t);this.setItem(u,o.Ss())},e.prototype.Hs=function(t){var n=tI(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var o=Um(this.persistenceKey,t),u=new jm(t,n,i);this.setItem(o,u.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return rI.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),o=Number(i[1]),u=i[2]!==void 0?i[2]:null;return nI.Vs(new Qt(u),o,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),o=Number(i[1]);return jm.Vs(o,n)},e.prototype.js=function(t){return iU.Vs(t)},e.prototype.ii=function(t){return K(this,void 0,void 0,function(){return H(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ne("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),u=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){u.has(d)||l.push(d)}),u.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Ih();return t.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),IA=function(){function e(){this.li=new Dg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Dg,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),oU=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),iI=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),sU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},uU=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),aU=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return Ie(t,e),t.prototype.Fi=function(n,i,o,u){return new Promise(function(a,l){var f=new jM;f.listenOnce(MM.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Mm.NO_ERROR:var p=f.getResponseJson();ne("Connection","XHR received:",JSON.stringify(p)),a(p);break;case Mm.TIMEOUT:ne("Connection",'RPC "'+n+'" timed out'),l(new Y(P.DEADLINE_EXCEEDED,"Request time out"));break;case Mm.HTTP_ERROR:var g=f.getStatus();if(ne("Connection",'RPC "'+n+'" failed with status:',g,"response text:",f.getResponseText()),g>0){var v=f.getResponseJson().error;if(v&&v.status&&v.message){var b=function(_){var T=_.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(T)>=0?T:P.UNKNOWN}(v.status);l(new Y(b,v.message))}else l(new Y(P.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new Y(P.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{ne("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(u);f.send(i,"POST",d,o,15)})},t.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=DM(),a=LM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new UM({})),this.ki(l.initMessageHeaders,i),qD()||KD()||zD()||GD()||WD()||HD()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");ne("Connection","Creating WebChannel: "+f,l);var d=u.createWebChannel(f,l),p=!1,g=!1,v=new uU({Ei:function(_){g?ne("Connection","Not sending because WebChannel is closed:",_):(p||(ne("Connection","Opening WebChannel transport."),d.open(),p=!0),ne("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),b=function(_,T,S){_.listen(T,function(x){try{S(x)}catch(O){setTimeout(function(){throw O},0)}})};return b(d,Vl.EventType.OPEN,function(){g||ne("Connection","WebChannel transport opened.")}),b(d,Vl.EventType.CLOSE,function(){g||(g=!0,ne("Connection","WebChannel transport closed"),v.Vi())}),b(d,Vl.EventType.ERROR,function(_){g||(g=!0,If("Connection","WebChannel transport errored:",_),v.Vi(new Y(P.UNAVAILABLE,"The operation could not be completed")))}),b(d,Vl.EventType.MESSAGE,function(_){var T;if(!g){var S=_.data[0];Ce(!!S);var x=S,O=x.error||((T=x[0])===null||T===void 0?void 0:T.error);if(O){ne("Connection","WebChannel received error:",O);var U=O.status,q=function(V){var we=Dt[V];if(we!==void 0)return G1(we)}(U),te=O.message;q===void 0&&(q=P.INTERNAL,te="Unknown error status: "+U+" with message "+O.message),g=!0,v.Vi(new Y(q,te)),d.close()}else ne("Connection","WebChannel received:",S),v.Si(S)}}),b(a,FM.STAT_EVENT,function(_){_.stat===_E.PROXY?ne("Connection","Detected buffering proxy"):_.stat===_E.NOPROXY&&ne("Connection","Detected no buffering proxy")}),setTimeout(function(){v.Pi()},0),v},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,o){var u=this.xi(t,n);ne("RestConnection","Sending: ",u,i);var a={};return this.ki(a,o),this.Fi(t,u,a,i).then(function(l){return ne("RestConnection","Received: ",l),l},function(l){throw If("RestConnection",t+" failed with error: ",l,"url: ",u,"request:",i),l})},e.prototype.$i=function(t,n,i,o){return this.Ni(t,n,i,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=sU[t];return this.Di+"/v1/"+n+":"+i},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(){return typeof window<"u"?window:null}function sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(e){return new pF(e,!0)}var fy=function(){function e(t,n,i,o,u){i===void 0&&(i=1e3),o===void 0&&(o=1.5),u===void 0&&(u=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),u=Math.max(0,i-o);u>0&&ne("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),SA=function(){function e(t,n,i,o,u,a){this.Se=t,this.zi=i,this.Hi=o,this.Ji=u,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new fy(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return K(this,void 0,void 0,function(){return H(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return K(this,void 0,void 0,function(){return H(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return K(this,void 0,void 0,function(){return H(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Mt(n.toString()),Mt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===P.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){t.Yi===i&&t.lr(o)},function(o){n(function(){var u=new Y(P.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(u)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return K(t,void 0,void 0,function(){return H(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return ne("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),cU=function(e){function t(n,i,o,u,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=u,l}return Ie(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(u,a){var l;if("targetChange"in a){a.targetChange;var f=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:ye()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],p=function(S,x){return S.I?(Ce(x===void 0||typeof x=="string"),Mn.fromBase64String(x||"")):(Ce(x===void 0||x instanceof Uint8Array),Mn.fromUint8Array(x||new Uint8Array))}(u,a.targetChange.resumeToken),g=(v=a.targetChange.cause)&&function(S){var x=S.code===void 0?P.UNKNOWN:G1(S.code);return new Y(x,S.message||"")}(v);l=new X1(f,d,p,g||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=ii(u,f.document.name),p=In(f.document.updateTime);var v=new Xn({mapValue:{fields:f.document.fields}}),b=(g=fn.newFoundDocument(d,p,v),f.targetIds||[]),_=f.removedTargetIds||[];l=new of(b,_,g.key,g)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=ii(u,f.document),p=f.readTime?In(f.readTime):Ue.min(),v=fn.newNoDocument(d,p),g=f.removedTargetIds||[],l=new of([],g,v.key,v);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=ii(u,f.document),p=f.removedTargetIds||[],l=new of([],p,d,null);else{if(!("filter"in a))return ye();a.filter;var T=a.filter;T.targetId,f=T.count||0,d=new iF(f),p=T.targetId,l=new W1(p,d)}return l}(this.R,n),o=function(u){if(!("targetChange"in u))return Ue.min();var a=u.targetChange;return a.targetIds&&a.targetIds.length?Ue.min():a.readTime?In(a.readTime):Ue.min()}(n);return this.listener._r(i,o)},t.prototype.mr=function(n){var i={};i.database=Qa(this.R),i.addTarget=function(u,a){var l,f=a.target;return(l=Af(f)?{documents:eA(u,f)}:{query:tA(u,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=Y1(u,a.resumeToken):a.snapshotVersion.compareTo(Ue.min())>0&&(l.readTime=Xa(u,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(u,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ye()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=Qa(this.R),i.removeTarget=n,this.cr(i)},t}(SA),lU=function(e){function t(n,i,o,u,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=u,l.gr=!1,l}return Ie(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Ce(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(u,a){return u&&u.length>0?(Ce(a!==void 0),u.map(function(l){return function(f,d){var p=f.updateTime?In(f.updateTime):In(d);return p.isEqual(Ue.min())&&(p=In(d)),new tF(p,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=In(n.commitTime);return this.listener.Tr(o,i)}return Ce(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Qa(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(u){return Cf(i.R,u)})};this.cr(o)},t}(SA),fU=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).credentials=n,u.Hi=i,u.R=o,u.Rr=!1,u}return Ie(t,e),t.prototype.br=function(){if(this.Rr)throw new Y(P.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new Y(P.UNKNOWN,a.toString())})},t.prototype.$i=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new Y(P.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),hU=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Mt(n),this.Vr=!1):ne("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),dU=function(e,t,n,i,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return K(u,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return Wi(this)?(ne("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return K(this,void 0,void 0,function(){var d;return H(this,function(p){switch(p.label){case 0:return(d=se(f)).Or.add(4),[4,Eu(d)];case 1:return p.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,Ic(d)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new hU(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(e){return K(this,void 0,void 0,function(){var t,n;return H(this,function(i){switch(i.label){case 0:if(!Wi(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Eu(e){return K(this,void 0,void 0,function(){var t,n;return H(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ah(e,t){var n=se(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),py(n)?dy(n):Tu(n).er()&&hy(n,t))}function Ja(e,t){var n=se(e),i=Tu(n);n.$r.delete(t),i.er()&&AA(n,t),n.$r.size===0&&(i.er()?i.ir():Wi(n)&&n.Br.set("Unknown"))}function hy(e,t){e.qr.U(t.targetId),Tu(e).mr(t)}function AA(e,t){e.qr.U(t),Tu(e).yr(t)}function dy(e){e.qr=new fF({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Tu(e).start(),e.Br.Sr()}function py(e){return Wi(e)&&!Tu(e).tr()&&e.$r.size>0}function Wi(e){return se(e).Or.size===0}function kA(e){e.qr=void 0}function pU(e){return K(this,void 0,void 0,function(){return H(this,function(t){return e.$r.forEach(function(n,i){hy(e,n)}),[2]})})}function mU(e,t){return K(this,void 0,void 0,function(){return H(this,function(n){return kA(e),py(e)?(e.Br.Nr(t),dy(e)):e.Br.set("Unknown"),[2]})})}function gU(e,t,n){return K(this,void 0,void 0,function(){var i,o,u;return H(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof X1&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return K(this,void 0,void 0,function(){var d,p,g,v;return H(this,function(b){switch(b.label){case 0:d=f.cause,p=0,g=f.targetIds,b.label=1;case 1:return p<g.length?(v=g[p],l.$r.has(v)?[4,l.remoteSyncer.rejectListen(v,d)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(v),l.qr.removeTarget(v),b.label=3;case 3:b.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),ne("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,Df(e,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof of?e.qr.X(t):t instanceof W1?e.qr.rt(t):e.qr.et(t),n.isEqual(Ue.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,bA(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(p,g){if(p.resumeToken.approximateByteSize()>0){var v=l.$r.get(g);v&&l.$r.set(g,v.withResumeToken(p.resumeToken,f))}}),d.targetMismatches.forEach(function(p){var g=l.$r.get(p);if(g){l.$r.set(p,g.withResumeToken(Mn.EMPTY_BYTE_STRING,g.snapshotVersion)),AA(l,p);var v=new Th(g.target,p,1,g.sequenceNumber);hy(l,v)}}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ne("RemoteStore","Failed to raise snapshot:",u=a.sent()),[4,Df(e,u)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Df(e,t,n){return K(this,void 0,void 0,function(){var i=this;return H(this,function(o){switch(o.label){case 0:if(!Yo(t))throw t;return e.Or.add(1),[4,Eu(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return bA(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return K(i,void 0,void 0,function(){return H(this,function(u){switch(u.label){case 0:return ne("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return u.sent(),e.Or.delete(1),[4,Ic(e)];case 2:return u.sent(),[2]}})})}),[2]}})})}function NA(e,t){return t().catch(function(n){return Df(e,n,t)})}function Iu(e){return K(this,void 0,void 0,function(){var t,n,i,o,u;return H(this,function(a){switch(a.label){case 0:t=se(e),n=$i(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Wi(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,WF(t.localStore,i)];case 3:return(o=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=$i(l);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return u=a.sent(),[4,Df(t,u)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return CA(t)&&RA(t),[2]}})})}function CA(e){return Wi(e)&&!$i(e).tr()&&e.Fr.length>0}function RA(e){$i(e).start()}function vU(e){return K(this,void 0,void 0,function(){return H(this,function(t){return $i(e).Ar(),[2]})})}function yU(e){return K(this,void 0,void 0,function(){var t,n,i,o;return H(this,function(u){for(t=$i(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function wU(e,t,n){return K(this,void 0,void 0,function(){var i,o;return H(this,function(u){switch(u.label){case 0:return i=e.Fr.shift(),o=CF.from(i,t,n),[4,NA(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return u.sent(),[4,Iu(e)];case 2:return u.sent(),[2]}})})}function bU(e,t){return K(this,void 0,void 0,function(){return H(this,function(n){switch(n.label){case 0:return t&&$i(e).pr?[4,function(i,o){return K(this,void 0,void 0,function(){var u,a;return H(this,function(l){switch(l.label){case 0:return z1(a=o.code)&&a!==P.ABORTED?(u=i.Fr.shift(),$i(i).sr(),[4,NA(i,function(){return i.remoteSyncer.rejectFailedWrite(u.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Iu(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return CA(e)&&RA(e),[2]}})})}function Lg(e,t){return K(this,void 0,void 0,function(){var n;return H(this,function(i){switch(i.label){case 0:return n=se(e),t?(n.Or.delete(2),[4,Ic(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Eu(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Tu(e){var t=this;return e.Ur||(e.Ur=function(n,i,o){var u=se(n);return u.br(),new cU(i,u.Hi,u.credentials,u.R,o)}(e.datastore,e.asyncQueue,{Ii:pU.bind(null,e),Ri:mU.bind(null,e),_r:gU.bind(null,e)}),e.Mr.push(function(n){return K(t,void 0,void 0,function(){return H(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),py(e)?dy(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),kA(e),i.label=3;case 3:return[2]}})})})),e.Ur}function $i(e){var t=this;return e.Kr||(e.Kr=function(n,i,o){var u=se(n);return u.br(),new lU(i,u.Hi,u.credentials,u.R,o)}(e.datastore,e.asyncQueue,{Ii:vU.bind(null,e),Ri:bU.bind(null,e),Ir:yU.bind(null,e),Tr:wU.bind(null,e)}),e.Mr.push(function(n){return K(t,void 0,void 0,function(){return H(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,Iu(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(ne("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}var _U=function(){function e(t,n,i,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,i,o,u){var a=new e(t,n,Date.now()+i,o,u);return a.start(i),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Su(e,t){if(Mt("AsyncQueue",t+": "+e),Yo(e))return new Y(P.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xA=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||_e.comparator(n.key,i.key)}:function(n,i){return _e.comparator(n.key,i.key)},this.keyedMap=xg(),this.sortedSet=new hn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),oI=function(){function e(){this.Qr=new hn(_e.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):ye():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),Lf=function(){function e(t,n,i,o,u,a,l,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,i,o){var u=[];return n.forEach(function(a){u.push({type:0,doc:a})}),new e(t,n,xA.emptySet(n),u,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},e}(),EU=function(){this.Wr=void 0,this.listeners=[]},IU=function(){this.queries=new _u(function(e){return M1(e)},yc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(e,t){return K(this,void 0,void 0,function(){var n,i,o,u,a,l,f;return H(this,function(d){switch(d.label){case 0:if(n=se(e),i=t.query,o=!1,(u=n.queries.get(i))||(o=!0,u=new EU),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=u,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=Su(l,"Initialization of query '"+Cg(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(i,u),u.listeners.push(t),t.zr(n.onlineState),u.Wr&&t.Hr(u.Wr)&&vy(n),[2]}})})}function gy(e,t){return K(this,void 0,void 0,function(){var n,i,o,u,a;return H(this,function(l){return n=se(e),i=t.query,o=!1,(u=n.queries.get(i))&&(a=u.listeners.indexOf(t))>=0&&(u.listeners.splice(a,1),o=u.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function TU(e,t){for(var n=se(e),i=!1,o=0,u=t;o<u.length;o++){var a=u[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,p=f.listeners;d<p.length;d++)p[d].Hr(a)&&(i=!0);f.Wr=a}}i&&vy(n)}function SU(e,t,n){var i=se(e),o=i.queries.get(t);if(o)for(var u=0,a=o.listeners;u<a.length;u++)a[u].onError(n);i.queries.delete(t)}function vy(e){e.Gr.forEach(function(t){t.next()})}var yy=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=t.docChanges;i<o.length;i++){var u=o[i];u.type!==3&&n.push(u)}t=new Lf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Lf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OA=function(e){this.key=e},PA=function(e){this.key=e},DA=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=lt(),this.mutatedKeys=lt(),this.lo=F1(t),this.fo=new xA(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,o=n?n.mo:new oI,u=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=u,f=!1,d=nf(this.query)&&u.size===this.query.limit?u.last():null,p=Nf(this.query)&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal(function(v,b){var _=u.get(v),T=wc(i.query,b)?b:null,S=!!_&&i.mutatedKeys.has(_.key),x=!!T&&(T.hasLocalMutations||i.mutatedKeys.has(T.key)&&T.hasCommittedMutations),O=!1;_&&T?_.data.isEqual(T.data)?S!==x&&(o.track({type:3,doc:T}),O=!0):i.yo(_,T)||(o.track({type:2,doc:T}),O=!0,(d&&i.lo(T,d)>0||p&&i.lo(T,p)<0)&&(f=!0)):!_&&T?(o.track({type:0,doc:T}),O=!0):_&&!T&&(o.track({type:1,doc:_}),O=!0,(d||p)&&(f=!0)),O&&(T?(l=l.add(T),a=x?a.add(v):a.delete(v)):(l=l.delete(v),a=a.delete(v)))}),nf(this.query)||Nf(this.query))for(;l.size>this.query.limit;){var g=nf(this.query)?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),o.track({type:1,doc:g})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var o=this,u=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,g){return function(v,b){var _=function(T){switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return _(v)-_(b)}(p.type,g.type)||o.lo(p.doc,g.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new Lf(this.query,t.fo,u,a,t.mutatedKeys,f===0,d,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new oI,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=lt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var i=[];return n.forEach(function(o){t.ho.has(o)||i.push(new PA(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new OA(o))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=lt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Lf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),AU=function(e,t,n){this.query=e,this.targetId=t,this.view=n},kU=function(e){this.key=e,this.bo=!1},NU=function(){function e(t,n,i,o,u,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new _u(function(l){return M1(l)},yc),this.Vo=new Map,this.So=new Set,this.Do=new hn(_e.comparator),this.Co=new Map,this.No=new ly,this.xo={},this.ko=new Map,this.Fo=xf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function CU(e,t){return K(this,void 0,void 0,function(){var n,i,o,u,a,l;return H(this,function(f){switch(f.label){case 0:return n=Iy(e),(u=n.Po.get(t))?(i=u.targetId,n.sharedClientState.addLocalQueryTarget(i),o=u.view.Ro(),[3,4]):[3,1];case 1:return[4,Of(n.localStore,Gr(t))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,wy(n,t,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Ah(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function wy(e,t,n,i){return K(this,void 0,void 0,function(){var o,u,a,l,f,d;return H(this,function(p){switch(p.label){case 0:return e.Oo=function(g,v,b){return function(_,T,S,x){return K(this,void 0,void 0,function(){var O,U,q;return H(this,function(te){switch(te.label){case 0:return O=T.view._o(S),O.Nn?[4,Pf(_.localStore,T.query,!1).then(function(V){var we=V.documents;return T.view._o(we,O)})]:[3,2];case 1:O=te.sent(),te.label=2;case 2:return U=x&&x.targetChanges.get(T.targetId),q=T.view.applyChanges(O,_.isPrimaryClient,U),[2,(Mg(_,T.targetId,q.To),q.snapshot)]}})})}(e,g,v,b)},[4,Pf(e.localStore,t,!0)];case 1:return o=p.sent(),u=new DA(t,o.Bn),a=u._o(o.documents),l=ry.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),f=u.applyChanges(a,e.isPrimaryClient,l),Mg(e,n,f.To),d=new AU(t,n,u),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function RU(e,t){return K(this,void 0,void 0,function(){var n,i,o;return H(this,function(u){switch(u.label){case 0:return n=se(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!yc(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,au(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Ja(n.remoteStore,i.targetId),cu(n,i.targetId)}).catch(Qo)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return cu(n,i.targetId),[4,au(n.localStore,i.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function xU(e,t,n){return K(this,void 0,void 0,function(){var i,o,u,a;return H(this,function(l){switch(l.label){case 0:i=Ty(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var p,g=se(f),v=Dn.now(),b=d.reduce(function(_,T){return _.add(T.key)},lt());return g.persistence.runTransaction("Locally write mutations","readwrite",function(_){return g.Mn.pn(_,b).next(function(T){p=T;for(var S=[],x=0,O=d;x<O.length;x++){var U=O[x],q=rF(U,p.get(U.key));q!=null&&S.push(new Gi(U.key,q,O1(q.value.mapValue),cn.exists(!0)))}return g._n.addMutationBatch(_,v,S,d)})}).then(function(_){return _.applyToLocalDocumentSet(p),{batchId:_.batchId,changes:p}})}(i.localStore,t)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,p){var g=f.xo[f.currentUser.toKey()];g||(g=new hn(qe)),g=g.insert(d,p),f.xo[f.currentUser.toKey()]=g}(i,o.batchId,n),[4,Xi(i,o.changes)];case 3:return l.sent(),[4,Iu(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return u=l.sent(),a=Su(u,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function LA(e,t){return K(this,void 0,void 0,function(){var n,i;return H(this,function(o){switch(o.label){case 0:n=se(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,zF(n.localStore,t)];case 2:return i=o.sent(),t.targetChanges.forEach(function(u,a){var l=n.Co.get(a);l&&(Ce(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?l.bo=!0:u.modifiedDocuments.size>0?Ce(l.bo):u.removedDocuments.size>0&&(Ce(l.bo),l.bo=!1))}),[4,Xi(n,i,t)];case 3:return o.sent(),[3,6];case 4:return[4,Qo(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function sI(e,t,n){var i=se(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(u,a){var l=a.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(u,a){var l=se(u);l.onlineState=a;var f=!1;l.queries.forEach(function(d,p){for(var g=0,v=p.listeners;g<v.length;g++)v[g].zr(a)&&(f=!0)}),f&&vy(l)}(i.eventManager,t),o.length&&i.vo._r(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function OU(e,t,n){return K(this,void 0,void 0,function(){var i,o,u,a,l,f;return H(this,function(d){switch(d.label){case 0:return(i=se(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(u=o&&o.key)?(a=(a=new hn(_e.comparator)).insert(u,fn.newNoDocument(u,Ue.min())),l=lt().add(u),f=new ny(Ue.min(),new Map,new Ht(qe),a,l),[4,LA(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(u),i.Co.delete(t),Ey(i),[3,4];case 2:return[4,au(i.localStore,t,!1).then(function(){return cu(i,t,n)}).catch(Qo)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function PU(e,t){return K(this,void 0,void 0,function(){var n,i,o;return H(this,function(u){switch(u.label){case 0:n=se(e),i=t.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,KF(n.localStore,t)];case 2:return o=u.sent(),_y(n,i,null),by(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Xi(n,o)];case 3:return u.sent(),[3,6];case 4:return[4,Qo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function DU(e,t,n){return K(this,void 0,void 0,function(){var i,o;return H(this,function(u){switch(u.label){case 0:i=se(e),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,function(a,l){var f=se(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var p;return f._n.lookupMutationBatch(d,l).next(function(g){return Ce(g!==null),p=g.keys(),f._n.removeMutationBatch(d,g)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,p)})})}(i.localStore,t)];case 2:return o=u.sent(),_y(i,t,n),by(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,Xi(i,o)];case 3:return u.sent(),[3,6];case 4:return[4,Qo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function LU(e,t){return K(this,void 0,void 0,function(){var n,i,o,u,a;return H(this,function(l){switch(l.label){case 0:Wi((n=se(e)).remoteStore)||ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=se(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return d._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return u=l.sent(),a=Su(u,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function by(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function _y(e,t,n){var i=se(e),o=i.xo[i.currentUser.toKey()];if(o){var u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),i.xo[i.currentUser.toKey()]=o}}function cu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,o=e.Vo.get(t);i<o.length;i++){var u=o[i];e.Po.delete(u),n&&e.vo.Mo(u,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||MA(e,a)})}function MA(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Ja(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Ey(e))}function Mg(e,t,n){for(var i=0,o=n;i<o.length;i++){var u=o[i];u instanceof OA?(e.No.addReference(u.key,t),MU(e,u)):u instanceof PA?(ne("SyncEngine","Document no longer in limbo: "+u.key),e.No.removeReference(u.key,t),e.No.containsKey(u.key)||MA(e,u.key)):ye()}}function MU(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(ne("SyncEngine","New document in limbo: "+n),e.So.add(i),Ey(e))}function Ey(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new _e(Je.fromString(t)),i=e.Fo.next();e.Co.set(i,new kU(n)),e.Do=e.Do.insert(n,i),Ah(e.remoteStore,new Th(Gr(vc(n.path)),i,2,Yn.o))}}function Xi(e,t,n){return K(this,void 0,void 0,function(){var i,o,u,a;return H(this,function(l){switch(l.label){case 0:return i=se(e),o=[],u=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,t,n).then(function(p){if(p){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,p.fromCache?"not-current":"current"),o.push(p);var g=$F.Pn(d.targetId,p);u.push(g)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return K(this,void 0,void 0,function(){var p,g,v,b,_,T,S,x,O;return H(this,function(U){switch(U.label){case 0:p=se(f),U.label=1;case 1:return U.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(q){return J.forEach(d,function(te){return J.forEach(te.bn,function(V){return p.persistence.referenceDelegate.addReference(q,te.targetId,V)}).next(function(){return J.forEach(te.vn,function(V){return p.persistence.referenceDelegate.removeReference(q,te.targetId,V)})})})})];case 2:return U.sent(),[3,4];case 3:if(!Yo(g=U.sent()))throw g;return ne("LocalStore","Failed to update sequence numbers: "+g),[3,4];case 4:for(v=0,b=d;v<b.length;v++)_=b[v],T=_.targetId,_.fromCache||(S=p.kn.get(T),x=S.snapshotVersion,O=S.withLastLimboFreeSnapshotVersion(x),p.kn=p.kn.insert(T,O));return[2]}})})}(i.localStore,u)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function FU(e,t){return K(this,void 0,void 0,function(){var n,i;return H(this,function(o){switch(o.label){case 0:return(n=se(e)).currentUser.isEqual(t)?[3,3]:(ne("SyncEngine","User change. New user:",t.toKey()),[4,wA(n.localStore,t)]);case 1:return i=o.sent(),n.currentUser=t,function(u,a){u.ko.forEach(function(l){l.forEach(function(f){f.reject(new Y(P.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,Xi(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function UU(e,t){var n=se(e),i=n.Co.get(t);if(i&&i.bo)return lt().add(i.key);var o=lt(),u=n.Vo.get(t);if(!u)return o;for(var a=0,l=u;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function jU(e,t){return K(this,void 0,void 0,function(){var n,i,o;return H(this,function(u){switch(u.label){case 0:return[4,Pf((n=se(e)).localStore,t.query,!0)];case 1:return i=u.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&Mg(n,t.targetId,o.To),o)]}})})}function VU(e){return K(this,void 0,void 0,function(){var t;return H(this,function(n){return[2,EA((t=se(e)).localStore).then(function(i){return Xi(t,i)})]})})}function BU(e,t,n,i){return K(this,void 0,void 0,function(){var o,u;return H(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=se(l),p=se(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(g){return p.jt(g,f).next(function(v){return v?d.Mn.pn(g,v):J.resolve(null)})})}((o=se(e)).localStore,t)];case 1:return(u=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Iu(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(_y(o,t,i||null),by(o,t),function(l,f){se(se(l)._n).Gt(f)}(o.localStore,t)):ye(),a.label=4;case 4:return[4,Xi(o,u)];case 5:return a.sent(),[3,7];case 6:ne("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function qU(e,t){return K(this,void 0,void 0,function(){var n,i,o,u,a,l,f,d;return H(this,function(p){switch(p.label){case 0:return Iy(n=se(e)),Ty(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,uI(n,i.toArray())]);case 1:return o=p.sent(),n.$o=!0,[4,Lg(n.remoteStore,!0)];case 2:for(p.sent(),u=0,a=o;u<a.length;u++)l=a[u],Ah(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(g,v){n.sharedClientState.isLocalQueryTarget(v)?f.push(v):d=d.then(function(){return cu(n,v),au(n.localStore,v,!0)}),Ja(n.remoteStore,v)}),[4,d]);case 4:return p.sent(),[4,uI(n,f)];case 5:return p.sent(),function(g){var v=se(g);v.Co.forEach(function(b,_){Ja(v.remoteStore,_)}),v.No.ts(),v.Co=new Map,v.Do=new hn(_e.comparator)}(n),n.$o=!1,[4,Lg(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function uI(e,t,n){return K(this,void 0,void 0,function(){var i,o,u,a,l,f,d,p,g,v,b,_,T,S;return H(this,function(x){switch(x.label){case 0:i=se(e),o=[],u=[],a=0,l=t,x.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(p=i.Vo.get(f))&&p.length!==0?[4,Of(i.localStore,Gr(p[0]))]:[3,7]):[3,13];case 2:d=x.sent(),g=0,v=p,x.label=3;case 3:return g<v.length?(b=v[g],_=i.Po.get(b),[4,jU(i,_)]):[3,6];case 4:(T=x.sent()).snapshot&&u.push(T.snapshot),x.label=5;case 5:return g++,[3,3];case 6:return[3,11];case 7:return[4,_A(i.localStore,f)];case 8:return S=x.sent(),[4,Of(i.localStore,S)];case 9:return d=x.sent(),[4,wy(i,FA(S),f,!1)];case 10:x.sent(),x.label=11;case 11:o.push(d),x.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(u),o)]}})})}function FA(e){return D1(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function $U(e){var t=se(e);return se(se(t.localStore).persistence).fn()}function HU(e,t,n,i){return K(this,void 0,void 0,function(){var o,u,a;return H(this,function(l){switch(l.label){case 0:return(o=se(e)).$o?(ne("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,EA(o.localStore)];case 3:return u=l.sent(),a=ny.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Xi(o,u,a)];case 4:return l.sent(),[3,8];case 5:return[4,au(o.localStore,t,!0)];case 6:return l.sent(),cu(o,t,i),[3,8];case 7:ye(),l.label=8;case 8:return[2]}})})}function KU(e,t,n){return K(this,void 0,void 0,function(){var i,o,u,a,l,f,d,p,g,v;return H(this,function(b){switch(b.label){case 0:if(!(i=Iy(e)).$o)return[3,10];o=0,u=t,b.label=1;case 1:return o<u.length?(a=u[o],i.Vo.has(a)?(ne("SyncEngine","Adding an already active target "+a),[3,5]):[4,_A(i.localStore,a)]):[3,6];case 2:return l=b.sent(),[4,Of(i.localStore,l)];case 3:return f=b.sent(),[4,wy(i,FA(l),f.targetId,!1)];case 4:b.sent(),Ah(i.remoteStore,f),b.label=5;case 5:return o++,[3,1];case 6:d=function(_){return H(this,function(T){switch(T.label){case 0:return i.Vo.has(_)?[4,au(i.localStore,_,!1).then(function(){Ja(i.remoteStore,_),cu(i,_)}).catch(Qo)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})},p=0,g=n,b.label=7;case 7:return p<g.length?(v=g[p],[5,d(v)]):[3,10];case 8:b.sent(),b.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function Iy(e){var t=se(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=LA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=OU.bind(null,t),t.vo._r=TU.bind(null,t.eventManager),t.vo.Mo=SU.bind(null,t.eventManager),t}function Ty(e){var t=se(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=PU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DU.bind(null,t),t}var UA=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return K(this,void 0,void 0,function(){return H(this,function(n){switch(n.label){case 0:return this.R=Sh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return yA(this.persistence,new vA,t.initialUser,this.R)},e.prototype.qo=function(t){return new tU(rU.bs,this.R)},e.prototype.Bo=function(t){return new IA},e.prototype.terminate=function(){return K(this,void 0,void 0,function(){return H(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),jA=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).Qo=n,u.cacheSizeBytes=i,u.forceOwnership=o,u.synchronizeTabs=!1,u}return Ie(t,e),t.prototype.initialize=function(n){return K(this,void 0,void 0,function(){var i=this;return H(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,XF(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Ty(this.Qo.syncEngine)];case 4:return o.sent(),[4,Iu(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return yA(this.persistence,new vA,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new MF(i,n.asyncQueue)},t.prototype.qo=function(n){var i=cy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Ur.withCacheSize(this.cacheSizeBytes):Ur.DEFAULT;return new qF(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,TA(),sf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new IA},t}(UA),zU=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return Ie(t,e),t.prototype.initialize=function(n){return K(this,void 0,void 0,function(){var i,o=this;return H(this,function(u){switch(u.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return u.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof Vm?(this.sharedClientState.syncEngine={ui:BU.bind(null,i),ai:HU.bind(null,i),hi:KU.bind(null,i),fn:$U.bind(null,i),ci:VU.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(a){return K(o,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return[4,qU(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},t.prototype.Bo=function(n){var i=TA();if(!Vm.yt(i))throw new Y(P.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=cy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Vm(i,n.asyncQueue,o,n.clientId,n.initialUser)},t}(jA),Fg=function(){function e(){}return e.prototype.initialize=function(t,n){return K(this,void 0,void 0,function(){var i=this;return H(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return sI(i.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=FU.bind(null,this.syncEngine),[4,Lg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new IU},e.prototype.createDatastore=function(t){var n,i=Sh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new aU(n));return function(u,a,l){return new fU(u,a,l)}(t.credentials,o,i)},e.prototype.createRemoteStore=function(t){var n,i,o,u,a,l=this;return n=this.localStore,i=this.datastore,o=t.asyncQueue,u=function(f){return sI(l.syncEngine,f,0)},a=iI.yt()?new iI:new oU,new dU(n,i,o,u,a)},e.prototype.createSyncEngine=function(t,n){return function(i,o,u,a,l,f,d){var p=new NU(i,o,u,a,l,f);return d&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return K(this,void 0,void 0,function(){var n;return H(this,function(i){switch(i.label){case 0:return n=se(t),ne("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Eu(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kh=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),GU=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return K(this,void 0,void 0,function(){var n,i=this;return H(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Y(P.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,a){return K(this,void 0,void 0,function(){var l,f,d,p,g,v;return H(this,function(b){switch(b.label){case 0:return l=se(u),f=Qa(l.R)+"/documents",d={documents:a.map(function(_){return Ya(l.R,_)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return p=b.sent(),g=new Map,p.forEach(function(_){var T=function(S,x){return"found"in x?function(O,U){Ce(!!U.found),U.found.name,U.found.updateTime;var q=ii(O,U.found.name),te=In(U.found.updateTime),V=new Xn({mapValue:{fields:U.found.fields}});return fn.newFoundDocument(q,te,V)}(S,x):"missing"in x?function(O,U){Ce(!!U.missing),Ce(!!U.readTime);var q=ii(O,U.missing),te=In(U.readTime);return fn.newNoDocument(q,te)}(S,x):ye()}(l.R,_);g.set(T.key.toString(),T)}),v=[],[2,(a.forEach(function(_){var T=g.get(_.toString());Ce(!!T),v.push(T)}),v)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(u){return i.recordVersion(u)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Ec(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return K(this,void 0,void 0,function(){var t,n=this;return H(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,u){var a=_e.fromPath(u);n.mutations.push(new ty(a,n.precondition(a)))}),[4,function(o,u){return K(this,void 0,void 0,function(){var a,l,f;return H(this,function(d){switch(d.label){case 0:return a=se(o),l=Qa(a.R)+"/documents",f={writes:u.map(function(p){return Cf(a.R,p)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ye();n=Ue.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new Y(P.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?cn.updateTime(n):cn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Ue.min()))throw new Y(P.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(n)}return cn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),WU=function(){function e(t,n,i,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new fy(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return K(t,void 0,void 0,function(){var n,i,o=this;return H(this,function(u){return n=new GU(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Xo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!z1(n)}return!1},e}(),XU=function(){function e(t,n,i){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Qt.UNAUTHENTICATED,this.clientId=A1.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(u){return K(o,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return ne("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return a.sent(),this.user=u,[2]}})})})}return e.prototype.getConfiguration=function(){return K(this,void 0,void 0,function(){return H(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Y(P.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return K(t,void 0,void 0,function(){var i,o;return H(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=u.sent(),o=Su(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(e,t){return K(this,void 0,void 0,function(){var n,i,o=this;return H(this,function(u){switch(u.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=u.sent(),[4,t.initialize(n)];case 2:return u.sent(),i=n.initialUser,e.setCredentialChangeListener(function(a){return K(o,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,wA(t.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function BA(e,t){return K(this,void 0,void 0,function(){var n,i;return H(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Sy(e)];case 1:return n=o.sent(),ne("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(u){return function(a,l){return K(this,void 0,void 0,function(){var f,d;return H(this,function(p){switch(p.label){case 0:return(f=se(a)).asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials"),d=Wi(f),f.Or.add(3),[4,Eu(f)];case 1:return p.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),f.Or.delete(3),[4,Ic(f)];case 3:return p.sent(),[2]}})})}(t.remoteStore,u)}),e.onlineComponents=t,[2]}})})}function Sy(e){return K(this,void 0,void 0,function(){return H(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ne("FirestoreClient","Using default OfflineComponentProvider"),[4,VA(e,new UA)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Nh(e){return K(this,void 0,void 0,function(){return H(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ne("FirestoreClient","Using default OnlineComponentProvider"),[4,BA(e,new Fg)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function aI(e){return Sy(e).then(function(t){return t.persistence})}function qA(e){return Sy(e).then(function(t){return t.localStore})}function cI(e){return Nh(e).then(function(t){return t.remoteStore})}function $A(e){return Nh(e).then(function(t){return t.syncEngine})}function lu(e){return K(this,void 0,void 0,function(){var t,n;return H(this,function(i){switch(i.label){case 0:return[4,Nh(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=CU.bind(null,t.syncEngine),n.onUnlisten=RU.bind(null,t.syncEngine),n)]}})})}function lI(e,t,n){var i=this;n===void 0&&(n={});var o=new Fn;return e.asyncQueue.enqueueAndForget(function(){return K(i,void 0,void 0,function(){var u;return H(this,function(a){switch(a.label){case 0:return u=function(l,f,d,p,g){var v=new kh({next:function(_){f.enqueueAndForget(function(){return gy(l,b)});var T=_.docs.has(d);!T&&_.fromCache?g.reject(new Y(P.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&p&&p.source==="server"?g.reject(new Y(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(_)},error:function(_){return g.reject(_)}}),b=new yy(vc(d.path),v,{includeMetadataChanges:!0,so:!0});return my(l,b)},[4,lu(e)];case 1:return[2,u.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function fI(e,t,n){var i=this;n===void 0&&(n={});var o=new Fn;return e.asyncQueue.enqueueAndForget(function(){return K(i,void 0,void 0,function(){var u;return H(this,function(a){switch(a.label){case 0:return u=function(l,f,d,p,g){var v=new kh({next:function(_){f.enqueueAndForget(function(){return gy(l,b)}),_.fromCache&&p.source==="server"?g.reject(new Y(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(_)},error:function(_){return g.reject(_)}}),b=new yy(d,v,{includeMetadataChanges:!0,so:!0});return my(l,b)},[4,lu(e)];case 1:return[2,u.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var YU=function(e,t,n,i,o,u,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=a,this.useFetchStreams=l},Mf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),hI=new Map,HA=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},dI=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Qt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),QU=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),JU=function(){function e(t){var n=this;this.currentUser=Qt.UNAUTHENTICATED,this.oc=new Fn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){ne("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?i(o):(ne("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return t.cc!==n?(ne("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Ce(typeof o.accessToken=="string"),new HA(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return K(i,void 0,void 0,function(){return H(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Ce(t===null||typeof t=="string"),new Qt(t)},e}(),ZU=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=Qt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),ej=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new ZU(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Qt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(e,t,n){if(!n)throw new Y(P.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function ky(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new Y(P.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function KA(e,t,n,i){if(t===!0&&i===!0)throw new Y(P.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function pI(e){if(!_e.isDocumentKey(e))throw new Y(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function mI(e){if(_e.isDocumentKey(e))throw new Y(P.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Ch(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ye()}function Ze(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Y(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ch(e);throw new Y(P.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function gI(e,t){if(t<=0)throw new Y(P.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vI=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new Y(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Y(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,KA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Za=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vI({}),this._settingsFrozen=!1,t instanceof Mf?(this._databaseId=t,this._credentials=new dI):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Y(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mf(i.options.projectId)}(t),this._credentials=new JU(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Y(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Y(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vI(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new dI;switch(n.type){case"gapi":var i=n.client;return Ce(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new ej(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Y(P.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=hI.get(t))&&(ne("ComponentProvider","Removing Datastore"),hI.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),St=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Vi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Zn=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Vi=function(e){function t(n,i,o){var u=this;return(u=e.call(this,n,i,vc(o))||this)._path=o,u.type="collection",u}return Ie(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new St(this.firestore,null,new _e(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Zn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=ut(e),Ay("collection","path",t),e instanceof Za)return mI(n=Je.fromString.apply(Je,bt([t],i))),new Vi(e,null,n);if(!(e instanceof St||e instanceof Vi))throw new Y(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return mI(n=Je.fromString.apply(Je,bt([e.path],i)).child(Je.fromString(t))),new Vi(e.firestore,null,n)}function uf(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=ut(e),arguments.length===1&&(t=A1.u()),Ay("doc","path",t),e instanceof Za)return pI(n=Je.fromString.apply(Je,bt([t],i))),new St(e,null,new _e(n));if(!(e instanceof St||e instanceof Vi))throw new Y(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return pI(n=e._path.child(Je.fromString.apply(Je,bt([t],i)))),new St(e.firestore,e instanceof Vi?e.converter:null,new _e(n))}function GA(e,t){return e=ut(e),t=ut(t),(e instanceof St||e instanceof Vi)&&(t instanceof St||t instanceof Vi)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function WA(e,t){return e=ut(e),t=ut(t),e instanceof Zn&&t instanceof Zn&&e.firestore===t.firestore&&yc(e._query,t._query)&&e.converter===t.converter}var tj=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new fy(this,"async_queue_retry"),this.Ic=function(){var i=sf();i&&ne("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=sf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=sf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Fn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return K(this,void 0,void 0,function(){var t,n=this;return H(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Yo(t=i.sent()))throw t;return ne("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Mt("INTERNAL UNHANDLED ERROR: ",function(u){var a=u.message||"";return u.stack&&(a=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var u=_U.createAndSchedule(this,t,n,i,function(a){return o.vc(a)});return this.mc.push(u),u},e.prototype.Ac=function(){this.yc&&ye()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return K(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var u=o[i];if(u.skipDelay(),t!=="all"&&u.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function fu(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,o=0,u=["next","error","complete"];o<u.length;o++){var a=u[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(e)}var nj=-1,$t=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).type="firestore",o._queue=new tj,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Ie(t,e),t.prototype._terminate=function(){return this._firestoreClient||XA(this),this._firestoreClient.terminate()},t}(Za);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(e){return e._firestoreClient||XA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function XA(e){var t,n=e._freezeSettings(),i=function(o,u,a,l){return new YU(o,u,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new XU(e._credentials,e._queue,i)}function yI(e,t,n){var i=this,o=new Fn;return e.asyncQueue.enqueue(function(){return K(i,void 0,void 0,function(){var u;return H(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,VA(e,n)];case 1:return a.sent(),[4,BA(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===P.FAILED_PRECONDITION||l.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(u=a.sent()))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function wI(e){if(e._initialized||e._terminated)throw new Y(P.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $r=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new Y(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Ko=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Mn.fromBase64String(t))}catch(n){throw new Y(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Mn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Jo=function(e){this._methodName=e},Rh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new Y(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Y(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return qe(this._lat,t._lat)||qe(this._long,t._long)},e}(),rj=/^__.*__$/,ij=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Gi(t,this.data,this.fieldMask,n,this.fieldTransforms):new _c(t,this.data,n,this.fieldTransforms)},e}(),YA=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new Gi(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}var JA=function(){function e(t,n,i,o,u,a){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Cc(),this.fieldTransforms=u||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Ff(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(QA(this.Nc)&&rj.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),oj=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||Sh(t)}return e.prototype.Uc=function(t,n,i,o){return o===void 0&&(o=!1),new JA({Nc:t,methodName:n,qc:i,path:kr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Zo(e){var t=e._freezeSettings(),n=Sh(e._databaseId);return new oj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xh(e,t,n,i,o,u){u===void 0&&(u={});var a=e.Uc(u.merge||u.mergeFields?2:0,t,n,o);xy("Data must be an object, but it was:",a,i);var l,f,d=tk(i,a);if(u.merge)l=new Qs(a.fieldMask),f=a.fieldTransforms;else if(u.mergeFields){for(var p=[],g=0,v=u.mergeFields;g<v.length;g++){var b=Ug(t,v[g],n);if(!a.contains(b))throw new Y(P.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");rk(p,b)||p.push(b)}l=new Qs(p),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new ij(new Xn(d),l,f)}var Ny=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Jo);function ZA(e,t,n){return new JA({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var sj=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype._toFieldTransform=function(n){return new bc(n.path,new tu)},t.prototype.isEqual=function(n){return n instanceof t},t}(Jo),uj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Ie(t,e),t.prototype._toFieldTransform=function(n){var i=ZA(this,n,!0),o=this.Kc.map(function(a){return es(a,i)}),u=new $o(o);return new bc(n.path,u)},t.prototype.isEqual=function(n){return this===n},t}(Jo),aj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Ie(t,e),t.prototype._toFieldTransform=function(n){var i=ZA(this,n,!0),o=this.Kc.map(function(a){return es(a,i)}),u=new Ho(o);return new bc(n.path,u)},t.prototype.isEqual=function(n){return this===n},t}(Jo),cj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Qc=i,o}return Ie(t,e),t.prototype._toFieldTransform=function(n){var i=new nu(n.R,V1(n.R,this.Qc));return new bc(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(Jo);function Cy(e,t,n,i){var o=e.Uc(1,t,n);xy("Data must be an object, but it was:",o,i);var u=[],a=Xn.empty();Wo(i,function(f,d){var p=Oy(t,f,n);d=ut(d);var g=o.Oc(p);if(d instanceof Ny)u.push(p);else{var v=es(d,g);v!=null&&(u.push(p),a.set(p,v))}});var l=new Qs(u);return new YA(a,l,o.fieldTransforms)}function Ry(e,t,n,i,o,u){var a=e.Uc(1,t,n),l=[Ug(t,i,n)],f=[o];if(u.length%2!=0)throw new Y(P.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<u.length;d+=2)l.push(Ug(t,u[d])),f.push(u[d+1]);for(var p=[],g=Xn.empty(),v=l.length-1;v>=0;--v)if(!rk(p,l[v])){var b=l[v],_=f[v];_=ut(_);var T=a.Oc(b);if(_ instanceof Ny)p.push(b);else{var S=es(_,T);S!=null&&(p.push(b),g.set(b,S))}}var x=new Qs(p);return new YA(g,x,a.fieldTransforms)}function ek(e,t,n,i){return i===void 0&&(i=!1),es(n,e.Uc(i?4:3,t))}function es(e,t){if(nk(e=ut(e)))return xy("Unsupported field value:",t,e),tk(e,t);if(e instanceof Jo)return function(n,i){if(!QA(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],u=0,a=0,l=n;a<l.length;a++){var f=es(l[a],i.Mc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(e,t)}return function(n,i){if((n=ut(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return V1(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Dn.fromDate(n);return{timestampValue:Xa(i.R,o)}}if(n instanceof Dn)return o=new Dn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Xa(i.R,o)};if(n instanceof Rh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ko)return{bytesValue:Y1(i.R,n._byteString)};if(n instanceof St){o=i.databaseId;var u=n.firestore._databaseId;if(!u.isEqual(o))throw i.Lc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:iy(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+Ch(n))}(e,t)}function tk(e,t){var n={};return N1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wo(e,function(i,o){var u=es(o,t.kc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function nk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Dn||e instanceof Rh||e instanceof Ko||e instanceof St||e instanceof Jo)}function xy(e,t,n){if(!nk(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=Ch(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function Ug(e,t,n){if((t=ut(t))instanceof $r)return t._internalPath;if(typeof t=="string")return Oy(e,t);throw Ff("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var lj=new RegExp("[~\\*/\\[\\]]");function Oy(e,t,n){if(t.search(lj)>=0)throw Ff("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new($r.bind.apply($r,bt([void 0],t.split("."))))()._internalPath}catch{throw Ff("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Ff(e,t,n,i,o){var u=i&&!i.isEmpty(),a=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(u||a)&&(f+=" (found",u&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new Y(P.INVALID_ARGUMENT,(l+=". ")+e+f)}function rk(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ec=function(){function e(t,n,i,o,u){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new St(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new fj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Uf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),fj=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(ec);function Uf(e,t){return typeof t=="string"?Oy(e,t):t instanceof $r?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Co=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),si=function(e){function t(n,i,o,u,a,l){var f=this;return(f=e.call(this,n,i,o,u,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return Ie(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new Na(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(Uf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},t}(ec),Na=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(si),Pi=function(){function e(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Co(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(o){t.call(n,new Na(i._firestore,i._userDataWriter,o.key,o,new Co(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var u=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new Na(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Co(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Na(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Co(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:hj(l.type),doc:f,oldIndex:d,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function hj(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}function ik(e,t){return e instanceof si&&t instanceof si?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Pi&&t instanceof Pi&&e._firestore===t._firestore&&WA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(e){if(Nf(e)&&e.explicitOrderBy.length===0)throw new Y(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tc=function(){};function Ti(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=t;i<o.length;i++){var u=o[i];e=u._apply(e)}return e}var dj=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).jc=n,u.Wc=i,u.Gc=o,u.type="where",u}return Ie(t,e),t.prototype._apply=function(n){var i=Zo(n.firestore),o=function(u,a,l,f,d,p,g){var v;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Y(P.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){TI(g,p);for(var b=[],_=0,T=g;_<T.length;_++){var S=T[_];b.push(II(f,u,S))}v={arrayValue:{values:b}}}else v=II(f,u,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||TI(g,p),v=ek(l,"where",g,p==="in"||p==="not-in");var x=Qn.create(d,p,v);return function(O,U){if(U.g()){var q=Zv(O);if(q!==null&&!q.isEqual(U.field))throw new Y(P.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+q.toString()+"' and '"+U.field.toString()+"'");var te=Jv(O);te!==null&&uk(O,U.field,te)}var V=function(we,G){for(var oe=0,k=we.filters;oe<k.length;oe++){var $e=k[oe];if(G.indexOf($e.op)>=0)return $e.op}return null}(O,function(we){switch(we){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(V!==null)throw V===U.op?new Y(P.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+U.op.toString()+"' filter."):new Y(P.INVALID_ARGUMENT,"Invalid query. You cannot use '"+U.op.toString()+"' filters with '"+V.toString()+"' filters.")}(u,x),x}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Zn(n.firestore,n.converter,function(u,a){var l=u.filters.concat([a]);return new fi(u.path,u.collectionGroup,u.explicitOrderBy.slice(),l,u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))},t}(Tc),pj=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return Ie(t,e),t.prototype._apply=function(n){var i=function(o,u,a){if(o.startAt!==null)throw new Y(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Y(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Vs(u,a);return function(f,d){if(Jv(f)===null){var p=Zv(f);p!==null&&uk(f,p,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new Zn(n.firestore,n.converter,function(o,u){var a=o.explicitOrderBy.concat([u]);return new fi(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(Tc),bI=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Hc=i,u.Jc=o,u}return Ie(t,e),t.prototype._apply=function(n){return new Zn(n.firestore,n.converter,L1(n._query,this.Hc,this.Jc))},t}(Tc),_I=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Ie(t,e),t.prototype._apply=function(n){var i=sk(n,this.type,this.Yc,this.Xc);return new Zn(n.firestore,n.converter,function(o,u){return new fi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(n._query,i))},t}(Tc),EI=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Ie(t,e),t.prototype._apply=function(n){var i=sk(n,this.type,this.Yc,this.Xc);return new Zn(n.firestore,n.converter,function(o,u){return new fi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)}(n._query,i))},t}(Tc);function sk(e,t,n,i){if(n[0]=ut(n[0]),n[0]instanceof ec)return function(u,a,l,f,d){if(!f)throw new Y(P.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],g=0,v=eu(u);g<v.length;g++){var b=v[g];if(b.field.isKeyField())p.push(Sf(a,f.key));else{var _=f.data.field(b.field);if(Xv(_))throw new Y(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var T=b.field.canonicalString();throw new Y(P.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+T+"' (used as the orderBy) does not exist.")}p.push(_)}}return new Wa(p,d)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=Zo(e.firestore);return function(u,a,l,f,d,p){var g=u.explicitOrderBy;if(d.length>g.length)throw new Y(P.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var v=[],b=0;b<d.length;b++){var _=d[b];if(g[b].field.isKeyField()){if(typeof _!="string")throw new Y(P.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!ey(u)&&_.indexOf("/")!==-1)throw new Y(P.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var T=u.path.child(Je.fromString(_));if(!_e.isDocumentKey(T))throw new Y(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+T+"' is not because it contains an odd number of segments.");var S=new _e(T);v.push(Sf(a,S))}else{var x=ek(l,f,_);v.push(x)}}return new Wa(v,p)}(e._query,e.firestore._databaseId,o,t,n,i)}function II(e,t,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new Y(P.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ey(t)&&n.indexOf("/")!==-1)throw new Y(P.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(Je.fromString(n));if(!_e.isDocumentKey(i))throw new Y(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Sf(e,new _e(i))}if(n instanceof St)return Sf(e,n._key);throw new Y(P.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ch(n)+".")}function TI(e,t){if(!Array.isArray(e)||e.length===0)throw new Y(P.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Y(P.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function uk(e,t,n){if(!n.isEqual(t))throw new Y(P.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Py=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),qo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Lt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Js(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ye()}},e.prototype.convertObject=function(t,n){var i=this,o={};return Wo(t.fields,function(u,a){o[u]=i.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new Rh(Lt(t.latitude),Lt(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(o){return i.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=R1(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(za(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=qi(t);return new Dn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=Je.fromString(t);Ce(iA(i));var o=new Mf(i.get(1),i.get(3)),u=new _e(i.popFirst(5));return o.isEqual(n)||Mt("Document "+u+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),u},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var mj=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Ie(t,e),t.prototype.convertBytes=function(n){return new Ko(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new St(this.firestore,null,i)},t}(Py),gj=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Zo(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var o=Di(t,this._firestore),u=Oh(o.converter,n,i),a=xh(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,cn.none())),this},e.prototype.update=function(t,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this._verifyNotCommitted();var a,l=Di(t,this._firestore);return a=typeof(n=ut(n))=="string"||n instanceof $r?Ry(this._dataReader,"WriteBatch.update",l._key,n,i,o):Cy(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,cn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Di(t,this._firestore);return this._mutations=this._mutations.concat(new Ec(n._key,cn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Y(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(e,t){if((e=ut(e)).firestore!==t)throw new Y(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lo=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Ie(t,e),t.prototype.convertBytes=function(n){return new Ko(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new St(this.firestore,null,i)},t}(Py);function SI(e,t,n){e=Ze(e,St);var i=Ze(e.firestore,$t),o=Oh(e.converter,t,n);return Sc(i,[xh(Zo(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,cn.none())])}function AI(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=Ze(e,St);var u=Ze(e.firestore,$t),a=Zo(u);return Sc(u,[(typeof(t=ut(t))=="string"||t instanceof $r?Ry(a,"updateDoc",e._key,t,n,i):Cy(a,"updateDoc",e._key,t)).toMutation(e._key,cn.exists(!0))])}function ak(e){for(var t,n,i,o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];e=ut(e);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||fu(o[l])||(a=o[l],l++);var f,d,p,g={includeMetadataChanges:a.includeMetadataChanges};if(fu(o[l])){var v=o[l];o[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),o[l+1]=(n=v.error)===null||n===void 0?void 0:n.bind(v),o[l+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}if(e instanceof St)d=Ze(e.firestore,$t),p=vc(e._key.path),f={next:function(T){o[l]&&o[l](jg(d,e,T))},error:o[l+1],complete:o[l+2]};else{var b=Ze(e,Zn);d=Ze(b.firestore,$t),p=b._query;var _=new Lo(d);f={next:function(T){o[l]&&o[l](new Pi(d,_,b,T))},error:o[l+1],complete:o[l+2]},ok(e._query)}return function(T,S,x,O){var U=this,q=new kh(O),te=new yy(S,q,x);return T.asyncQueue.enqueueAndForget(function(){return K(U,void 0,void 0,function(){var V;return H(this,function(we){switch(we.label){case 0:return V=my,[4,lu(T)];case 1:return[2,V.apply(void 0,[we.sent(),te])]}})})}),function(){q.Wo(),T.asyncQueue.enqueueAndForget(function(){return K(U,void 0,void 0,function(){var V;return H(this,function(we){switch(we.label){case 0:return V=gy,[4,lu(T)];case 1:return[2,V.apply(void 0,[we.sent(),te])]}})})})}}(un(d),p,g,f)}function Sc(e,t){return function(n,i){var o=this,u=new Fn;return n.asyncQueue.enqueueAndForget(function(){return K(o,void 0,void 0,function(){var a;return H(this,function(l){switch(l.label){case 0:return a=xU,[4,$A(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,u])]}})})}),u.promise}(un(e),t)}function jg(e,t,n){var i=n.docs.get(t._key),o=new Lo(e);return new si(e,o,t._key,i,new Co(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vj=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this)._firestore=n,o}return Ie(t,e),t.prototype.get=function(n){var i=this,o=Di(n,this._firestore),u=new Lo(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new si(i._firestore,u,o._key,a._document,new Co(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Zo(t)}return e.prototype.get=function(t){var n=this,i=Di(t,this._firestore),o=new mj(this._firestore);return this._transaction.lookup([i._key]).then(function(u){if(!u||u.length!==1)return ye();var a=u[0];if(a.isFoundDocument())return new ec(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new ec(n._firestore,o,i._key,null,i.converter);throw ye()})},e.prototype.set=function(t,n,i){var o=Di(t,this._firestore),u=Oh(o.converter,n,i),a=xh(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,i);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];var a,l=Di(t,this._firestore);return a=typeof(n=ut(n))=="string"||n instanceof $r?Ry(this._dataReader,"Transaction.update",l._key,n,i,o):Cy(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=Di(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(){if(typeof Uint8Array>"u")throw new Y(P.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function NI(){if(typeof atob>"u")throw new Y(P.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ck=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return NI(),new e(Ko.fromBase64String(t))},e.fromUint8Array=function(t){return kI(),new e(Ko.fromUint8Array(t))},e.prototype.toBase64=function(){return NI(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return kI(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),yj=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,o){wI(i=Ze(i,$t));var u=un(i),a=i._freezeSettings(),l=new Fg;return yI(u,l,new jA(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){wI(n=Ze(n,$t));var i=un(n),o=n._freezeSettings(),u=new Fg;return yI(i,u,new zU(u,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new Y(P.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Fn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return K(i,void 0,void 0,function(){var u;return H(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return K(this,void 0,void 0,function(){var f;return H(this,function(d){switch(d.label){case 0:return ou.yt()?(f=l+"main",[4,ou.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(cy(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return u=a.sent(),o.reject(u),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),lk=function(){function e(t,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Mf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||If("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(o,u,a,l){var f;l===void 0&&(l={});var d=(o=Ze(o,Za))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==u&&If("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:u+":"+a,ssl:!1})),l.mockUserToken){var p,g;if(typeof l.mockUserToken=="string")p=l.mockUserToken,g=Qt.MOCK_USER;else{p=vS(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var v=l.mockUserToken.sub||l.mockUserToken.user_id;if(!v)throw new Y(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Qt(v)}o._credentials=new QU(new HA(p,g))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return K(n,void 0,void 0,function(){var i,o;return H(this,function(u){switch(u.label){case 0:return[4,aI(t)];case 1:return i=u.sent(),[4,cI(t)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=se(a);return l.Or.delete(0),Ic(l)}(o))]}})})})}(un(Ze(this._delegate,$t)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return K(n,void 0,void 0,function(){var i,o;return H(this,function(u){switch(u.label){case 0:return[4,aI(t)];case 1:return i=u.sent(),[4,cI(t)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!1),function(a){return K(this,void 0,void 0,function(){var l;return H(this,function(f){switch(f.label){case 0:return(l=se(a)).Or.add(0),[4,Eu(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(un(Ze(this._delegate,$t)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&KA("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new Fn;return t.asyncQueue.enqueueAndForget(function(){return K(n,void 0,void 0,function(){var o;return H(this,function(u){switch(u.label){case 0:return o=LU,[4,$A(t)];case 1:return[2,o.apply(void 0,[u.sent(),i])]}})})}),i.promise}(un(Ze(this._delegate,$t)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(o,u){var a=this,l=new kh(u);return o.asyncQueue.enqueueAndForget(function(){return K(a,void 0,void 0,function(){var f;return H(this,function(d){switch(d.label){case 0:return f=function(p,g){se(p).Gr.add(g),g.next()},[4,lu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return K(a,void 0,void 0,function(){var f;return H(this,function(d){switch(d.label){case 0:return f=function(p,g){se(p).Gr.delete(g)},[4,lu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(un(n=Ze(n,$t)),fu(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Y(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new jf(this,zA(this._delegate,t))}catch(n){throw vn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Mo(this,uf(this._delegate,t))}catch(n){throw vn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Lh(this,function(n,i){if(n=Ze(n,Za),Ay("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Y(P.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Zn(n,null,function(o){return new fi(Je.emptyPath(),o)}(i))}(this._delegate,t))}catch(n){throw vn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,o){return function(u,a){var l=this,f=new Fn;return u.asyncQueue.enqueueAndForget(function(){return K(l,void 0,void 0,function(){var d;return H(this,function(p){switch(p.label){case 0:return[4,function(g){return Nh(g).then(function(v){return v.datastore})}(u)];case 1:return d=p.sent(),new WU(u.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(un(i),function(u){return o(new vj(i,u))})}(this._delegate,function(i){return t(new fk(n,i))})},e.prototype.batch=function(){var t=this;return un(this._delegate),new hk(new gj(this._delegate,function(n){return Sc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new Y(P.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Y(P.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Ph=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Ie(t,e),t.prototype.convertBytes=function(n){return new ck(new Ko(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Mo.eu(i,this.firestore,null)},t}(Py);function wj(e){var t;t=e,Er.setLogLevel(t)}var fk=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Ph(t)}return e.prototype.get=function(t){var n=this,i=Ro(t);return this._delegate.get(i).then(function(o){return new tc(n._firestore,new si(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},e.prototype.set=function(t,n,i){var o=Ro(t);return i?(ky("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=Ro(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,bt([l,n,i],u)),this},e.prototype.delete=function(t){var n=Ro(t);return this._delegate.delete(n),this},e}(),hk=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var o=Ro(t);return i?(ky("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=Ro(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,bt([l,n,i],u)),this},e.prototype.delete=function(t){var n=Ro(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Dh=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new Na(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new nc(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,o=i.get(t);o||(o=new WeakMap,i.set(t,o));var u=o.get(n);return u||(u=new e(t,new Ph(t),n),o.set(n,u)),u},e}();Dh.su=new WeakMap;var Mo=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Ph(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new Y(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new St(n._delegate,i,new _e(t)))},e.eu=function(t,n,i){return new e(n,new St(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new jf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new jf(this.firestore,zA(this._delegate,t))}catch(n){throw vn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=ut(t))instanceof St&&GA(this._delegate,t)},e.prototype.set=function(t,n){n=ky("DocumentReference.set",n);try{return n?SI(this._delegate,t,n):SI(this._delegate,t)}catch(i){throw vn(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?AI(this._delegate,t):AI.apply(void 0,bt([this._delegate,t,n],i))}catch(u){throw vn(u,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Sc(Ze((t=this._delegate).firestore,$t),[new Ec(t._key,cn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=dk(n),u=pk(n,function(a){return new tc(t.firestore,new si(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return ak(this._delegate,o,u)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=Ze(i,St);var o=Ze(i.firestore,$t),u=un(o),a=new Lo(o);return function(l,f){var d=this,p=new Fn;return l.asyncQueue.enqueueAndForget(function(){return K(d,void 0,void 0,function(){var g;return H(this,function(v){switch(v.label){case 0:return g=function(b,_,T){return K(this,void 0,void 0,function(){var S,x;return H(this,function(O){switch(O.label){case 0:return O.trys.push([0,2,,3]),[4,function(U,q){var te=se(U);return te.persistence.runTransaction("read document","readonly",function(V){return te.Mn.mn(V,q)})}(b,_)];case 1:return(x=O.sent()).isFoundDocument()?T.resolve(x):x.isNoDocument()?T.resolve(null):T.reject(new Y(P.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=O.sent(),x=Su(S,"Failed to get document '"+_+" from cache"),T.reject(x),[3,3];case 3:return[2]}})})},[4,qA(l)];case 1:return[2,g.apply(void 0,[v.sent(),f,p])]}})})}),p.promise}(u,i._key).then(function(l){return new si(o,a,i._key,l,new Co(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=Ze(i,St);var o=Ze(i.firestore,$t);return lI(un(o),i._key,{source:"server"}).then(function(u){return jg(o,i,u)})}(this._delegate):function(i){i=Ze(i,St);var o=Ze(i.firestore,$t);return lI(un(o),i._key).then(function(u){return jg(o,i,u)})}(this._delegate)).then(function(i){return new tc(n.firestore,new si(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Dh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function vn(e,t,n){return e.message=e.message.replace(t,n),e}function dk(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!fu(i))return i}return{}}function pk(e,t){var n,i,o;return{next:function(u){o.next&&o.next(t(u))},error:(n=(o=fu(e[0])?e[0]:fu(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var tc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Mo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return ik(this._delegate,t._delegate)},e}(),nc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(tc),Lh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Ph(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,Ti(this._delegate,function(o,u,a){var l=u,f=Uf("where",o);return new dj(f,l,a)}(t,n,i)))}catch(o){throw vn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ti(this._delegate,function(i,o){o===void 0&&(o="asc");var u=o,a=Uf("orderBy",i);return new pj(a,u)}(t,n)))}catch(i){throw vn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ti(this._delegate,function(n){return gI("limit",n),new bI("limit",n,"F")}(t)))}catch(n){throw vn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ti(this._delegate,function(n){return gI("limitToLast",n),new bI("limitToLast",n,"L")}(t)))}catch(n){throw vn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ti(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new _I("startAt",i,!0)}).apply(void 0,t)))}catch(i){throw vn(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ti(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new _I("startAfter",i,!1)}).apply(void 0,t)))}catch(i){throw vn(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ti(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new EI("endBefore",i,!0)}).apply(void 0,t)))}catch(i){throw vn(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ti(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new EI("endAt",i,!1)}).apply(void 0,t)))}catch(i){throw vn(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return WA(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=Ze(i,Zn);var o=Ze(i.firestore,$t),u=un(o),a=new Lo(o);return function(l,f){var d=this,p=new Fn;return l.asyncQueue.enqueueAndForget(function(){return K(d,void 0,void 0,function(){var g;return H(this,function(v){switch(v.label){case 0:return g=function(b,_,T){return K(this,void 0,void 0,function(){var S,x,O,U,q;return H(this,function(te){switch(te.label){case 0:return te.trys.push([0,2,,3]),[4,Pf(b,_,!0)];case 1:return q=te.sent(),S=new DA(_,q.Bn),x=S._o(q.documents),O=S.applyChanges(x,!1),T.resolve(O.snapshot),[3,3];case 2:return U=te.sent(),q=Su(U,"Failed to execute query '"+_+" against cache"),T.reject(q),[3,3];case 3:return[2]}})})},[4,qA(l)];case 1:return[2,g.apply(void 0,[v.sent(),f,p])]}})})}),p.promise}(u,i._query).then(function(l){return new Pi(o,a,i,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=Ze(i,Zn);var o=Ze(i.firestore,$t),u=un(o),a=new Lo(o);return fI(u,i._query,{source:"server"}).then(function(l){return new Pi(o,a,i,l)})}(this._delegate):function(i){i=Ze(i,Zn);var o=Ze(i.firestore,$t),u=un(o),a=new Lo(o);return ok(i._query),fI(u,i._query).then(function(l){return new Pi(o,a,i,l)})}(this._delegate)).then(function(i){return new Vg(n.firestore,new Pi(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=dk(n),u=pk(n,function(a){return new Vg(t.firestore,new Pi(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return ak(this._delegate,o,u)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Dh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),bj=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new nc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Vg=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Lh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new nc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new bj(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(o){t.call(n,new nc(i._firestore,o))})},e.prototype.isEqual=function(t){return ik(this._delegate,t._delegate)},e}(),jf=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).firestore=n,o._delegate=i,o}return Ie(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Mo(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Mo(this.firestore,n===void 0?uf(this._delegate):uf(this._delegate,n))}catch(i){throw vn(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(o,u){var a=Ze(o.firestore,$t),l=uf(o),f=Oh(o.converter,u);return Sc(a,[xh(Zo(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,cn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Mo(i.firestore,o)})},t.prototype.isEqual=function(n){return GA(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Dh.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Lh);function Ro(e){return Ze(e,St)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _j=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new($r.bind.apply($r,bt([void 0],t)))}return e.documentId=function(){return new e(kr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=ut(t))instanceof $r&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),Ej=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new sj("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Ny("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new uj("arrayUnion",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new aj("arrayRemove",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new cj("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),Ij={Firestore:lk,GeoPoint:Rh,Timestamp:Dn,Blob:ck,Transaction:fk,WriteBatch:hk,DocumentReference:Mo,DocumentSnapshot:tc,Query:Lh,QueryDocumentSnapshot:nc,QuerySnapshot:Vg,CollectionReference:jf,FieldPath:_j,FieldValue:Ej,setLogLevel:wj,CACHE_SIZE_UNLIMITED:nj};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(e){(function(t,n){t.INTERNAL.registerComponent(new sc("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Ij)))})(e,function(t,n){return new lk(t,new $t(t,n),new yj)}),e.registerVersion("@firebase/firestore","2.4.1")}Tj(Se);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mk="firebasestorage.googleapis.com",gk="storageBucket",Sj=2*60*1e3,Aj=10*60*1e3,jt=function(e){Ie(t,e);function t(n,i){var o=e.call(this,Bm(n),"Firebase Storage: "+i+" ("+Bm(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return Bm(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(wS);function Bm(e){return"storage/"+e}function Dy(){var e="An unknown error occurred, please check the error payload for server response.";return new jt("unknown",e)}function kj(e){return new jt("object-not-found","Object '"+e+"' does not exist.")}function Nj(e){return new jt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Cj(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new jt("unauthenticated",e)}function Rj(){return new jt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function xj(e){return new jt("unauthorized","User does not have permission to access '"+e+"'.")}function Oj(){return new jt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function vk(){return new jt("canceled","User canceled the upload/download.")}function Pj(e){return new jt("invalid-url","Invalid URL '"+e+"'.")}function Dj(e){return new jt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function Lj(){return new jt("no-default-bucket","No default bucket found. Did you set the '"+gk+"' property when initializing the app?")}function yk(){return new jt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Mj(){return new jt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function Fj(){return new jt("no-download-url","The given file does not have any download URLs.")}function Bs(e){return new jt("invalid-argument",e)}function wk(){return new jt("app-deleted","The Firebase app was deleted.")}function bk(e){return new jt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ca(e,t){return new jt("invalid-format","String does not match format '"+e+"': "+t)}function Kl(e){throw new jt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},qm=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function _k(e,t){switch(e){case or.RAW:return new qm(Ek(t));case or.BASE64:case or.BASE64URL:return new qm(Ik(e,t));case or.DATA_URL:return new qm(Vj(t),Bj(t))}throw Dy()}function Ek(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var u=i,a=e.charCodeAt(++n);i=65536|(u&1023)<<10|a&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function jj(e){var t;try{t=decodeURIComponent(e)}catch{throw Ca(or.DATA_URL,"Malformed data URL.")}return Ek(t)}function Ik(e,t){switch(e){case or.BASE64:{var n=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(n||i){var o=n?"-":"_";throw Ca(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case or.BASE64URL:{var u=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(u||a){var o=u?"+":"/";throw Ca(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=Uj(t)}catch{throw Ca(e,"Invalid character found")}for(var f=new Uint8Array(l.length),d=0;d<l.length;d++)f[d]=l.charCodeAt(d);return f}var Tk=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ca(or.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;i!=null&&(this.base64=qj(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}return e}();function Vj(e){var t=new Tk(e);return t.base64?Ik(or.BASE64,t.rest):jj(t.rest)}function Bj(e){var t=new Tk(e);return t.contentType}function qj(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $j={STATE_CHANGED:"state_changed"},yn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $m(e){switch(e){case"running":case"pausing":case"canceling":return yn.RUNNING;case"paused":return yn.PAUSED;case"success":return yn.SUCCESS;case"canceled":return yn.CANCELED;case"error":return yn.ERROR;default:return yn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fo;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Fo||(Fo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hj=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Fo.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Fo.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Fo.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,i,o){if(this.sent_)throw Kl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Kl("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Kl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Kl("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function Kj(){return new Hj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zj=function(){function e(){}return e.prototype.createConnection=function(){return Kj()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(i.path==="")return i;throw Dj(t)},e.makeFromUrl=function(t,n){var i=null,o="([A-Za-z0-9.\\-_]+)";function u(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+o+a,"i"),f={bucket:1,path:3};function d(oe){oe.path_=decodeURIComponent(oe.path)}for(var p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp("^https?://"+g+"/"+p+"/b/"+o+"/o"+v,"i"),_={bucket:1,path:3},T=n===mk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",x=new RegExp("^https?://"+T+"/"+o+"/"+S,"i"),O={bucket:1,path:2},U=[{regex:l,indices:f,postModify:u},{regex:b,indices:_,postModify:d},{regex:x,indices:O,postModify:d}],q=0;q<U.length;q++){var te=U[q],V=te.regex.exec(t);if(V){var we=V[te.indices.bucket],G=V[te.indices.path];G||(G=""),i=new e(we,G),te.postModify(i);break}}if(i==null)throw Pj(t);return i},e}(),Gj=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(e,t,n){var i=1,o=null,u=!1,a=0;function l(){return a===2}var f=!1;function d(){for(var _=[],T=0;T<arguments.length;T++)_[T]=arguments[T];f||(f=!0,t.apply(null,_))}function p(_){o=setTimeout(function(){o=null,e(g,l())},_)}function g(_){for(var T=[],S=1;S<arguments.length;S++)T[S-1]=arguments[S];if(!f){if(_){d.call.apply(d,bt([null,_],T));return}var x=l()||u;if(x){d.call.apply(d,bt([null,_],T));return}i<64&&(i*=2);var O;a===1?(a=2,O=0):O=(i+Math.random())*1e3,p(O)}}var v=!1;function b(_){v||(v=!0,!f&&(o!==null?(_||(a=2),clearTimeout(o),p(0)):_||(a=1)))}return p(0),setTimeout(function(){u=!0,b(!0)},n),b}function Xj(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(e){return e!==void 0}function Qj(e){return typeof e=="function"}function Jj(e){return typeof e=="object"&&!Array.isArray(e)}function Mh(e){return typeof e=="string"||e instanceof String}function CI(e){return Ly()&&e instanceof Blob}function Ly(){return typeof Blob<"u"}function Bg(e,t,n,i){if(i<t)throw Bs("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(i>n)throw Bs("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(e,t){var n=t.match(/^(\w+):\/\/.+/),i=n==null?void 0:n[1],o=t;return i==null&&(o="https://"+t),o+"/v0"+e}function Sk(e){var t=encodeURIComponent,n="?";for(var i in e)if(e.hasOwnProperty(i)){var o=t(i)+"="+t(e[i]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zj=function(){function e(t,n,i,o,u,a,l,f,d,p,g){var v=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=u.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=p,this.timeout_=d,this.pool_=g,this.promise_=new Promise(function(b,_){v.resolve_=b,v.reject_=_,v.start_()})}return e.prototype.start_=function(){var t=this;function n(o,u){if(u){o(!1,new zl(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(f){var d=f.loaded,p=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var f=a.getErrorCode()===Fo.NO_ERROR,d=a.getStatus();if(!f||t.isRetryStatusCode_(d)){var p=a.getErrorCode()===Fo.ABORT;o(!1,new zl(!1,null,p));return}var g=t.successCodes_.indexOf(d)!==-1;o(!0,new zl(g,a))})}function i(o,u){var a=t.resolve_,l=t.reject_,f=u.connection;if(u.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());Yj(d)?a(d):a()}catch(g){l(g)}else if(f!==null){var p=Dy();p.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,p)):l(p)}else if(u.canceled){var p=t.appDelete_?wk():vk();l(p)}else{var p=Oj();l(p)}}this.canceled_?i(!1,new zl(!1,null,!0)):this.backoffId_=Wj(n,i,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Xj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,i=[408,429],o=i.indexOf(t)!==-1,u=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||u},e}(),zl=function(){function e(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}return e}();function eV(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function tV(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function nV(e,t){t&&(e["X-Firebase-GMPID"]=t)}function rV(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function iV(e,t,n,i,o,u){var a=Sk(e.urlParams),l=e.url+a,f=Object.assign({},e.headers);return nV(f,t),eV(f,n),tV(f,u),rV(f,i),new Zj(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function sV(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=oV();if(n!==void 0){for(var i=new n,o=0;o<e.length;o++)i.append(e[o]);return i.getBlob()}else{if(Ly())return new Blob(e);throw new jt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function uV(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var My=function(){function e(t,n){var i=0,o="";CI(t)?(this.data_=t,i=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(CI(this.data_)){var i=this.data_,o=uV(i,t,n);return o===null?null:new e(o)}else{var u=new Uint8Array(this.data_.buffer,t,n-t);return new e(u,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Ly()){var i=t.map(function(f){return f instanceof e?f.data_:f});return new e(sV.apply(null,i))}else{var o=t.map(function(f){return Mh(f)?_k(or.RAW,f).data:f.data_}),u=0;o.forEach(function(f){u+=f.byteLength});var a=new Uint8Array(u),l=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)a[l++]=f[d]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(e){var t;try{t=JSON.parse(e)}catch{return null}return Jj(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function cV(e,t){var n=t.split("/").filter(function(i){return i.length>0}).join("/");return e.length===0?n:e+"/"+n}function Ak(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(e,t){return t}var mn=function(){function e(t,n,i,o){this.server=t,this.local=n||t,this.writable=!!i,this.xform=o||lV}return e}(),Gl=null;function fV(e){return!Mh(e)||e.length<2?e:Ak(e)}function Fh(){if(Gl)return Gl;var e=[];e.push(new mn("bucket")),e.push(new mn("generation")),e.push(new mn("metageneration")),e.push(new mn("name","fullPath",!0));function t(u,a){return fV(a)}var n=new mn("name");n.xform=t,e.push(n);function i(u,a){return a!==void 0?Number(a):a}var o=new mn("size");return o.xform=i,e.push(o),e.push(new mn("timeCreated")),e.push(new mn("updated")),e.push(new mn("md5Hash",null,!0)),e.push(new mn("cacheControl",null,!0)),e.push(new mn("contentDisposition",null,!0)),e.push(new mn("contentEncoding",null,!0)),e.push(new mn("contentLanguage",null,!0)),e.push(new mn("contentType",null,!0)),e.push(new mn("metadata","customMetadata",!0)),Gl=e,Gl}function hV(e,t){function n(){var i=e.bucket,o=e.fullPath,u=new sr(i,o);return t._makeStorageReference(u)}Object.defineProperty(e,"ref",{get:n})}function dV(e,t,n){var i={};i.type="file";for(var o=n.length,u=0;u<o;u++){var a=n[u];i[a.local]=a.xform(i,t[a.server])}return hV(i,e),i}function kk(e,t,n){var i=Fy(t);if(i===null)return null;var o=i;return dV(e,o,n)}function pV(e,t,n){var i=Fy(t);if(i===null||!Mh(i.downloadTokens))return null;var o=i.downloadTokens;if(o.length===0)return null;var u=encodeURIComponent,a=o.split(","),l=a.map(function(f){var d=e.bucket,p=e.fullPath,g="/b/"+u(d)+"/o/"+u(p),v=Yi(g,n),b=Sk({alt:"media",token:f});return v+b});return l[0]}function Uy(e,t){for(var n={},i=t.length,o=0;o<i;o++){var u=t[o];u.writable&&(n[u.server]=e[u.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RI="prefixes",xI="items";function mV(e,t,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[RI])for(var o=0,u=n[RI];o<u.length;o++){var a=u[o],l=a.replace(/\/$/,""),f=e._makeStorageReference(new sr(t,l));i.prefixes.push(f)}if(n[xI])for(var d=0,p=n[xI];d<p.length;d++){var g=p[d],f=e._makeStorageReference(new sr(t,g.name));i.items.push(f)}return i}function gV(e,t,n){var i=Fy(n);if(i===null)return null;var o=i;return mV(e,t,o)}var hi=function(){function e(t,n,i,o){this.url=t,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(e){if(!e)throw Dy()}function Uh(e,t){function n(i,o){var u=kk(e,o,t);return Hr(u!==null),u}return n}function vV(e,t){function n(i,o){var u=gV(e,t,o);return Hr(u!==null),u}return n}function yV(e,t){function n(i,o){var u=kk(e,o,t);return Hr(u!==null),pV(u,o,e.host)}return n}function Au(e){function t(n,i){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=Rj():o=Cj():n.getStatus()===402?o=Nj(e.bucket):n.getStatus()===403?o=xj(e.path):o=i,o.serverResponse=i.serverResponse,o}return t}function jh(e){var t=Au(e);function n(i,o){var u=t(i,o);return i.getStatus()===404&&(u=kj(e.path)),u.serverResponse=o.serverResponse,u}return n}function Nk(e,t,n){var i=t.fullServerUrl(),o=Yi(i,e.host),u="GET",a=e.maxOperationRetryTime,l=new hi(o,u,Uh(e,n),a);return l.errorHandler=jh(t),l}function wV(e,t,n,i,o){var u={};t.isRoot?u.prefix="":u.prefix=t.path+"/",n&&n.length>0&&(u.delimiter=n),i&&(u.pageToken=i),o&&(u.maxResults=o);var a=t.bucketOnlyServerUrl(),l=Yi(a,e.host),f="GET",d=e.maxOperationRetryTime,p=new hi(l,f,vV(e,t.bucket),d);return p.urlParams=u,p.errorHandler=Au(t),p}function bV(e,t,n){var i=t.fullServerUrl(),o=Yi(i,e.host),u="GET",a=e.maxOperationRetryTime,l=new hi(o,u,yV(e,n),a);return l.errorHandler=jh(t),l}function _V(e,t,n,i){var o=t.fullServerUrl(),u=Yi(o,e.host),a="PATCH",l=Uy(n,i),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,p=new hi(u,a,Uh(e,i),d);return p.headers=f,p.body=l,p.errorHandler=jh(t),p}function EV(e,t){var n=t.fullServerUrl(),i=Yi(n,e.host),o="DELETE",u=e.maxOperationRetryTime;function a(f,d){}var l=new hi(i,o,a,u);return l.successCodes=[200,204],l.errorHandler=jh(t),l}function IV(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Ck(e,t,n){var i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=IV(null,t)),i}function TV(e,t,n,i,o){var u=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var U="",q=0;q<2;q++)U=U+Math.random().toString().slice(2);return U}var f=l();a["Content-Type"]="multipart/related; boundary="+f;var d=Ck(t,i,o),p=Uy(d,n),g="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,v=`\r
--`+f+"--",b=My.getBlob(g,i,v);if(b===null)throw yk();var _={name:d.fullPath},T=Yi(u,e.host),S="POST",x=e.maxUploadRetryTime,O=new hi(T,S,Uh(e,n),x);return O.urlParams=_,O.headers=a,O.body=b.uploadData(),O.errorHandler=Au(t),O}var Vf=function(){function e(t,n,i,o){this.current=t,this.total=n,this.finalized=!!i,this.metadata=o||null}return e}();function jy(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Hr(!1)}var i=t||["active"];return Hr(!!n&&i.indexOf(n)!==-1),n}function SV(e,t,n,i,o){var u=t.bucketOnlyServerUrl(),a=Ck(t,i,o),l={name:a.fullPath},f=Yi(u,e.host),d="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},g=Uy(a,n),v=e.maxUploadRetryTime;function b(T){jy(T);var S;try{S=T.getResponseHeader("X-Goog-Upload-URL")}catch{Hr(!1)}return Hr(Mh(S)),S}var _=new hi(f,d,b,v);return _.urlParams=l,_.headers=p,_.body=g,_.errorHandler=Au(t),_}function AV(e,t,n,i){var o={"X-Goog-Upload-Command":"query"};function u(d){var p=jy(d,["active","final"]),g=null;try{g=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Hr(!1)}g||Hr(!1);var v=Number(g);return Hr(!isNaN(v)),new Vf(v,i.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,f=new hi(n,a,u,l);return f.headers=o,f.errorHandler=Au(t),f}var OI=256*1024;function kV(e,t,n,i,o,u,a,l){var f=new Vf(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw Mj();var d=f.total-f.current,p=d;o>0&&(p=Math.min(p,o));var g=f.current,v=g+p,b=p===d?"upload, finalize":"upload",_={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":""+f.current},T=i.slice(g,v);if(T===null)throw yk();function S(q,te){var V=jy(q,["active","final"]),we=f.current+p,G=i.size(),oe;return V==="final"?oe=Uh(t,u)(q,te):oe=null,new Vf(we,G,V==="final",oe)}var x="POST",O=t.maxUploadRetryTime,U=new hi(n,x,S,O);return U.headers=_,U.body=T.uploadData(),U.progressCallback=l||null,U.errorHandler=Au(e),U}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NV=function(){function e(t,n,i){var o=Qj(t)||n!=null||i!=null;if(o)this.next=t,this.error=n,this.complete=i;else{var u=t;this.next=u.next,this.error=u.error,this.complete=u.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rk=function(){function e(t,n,i){var o=this;i===void 0&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Fh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(u){o._request=void 0,o._chunkMultiplier=1,u._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=u,o._transition("error"))},this._metadataErrorHandler=function(u){o._request=void 0,u._codeEquals("canceled")?o.completeTransitions_():(o._error=u,o._transition("error"))},this._promise=new Promise(function(u,a){o._resolve=u,o._reject=a,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(i){return t._updateProgress(n+i)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var o=i[0],u=i[1];switch(n._state){case"running":t(o,u);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,i){var o=SV(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(i,o){var u=AV(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(u,i,o);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=OI*this._chunkMultiplier,i=new Vf(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(u,a){var l;try{l=kV(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,i,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(l,u,a);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=OI*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,i){var o=Nk(t._ref.storage,t._ref._location,t._mappings),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,i){var o=TV(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=vk(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=$m(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,i,o){var u=this,a=new NV(n,i,o);return this._addObserver(a),function(){u._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(i){t._notifyObserver(i)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch($m(this._state)){case yn.SUCCESS:Ns(this._resolve.bind(null,this.snapshot))();break;case yn.CANCELED:case yn.ERROR:var n=this._reject;Ns(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=$m(this._state);switch(n){case yn.RUNNING:case yn.PAUSED:t.next&&Ns(t.next.bind(t,this.snapshot))();break;case yn.SUCCESS:t.complete&&Ns(t.complete.bind(t))();break;case yn.CANCELED:case yn.ERROR:t.error&&Ns(t.error.bind(t,this._error))();break;default:t.error&&Ns(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vh=function(){function e(t,n){this._service=t,n instanceof sr?this._location=n:this._location=sr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new sr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Ak(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=aV(this._location.path);if(t===null)return null;var n=new sr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw bk(t)},e}();function CV(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Rk(e,new My(t),n)}function RV(e){var t={prefixes:[],items:[]};return xk(e,t).then(function(){return t})}function xk(e,t,n){return K(this,void 0,void 0,function(){var i,o,u,a;return H(this,function(l){switch(l.label){case 0:return i={pageToken:n},[4,Ok(e,i)];case 1:return o=l.sent(),(u=t.prefixes).push.apply(u,o.prefixes),(a=t.items).push.apply(a,o.items),o.nextPageToken==null?[3,3]:[4,xk(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Ok(e,t){return K(this,void 0,void 0,function(){var n,i;return H(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Bg("options.maxResults",1,1e3,t.maxResults),n=t||{},i=wV(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,o.sent().getPromise()]}})})}function xV(e){return K(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Nk(e.storage,e._location,Fh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function OV(e,t){return K(this,void 0,void 0,function(){var n;return H(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),n=_V(e.storage,e._location,t,Fh()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}function PV(e){return K(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=bV(e.storage,e._location,Fh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(i){if(i===null)throw Fj();return i})]}})})}function DV(e){return K(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=EV(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function Pk(e,t){var n=cV(e._location.path,t),i=new sr(e._location.bucket,n);return new Vh(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(e){return/^[A-Za-z]+:\/\//.test(e)}function LV(e,t){return new Vh(e,t)}function Dk(e,t){if(e instanceof Bh){var n=e;if(n._bucket==null)throw Lj();var i=new Vh(n,n._bucket);return t!=null?Dk(i,t):i}else return t!==void 0?Pk(e,t):e}function MV(e,t){if(t&&qg(t)){if(e instanceof Bh)return LV(e,t);throw Bs("To use ref(service, url), the first argument must be a Storage instance.")}else return Dk(e,t)}function PI(e,t){var n=t==null?void 0:t[gk];return n==null?null:sr.makeFromBucketSpec(n,e)}function FV(e,t,n,i){i===void 0&&(i={}),e.host="http://"+t+":"+n;var o=i.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:vS(o,e.app.options.projectId))}var Bh=function(){function e(t,n,i,o,u,a){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._pool=o,this._url=u,this._firebaseVersion=a,this._bucket=null,this._host=mk,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Sj,this._maxUploadRetryTime=Aj,this._requests=new Set,u!=null?this._bucket=sr.makeFromBucketSpec(u,this._host):this._bucket=PI(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=sr.makeFromBucketSpec(this._url,t):this._bucket=PI(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Bg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Bg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return K(this,void 0,void 0,function(){var t,n;return H(this,function(i){switch(i.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=i.sent(),n!==null)return[2,n.accessToken];i.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return K(this,void 0,void 0,function(){var t,n;return H(this,function(i){switch(i.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=i.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Vh(this,t)},e.prototype._makeRequest=function(t,n,i){var o=this;if(this._deleted)return new Gj(wk());var u=iV(t,this._appId,n,i,this._pool,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(function(){return o._requests.delete(u)},function(){return o._requests.delete(u)}),u},e.prototype.makeRequestWithTokens=function(t){return K(this,void 0,void 0,function(){var n,i,o;return H(this,function(u){switch(u.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=u.sent(),i=n[0],o=n[1],[2,this._makeRequest(t,i,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(e,t,n){return e=ut(e),CV(e,t,n)}function jV(e){return e=ut(e),xV(e)}function VV(e,t){return e=ut(e),OV(e,t)}function BV(e,t){return e=ut(e),Ok(e,t)}function qV(e){return e=ut(e),RV(e)}function $V(e){return e=ut(e),PV(e)}function HV(e){return e=ut(e),DV(e)}function DI(e,t){return e=ut(e),MV(e,t)}function KV(e,t){return Pk(e,t)}function zV(e,t,n,i){i===void 0&&(i={}),FV(e,t,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wl=function(){function e(t,n,i){this._delegate=t,this.task=n,this.ref=i}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LI=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Wl(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var i=this;return this._delegate.then(function(o){if(t)return t(new Wl(o,i,i._ref))},n)},e.prototype.on=function(t,n,i,o){var u=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new Wl(l,u,u._ref))}:a={next:n.next?function(l){return n.next(new Wl(l,u,u._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,i||void 0,o||void 0)},e}(),MI=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new rc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new rc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=KV(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new LI(UV(this._delegate,t,n),this)},e.prototype.putString=function(t,n,i){n===void 0&&(n=or.RAW),this._throwIfRoot("putString");var o=_k(n,t),u=Gs({},i);return u.contentType==null&&o.contentType!=null&&(u.contentType=o.contentType),new LI(new Rk(this._delegate,new My(o.data,!0),u),this)},e.prototype.listAll=function(){var t=this;return qV(this._delegate).then(function(n){return new MI(n,t.storage)})},e.prototype.list=function(t){var n=this;return BV(this._delegate,t||void 0).then(function(i){return new MI(i,n.storage)})},e.prototype.getMetadata=function(){return jV(this._delegate)},e.prototype.updateMetadata=function(t){return VV(this._delegate,t)},e.prototype.getDownloadURL=function(){return $V(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),HV(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw bk(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GV=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(qg(t))throw Bs("ref() expected a child path but got a URL, use refFromURL instead.");return new rc(DI(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!qg(t))throw Bs("refFromURL() expected a full URL but got a child path, use ref() instead.");try{sr.makeFromUrl(t,this._delegate.host)}catch{throw Bs("refFromUrl() expected a valid full URL but got an invalid one.")}return new rc(DI(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),zV(this._delegate,t,n,i)},e}(),WV="@firebase/storage",XV="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YV="storage";function QV(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal"),a=new GV(i,new Bh(i,o,u,new zj,n,Se.SDK_VERSION));return a}function JV(e){var t={TaskState:yn,TaskEvent:$j,StringFormat:or,Storage:Bh,Reference:rc};e.INTERNAL.registerComponent(new sc(YV,QV,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(WV,XV)}JV(Se);const ZV={apiKey:"AIzaSyCKDzFxGEDXvs5UnUXtPkaXir0FvZEdsYs",authDomain:"music-1da3c.firebaseapp.com",projectId:"music-1da3c",storageBucket:"music-1da3c.appspot.com",appId:"1:46994571202:web:e313fab0d270d4d381a05b"};Se.initializeApp(ZV);const Sr=Se.auth(),Lk=Se.firestore(),Mk=Se.storage(),e2=Lk.collection("users"),Ar=Lk.collection("songs"),Ac=dS("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await Sr.createUserWithEmailAndPassword(e.email,e.password);await e2.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country}),await t.user.updateProfile({displayName:e.name}),this.userLoggerIn=!0},async authenticate(e){await Sr.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await Sr.signOut(),this.userLoggedIn=!1}}}),jn=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},t2={name:"AppHeader",computed:{...DD(Ac,fg)},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},n2={id:"header",class:"bg-gray-700"},r2={class:"container mx-auto flex justify-start items-center py-5 px-4"},i2={class:"flex flex-grow items-center"},o2={class:"flex flex-row mt-1"},s2={key:0};function u2(e,t,n,i,o,u){const a=Et("router-link");return ze(),st("div",null,[B("header",n2,[B("nav",r2,[Ae(a,{class:"text-white font-bold uppercase text-2xl mr-4",to:{name:"home"},"exact-active-class":"no-active"},{default:ur(()=>[Oo(" Music ")]),_:1}),B("div",i2,[B("ul",o2,[B("li",null,[Ae(a,{class:"px-2 text-white",to:{name:"about"}},{default:ur(()=>[Oo("About")]),_:1})]),e.userStore.userLoggedIn?(ze(),st(xt,{key:1},[B("li",null,[Ae(a,{class:"px-2 text-white",to:{name:"manage"}},{default:ur(()=>[Oo("Manage")]),_:1})]),B("li",null,[B("a",{class:"px-2 text-white",href:"#",onClick:t[1]||(t[1]=Gn((...l)=>u.signOut&&u.signOut(...l),["prevent"]))},"Logout")])],64)):(ze(),st("li",s2,[B("a",{class:"px-2 text-white",href:"#",onClick:t[0]||(t[0]=Gn((...l)=>u.toggleAuthModal&&u.toggleAuthModal(...l),["prevent"]))},"Login / Register")]))])])])])])}const a2=jn(t2,[["render",u2]]);/**
  * vee-validate v4.11.1
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function Jt(e){return typeof e=="function"}function Fk(e){return e==null}const zo=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Vy(e){return Number(e)>=0}function c2(e){const t=parseFloat(e);return isNaN(t)?e:t}function l2(e){return typeof e=="object"&&e!==null}function f2(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function h2(e){if(!l2(e)||f2(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Bf(e,t){return Object.keys(t).forEach(n=>{if(h2(t[n])){e[n]||(e[n]={}),Bf(e[n],t[n]);return}e[n]=t[n]}),e}function ba(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let i=1;i<t.length;i++){if(Vy(t[i])){n+=`[${t[i]}]`;continue}n+=`.${t[i]}`}return n}const Uk={};function mr(e,t){p2(e,t),Uk[e]=t}function d2(e){return Uk[e]}function p2(e,t){if(!Jt(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}const qh=Symbol("vee-validate-form"),m2=Symbol("vee-validate-field-instance"),qf=Symbol("Default empty value"),g2=typeof window<"u";function $g(e){return Jt(e)&&!!e.__locatorRef}function Hi(e){return!!e&&Jt(e.parse)&&e.__type==="VVTypedSchema"}function $f(e){return!!e&&Jt(e.validate)}function kc(e){return e==="checkbox"||e==="radio"}function v2(e){return zo(e)||Array.isArray(e)}function y2(e){return Array.isArray(e)?e.length===0:zo(e)&&Object.keys(e).length===0}function $h(e){return/^\[.+\]$/i.test(e)}function w2(e){return jk(e)&&e.multiple}function jk(e){return e.tagName==="SELECT"}function b2(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function _2(e,t){return!b2(e,t)&&t.type!=="file"&&!kc(t.type)}function Vk(e){return By(e)&&e.target&&"submit"in e.target}function By(e){return e?!!(typeof Event<"u"&&Jt(Event)&&e instanceof Event||e&&e.srcElement):!1}function FI(e,t){return t in e&&e[t]!==qf}function Tn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!Tn(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!Tn(i[1],t.get(i[0])))return!1;return!0}if(UI(e)&&UI(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(o=Object.keys(e),n=o.length,i=n;i--!==0;){var u=o[i];if(!Tn(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function UI(e){return g2?e instanceof File:!1}function jI(e,t,n){typeof n.value=="object"&&(n.value=mt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function mt(e){if(typeof e!="object")return e;var t=0,n,i,o,u=Object.prototype.toString.call(e);if(u==="[object Object]"?o=Object.create(e.__proto__||null):u==="[object Array]"?o=Array(e.length):u==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(mt(a))})):u==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(mt(l),mt(a))})):u==="[object Date]"?o=new Date(+e):u==="[object RegExp]"?o=new RegExp(e.source,e.flags):u==="[object DataView]"?o=new e.constructor(mt(e.buffer)):u==="[object ArrayBuffer]"?o=e.slice(0):u.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)jI(o,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(o,n=i[t])&&o[n]===e[n]||jI(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function qy(e){return $h(e)?e.replace(/\[|\]/gi,""):e}function Rn(e,t,n){return e?$h(t)?e[qy(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,u)=>v2(o)&&u in o?o[u]:n,e):n}function Eo(e,t,n){if($h(t)){e[qy(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let u=0;u<i.length;u++){if(u===i.length-1){o[i[u]]=n;return}(!(i[u]in o)||Fk(o[i[u]]))&&(o[i[u]]=Vy(i[u+1])?[]:{}),o=o[i[u]]}}function Hm(e,t){if(Array.isArray(e)&&Vy(t)){e.splice(Number(t),1);return}zo(e)&&delete e[t]}function VI(e,t){if($h(t)){delete e[qy(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let u=0;u<n.length;u++){if(u===n.length-1){Hm(i,n[u]);break}if(!(n[u]in i)||Fk(i[n[u]]))break;i=i[n[u]]}const o=n.map((u,a)=>Rn(e,n.slice(0,a).join(".")));for(let u=o.length-1;u>=0;u--)if(y2(o[u])){if(u===0){Hm(e,n[0]);continue}Hm(o[u-1],n[u-1])}}function Vr(e){return Object.keys(e)}function Bk(e,t=void 0){const n=ih();return(n==null?void 0:n.provides[e])||ar(e,t)}function BI(e,t,n){if(Array.isArray(e)){const i=[...e],o=i.findIndex(u=>Tn(u,t));return o>=0?i.splice(o,1):i.push(t),i}return Tn(e,t)?n:t}function qI(e,t=0){let n=null,i=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const u=e(...o);i.forEach(a=>a(u)),i=[]},t),new Promise(u=>i.push(u))}}function E2(e,t){return zo(t)&&t.number?c2(e):e}function Hg(e,t){let n;return async function(...o){const u=e(...o);n=u;const a=await u;return u!==n||(n=void 0,t(a,o)),a}}function Kg(e){return Array.isArray(e)?e:e?[e]:[]}function da(e,t){const n={};for(const i in e)t.includes(i)||(n[i]=e[i]);return n}function I2(e){let t=null,n=[];return function(...i){const o=ti(()=>{if(t!==o)return;const u=e(...i);n.forEach(a=>a(u)),n=[],t=null});return t=o,new Promise(u=>n.push(u))}}const $y=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var i,o;return(o=(i=t.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:t.slots.default;function Km(e){if(qk(e))return e._value}function qk(e){return"_value"in e}function T2(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function Hf(e){if(!By(e))return e;const t=e.target;if(kc(t.type)&&qk(t))return Km(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(w2(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Km);if(jk(t)){const n=Array.from(t.options).find(i=>i.selected);return n?Km(n):t.value}return T2(t)}function $k(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?zo(e)&&e._$$isNormalized?e:zo(e)?Object.keys(e).reduce((n,i)=>{const o=S2(e[i]);return e[i]!==!1&&(n[i]=$I(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const o=A2(i);return o.name&&(n[o.name]=$I(o.params)),n},t):t}function S2(e){return e===!0?[]:Array.isArray(e)||zo(e)?e:[e]}function $I(e){const t=n=>typeof n=="string"&&n[0]==="@"?k2(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const A2=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function k2(e){const t=n=>Rn(n,e)||n[e];return t.__locatorRef=e,t}function N2(e){return Array.isArray(e)?e.filter($g):Vr(e).filter(t=>$g(e[t])).map(t=>e[t])}const C2={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let zg=Object.assign({},C2);const Li=()=>zg,R2=e=>{zg=Object.assign(Object.assign({},zg),e)},x2=R2;async function Hk(e,t,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await O2(o,e)).errors;return{errors:a,valid:!a.length}}async function O2(e,t){if(Hi(e.rules)||$f(e.rules))return D2(t,e.rules);if(Jt(e.rules)||Array.isArray(e.rules)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let p=0;p<f;p++){const g=l[p],v=await g(t,a);if(!(typeof v!="string"&&!Array.isArray(v)&&v)){if(Array.isArray(v))d.push(...v);else{const _=typeof v=="string"?v:zk(a);d.push(_)}if(e.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:$k(e.rules)}),i=[],o=Object.keys(n.rules),u=o.length;for(let a=0;a<u;a++){const l=o[a],f=await L2(n,t,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),e.bails))return{errors:i}}return{errors:i}}function P2(e){return!!e&&e.name==="ValidationError"}function Kk(e){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!P2(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const u=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(u)}}}}}async function D2(e,t){const i=await(Hi(t)?t:Kk(t)).parse(e),o=[];for(const u of i.errors)u.errors.length&&o.push(...u.errors);return{errors:o}}async function L2(e,t,n){const i=d2(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=M2(n.params,e.formData),u={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(t,o,u);return typeof a=="string"?{error:a}:{error:a?void 0:zk(u)}}function zk(e){const t=Li().generateMessage;return t?t(e):"Field is invalid"}function M2(e,t){const n=i=>$g(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,o)=>(i[o]=n(e[o]),i),{})}async function F2(e,t){const i=await(Hi(e)?e:Kk(e)).parse(t),o={},u={};for(const a of i.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,p)=>`[${p}]`);o[f]={valid:!l.length,errors:l},l.length&&(u[f]=l[0])}return{valid:!i.errors.length,results:o,errors:u,values:i.value}}async function U2(e,t,n){const o=Vr(e).map(async d=>{var p,g,v;const b=(p=n==null?void 0:n.names)===null||p===void 0?void 0:p[d],_=await Hk(Rn(t,d),e[d],{name:(b==null?void 0:b.name)||d,label:b==null?void 0:b.label,values:t,bails:(v=(g=n==null?void 0:n.bailsMap)===null||g===void 0?void 0:g[d])!==null&&v!==void 0?v:!0});return Object.assign(Object.assign({},_),{path:d})});let u=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(u=!1,f[d.path]=d.errors[0]);return{valid:u,results:l,errors:f}}let HI=0;function j2(e,t){const{value:n,initialValue:i,setInitialValue:o}=V2(e,t.modelValue,t.form);if(!t.form){let v=function(_){var T;"value"in _&&(n.value=_.value),"errors"in _&&d(_.errors),"touched"in _&&(g.touched=(T=_.touched)!==null&&T!==void 0?T:g.touched),"initialValue"in _&&o(_.initialValue)};var l=v;const{errors:f,setErrors:d}=$2(),p=HI>=Number.MAX_SAFE_INTEGER?0:++HI,g=q2(n,i,f);return{id:p,path:e,value:n,initialValue:i,meta:g,flags:{pendingUnmount:{[p]:!1}},errors:f,setState:v}}const u=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate}),a=Fe(()=>u.errors);function l(f){var d,p,g;"value"in f&&(n.value=f.value),"errors"in f&&((d=t.form)===null||d===void 0||d.setFieldError(Ne(e),f.errors)),"touched"in f&&((p=t.form)===null||p===void 0||p.setFieldTouched(Ne(e),(g=f.touched)!==null&&g!==void 0?g:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(u.id)?u.id[u.id.length-1]:u.id,path:e,value:n,errors:a,meta:u,initialValue:i,flags:u.__flags,setState:l}}function V2(e,t,n){const i=wn(Ne(t));function o(){return n?Rn(n.initialValues.value,Ne(e),Ne(i)):Ne(i)}function u(d){if(!n){i.value=d;return}n.stageInitialValue(Ne(e),d,!0)}const a=Fe(o);if(!n)return{value:wn(o()),initialValue:a,setInitialValue:u};const l=B2(t,n,a,e);return n.stageInitialValue(Ne(e),l,!0),{value:Fe({get(){return Rn(n.values,Ne(e))},set(d){n.setFieldValue(Ne(e),d,!1)}}),initialValue:a,setInitialValue:u}}function B2(e,t,n,i){return at(e)?Ne(e):e!==void 0?e:Rn(t.values,Ne(i),Ne(n))}function q2(e,t,n){const i=ai({touched:!1,pending:!1,valid:!0,validated:!!Ne(n).length,initialValue:Fe(()=>Ne(t)),dirty:Fe(()=>!Tn(Ne(e),Ne(t)))});return Jn(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function $2(){const e=wn([]);return{errors:e,setErrors:t=>{e.value=Kg(t)}}}function H2(e,t,n){return kc(n==null?void 0:n.type)?z2(e,t,n):Gk(e,t,n)}function Gk(e,t,n){const{initialValue:i,validateOnMount:o,bails:u,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:p,controlled:g,keepValueOnUnmount:v,syncVModel:b,form:_}=K2(n),T=g?Bk(qh):void 0,S=_||T,x=Fe(()=>ba(vr(e))),O=Fe(()=>{if(Ne(S==null?void 0:S.schema))return;const ve=Ne(t);return $f(ve)||Hi(ve)||Jt(ve)||Array.isArray(ve)?ve:$k(ve)}),{id:U,value:q,initialValue:te,meta:V,setState:we,errors:G,flags:oe}=j2(x,{modelValue:i,form:S,bails:u,label:f,type:a,validate:O.value?Ge:void 0}),k=Fe(()=>G.value[0]);b&&G2({value:q,prop:b,handleChange:de});const $e=(pe,ve=!1)=>{V.touched=!0,ve&&rt()};async function nt(pe){var ve,D;return S!=null&&S.validateSchema?(ve=(await S.validateSchema(pe)).results[Ne(x)])!==null&&ve!==void 0?ve:{valid:!0,errors:[]}:O.value?Hk(q.value,O.value,{name:Ne(x),label:Ne(f),values:(D=S==null?void 0:S.values)!==null&&D!==void 0?D:{},bails:u}):{valid:!0,errors:[]}}const rt=Hg(async()=>(V.pending=!0,V.validated=!0,nt("validated-only")),pe=>{if(!oe.pendingUnmount[ht.id])return we({errors:pe.errors}),V.pending=!1,V.valid=pe.valid,pe}),ct=Hg(async()=>nt("silent"),pe=>(V.valid=pe.valid,pe));function Ge(pe){return(pe==null?void 0:pe.mode)==="silent"?ct():rt()}function de(pe,ve=!0){const D=Hf(pe);It(D,ve)}dv(()=>{if(o)return rt();(!S||!S.validateSchema)&&ct()});function De(pe){V.touched=pe}function ge(pe){var ve;const D=pe&&"value"in pe?pe.value:te.value;we({value:mt(D),initialValue:mt(D),touched:(ve=pe==null?void 0:pe.touched)!==null&&ve!==void 0?ve:!1,errors:(pe==null?void 0:pe.errors)||[]}),V.pending=!1,V.validated=!1,ct()}const ft=ih();function It(pe,ve=!0){q.value=ft&&b?E2(pe,ft.props.modelModifiers):pe,(ve?rt:ct)()}function Vt(pe){we({errors:Array.isArray(pe)?pe:[pe]})}const Ot=Fe({get(){return q.value},set(pe){It(pe,d)}}),ht={id:U,name:x,label:f,value:Ot,meta:V,errors:G,errorMessage:k,type:a,checkedValue:l,uncheckedValue:p,bails:u,keepValueOnUnmount:v,resetField:ge,handleReset:()=>ge(),validate:Ge,handleChange:de,handleBlur:$e,setState:we,setTouched:De,setErrors:Vt,setValue:It};if(js(m2,ht),at(t)&&typeof Ne(t)!="function"&&Jn(t,(pe,ve)=>{Tn(pe,ve)||(V.validated?rt():ct())},{deep:!0}),!S)return ht;const Vn=Fe(()=>{const pe=O.value;return!pe||Jt(pe)||$f(pe)||Hi(pe)||Array.isArray(pe)?{}:Object.keys(pe).reduce((ve,D)=>{const $=N2(pe[D]).map(ee=>ee.__locatorRef).reduce((ee,ae)=>{const ke=Rn(S.values,ae)||S.values[ae];return ke!==void 0&&(ee[ae]=ke),ee},{});return Object.assign(ve,$),ve},{})});return Jn(Vn,(pe,ve)=>{if(!Object.keys(pe).length)return;!Tn(pe,ve)&&(V.validated?rt():ct())}),zT(()=>{var pe;const ve=(pe=Ne(ht.keepValueOnUnmount))!==null&&pe!==void 0?pe:Ne(S.keepValuesOnUnmount),D=vr(x);if(ve||!S||oe.pendingUnmount[ht.id]){S==null||S.removePathState(D,U);return}oe.pendingUnmount[ht.id]=!0;const $=S.getPathState(D);if(Array.isArray($==null?void 0:$.id)&&($!=null&&$.multiple)?$!=null&&$.id.includes(ht.id):($==null?void 0:$.id)===ht.id){if($!=null&&$.multiple&&Array.isArray($.value)){const ae=$.value.findIndex(ke=>Tn(ke,Ne(ht.checkedValue)));if(ae>-1){const ke=[...$.value];ke.splice(ae,1),S.setFieldValue(D,ke)}Array.isArray($.id)&&$.id.splice($.id.indexOf(ht.id),1)}else S.unsetPathValue(vr(x));S.removePathState(D,U)}}),ht}function K2(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),i=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?Gg(ih(),i):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const u="valueProp"in e?e.valueProp:e.checkedValue,a="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:a??!0,checkedValue:u,syncVModel:l})}function z2(e,t,n){const i=n!=null&&n.standalone?void 0:Bk(qh),o=n==null?void 0:n.checkedValue,u=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=Fe(()=>{const g=Ne(l.value),v=Ne(o);return Array.isArray(g)?g.findIndex(b=>Tn(b,v))>=0:Tn(v,g)});function p(g,v=!0){var b,_;if(d.value===((b=g==null?void 0:g.target)===null||b===void 0?void 0:b.checked)){v&&l.validate();return}const T=vr(e),S=i==null?void 0:i.getPathState(T),x=Hf(g);let O=(_=Ne(o))!==null&&_!==void 0?_:x;i&&(S!=null&&S.multiple)&&S.type==="checkbox"?O=BI(Rn(i.values,T)||[],O,void 0):(n==null?void 0:n.type)==="checkbox"&&(O=BI(Ne(l.value),O,Ne(u))),f(O,v)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:u,handleChange:p})}return a(Gk(e,t,n))}function G2({prop:e,value:t,handleChange:n}){const i=ih();if(!i||!e)return;const o=typeof e=="string"?e:"modelValue",u=`update:${o}`;o in i.props&&(Jn(t,a=>{Tn(a,Gg(i,o))||i.emit(u,a)}),Jn(()=>Gg(i,o),a=>{if(a===qf&&t.value===void 0)return;const l=a===qf?void 0:a;Tn(l,t.value)||n(l)}))}function Gg(e,t){if(e)return e.props[t]}const W2=oc({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Li().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:qf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Ri(e,"rules"),i=Ri(e,"name"),o=Ri(e,"label"),u=Ri(e,"uncheckedValue"),a=Ri(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:p,handleChange:g,handleBlur:v,setTouched:b,resetField:_,handleReset:T,meta:S,checked:x,setErrors:O}=H2(i,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:Y2(e,t),checkedValue:t.attrs.value,uncheckedValue:u,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:a,syncVModel:!0}),U=function(oe,k=!0){g(oe,k),t.emit("update:modelValue",f.value)},q=Fe(()=>{const{validateOnInput:G,validateOnChange:oe,validateOnBlur:k,validateOnModelUpdate:$e}=X2(e);function nt(de){v(de,k),Jt(t.attrs.onBlur)&&t.attrs.onBlur(de)}function rt(de){U(de,G),Jt(t.attrs.onInput)&&t.attrs.onInput(de)}function ct(de){U(de,oe),Jt(t.attrs.onChange)&&t.attrs.onChange(de)}const Ge={name:e.name,onBlur:nt,onInput:rt,onChange:ct};return Ge["onUpdate:modelValue"]=de=>U(de,$e),Ge}),te=Fe(()=>{const G=Object.assign({},q.value);kc(t.attrs.type)&&x&&(G.checked=x.value);const oe=KI(e,t);return _2(oe,t.attrs)&&(G.value=f.value),G}),V=Fe(()=>Object.assign(Object.assign({},q.value),{modelValue:f.value}));function we(){return{field:te.value,componentField:V.value,value:f.value,meta:S,errors:l.value,errorMessage:d.value,validate:p,resetField:_,handleChange:U,handleInput:G=>U(G,!1),handleReset:T,handleBlur:q.value.onBlur,setTouched:b,setErrors:O}}return t.expose({setErrors:O,setTouched:b,reset:_,validate:p,handleChange:g}),()=>{const G=mv(KI(e,t)),oe=$y(G,t,we);return G?zs(G,Object.assign(Object.assign({},t.attrs),te.value),oe):oe}}});function KI(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function X2(e){var t,n,i,o;const{validateOnInput:u,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=Li();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:u,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=e.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function Y2(e,t){return kc(t.attrs.type)?FI(e,"modelValue")?e.modelValue:void 0:FI(e,"modelValue")?e.modelValue:t.attrs.value}const Q2=W2;let J2=0;const pa=["bails","fieldsCount","id","multiple","type","validate"];function Wk(e){const t=Ne(e==null?void 0:e.initialValues)||{},n=Ne(e==null?void 0:e.validationSchema);return n&&Hi(n)&&Jt(n.cast)?mt(n.cast(t)||{}):mt(t)}function Z2(e){var t;const n=J2++;let i=0;const o=wn(!1),u=wn(!1),a=wn(0),l=[],f=ai(Wk(e)),d=wn([]),p=wn({}),g=wn({}),v=I2(()=>{g.value=d.value.reduce((N,C)=>(N[ba(vr(C.path))]=C,N),{})});function b(N,C){const M=de(N);if(!M){typeof N=="string"&&(p.value[ba(N)]=Kg(C));return}if(typeof N=="string"){const z=ba(N);p.value[z]&&delete p.value[z]}M.errors=Kg(C),M.valid=!M.errors.length}function _(N){Vr(N).forEach(C=>{b(C,N[C])})}e!=null&&e.initialErrors&&_(e.initialErrors);const T=Fe(()=>{const N=d.value.reduce((C,M)=>(M.errors.length&&(C[M.path]=M.errors),C),{});return Object.assign(Object.assign({},p.value),N)}),S=Fe(()=>Vr(T.value).reduce((N,C)=>{const M=T.value[C];return M!=null&&M.length&&(N[C]=M[0]),N},{})),x=Fe(()=>d.value.reduce((N,C)=>(N[C.path]={name:C.path||"",label:C.label||""},N),{})),O=Fe(()=>d.value.reduce((N,C)=>{var M;return N[C.path]=(M=C.bails)!==null&&M!==void 0?M:!0,N},{})),U=Object.assign({},(e==null?void 0:e.initialErrors)||{}),q=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:te,originalInitialValues:V,setInitialValues:we}=tB(d,f,e),G=eB(d,f,V,S),oe=Fe(()=>d.value.reduce((N,C)=>{const M=Rn(f,C.path);return Eo(N,C.path,M),N},{})),k=e==null?void 0:e.validationSchema;function $e(N,C){var M,z;const le=Fe(()=>Rn(te.value,vr(N))),ue=g.value[vr(N)];if(ue){((C==null?void 0:C.type)==="checkbox"||(C==null?void 0:C.type)==="radio")&&(ue.multiple=!0);const vt=i++;return Array.isArray(ue.id)?ue.id.push(vt):ue.id=[ue.id,vt],ue.fieldsCount++,ue.__flags.pendingUnmount[vt]=!1,ue}const Re=Fe(()=>Rn(f,vr(N))),He=vr(N),Te=i++,Ve=ai({id:Te,path:N,touched:!1,pending:!1,valid:!0,validated:!!(!((M=U[He])===null||M===void 0)&&M.length),initialValue:le,errors:PT([]),bails:(z=C==null?void 0:C.bails)!==null&&z!==void 0?z:!1,label:C==null?void 0:C.label,type:(C==null?void 0:C.type)||"default",value:Re,multiple:!1,__flags:{pendingUnmount:{[Te]:!1}},fieldsCount:1,validate:C==null?void 0:C.validate,dirty:Fe(()=>!Tn(Ne(Re),Ne(le)))});return d.value.push(Ve),g.value[He]=Ve,v(),S.value[He]&&!U[He]&&ti(()=>{j(He,{mode:"silent"})}),at(N)&&Jn(N,vt=>{v();const it=mt(Re.value);g.value[vt]=Ve,ti(()=>{Eo(f,vt,it)})}),Ve}const nt=qI(re,5),rt=qI(re,5),ct=Hg(async N=>await N==="silent"?nt():rt(),(N,[C])=>{const M=Vr(ve.errorBag.value);return[...new Set([...Vr(N.results),...d.value.map(le=>le.path),...M])].sort().reduce((le,ue)=>{const Re=ue,He=de(Re)||De(Re),Te=(N.results[Re]||{errors:[]}).errors,Ve={errors:Te,valid:!Te.length};return le.results[Re]=Ve,Ve.valid||(le.errors[Re]=Ve.errors[0]),He&&p.value[Re]&&delete p.value[Re],He?(He.valid=Ve.valid,C==="silent"||C==="validated-only"&&!He.validated||b(He,Ve.errors),le):(b(Re,Te),le)},{valid:N.valid,results:{},errors:{}})});function Ge(N){d.value.forEach(N)}function de(N){const C=typeof N=="string"?ba(N):N;return typeof C=="string"?g.value[C]:C}function De(N){return d.value.filter(M=>N.startsWith(M.path)).reduce((M,z)=>M?z.path.length>M.path.length?z:M:z,void 0)}let ge=[],ft;function It(N){return ge.push(N),ft||(ft=ti(()=>{[...ge].sort().reverse().forEach(M=>{VI(f,M)}),ge=[],ft=null})),ft}function Vt(N){return function(M,z){return function(ue){return ue instanceof Event&&(ue.preventDefault(),ue.stopPropagation()),Ge(Re=>Re.touched=!0),o.value=!0,a.value++,L().then(Re=>{const He=mt(f);if(Re.valid&&typeof M=="function"){const Te=mt(oe.value);let Ve=N?Te:He;return Re.values&&(Ve=Re.values),M(Ve,{evt:ue,controlledValues:Te,setErrors:_,setFieldError:b,setTouched:I,setFieldTouched:ke,setValues:$,setFieldValue:D,resetForm:R,resetField:A})}!Re.valid&&typeof z=="function"&&z({values:He,evt:ue,errors:Re.errors,results:Re.results})}).then(Re=>(o.value=!1,Re),Re=>{throw o.value=!1,Re})}}}const ht=Vt(!1);ht.withControlled=Vt(!0);function Vn(N,C){const M=d.value.findIndex(le=>le.path===N),z=d.value[M];if(!(M===-1||!z)){if(ti(()=>{j(N,{mode:"silent",warn:!1})}),z.multiple&&z.fieldsCount&&z.fieldsCount--,Array.isArray(z.id)){const le=z.id.indexOf(C);le>=0&&z.id.splice(le,1),delete z.__flags.pendingUnmount[C]}(!z.multiple||z.fieldsCount<=0)&&(d.value.splice(M,1),X(N),v(),delete g.value[N])}}function pe(N){return Ge(C=>{C.path.startsWith(N)&&Vr(C.__flags.pendingUnmount).forEach(M=>{C.__flags.pendingUnmount[M]=!0})})}const ve={formId:n,values:f,controlledValues:oe,errorBag:T,errors:S,schema:k,submitCount:a,meta:G,isSubmitting:o,isValidating:u,fieldArrays:l,keepValuesOnUnmount:q,validateSchema:Ne(k)?ct:void 0,validate:L,setFieldError:b,validateField:j,setFieldValue:D,setValues:$,setErrors:_,setFieldTouched:ke,setTouched:I,resetForm:R,resetField:A,handleSubmit:ht,stageInitialValue:ie,unsetInitialValue:X,setFieldInitialValue:Z,useFieldModel:ae,createPathState:$e,getPathState:de,unsetPathValue:It,removePathState:Vn,initialValues:te,getAllPathStates:()=>d.value,markForUnmount:pe};function D(N,C,M=!0){const z=mt(C),le=typeof N=="string"?N:N.path;de(le)||$e(le),Eo(f,le,z),M&&j(le)}function $(N,C=!0){Bf(f,N),l.forEach(M=>M&&M.reset()),C&&L()}function ee(N){const C=de(Ne(N))||$e(N);return Fe({get(){return C.value},set(M){const z=Ne(N);D(z,M,!1),C.validated=!0,C.pending=!0,j(z).then(()=>{C.pending=!1})}})}function ae(N){return Array.isArray(N)?N.map(ee):ee(N)}function ke(N,C){const M=de(N);M&&(M.touched=C)}function I(N){if(typeof N=="boolean"){Ge(C=>{C.touched=N});return}Vr(N).forEach(C=>{ke(C,!!N[C])})}function A(N,C){var M;const z=C&&"value"in C?C.value:Rn(te.value,N);Z(N,mt(z)),D(N,z,!1),ke(N,(M=C==null?void 0:C.touched)!==null&&M!==void 0?M:!1),b(N,(C==null?void 0:C.errors)||[])}function R(N){let C=N!=null&&N.values?N.values:V.value;C=Hi(k)&&Jt(k.cast)?k.cast(C):C,we(C),Ge(M=>{var z;M.validated=!1,M.touched=((z=N==null?void 0:N.touched)===null||z===void 0?void 0:z[M.path])||!1,D(M.path,Rn(C,M.path),!1),b(M.path,void 0)}),$(C,!1),_((N==null?void 0:N.errors)||{}),a.value=(N==null?void 0:N.submitCount)||0,ti(()=>{L({mode:"silent"})})}async function L(N){const C=(N==null?void 0:N.mode)||"force";if(C==="force"&&Ge(ue=>ue.validated=!0),ve.validateSchema)return ve.validateSchema(C);u.value=!0;const M=await Promise.all(d.value.map(ue=>ue.validate?ue.validate(N).then(Re=>({key:ue.path,valid:Re.valid,errors:Re.errors})):Promise.resolve({key:ue.path,valid:!0,errors:[]})));u.value=!1;const z={},le={};for(const ue of M)z[ue.key]={valid:ue.valid,errors:ue.errors},ue.errors.length&&(le[ue.key]=ue.errors[0]);return{valid:M.every(ue=>ue.valid),results:z,errors:le}}async function j(N,C){var M;const z=de(N);if(z&&(z.validated=!0),k){const{results:le}=await ct((C==null?void 0:C.mode)||"validated-only");return le[N]||{errors:[],valid:!0}}return z!=null&&z.validate?z.validate(C):(!z&&(M=C==null?void 0:C.warn),Promise.resolve({errors:[],valid:!0}))}function X(N){VI(te.value,N)}function ie(N,C,M=!1){Z(N,C),Eo(f,N,C),M&&!(e!=null&&e.initialValues)&&Eo(V.value,N,mt(C))}function Z(N,C){Eo(te.value,N,mt(C))}async function re(){const N=Ne(k);if(!N)return{valid:!0,results:{},errors:{}};u.value=!0;const C=$f(N)||Hi(N)?await F2(N,f):await U2(N,f,{names:x.value,bailsMap:O.value});return u.value=!1,C}const Q=ht((N,{evt:C})=>{Vk(C)&&C.target.submit()});dv(()=>{if(e!=null&&e.initialErrors&&_(e.initialErrors),e!=null&&e.initialTouched&&I(e.initialTouched),e!=null&&e.validateOnMount){L();return}ve.validateSchema&&ve.validateSchema("silent")}),at(k)&&Jn(k,()=>{var N;(N=ve.validateSchema)===null||N===void 0||N.call(ve,"validated-only")}),js(qh,ve);function be(N,C){const M=de(vr(N))||$e(N),z=()=>Jt(C)?C(da(M,pa)):C||{};function le(){var He;M.touched=!0,((He=z().validateOnBlur)!==null&&He!==void 0?He:Li().validateOnBlur)&&j(M.path)}function ue(He){var Te;const Ve=(Te=z().validateOnModelUpdate)!==null&&Te!==void 0?Te:Li().validateOnModelUpdate;D(M.path,He,Ve)}return Fe(()=>{if(Jt(C)){const Ve=C(M),vt=Ve.model||"modelValue";return Object.assign({onBlur:le,[vt]:M.value,[`onUpdate:${vt}`]:ue},Ve.props||{})}const He=(C==null?void 0:C.model)||"modelValue",Te={onBlur:le,[He]:M.value,[`onUpdate:${He}`]:ue};return C!=null&&C.mapProps?Object.assign(Object.assign({},Te),C.mapProps(da(M,pa))):Te})}function fe(N,C){const M=de(vr(N))||$e(N),z=()=>Jt(C)?C(da(M,pa)):C||{};function le(){var Te;M.touched=!0,((Te=z().validateOnBlur)!==null&&Te!==void 0?Te:Li().validateOnBlur)&&j(M.path)}function ue(Te){var Ve;const vt=Hf(Te),it=(Ve=z().validateOnInput)!==null&&Ve!==void 0?Ve:Li().validateOnInput;D(M.path,vt,it)}function Re(Te){var Ve;const vt=Hf(Te),it=(Ve=z().validateOnChange)!==null&&Ve!==void 0?Ve:Li().validateOnChange;D(M.path,vt,it)}return Fe(()=>{const Te={value:M.value,onChange:Re,onInput:ue,onBlur:le};return Jt(C)?Object.assign(Object.assign({},Te),C(da(M,pa)).attrs||{}):C!=null&&C.mapAttrs?Object.assign(Object.assign({},Te),C.mapAttrs(da(M,pa))):Te})}return Object.assign(Object.assign({},ve),{values:uv(f),handleReset:()=>R(),submitForm:Q,defineComponentBinds:be,defineInputBinds:fe})}function eB(e,t,n,i){const o={touched:"some",pending:"some",valid:"every"},u=Fe(()=>!Tn(t,Ne(n)));function a(){const f=e.value;return Vr(o).reduce((d,p)=>{const g=o[p];return d[p]=f[g](v=>v[p]),d},{})}const l=ai(a());return hP(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Fe(()=>Object.assign(Object.assign({initialValues:Ne(n)},l),{valid:l.valid&&!Vr(i.value).length,dirty:u.value}))}function tB(e,t,n){const i=Wk(n),o=n==null?void 0:n.initialValues,u=wn(i),a=wn(mt(i));function l(f,d=!1){u.value=Bf(mt(u.value)||{},mt(f)),a.value=Bf(mt(a.value)||{},mt(f)),d&&e.value.forEach(p=>{if(p.touched)return;const v=Rn(u.value,p.path);Eo(t,p.path,mt(v))})}return at(o)&&Jn(o,f=>{f&&l(f,!0)},{deep:!0}),{initialValues:u,originalInitialValues:a,setInitialValues:l}}const nB=oc({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Ri(e,"initialValues"),i=Ri(e,"validationSchema"),o=Ri(e,"keepValues"),{errors:u,errorBag:a,values:l,meta:f,isSubmitting:d,isValidating:p,submitCount:g,controlledValues:v,validate:b,validateField:_,handleReset:T,resetForm:S,handleSubmit:x,setErrors:O,setFieldError:U,setFieldValue:q,setValues:te,setFieldTouched:V,setTouched:we,resetField:G}=Z2({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),oe=x((De,{evt:ge})=>{Vk(ge)&&ge.target.submit()},e.onInvalidSubmit),k=e.onSubmit?x(e.onSubmit,e.onInvalidSubmit):oe;function $e(De){By(De)&&De.preventDefault(),T(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function nt(De,ge){return x(typeof De=="function"&&!ge?De:ge,e.onInvalidSubmit)(De)}function rt(){return mt(l)}function ct(){return mt(f.value)}function Ge(){return mt(u.value)}function de(){return{meta:f.value,errors:u.value,errorBag:a.value,values:l,isSubmitting:d.value,isValidating:p.value,submitCount:g.value,controlledValues:v.value,validate:b,validateField:_,handleSubmit:nt,handleReset:T,submitForm:oe,setErrors:O,setFieldError:U,setFieldValue:q,setValues:te,setFieldTouched:V,setTouched:we,resetForm:S,resetField:G,getValues:rt,getMeta:ct,getErrors:Ge}}return t.expose({setFieldError:U,setErrors:O,setFieldValue:q,setValues:te,setFieldTouched:V,setTouched:we,resetForm:S,validate:b,validateField:_,resetField:G,getValues:rt,getMeta:ct,getErrors:Ge}),function(){const ge=e.as==="form"?e.as:mv(e.as),ft=$y(ge,t,de);if(!e.as)return ft;const It=e.as==="form"?{novalidate:!0}:{};return zs(ge,Object.assign(Object.assign(Object.assign({},It),t.attrs),{onSubmit:k,onReset:$e}),ft)}}}),rB=nB,iB=oc({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=ar(qh,void 0),i=Fe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const u=e.as?mv(e.as):e.as,a=$y(u,t,o),l=Object.assign({role:"alert"},t.attrs);return!u&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?zs(u||"span",l,i.value):zs(u,l,a)}}}),Hh=iB,oB={name:"Login",data(){return{schema_login:{email:"required|email",password:"required|min:9|max:100|excluded:password"},login_show_alert:!1,login_in_submission:!1,login_alert_variant:"bg-red-500",login_alert_msg:"Please wait! We are logging you in"}},components:{ErrorMessage:Hh},methods:{...pS(Ac,["authenticate"]),async login(e){this.login_show_alert=!0,this.login_in_submission=!0,this.login_alert_variant="bg-blue-500",this.login_alert_msg="Please wait! We are logging you in";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="Invalid login details";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="Logged in successfully!",window.location.reload()}}},sB={class:"mb-3"},uB=B("label",{class:"inline-block mb-2"},"Email",-1),aB={class:"mb-3"},cB=B("label",{class:"inline-block mb-2"},"Password",-1),lB=B("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",-1);function fB(e,t,n,i,o,u){const a=Et("vee-field"),l=Et("ErrorMessage"),f=Et("vee-form");return ze(),st(xt,null,[o.login_show_alert?(ze(),st("div",{key:0,class:xn(["text-white text-center font-bold p-4 mb-04",o.login_alert_variant])},en(o.login_alert_msg),3)):Ua("",!0),Ae(f,{"validation-schema":o.schema_login,onSubmit:u.login},{default:ur(()=>[B("div",sB,[uB,Ae(a,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Ae(l,{class:"text-red-600",name:"email"})]),B("div",aB,[cB,Ae(a,{name:"password",bails:!1},{default:ur(({field:d,errors:p})=>[B("input",wv({class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password",type:"password"},d),null,16),(ze(!0),st(xt,null,vu(p,g=>(ze(),st("div",{class:"text-red-600",key:g},en(g),1))),128))]),_:1})]),lB]),_:1},8,["validation-schema","onSubmit"])],64)}const hB=jn(oB,[["render",fB]]),dB={name:"Registration",data(){return{schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:100",password:"required|min:9|max:100|excluded:password",confirm_password:"passwords_mismatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},userData:{country:"BRA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! Your account is being created."}},methods:{...pS(Ac,{createUser:"register"}),async register(e){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! Your account is being created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",this.reg_alert_msg="An unexpected error occured. Please, Try again later";return}this.reg_alert_variant="bg-green-500",this.reg_alert_msg="Success! Your account has been created",window.location.reload()}},components:{ErrorMessage:Hh}},pB={class:"mb-3"},mB=B("label",{class:"inline-block mb-2"},"Name",-1),gB={class:"mb-3"},vB=B("label",{class:"inline-block mb-2"},"Email",-1),yB={class:"mb-3"},wB=B("label",{class:"inline-block mb-2"},"Age",-1),bB={class:"mb-3"},_B=B("label",{class:"inline-block mb-2"},"Password",-1),EB={class:"mb-3"},IB=B("label",{class:"inline-block mb-2"},"Confirm Password",-1),TB={class:"mb-3"},SB=B("label",{class:"inline-block mb-2"},"Country",-1),AB=B("option",{value:"USA"},"USA",-1),kB=B("option",{value:"BRA"},"BRA",-1),NB=B("option",{value:"Mexico"},"Mexico",-1),CB=B("option",{value:"Germany"},"Germany",-1),RB=B("option",{value:"Antarctica"},"Antarctica",-1),xB={class:"mb-3 pl-6"},OB=B("label",{class:"inline-block"},"Accept terms of service",-1),PB=B("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",-1);function DB(e,t,n,i,o,u){const a=Et("vee-field"),l=Et("ErrorMessage"),f=Et("vee-form");return ze(),st("div",null,[eg(B("div",{class:xn(["text-white text-center font-bold p-4 rounded mb-04",o.reg_alert_variant])},en(o.reg_alert_msg),3),[[ag,o.reg_show_alert]]),Ae(f,{"validation-schema":o.schema,onSubmit:u.register,"initial-values":o.userData},{default:ur(()=>[B("div",pB,[mB,Ae(a,{type:"text",id:"name",name:"name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),Ae(l,{class:"text-red-600",name:"name"})]),B("div",gB,[vB,Ae(a,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Ae(l,{class:"text-red-600",name:"email"})]),B("div",yB,[wB,Ae(a,{name:"age",type:"number",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),Ae(l,{class:"text-red-600",name:"age"})]),B("div",bB,[_B,Ae(a,{name:"password",bails:!1},{default:ur(({field:d,errors:p})=>[B("input",wv({class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",type:"password",placeholder:"Password"},d),null,16),(ze(!0),st(xt,null,vu(p,g=>(ze(),st("div",{class:"text-red-600",key:g},en(g),1))),128))]),_:1})]),B("div",EB,[IB,Ae(a,{type:"password",name:"confirm_password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),Ae(l,{class:"text-red-600",name:"confirm_password"})]),B("div",TB,[SB,Ae(a,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:ur(()=>[AB,kB,NB,CB,RB]),_:1}),Ae(l,{class:"text-red-600",name:"country"})]),B("div",xB,[Ae(a,{type:"checkbox",name:"tos",value:"1",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),OB,Ae(l,{class:"text-red-600 block",name:"tos"})]),PB]),_:1},8,["validation-schema","onSubmit","initial-values"])])}const LB=jn(dB,[["render",DB]]),MB={name:"Auth",data(){return{table:"login"}},components:{Login:hB,Registration:LB},computed:{...LD(fg,["hiddenClass"]),...mS(fg,["isOpen"])}},FB={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},UB=B("div",{class:"fixed inset-0 transition-opacity"},[B("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),jB=B("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1),VB={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},BB={class:"py-4 text-left px-6"},qB={class:"flex justify-between items-center pb-4"},$B=B("p",{class:"text-2xl font-bold"},"Your Account",-1),HB=B("i",{class:"fas fa-times"},null,-1),KB=[HB],zB={class:"flex flex-wrap mb-4"},GB={class:"flex-auto text-center"};function WB(e,t,n,i,o,u){const a=Et("Login"),l=Et("Registration");return ze(),st("div",null,[B("div",{class:xn(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[B("div",FB,[UB,jB,B("div",VB,[B("div",BB,[B("div",qB,[$B,B("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=Gn(f=>e.isOpen=!1,["prevent"]))},KB)]),B("ul",zB,[B("li",GB,[B("a",{class:xn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.table=="login","hover:text-blue-600":o.table==="register"}]),href:"#",onClick:t[1]||(t[1]=f=>o.table="login")},"Login",2)]),B("li",{class:xn([{"hover:text-white text-white bg-blue-600":o.table=="register","hover:text-blue-600":o.table==="login"},"flex-auto text-center block rounded transition"])},[B("a",{class:"block rounded py-3 px-4 transition",href:"#",onClick:t[2]||(t[2]=f=>o.table="register")},"Register")],2)]),o.table=="login"?(ze(),$s(a,{key:0})):Ua("",!0),o.table=="register"?(ze(),$s(l,{key:1})):Ua("",!0)])])])],2)])}const XB=jn(MB,[["render",WB]]),YB={name:"App",components:{AppHeader:a2,Auth:XB},computed:{...mS(Ac,["userLoggedIn"])},created(){Sr.currentUser&&(this.userLoggedIn=!0)}},QB=sS('<div class="fixed bottom-0 left-0 bg-white px-4 py-2 w-full p-16"><div class="text-center"><span class="song-title font-bold">Song Title</span> by <span class="song-artist">Artist</span></div><div class="flex flex-nowrap gap-4 items-center"><button type="button"><i class="fa fa-play text-gray-500 text-xl"></i></button><div class="player-currenttime">00:00</div><div class="w-full h-2 rounded bg-gray-200 relative cursor-pointer"><span class="absolute -top-2.5 -ml-2.5 text-gray-800 text-lg" style="left:50%;"><i class="fas fa-circle"></i></span><span class="block h-2 rounded bg-gradient-to-r from-green-500 to-green-400" style="width:50%;"></span></div><div class="player-duration">03:06</div></div></div>',1);function JB(e,t,n,i,o,u){const a=Et("app-header"),l=Et("router-view"),f=Et("auth");return ze(),st(xt,null,[Ae(a),Ae(l),QB,Ae(f)],64)}const ZB=jn(YB,[["render",JB]]);/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ps=typeof window<"u";function eq(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const tt=Object.assign;function zm(e,t){const n={};for(const i in t){const o=t[i];n[i]=Nr(o)?o.map(e):e(o)}return n}const Ra=()=>{},Nr=Array.isArray,tq=/\/$/,nq=e=>e.replace(tq,"");function Gm(e,t,n="/"){let i,o={},u="",a="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=t.slice(0,f),u=t.slice(f+1,l>-1?l:t.length),o=e(u)),l>-1&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=sq(i??t,n),{fullPath:i+(u&&"?")+u+a,path:i,query:o,hash:a}}function rq(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function zI(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function iq(e,t,n){const i=t.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&hu(t.matched[i],n.matched[o])&&Xk(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function hu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Xk(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!oq(e[n],t[n]))return!1;return!0}function oq(e,t){return Nr(e)?GI(e,t):Nr(t)?GI(t,e):e===t}function GI(e,t){return Nr(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function sq(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let u=n.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")u>1&&u--;else break;return n.slice(0,u).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var ic;(function(e){e.pop="pop",e.push="push"})(ic||(ic={}));var xa;(function(e){e.back="back",e.forward="forward",e.unknown=""})(xa||(xa={}));function uq(e){if(!e)if(Ps){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),nq(e)}const aq=/^[^#]+#/;function cq(e,t){return e.replace(aq,"#")+t}function lq(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Kh=()=>({left:window.pageXOffset,top:window.pageYOffset});function fq(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=lq(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function WI(e,t){return(history.state?history.state.position-t:-1)+e}const Wg=new Map;function hq(e,t){Wg.set(e,t)}function dq(e){const t=Wg.get(e);return Wg.delete(e),t}let pq=()=>location.protocol+"//"+location.host;function Yk(e,t){const{pathname:n,search:i,hash:o}=t,u=e.indexOf("#");if(u>-1){let l=o.includes(e.slice(u))?e.slice(u).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),zI(f,"")}return zI(n,e)+i+o}function mq(e,t,n,i){let o=[],u=[],a=null;const l=({state:v})=>{const b=Yk(e,location),_=n.value,T=t.value;let S=0;if(v){if(n.value=b,t.value=v,a&&a===_){a=null;return}S=T?v.position-T.position:0}else i(b);o.forEach(x=>{x(n.value,_,{delta:S,type:ic.pop,direction:S?S>0?xa.forward:xa.back:xa.unknown})})};function f(){a=n.value}function d(v){o.push(v);const b=()=>{const _=o.indexOf(v);_>-1&&o.splice(_,1)};return u.push(b),b}function p(){const{history:v}=window;v.state&&v.replaceState(tt({},v.state,{scroll:Kh()}),"")}function g(){for(const v of u)v();u=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:f,listen:d,destroy:g}}function XI(e,t,n,i=!1,o=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:o?Kh():null}}function gq(e){const{history:t,location:n}=window,i={value:Yk(e,n)},o={value:t.state};o.value||u(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function u(f,d,p){const g=e.indexOf("#"),v=g>-1?(n.host&&document.querySelector("base")?e:e.slice(g))+f:pq()+e+f;try{t[p?"replaceState":"pushState"](d,"",v),o.value=d}catch(b){console.error(b),n[p?"replace":"assign"](v)}}function a(f,d){const p=tt({},t.state,XI(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});u(f,p,!0),i.value=f}function l(f,d){const p=tt({},o.value,t.state,{forward:f,scroll:Kh()});u(p.current,p,!0);const g=tt({},XI(i.value,f,null),{position:p.position+1},d);u(f,g,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function vq(e){e=uq(e);const t=gq(e),n=mq(e,t.state,t.location,t.replace);function i(u,a=!0){a||n.pauseListeners(),history.go(u)}const o=tt({location:"",base:e,go:i,createHref:cq.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function yq(e){return typeof e=="string"||e&&typeof e=="object"}function Qk(e){return typeof e=="string"||typeof e=="symbol"}const Si={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Jk=Symbol("");var YI;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(YI||(YI={}));function du(e,t){return tt(new Error,{type:e,[Jk]:!0},t)}function Zr(e,t){return e instanceof Error&&Jk in e&&(t==null||!!(e.type&t))}const QI="[^/]+?",wq={sensitive:!1,strict:!1,start:!0,end:!0},bq=/[.+*?^${}()[\]/\\]/g;function _q(e,t){const n=tt({},wq,t),i=[];let o=n.start?"^":"";const u=[];for(const d of e){const p=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let g=0;g<d.length;g++){const v=d[g];let b=40+(n.sensitive?.25:0);if(v.type===0)g||(o+="/"),o+=v.value.replace(bq,"\\$&"),b+=40;else if(v.type===1){const{value:_,repeatable:T,optional:S,regexp:x}=v;u.push({name:_,repeatable:T,optional:S});const O=x||QI;if(O!==QI){b+=10;try{new RegExp(`(${O})`)}catch(q){throw new Error(`Invalid custom RegExp for param "${_}" (${O}): `+q.message)}}let U=T?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;g||(U=S&&d.length<2?`(?:/${U})`:"/"+U),S&&(U+="?"),o+=U,b+=20,S&&(b+=-8),T&&(b+=-20),O===".*"&&(b+=-50)}p.push(b)}i.push(p)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const p=d.match(a),g={};if(!p)return null;for(let v=1;v<p.length;v++){const b=p[v]||"",_=u[v-1];g[_.name]=b&&_.repeatable?b.split("/"):b}return g}function f(d){let p="",g=!1;for(const v of e){(!g||!p.endsWith("/"))&&(p+="/"),g=!1;for(const b of v)if(b.type===0)p+=b.value;else if(b.type===1){const{value:_,repeatable:T,optional:S}=b,x=_ in d?d[_]:"";if(Nr(x)&&!T)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const O=Nr(x)?x.join("/"):x;if(!O)if(S)v.length<2&&(p.endsWith("/")?p=p.slice(0,-1):g=!0);else throw new Error(`Missing required param "${_}"`);p+=O}}return p||"/"}return{re:a,score:i,keys:u,parse:l,stringify:f}}function Eq(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Iq(e,t){let n=0;const i=e.score,o=t.score;for(;n<i.length&&n<o.length;){const u=Eq(i[n],o[n]);if(u)return u;n++}if(Math.abs(o.length-i.length)===1){if(JI(i))return 1;if(JI(o))return-1}return o.length-i.length}function JI(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Tq={type:0,value:""},Sq=/[a-zA-Z0-9_]/;function Aq(e){if(!e)return[[]];if(e==="/")return[[Tq]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const o=[];let u;function a(){u&&o.push(u),u=[]}let l=0,f,d="",p="";function g(){d&&(n===0?u.push({type:0,value:d}):n===1||n===2||n===3?(u.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:d,regexp:p,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function v(){d+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&g(),a()):f===":"?(g(),n=1):v();break;case 4:v(),n=i;break;case 1:f==="("?n=2:Sq.test(f)?v():(g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+f:n=3:p+=f;break;case 3:g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),g(),a(),o}function kq(e,t,n){const i=_q(Aq(e.path),n),o=tt(i,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Nq(e,t){const n=[],i=new Map;t=tT({strict:!1,end:!0,sensitive:!1},t);function o(p){return i.get(p)}function u(p,g,v){const b=!v,_=Cq(p);_.aliasOf=v&&v.record;const T=tT(t,p),S=[_];if("alias"in p){const U=typeof p.alias=="string"?[p.alias]:p.alias;for(const q of U)S.push(tt({},_,{components:v?v.record.components:_.components,path:q,aliasOf:v?v.record:_}))}let x,O;for(const U of S){const{path:q}=U;if(g&&q[0]!=="/"){const te=g.record.path,V=te[te.length-1]==="/"?"":"/";U.path=g.record.path+(q&&V+q)}if(x=kq(U,g,T),v?v.alias.push(x):(O=O||x,O!==x&&O.alias.push(x),b&&p.name&&!eT(x)&&a(p.name)),_.children){const te=_.children;for(let V=0;V<te.length;V++)u(te[V],x,v&&v.children[V])}v=v||x,(x.record.components&&Object.keys(x.record.components).length||x.record.name||x.record.redirect)&&f(x)}return O?()=>{a(O)}:Ra}function a(p){if(Qk(p)){const g=i.get(p);g&&(i.delete(p),n.splice(n.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=n.indexOf(p);g>-1&&(n.splice(g,1),p.record.name&&i.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function f(p){let g=0;for(;g<n.length&&Iq(p,n[g])>=0&&(p.record.path!==n[g].record.path||!Zk(p,n[g]));)g++;n.splice(g,0,p),p.record.name&&!eT(p)&&i.set(p.record.name,p)}function d(p,g){let v,b={},_,T;if("name"in p&&p.name){if(v=i.get(p.name),!v)throw du(1,{location:p});T=v.record.name,b=tt(ZI(g.params,v.keys.filter(O=>!O.optional).map(O=>O.name)),p.params&&ZI(p.params,v.keys.map(O=>O.name))),_=v.stringify(b)}else if("path"in p)_=p.path,v=n.find(O=>O.re.test(_)),v&&(b=v.parse(_),T=v.record.name);else{if(v=g.name?i.get(g.name):n.find(O=>O.re.test(g.path)),!v)throw du(1,{location:p,currentLocation:g});T=v.record.name,b=tt({},g.params,p.params),_=v.stringify(b)}const S=[];let x=v;for(;x;)S.unshift(x.record),x=x.parent;return{name:T,path:_,params:b,matched:S,meta:xq(S)}}return e.forEach(p=>u(p)),{addRoute:u,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function ZI(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function Cq(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Rq(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Rq(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function eT(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function xq(e){return e.reduce((t,n)=>tt(t,n.meta),{})}function tT(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function Zk(e,t){return t.children.some(n=>n===e||Zk(e,n))}const eN=/#/g,Oq=/&/g,Pq=/\//g,Dq=/=/g,Lq=/\?/g,tN=/\+/g,Mq=/%5B/g,Fq=/%5D/g,nN=/%5E/g,Uq=/%60/g,rN=/%7B/g,jq=/%7C/g,iN=/%7D/g,Vq=/%20/g;function Hy(e){return encodeURI(""+e).replace(jq,"|").replace(Mq,"[").replace(Fq,"]")}function Bq(e){return Hy(e).replace(rN,"{").replace(iN,"}").replace(nN,"^")}function Xg(e){return Hy(e).replace(tN,"%2B").replace(Vq,"+").replace(eN,"%23").replace(Oq,"%26").replace(Uq,"`").replace(rN,"{").replace(iN,"}").replace(nN,"^")}function qq(e){return Xg(e).replace(Dq,"%3D")}function $q(e){return Hy(e).replace(eN,"%23").replace(Lq,"%3F")}function Hq(e){return e==null?"":$q(e).replace(Pq,"%2F")}function Kf(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Kq(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<i.length;++o){const u=i[o].replace(tN," "),a=u.indexOf("="),l=Kf(a<0?u:u.slice(0,a)),f=a<0?null:Kf(u.slice(a+1));if(l in t){let d=t[l];Nr(d)||(d=t[l]=[d]),d.push(f)}else t[l]=f}return t}function nT(e){let t="";for(let n in e){const i=e[n];if(n=qq(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Nr(i)?i.map(u=>u&&Xg(u)):[i&&Xg(i)]).forEach(u=>{u!==void 0&&(t+=(t.length?"&":"")+n,u!=null&&(t+="="+u))})}return t}function zq(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Nr(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return t}const Gq=Symbol(""),rT=Symbol(""),Ky=Symbol(""),oN=Symbol(""),Yg=Symbol("");function ma(){let e=[];function t(i){return e.push(i),()=>{const o=e.indexOf(i);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Ci(e,t,n,i,o){const u=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=g=>{g===!1?l(du(4,{from:n,to:t})):g instanceof Error?l(g):yq(g)?l(du(2,{from:t,to:g})):(u&&i.enterCallbacks[o]===u&&typeof g=="function"&&u.push(g),a())},d=e.call(i&&i.instances[o],t,n,f);let p=Promise.resolve(d);e.length<3&&(p=p.then(f)),p.catch(g=>l(g))})}function Wm(e,t,n,i){const o=[];for(const u of e)for(const a in u.components){let l=u.components[a];if(!(t!=="beforeRouteEnter"&&!u.instances[a]))if(Wq(l)){const d=(l.__vccOpts||l)[t];d&&o.push(Ci(d,n,i,u,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${u.path}"`));const p=eq(d)?d.default:d;u.components[a]=p;const v=(p.__vccOpts||p)[t];return v&&Ci(v,n,i,u,a)()}))}}return o}function Wq(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function iT(e){const t=ar(Ky),n=ar(oN),i=Fe(()=>t.resolve(Ne(e.to))),o=Fe(()=>{const{matched:f}=i.value,{length:d}=f,p=f[d-1],g=n.matched;if(!p||!g.length)return-1;const v=g.findIndex(hu.bind(null,p));if(v>-1)return v;const b=oT(f[d-2]);return d>1&&oT(p)===b&&g[g.length-1].path!==b?g.findIndex(hu.bind(null,f[d-2])):v}),u=Fe(()=>o.value>-1&&Jq(n.params,i.value.params)),a=Fe(()=>o.value>-1&&o.value===n.matched.length-1&&Xk(n.params,i.value.params));function l(f={}){return Qq(f)?t[Ne(e.replace)?"replace":"push"](Ne(e.to)).catch(Ra):Promise.resolve()}return{route:i,href:Fe(()=>i.value.href),isActive:u,isExactActive:a,navigate:l}}const Xq=oc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:iT,setup(e,{slots:t}){const n=ai(iT(e)),{options:i}=ar(Ky),o=Fe(()=>({[sT(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[sT(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=t.default&&t.default(n);return e.custom?u:zs("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},u)}}}),Yq=Xq;function Qq(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Jq(e,t){for(const n in t){const i=t[n],o=e[n];if(typeof i=="string"){if(i!==o)return!1}else if(!Nr(o)||o.length!==i.length||i.some((u,a)=>u!==o[a]))return!1}return!0}function oT(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const sT=(e,t,n)=>e??t??n,Zq=oc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=ar(Yg),o=Fe(()=>e.route||i.value),u=ar(rT,0),a=Fe(()=>{let d=Ne(u);const{matched:p}=o.value;let g;for(;(g=p[d])&&!g.components;)d++;return d}),l=Fe(()=>o.value.matched[a.value]);js(rT,Fe(()=>a.value+1)),js(Gq,l),js(Yg,o);const f=wn();return Jn(()=>[f.value,l.value,e.name],([d,p,g],[v,b,_])=>{p&&(p.instances[g]=d,b&&b!==p&&d&&d===v&&(p.leaveGuards.size||(p.leaveGuards=b.leaveGuards),p.updateGuards.size||(p.updateGuards=b.updateGuards))),d&&p&&(!b||!hu(p,b)||!v)&&(p.enterCallbacks[g]||[]).forEach(T=>T(d))},{flush:"post"}),()=>{const d=o.value,p=e.name,g=l.value,v=g&&g.components[p];if(!v)return uT(n.default,{Component:v,route:d});const b=g.props[p],_=b?b===!0?d.params:typeof b=="function"?b(d):b:null,S=zs(v,tt({},_,t,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(g.instances[p]=null)},ref:f}));return uT(n.default,{Component:S,route:d})||S}}});function uT(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const e3=Zq;function t3(e){const t=Nq(e.routes,e),n=e.parseQuery||Kq,i=e.stringifyQuery||nT,o=e.history,u=ma(),a=ma(),l=ma(),f=PT(Si);let d=Si;Ps&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=zm.bind(null,D=>""+D),g=zm.bind(null,Hq),v=zm.bind(null,Kf);function b(D,$){let ee,ae;return Qk(D)?(ee=t.getRecordMatcher(D),ae=$):ae=D,t.addRoute(ae,ee)}function _(D){const $=t.getRecordMatcher(D);$&&t.removeRoute($)}function T(){return t.getRoutes().map(D=>D.record)}function S(D){return!!t.getRecordMatcher(D)}function x(D,$){if($=tt({},$||f.value),typeof D=="string"){const R=Gm(n,D,$.path),L=t.resolve({path:R.path},$),j=o.createHref(R.fullPath);return tt(R,L,{params:v(L.params),hash:Kf(R.hash),redirectedFrom:void 0,href:j})}let ee;if("path"in D)ee=tt({},D,{path:Gm(n,D.path,$.path).path});else{const R=tt({},D.params);for(const L in R)R[L]==null&&delete R[L];ee=tt({},D,{params:g(R)}),$.params=g($.params)}const ae=t.resolve(ee,$),ke=D.hash||"";ae.params=p(v(ae.params));const I=rq(i,tt({},D,{hash:Bq(ke),path:ae.path})),A=o.createHref(I);return tt({fullPath:I,hash:ke,query:i===nT?zq(D.query):D.query||{}},ae,{redirectedFrom:void 0,href:A})}function O(D){return typeof D=="string"?Gm(n,D,f.value.path):tt({},D)}function U(D,$){if(d!==D)return du(8,{from:$,to:D})}function q(D){return we(D)}function te(D){return q(tt(O(D),{replace:!0}))}function V(D){const $=D.matched[D.matched.length-1];if($&&$.redirect){const{redirect:ee}=$;let ae=typeof ee=="function"?ee(D):ee;return typeof ae=="string"&&(ae=ae.includes("?")||ae.includes("#")?ae=O(ae):{path:ae},ae.params={}),tt({query:D.query,hash:D.hash,params:"path"in ae?{}:D.params},ae)}}function we(D,$){const ee=d=x(D),ae=f.value,ke=D.state,I=D.force,A=D.replace===!0,R=V(ee);if(R)return we(tt(O(R),{state:typeof R=="object"?tt({},ke,R.state):ke,force:I,replace:A}),$||ee);const L=ee;L.redirectedFrom=$;let j;return!I&&iq(i,ae,ee)&&(j=du(16,{to:L,from:ae}),Vt(ae,ae,!0,!1)),(j?Promise.resolve(j):k(L,ae)).catch(X=>Zr(X)?Zr(X,2)?X:It(X):ge(X,L,ae)).then(X=>{if(X){if(Zr(X,2))return we(tt({replace:A},O(X.to),{state:typeof X.to=="object"?tt({},ke,X.to.state):ke,force:I}),$||L)}else X=nt(L,ae,!0,A,ke);return $e(L,ae,X),X})}function G(D,$){const ee=U(D,$);return ee?Promise.reject(ee):Promise.resolve()}function oe(D){const $=Vn.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(D):D()}function k(D,$){let ee;const[ae,ke,I]=n3(D,$);ee=Wm(ae.reverse(),"beforeRouteLeave",D,$);for(const R of ae)R.leaveGuards.forEach(L=>{ee.push(Ci(L,D,$))});const A=G.bind(null,D,$);return ee.push(A),ve(ee).then(()=>{ee=[];for(const R of u.list())ee.push(Ci(R,D,$));return ee.push(A),ve(ee)}).then(()=>{ee=Wm(ke,"beforeRouteUpdate",D,$);for(const R of ke)R.updateGuards.forEach(L=>{ee.push(Ci(L,D,$))});return ee.push(A),ve(ee)}).then(()=>{ee=[];for(const R of I)if(R.beforeEnter)if(Nr(R.beforeEnter))for(const L of R.beforeEnter)ee.push(Ci(L,D,$));else ee.push(Ci(R.beforeEnter,D,$));return ee.push(A),ve(ee)}).then(()=>(D.matched.forEach(R=>R.enterCallbacks={}),ee=Wm(I,"beforeRouteEnter",D,$),ee.push(A),ve(ee))).then(()=>{ee=[];for(const R of a.list())ee.push(Ci(R,D,$));return ee.push(A),ve(ee)}).catch(R=>Zr(R,8)?R:Promise.reject(R))}function $e(D,$,ee){l.list().forEach(ae=>oe(()=>ae(D,$,ee)))}function nt(D,$,ee,ae,ke){const I=U(D,$);if(I)return I;const A=$===Si,R=Ps?history.state:{};ee&&(ae||A?o.replace(D.fullPath,tt({scroll:A&&R&&R.scroll},ke)):o.push(D.fullPath,ke)),f.value=D,Vt(D,$,ee,A),It()}let rt;function ct(){rt||(rt=o.listen((D,$,ee)=>{if(!pe.listening)return;const ae=x(D),ke=V(ae);if(ke){we(tt(ke,{replace:!0}),ae).catch(Ra);return}d=ae;const I=f.value;Ps&&hq(WI(I.fullPath,ee.delta),Kh()),k(ae,I).catch(A=>Zr(A,12)?A:Zr(A,2)?(we(A.to,ae).then(R=>{Zr(R,20)&&!ee.delta&&ee.type===ic.pop&&o.go(-1,!1)}).catch(Ra),Promise.reject()):(ee.delta&&o.go(-ee.delta,!1),ge(A,ae,I))).then(A=>{A=A||nt(ae,I,!1),A&&(ee.delta&&!Zr(A,8)?o.go(-ee.delta,!1):ee.type===ic.pop&&Zr(A,20)&&o.go(-1,!1)),$e(ae,I,A)}).catch(Ra)}))}let Ge=ma(),de=ma(),De;function ge(D,$,ee){It(D);const ae=de.list();return ae.length?ae.forEach(ke=>ke(D,$,ee)):console.error(D),Promise.reject(D)}function ft(){return De&&f.value!==Si?Promise.resolve():new Promise((D,$)=>{Ge.add([D,$])})}function It(D){return De||(De=!D,ct(),Ge.list().forEach(([$,ee])=>D?ee(D):$()),Ge.reset()),D}function Vt(D,$,ee,ae){const{scrollBehavior:ke}=e;if(!Ps||!ke)return Promise.resolve();const I=!ee&&dq(WI(D.fullPath,0))||(ae||!ee)&&history.state&&history.state.scroll||null;return ti().then(()=>ke(D,$,I)).then(A=>A&&fq(A)).catch(A=>ge(A,D,$))}const Ot=D=>o.go(D);let ht;const Vn=new Set,pe={currentRoute:f,listening:!0,addRoute:b,removeRoute:_,hasRoute:S,getRoutes:T,resolve:x,options:e,push:q,replace:te,go:Ot,back:()=>Ot(-1),forward:()=>Ot(1),beforeEach:u.add,beforeResolve:a.add,afterEach:l.add,onError:de.add,isReady:ft,install(D){const $=this;D.component("RouterLink",Yq),D.component("RouterView",e3),D.config.globalProperties.$router=$,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>Ne(f)}),Ps&&!ht&&f.value===Si&&(ht=!0,q(o.location).catch(ke=>{}));const ee={};for(const ke in Si)Object.defineProperty(ee,ke,{get:()=>f.value[ke],enumerable:!0});D.provide(Ky,$),D.provide(oN,CT(ee)),D.provide(Yg,f);const ae=D.unmount;Vn.add(D),D.unmount=function(){Vn.delete(D),Vn.size<1&&(d=Si,rt&&rt(),rt=null,f.value=Si,ht=!1,De=!1),ae()}}};function ve(D){return D.reduce(($,ee)=>$.then(()=>oe(ee)),Promise.resolve())}return pe}function n3(e,t){const n=[],i=[],o=[],u=Math.max(t.matched.length,e.matched.length);for(let a=0;a<u;a++){const l=t.matched[a];l&&(e.matched.find(d=>hu(d,l))?i.push(l):n.push(l));const f=e.matched[a];f&&(t.matched.find(d=>hu(d,f))||o.push(f))}return[n,i,o]}const r3={name:"SongItem",props:{song:{type:Object,required:!0}},methods:{playSong(){this.$emit("playSong",this.song)}}},i3={class:"flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"},o3={class:"text-gray-500 text-sm"},s3={class:"text-gray-600 text-lg"},u3={class:"comments"},a3=B("i",{class:"fa fa-comments text-gray-600"},null,-1);function c3(e,t,n,i,o,u){const a=Et("router-link");return ze(),st("li",i3,[B("div",null,[Ae(a,{to:{name:"song",params:{id:n.song.docID}},class:"font-bold block text-gray-600"},{default:ur(()=>[Oo(en(n.song.modified_name),1)]),_:1},8,["to"]),B("span",o3,en(n.song.display_name),1)]),B("div",s3,[B("span",u3,[a3,Oo(" "+en(n.song.comment_count),1)])])])}const l3=jn(r3,[["render",c3]]),f3="/Music/assets/img/introduction-music.png",h3={name:"Home",components:{AppSongItem:l3},data(){return{songs:[],maxPerPage:3,pendingRequest:!1}},async created(){this.getSongs(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.round(e)+n===t&&this.getSongs()},async getSongs(){var t;if(this.pendingRequest)return;this.pendingRequest=!0;let e;if(this.songs.length){const n=await Ar.doc((t=this.songs[this.songs.length-1])==null?void 0:t.docID).get();e=await Ar.orderBy("modified_name").startAfter(n).limit(this.maxPerPage).get()}else e=await Ar.orderBy("modified_name").limit(this.maxPerPage).get();e.forEach(n=>{this.songs.push({docID:n.id,...n.data()})}),this.pendingRequest=!1}}},d3=sS('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Listen to Great Music!</h1><p class="w-full md:w-8/12 mx-auto"> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus et dolor mollis, congue augue non, venenatis elit. Nunc justo eros, suscipit ac aliquet imperdiet, venenatis et sapien. Duis sed magna pulvinar, fringilla lorem eget, ullamcorper urna. </p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+f3+'"></section>',1),p3={class:"container mx-auto"},m3={class:"bg-white rounded border border-gray-200 relative flex flex-col"},g3=B("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[B("span",{class:"card-title"},"Songs"),B("i",{class:"fa fa-headphones-alt float-right text-green-400 text-xl"})],-1),v3={id:"playlist"};function y3(e,t,n,i,o,u){const a=Et("AppSongItem");return ze(),st(xt,null,[d3,B("section",p3,[B("div",m3,[g3,B("ol",v3,[(ze(!0),st(xt,null,vu(o.songs,l=>(ze(),$s(a,{key:l.docID,song:l},null,8,["song"]))),128))])])])],64)}const w3=jn(h3,[["render",y3]]),b3={},_3={class:"about"},E3=B("h1",null,"This is an about page",-1),I3=[E3];function T3(e,t){return ze(),st("div",_3,I3)}const S3=jn(b3,[["render",T3]]),A3={name:"Upload",data(){return{isDragging:!1,uploads:[]}},props:["addSong"],methods:{upload(e){this.isDragging=!1,(e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files]).forEach(n=>{if(n.type!=="audio/mpeg")return;const u=Mk.ref().child(`songs/${n.name}`).put(n),a=this.uploads.push({task:u,current_progress:0,name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;u.on("state_changed",l=>{const f=l.bytesTransferred/l.totalBytes*100;this.uploads[a].current_progress=f},()=>{this.uploads[a].variant="bg-red-400",this.uploads[a].icon="fas fa-times",this.uploads[a].text_class="text-red-400"},async()=>{const l={uid:Sr.currentUser.uid,displayName:Sr.currentUser.displayName,original_name:u.snapshot.ref.name,modified_name:u.snapshot.metadata.name,genre:"",comment_count:0};l.url=await u.snapshot.ref.getDownloadURL();const d=await(await Ar.add(l)).get();this.addSong(d),this.uploads[a].variant="bg-green-400",this.uploads[a].icon="fas fa-check",this.uploads[a].text_class="text-green-400"})})},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})}},beforeUnmount(){this.uploads.forEach(e=>{e.task.cancel()})}},k3={class:"col-span-1"},N3={class:"bg-white rounded border border-gray-200 relative flex flex-col"},C3=B("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[B("span",{class:"card-title"},"Upload"),B("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),R3={class:"p-6"},x3=B("h5",null,"Drop your files here",-1),O3=[x3],P3=B("hr",{class:"my-6"},null,-1),D3={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function L3(e,t,n,i,o,u){return ze(),st("div",k3,[B("div",N3,[C3,B("div",R3,[B("div",{class:xn(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid",{"bg-green-400 border-green-400 border-solid":o.isDragging}]),onDrag:t[0]||(t[0]=Gn(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=Gn(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=Gn(a=>o.isDragging=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=Gn(a=>o.isDragging=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=Gn(a=>o.isDragging=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=Gn(a=>o.isDragging=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=Gn(a=>u.upload(a),["prevent","stop"]))},O3,34),B("input",{type:"file",multiple:"",onChange:t[7]||(t[7]=a=>u.upload(a))},null,32),P3,(ze(!0),st(xt,null,vu(o.uploads,a=>(ze(),st("div",{class:"mb-4",key:a.name},[B("div",{class:xn(["font-bold text-sm",a.text_class])},[B("i",{class:xn(a.icon)},null,2),Oo(" "+en(a.name),1)],2),B("div",D3,[B("div",{class:xn(["transition-all progress-bar",a.variant]),style:Yf({width:a.current_progress+"%"})},null,6)])]))),128))])])])}const M3=jn(A3,[["render",L3]]),F3={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},index:{type:Number,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function}},data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_message:"Please wait! Updating song info."}},methods:{async edit(e){this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_message="Please wait! Updating song info.";try{await Ar.doc(this.song.docID).update(e)}catch(t){console.log(t),this.in_submission=!1,this.alert_variant="bg-red-500",this.alert_message="Something went wrong! Try again later";return}this.updateSong(this.index,e),this.updateUnsavedFlag(!1),this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_message="Sucess!"},async deleteSong(){await Mk.ref().child(`songs/${this.song.original_name}`).delete(),await Ar.doc(this.song.docID).delete(),this.removeSong(this.index)}},components:{ErrorMessage:Hh}},U3={class:"border border-gray-200 p-3 mb-4 rounded"},j3={class:"inline-block text-2xl font-bold"},V3=B("i",{class:"fa fa-times"},null,-1),B3=[V3],q3=B("i",{class:"fa fa-pencil-alt"},null,-1),$3=[q3],H3={class:"mb-3"},K3=B("label",{class:"inline-block mb-2"},null,-1),z3={class:"mb-3"},G3=B("label",{class:"inline-block mb-2"},null,-1),W3=["disabled"],X3=["disabled"];function Y3(e,t,n,i,o,u){const a=Et("vee-field"),l=Et("ErrorMessage"),f=Et("vee-form");return ze(),st("div",U3,[eg(B("div",null,[B("h4",j3,en(n.song.modified_name),1),B("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right",onClick:t[0]||(t[0]=Gn((...d)=>u.deleteSong&&u.deleteSong(...d),["prevent"]))},B3),B("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right",onClick:t[1]||(t[1]=Gn(d=>o.showForm=!o.showForm,["prevent"]))},$3)],512),[[ag,!o.showForm]]),eg(B("div",null,[o.show_alert?(ze(),st("div",{key:0,class:xn(["text-white text-center font-bold p-4 mb-4",o.alert_variant])},en(o.alert_message),3)):Ua("",!0),Ae(f,{"validation-schema":o.schema,"initial-values":n.song,onSubmit:u.edit},{default:ur(()=>[B("div",H3,[K3,Ae(a,{type:"text",name:"modified_name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=d=>n.updateUnsavedFlag(!0))}),Ae(l,{class:"text-red-600",name:"modified_name"})]),B("div",z3,[G3,Ae(a,{type:"text",name:"genre",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=d=>n.updateUnsavedFlag(!0))}),Ae(l,{class:"text-red-600",name:"genre"})]),B("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600",disabled:o.in_submission}," Submit ",8,W3),B("button",{type:"button",class:"py-1.5 px-3 rounded text-white bg-gray-600",disabled:o.in_submission,onClick:t[4]||(t[4]=Gn(d=>o.showForm=!1,["prevent"]))}," Go Back ",8,X3)]),_:1},8,["validation-schema","initial-values","onSubmit"])],512),[[ag,o.showForm]])])}const Q3=jn(F3,[["render",Y3]]),J3={name:"manage",components:{AppUpload:M3,CompositionItem:Q3},data(){return{songs:[],unsavedFlag:!1}},async created(){(await Ar.where("uid","==",Sr.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){console.log(e.data());const t={...e.data(),docID:e.id};this.songs.push(t)},updateUnsavedFlag(e){this.unsavedFlag=e}},beforeRouteLeave(e,t,n){if(!this.unsavedFlag)n();else{const i=confirm("You have unsaved changes. Are you sure you want to leave?");n(i)}}},Z3={class:"container mx-auto mt-6"},e4={class:"md:grid md:grid-cols-3 md:gap-4"},t4={class:"col-span-2"},n4={class:"bg-white rounded border border-gray-200 relative flex flex-col"},r4=B("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[B("span",{class:"card-title"},"My Songs"),B("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"})],-1),i4={class:"p-6"};function o4(e,t,n,i,o,u){const a=Et("AppUpload"),l=Et("composition-item");return ze(),st("section",Z3,[B("div",e4,[Ae(a,{ref:"upload",addSong:u.addSong},null,8,["addSong"]),B("div",t4,[B("div",n4,[r4,B("div",i4,[(ze(!0),st(xt,null,vu(o.songs,(f,d)=>(ze(),$s(l,{key:f.docID,song:f,updateSong:u.updateSong,index:d,removeSong:u.removeSong,updateUnsavedFlag:u.updateUnsavedFlag},null,8,["song","updateSong","index","removeSong","updateUnsavedFlag"]))),128))])])])])])}const s4=jn(J3,[["render",o4]]),u4={name:"SongsComments",props:{comment:{type:Object,required:!0}}},a4={class:"p-6 bg-gray-50 border border-gray-200"},c4={class:"mb-5"},l4={class:"font-bold"};function f4(e,t,n,i,o,u){return ze(),st("li",a4,[B("div",c4,[B("div",l4,en(n.comment.user),1),B("time",null,en(n.comment.created_at),1)]),B("p",null,en(n.comment.comment),1)])}const h4=jn(u4,[["render",f4]]),d4={name:"SongsCommentSubmit",props:{getSong:{type:Function,required:!0},getComments:{type:Function,required:!0}},data(){return{schema_comment:{comment:"required|min:3|max:500"},comment_show_alert:!1,comment_in_submission:!1,comment_alert_variant:"bg-blue-500",comment_alert_message:"Great! Your comment has been submitted.",songs_count:0}},methods:{async comment(e){if(this.comment_in_submission=!0,this.comment_show_alert=!0,this.comment_alert_variant="bg-blue-500",this.comment_alert_message="Please wait while we submit your comment.",!Sr.currentUser){this.comment_in_submission=!1,this.comment_show_alert=!0,this.comment_alert_variant="bg-red-500",this.comment_alert_message="Please login to submit a comment.",setTimeout(()=>{this.comment_show_alert=!1},2e3);return}const t={uid:Sr.currentUser.uid,user:Sr.currentUser.displayName,comment:e.comment,created_at:new Date};try{await Ar.doc(this.$route.params.id).collection("comments").add(t),await Ar.doc(this.$route.params.id).update({comment_count:Se.firestore.FieldValue.increment(1)}),this.comment_in_submission=!1,this.comment_show_alert=!0,this.comment_alert_variant="bg-green-500",this.comment_alert_message="Great! Your comment has been submitted.",setTimeout(()=>{this.comment_show_alert=!1},2e3)}catch{this.comment_in_submission=!1,this.comment_show_alert=!0,this.comment_alert_variant="bg-red-500",this.comment_alert_message="Sorry! Your comment could not be submitted.",setTimeout(()=>{this.comment_show_alert=!1},2e3)}this.getSong(),this.getComments()}}},p4=["disabled"];function m4(e,t,n,i,o,u){const a=Et("vee-field"),l=Et("ErrorMessage"),f=Et("vee-form");return ze(),st(xt,null,[o.comment_show_alert?(ze(),st("div",{key:0,class:xn(["text-white text-center font-bold p-4 mb-4",o.comment_alert_variant])},en(o.comment_alert_message),3)):Ua("",!0),Ae(f,{"validation-schema":o.schema_comment,onSubmit:u.comment},{default:ur(()=>[Ae(a,{type:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded mb-4",placeholder:"Your comment here..."}),Ae(l,{class:"text-red-600",name:"comment"}),B("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_submission}," Submit ",8,p4)]),_:1},8,["validation-schema","onSubmit"])],64)}const g4=jn(d4,[["render",m4]]),v4={name:"Song",components:{SongsComments:h4,SongsCommentSubmit:g4},data(){return{songs:{},comments:[]}},created(){this.getSong(),this.getComments()},methods:{async getSong(){const e=await Ar.doc(this.$route.params.id).get();if(!e.exists){this.$router.push({name:"home"});return}this.songs=e.data()},async getComments(){this.comments=[],(await Ar.doc(this.$route.params.id).collection("comments").orderBy("created_at","desc").get()).forEach(t=>{this.comments.push(t.data())}),this.comments.forEach(t=>{const n=new Date(t.created_at.seconds*1e3);t.created_at=n.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})}}},y4={class:"w-full mb-8 py-14 text-center text-white relative"},w4=B("div",{class:"absolute inset-0 w-full h-full box-border bg-contain music-bg",style:{"background-image":"url(/assets/img/song-header.png)"}},null,-1),b4={class:"container mx-auto flex items-center"},_4=B("button",{type:"button",class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none"},[B("i",{class:"fas fa-play"})],-1),E4={class:"z-50 text-left ml-8"},I4={class:"text-3xl font-bold"},T4={class:"container mx-auto mt-6"},S4={class:"bg-white rounded border border-gray-200 relative flex flex-col"},A4={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},k4={class:"card-title"},N4=B("i",{class:"fa fa-comments float-right text-green-400 text-2xl"},null,-1),C4={class:"p-6"},R4=B("select",{class:"block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},[B("option",{value:"1"},"Latest"),B("option",{value:"2"},"Oldest")],-1),x4={class:"container mx-auto"};function O4(e,t,n,i,o,u){const a=Et("SongsCommentSubmit"),l=Et("SongsComments");return ze(),st(xt,null,[B("section",y4,[w4,B("div",b4,[_4,B("div",E4,[B("div",I4,en(o.songs.modified_name),1),B("div",null,en(o.songs.genre),1)])])]),B("section",T4,[B("div",S4,[B("div",A4,[B("span",k4,"Comments "+en(o.songs.comment_count),1),N4]),B("div",C4,[Ae(a,{getSong:u.getSong,getComments:u.getComments},null,8,["getSong","getComments"]),R4])])]),B("ul",x4,[(ze(!0),st(xt,null,vu(o.comments,f=>(ze(),$s(l,{key:f,comment:f},null,8,["comment"]))),128))])],64)}const P4=jn(v4,[["render",O4]]),D4=[{name:"home",path:"/",component:w3},{name:"about",path:"/about",component:S3},{name:"manage",path:"/manage-music",component:s4,beforeEnter:(e,t,n)=>{n()},meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{name:"song",path:"/song/:id",component:P4},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],sN=t3({history:vq("/Music/"),routes:D4,linkActiveClass:"text-yellow-500"});sN.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}Ac().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.11.1
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const Xl={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},L4=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Nc(e,t){return Array.isArray(e)?e[0]:e[t]}function Qi(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const uN=(e,t)=>{if(Qi(e))return!0;const n=L4(t);if(Array.isArray(e))return e.every(o=>uN(o,{locale:n}));const i=String(e);return n?(Xl[n]||Xl.en).test(i):Object.keys(Xl).some(o=>Xl[o].test(i))},M4=(e,t)=>{const n=Nc(t,"target");return String(e)===String(n)},F4=e=>{if(Qi(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function U4(e){return e==null}function j4(e){return Array.isArray(e)&&e.length===0}const aN=(e,t)=>{if(Qi(e))return!0;const n=Nc(t,"length");return Array.isArray(e)?e.every(i=>aN(i,{length:n})):[...String(e)].length<=Number(n)},cN=(e,t)=>{if(Qi(e))return!0;const n=Nc(t,"max");return Array.isArray(e)?e.length>0&&e.every(i=>cN(i,{max:n})):Number(e)<=Number(n)},lN=(e,t)=>{if(Qi(e))return!0;const n=Nc(t,"length");return Array.isArray(e)?e.every(i=>lN(i,{length:n})):[...String(e)].length>=Number(n)},fN=(e,t)=>{if(Qi(e))return!0;const n=Nc(t,"min");return Array.isArray(e)?e.length>0&&e.every(i=>fN(i,{min:n})):Number(e)>=Number(n)},hN=(e,t)=>Qi(e)?!0:Array.isArray(e)?e.every(n=>hN(n,t)):Array.from(t).some(n=>n==e),aT=(e,t)=>Qi(e)?!0:!hN(e,t),cT=e=>U4(e)||j4(e)||e===!1?!1:!!String(e).trim().length,V4={install(e){e.component("VeeForm",rB),e.component("VeeField",Q2),e.component("ErrorMessage",Hh),mr("required",cT),mr("tos",cT),mr("min",lN),mr("max",aN),mr("alpha_spaces",uN),mr("email",F4),mr("min_value",fN),mr("max_value",cN),mr("passwords_mismatch",M4),mr("excluded",aT),mr("country_excluded",aT),x2({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short`,max:`The field ${t.field} is too long`,alpha_spaces:`The field ${t.field} may only contain alphabetic characters and spaces.`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,excluded:`You not allow to use this value for the field The field ${t.field}`,country_excluded:"Due to restrictions, we do not accept users from this location.",passwords_mismatch:"The passwords don't match.",tos:"You must accept the Terms of Service"};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1})}};let Cs;Sr.onAuthStateChanged(()=>{Cs||(Cs=TD(ZB),Cs.use(kD()),Cs.use(sN),Cs.use(V4),Cs.mount("#app"))});
