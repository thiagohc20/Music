(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function gy(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const It={},_a=[],Mr=()=>{},XD=()=>!1,QD=/^on[^a-z]/,qh=e=>QD.test(e),vy=e=>e.startsWith("onUpdate:"),Yt=Object.assign,yy=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},JD=Object.prototype.hasOwnProperty,rt=(e,t)=>JD.call(e,t),Ne=Array.isArray,ba=e=>Xc(e)==="[object Map]",Hh=e=>Xc(e)==="[object Set]",sI=e=>Xc(e)==="[object Date]",He=e=>typeof e=="function",qt=e=>typeof e=="string",bc=e=>typeof e=="symbol",vt=e=>e!==null&&typeof e=="object",xA=e=>vt(e)&&He(e.then)&&He(e.catch),DA=Object.prototype.toString,Xc=e=>DA.call(e),ZD=e=>Xc(e).slice(8,-1),LA=e=>Xc(e)==="[object Object]",_y=e=>qt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Gf=gy(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Kh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},eL=/-(\w)/g,ai=Kh(e=>e.replace(eL,(t,n)=>n?n.toUpperCase():"")),tL=/\B([A-Z])/g,Ja=Kh(e=>e.replace(tL,"-$1").toLowerCase()),Gh=Kh(e=>e.charAt(0).toUpperCase()+e.slice(1)),wg=Kh(e=>e?`on${Gh(e)}`:""),wc=(e,t)=>!Object.is(e,t),Wf=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},rh=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},MA=e=>{const t=parseFloat(e);return isNaN(t)?e:t},nL=e=>{const t=qt(e)?Number(e):NaN;return isNaN(t)?e:t};let aI;const ev=()=>aI||(aI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Sa(e){if(Ne(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=qt(r)?sL(r):Sa(r);if(o)for(const s in o)t[s]=o[s]}return t}else{if(qt(e))return e;if(vt(e))return e}}const rL=/;(?![^(]*\))/g,iL=/:([^]+)/,oL=/\/\*[^]*?\*\//g;function sL(e){const t={};return e.replace(oL,"").split(rL).forEach(n=>{if(n){const r=n.split(iL);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function In(e){let t="";if(qt(e))t=e;else if(Ne(e))for(let n=0;n<e.length;n++){const r=In(e[n]);r&&(t+=r+" ")}else if(vt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const aL="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",uL=gy(aL);function FA(e){return!!e||e===""}function cL(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Wh(e[r],t[r]);return n}function Wh(e,t){if(e===t)return!0;let n=sI(e),r=sI(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=bc(e),r=bc(t),n||r)return e===t;if(n=Ne(e),r=Ne(t),n||r)return n&&r?cL(e,t):!1;if(n=vt(e),r=vt(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const u in e){const c=e.hasOwnProperty(u),f=t.hasOwnProperty(u);if(c&&!f||!c&&f||!Wh(e[u],t[u]))return!1}}return String(e)===String(t)}function lL(e,t){return e.findIndex(n=>Wh(n,t))}const Lt=e=>qt(e)?e:e==null?"":Ne(e)||vt(e)&&(e.toString===DA||!He(e.toString))?JSON.stringify(e,UA,2):String(e),UA=(e,t)=>t&&t.__v_isRef?UA(e,t.value):ba(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:Hh(t)?{[`Set(${t.size})`]:[...t.values()]}:vt(t)&&!Ne(t)&&!LA(t)?String(t):t;let ar;class VA{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ar,!t&&ar&&(this.index=(ar.scopes||(ar.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ar;try{return ar=this,t()}finally{ar=n}}}on(){ar=this}off(){ar=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function by(e){return new VA(e)}function fL(e,t=ar){t&&t.active&&t.effects.push(e)}function jA(){return ar}function hL(e){ar&&ar.cleanups.push(e)}const wy=e=>{const t=new Set(e);return t.w=0,t.n=0,t},BA=e=>(e.w&go)>0,$A=e=>(e.n&go)>0,dL=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=go},pL=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];BA(o)&&!$A(o)?o.delete(e):t[n++]=o,o.w&=~go,o.n&=~go}t.length=n}},ih=new WeakMap;let rc=0,go=1;const tv=30;let Dr;const ps=Symbol(""),nv=Symbol("");class Ey{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,fL(this,r)}run(){if(!this.active)return this.fn();let t=Dr,n=co;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Dr,Dr=this,co=!0,go=1<<++rc,rc<=tv?dL(this):uI(this),this.fn()}finally{rc<=tv&&pL(this),go=1<<--rc,Dr=this.parent,co=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Dr===this?this.deferStop=!0:this.active&&(uI(this),this.onStop&&this.onStop(),this.active=!1)}}function uI(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let co=!0;const qA=[];function Za(){qA.push(co),co=!1}function eu(){const e=qA.pop();co=e===void 0?!0:e}function Zn(e,t,n){if(co&&Dr){let r=ih.get(e);r||ih.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=wy()),HA(o)}}function HA(e,t){let n=!1;rc<=tv?$A(e)||(e.n|=go,n=!BA(e)):n=!e.has(Dr),n&&(e.add(Dr),Dr.deps.push(e))}function ki(e,t,n,r,o,s){const u=ih.get(e);if(!u)return;let c=[];if(t==="clear")c=[...u.values()];else if(n==="length"&&Ne(e)){const f=Number(r);u.forEach((d,g)=>{(g==="length"||g>=f)&&c.push(d)})}else switch(n!==void 0&&c.push(u.get(n)),t){case"add":Ne(e)?_y(n)&&c.push(u.get("length")):(c.push(u.get(ps)),ba(e)&&c.push(u.get(nv)));break;case"delete":Ne(e)||(c.push(u.get(ps)),ba(e)&&c.push(u.get(nv)));break;case"set":ba(e)&&c.push(u.get(ps));break}if(c.length===1)c[0]&&rv(c[0]);else{const f=[];for(const d of c)d&&f.push(...d);rv(wy(f))}}function rv(e,t){const n=Ne(e)?e:[...e];for(const r of n)r.computed&&cI(r);for(const r of n)r.computed||cI(r)}function cI(e,t){(e!==Dr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function mL(e,t){var n;return(n=ih.get(e))==null?void 0:n.get(t)}const gL=gy("__proto__,__v_isRef,__isVue"),KA=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(bc)),vL=Iy(),yL=Iy(!1,!0),_L=Iy(!0),lI=bL();function bL(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=tt(this);for(let s=0,u=this.length;s<u;s++)Zn(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(tt)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Za();const r=tt(this)[t].apply(this,n);return eu(),r}}),e}function wL(e){const t=tt(this);return Zn(t,"has",e),t.hasOwnProperty(e)}function Iy(e=!1,t=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?FL:XA:t?YA:zA).get(r))return r;const u=Ne(r);if(!e){if(u&&rt(lI,o))return Reflect.get(lI,o,s);if(o==="hasOwnProperty")return wL}const c=Reflect.get(r,o,s);return(bc(o)?KA.has(o):gL(o))||(e||Zn(r,"get",o),t)?c:gt(c)?u&&_y(o)?c:c.value:vt(c)?e?Ay(c):Ni(c):c}}const EL=GA(),IL=GA(!0);function GA(e=!1){return function(n,r,o,s){let u=n[r];if(Aa(u)&&gt(u)&&!gt(o))return!1;if(!e&&(!oh(o)&&!Aa(o)&&(u=tt(u),o=tt(o)),!Ne(n)&&gt(u)&&!gt(o)))return u.value=o,!0;const c=Ne(n)&&_y(r)?Number(r)<n.length:rt(n,r),f=Reflect.set(n,r,o,s);return n===tt(s)&&(c?wc(o,u)&&ki(n,"set",r,o):ki(n,"add",r,o)),f}}function TL(e,t){const n=rt(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&ki(e,"delete",t,void 0),r}function SL(e,t){const n=Reflect.has(e,t);return(!bc(t)||!KA.has(t))&&Zn(e,"has",t),n}function AL(e){return Zn(e,"iterate",Ne(e)?"length":ps),Reflect.ownKeys(e)}const WA={get:vL,set:EL,deleteProperty:TL,has:SL,ownKeys:AL},kL={get:_L,set(e,t){return!0},deleteProperty(e,t){return!0}},NL=Yt({},WA,{get:yL,set:IL}),Ty=e=>e,zh=e=>Reflect.getPrototypeOf(e);function Tf(e,t,n=!1,r=!1){e=e.__v_raw;const o=tt(e),s=tt(t);n||(t!==s&&Zn(o,"get",t),Zn(o,"get",s));const{has:u}=zh(o),c=r?Ty:n?Ny:Ec;if(u.call(o,t))return c(e.get(t));if(u.call(o,s))return c(e.get(s));e!==o&&e.get(t)}function Sf(e,t=!1){const n=this.__v_raw,r=tt(n),o=tt(e);return t||(e!==o&&Zn(r,"has",e),Zn(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Af(e,t=!1){return e=e.__v_raw,!t&&Zn(tt(e),"iterate",ps),Reflect.get(e,"size",e)}function fI(e){e=tt(e);const t=tt(this);return zh(t).has.call(t,e)||(t.add(e),ki(t,"add",e,e)),this}function hI(e,t){t=tt(t);const n=tt(this),{has:r,get:o}=zh(n);let s=r.call(n,e);s||(e=tt(e),s=r.call(n,e));const u=o.call(n,e);return n.set(e,t),s?wc(t,u)&&ki(n,"set",e,t):ki(n,"add",e,t),this}function dI(e){const t=tt(this),{has:n,get:r}=zh(t);let o=n.call(t,e);o||(e=tt(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&ki(t,"delete",e,void 0),s}function pI(){const e=tt(this),t=e.size!==0,n=e.clear();return t&&ki(e,"clear",void 0,void 0),n}function kf(e,t){return function(r,o){const s=this,u=s.__v_raw,c=tt(u),f=t?Ty:e?Ny:Ec;return!e&&Zn(c,"iterate",ps),u.forEach((d,g)=>r.call(o,f(d),f(g),s))}}function Nf(e,t,n){return function(...r){const o=this.__v_raw,s=tt(o),u=ba(s),c=e==="entries"||e===Symbol.iterator&&u,f=e==="keys"&&u,d=o[e](...r),g=n?Ty:t?Ny:Ec;return!t&&Zn(s,"iterate",f?nv:ps),{next(){const{value:h,done:p}=d.next();return p?{value:h,done:p}:{value:c?[g(h[0]),g(h[1])]:g(h),done:p}},[Symbol.iterator](){return this}}}}function $i(e){return function(...t){return e==="delete"?!1:this}}function CL(){const e={get(s){return Tf(this,s)},get size(){return Af(this)},has:Sf,add:fI,set:hI,delete:dI,clear:pI,forEach:kf(!1,!1)},t={get(s){return Tf(this,s,!1,!0)},get size(){return Af(this)},has:Sf,add:fI,set:hI,delete:dI,clear:pI,forEach:kf(!1,!0)},n={get(s){return Tf(this,s,!0)},get size(){return Af(this,!0)},has(s){return Sf.call(this,s,!0)},add:$i("add"),set:$i("set"),delete:$i("delete"),clear:$i("clear"),forEach:kf(!0,!1)},r={get(s){return Tf(this,s,!0,!0)},get size(){return Af(this,!0)},has(s){return Sf.call(this,s,!0)},add:$i("add"),set:$i("set"),delete:$i("delete"),clear:$i("clear"),forEach:kf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Nf(s,!1,!1),n[s]=Nf(s,!0,!1),t[s]=Nf(s,!1,!0),r[s]=Nf(s,!0,!0)}),[e,n,t,r]}const[OL,RL,PL,xL]=CL();function Sy(e,t){const n=t?e?xL:PL:e?RL:OL;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(rt(n,o)&&o in r?n:r,o,s)}const DL={get:Sy(!1,!1)},LL={get:Sy(!1,!0)},ML={get:Sy(!0,!1)},zA=new WeakMap,YA=new WeakMap,XA=new WeakMap,FL=new WeakMap;function UL(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function VL(e){return e.__v_skip||!Object.isExtensible(e)?0:UL(ZD(e))}function Ni(e){return Aa(e)?e:ky(e,!1,WA,DL,zA)}function QA(e){return ky(e,!1,NL,LL,YA)}function Ay(e){return ky(e,!0,kL,ML,XA)}function ky(e,t,n,r,o){if(!vt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const u=VL(e);if(u===0)return e;const c=new Proxy(e,u===2?r:n);return o.set(e,c),c}function lo(e){return Aa(e)?lo(e.__v_raw):!!(e&&e.__v_isReactive)}function Aa(e){return!!(e&&e.__v_isReadonly)}function oh(e){return!!(e&&e.__v_isShallow)}function JA(e){return lo(e)||Aa(e)}function tt(e){const t=e&&e.__v_raw;return t?tt(t):e}function Yh(e){return rh(e,"__v_skip",!0),e}const Ec=e=>vt(e)?Ni(e):e,Ny=e=>vt(e)?Ay(e):e;function ZA(e){co&&Dr&&(e=tt(e),HA(e.dep||(e.dep=wy())))}function e1(e,t){e=tt(e);const n=e.dep;n&&rv(n)}function gt(e){return!!(e&&e.__v_isRef===!0)}function St(e){return t1(e,!1)}function Cy(e){return t1(e,!0)}function t1(e,t){return gt(e)?e:new jL(e,t)}class jL{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:tt(t),this._value=n?t:Ec(t)}get value(){return ZA(this),this._value}set value(t){const n=this.__v_isShallow||oh(t)||Aa(t);t=n?t:tt(t),wc(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ec(t),e1(this))}}function Ue(e){return gt(e)?e.value:e}function Pr(e){return He(e)?e():Ue(e)}const BL={get:(e,t,n)=>Ue(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return gt(o)&&!gt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function n1(e){return lo(e)?e:new Proxy(e,BL)}function $L(e){const t=Ne(e)?new Array(e.length):{};for(const n in e)t[n]=r1(e,n);return t}class qL{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return mL(tt(this._object),this._key)}}class HL{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function no(e,t,n){return gt(e)?e:He(e)?new HL(e):vt(e)&&arguments.length>1?r1(e,t,n):St(e)}function r1(e,t,n){const r=e[t];return gt(r)?r:new qL(e,t,n)}class KL{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Ey(t,()=>{this._dirty||(this._dirty=!0,e1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=tt(this);return ZA(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function GL(e,t,n=!1){let r,o;const s=He(e);return s?(r=e,o=Mr):(r=e.get,o=e.set),new KL(r,o,s||!o,n)}function fo(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){Xh(s,t,n)}return o}function Ir(e,t,n,r){if(He(e)){const s=fo(e,t,n,r);return s&&xA(s)&&s.catch(u=>{Xh(u,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(Ir(e[s],t,n,r));return o}function Xh(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const u=t.proxy,c=n;for(;s;){const d=s.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](e,u,c)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){fo(f,null,10,[e,u,c]);return}}WL(e,n,o,r)}function WL(e,t,n,r=!0){console.error(e)}let Ic=!1,iv=!1;const En=[];let ri=0;const wa=[];let yi=null,is=0;const i1=Promise.resolve();let Oy=null;function _i(e){const t=Oy||i1;return e?t.then(this?e.bind(this):e):t}function zL(e){let t=ri+1,n=En.length;for(;t<n;){const r=t+n>>>1;Tc(En[r])<e?t=r+1:n=r}return t}function Ry(e){(!En.length||!En.includes(e,Ic&&e.allowRecurse?ri+1:ri))&&(e.id==null?En.push(e):En.splice(zL(e.id),0,e),o1())}function o1(){!Ic&&!iv&&(iv=!0,Oy=i1.then(a1))}function YL(e){const t=En.indexOf(e);t>ri&&En.splice(t,1)}function XL(e){Ne(e)?wa.push(...e):(!yi||!yi.includes(e,e.allowRecurse?is+1:is))&&wa.push(e),o1()}function mI(e,t=Ic?ri+1:0){for(;t<En.length;t++){const n=En[t];n&&n.pre&&(En.splice(t,1),t--,n())}}function s1(e){if(wa.length){const t=[...new Set(wa)];if(wa.length=0,yi){yi.push(...t);return}for(yi=t,yi.sort((n,r)=>Tc(n)-Tc(r)),is=0;is<yi.length;is++)yi[is]();yi=null,is=0}}const Tc=e=>e.id==null?1/0:e.id,QL=(e,t)=>{const n=Tc(e)-Tc(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function a1(e){iv=!1,Ic=!0,En.sort(QL);const t=Mr;try{for(ri=0;ri<En.length;ri++){const n=En[ri];n&&n.active!==!1&&fo(n,null,14)}}finally{ri=0,En.length=0,s1(),Ic=!1,Oy=null,(En.length||wa.length)&&a1()}}function JL(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||It;let o=n;const s=t.startsWith("update:"),u=s&&t.slice(7);if(u&&u in r){const g=`${u==="modelValue"?"model":u}Modifiers`,{number:h,trim:p}=r[g]||It;p&&(o=n.map(v=>qt(v)?v.trim():v)),h&&(o=n.map(MA))}let c,f=r[c=wg(t)]||r[c=wg(ai(t))];!f&&s&&(f=r[c=wg(Ja(t))]),f&&Ir(f,e,6,o);const d=r[c+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,Ir(d,e,6,o)}}function u1(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let u={},c=!1;if(!He(e)){const f=d=>{const g=u1(d,t,!0);g&&(c=!0,Yt(u,g))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!c?(vt(e)&&r.set(e,null),null):(Ne(s)?s.forEach(f=>u[f]=null):Yt(u,s),vt(e)&&r.set(e,u),u)}function Qh(e,t){return!e||!qh(t)?!1:(t=t.slice(2).replace(/Once$/,""),rt(e,t[0].toLowerCase()+t.slice(1))||rt(e,Ja(t))||rt(e,t))}let Xn=null,c1=null;function sh(e){const t=Xn;return Xn=e,c1=e&&e.type.__scopeId||null,t}function jn(e,t=Xn,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&kI(-1);const s=sh(t);let u;try{u=e(...o)}finally{sh(s),r._d&&kI(1)}return u};return r._n=!0,r._c=!0,r._d=!0,r}function Eg(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[u],slots:c,attrs:f,emit:d,render:g,renderCache:h,data:p,setupState:v,ctx:_,inheritAttrs:E}=e;let S,b;const k=sh(e);try{if(n.shapeFlag&4){const O=o||r;S=ti(g.call(O,O,h,s,v,p,_)),b=f}else{const O=t;S=ti(O.length>1?O(s,{attrs:f,slots:c,emit:d}):O(s,null)),b=t.props?f:ZL(f)}}catch(O){cc.length=0,Xh(O,e,1),S=Re(Fr)}let D=S;if(b&&E!==!1){const O=Object.keys(b),{shapeFlag:U}=D;O.length&&U&7&&(u&&O.some(vy)&&(b=eM(b,u)),D=vo(D,b))}return n.dirs&&(D=vo(D),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&(D.transition=n.transition),S=D,sh(k),S}const ZL=e=>{let t;for(const n in e)(n==="class"||n==="style"||qh(n))&&((t||(t={}))[n]=e[n]);return t},eM=(e,t)=>{const n={};for(const r in e)(!vy(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function tM(e,t,n){const{props:r,children:o,component:s}=e,{props:u,children:c,patchFlag:f}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?gI(r,u,d):!!u;if(f&8){const g=t.dynamicProps;for(let h=0;h<g.length;h++){const p=g[h];if(u[p]!==r[p]&&!Qh(d,p))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:r===u?!1:r?u?gI(r,u,d):!0:!!u;return!1}function gI(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!Qh(n,s))return!0}return!1}function nM({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const rM=e=>e.__isSuspense;function iM(e,t){t&&t.pendingBranch?Ne(e)?t.effects.push(...e):t.effects.push(e):XL(e)}function oM(e,t){return Py(e,null,t)}const Cf={};function Sn(e,t,n){return Py(e,t,n)}function Py(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:u}=It){var c;const f=jA()===((c=en)==null?void 0:c.scope)?en:null;let d,g=!1,h=!1;if(gt(e)?(d=()=>e.value,g=oh(e)):lo(e)?(d=()=>e,r=!0):Ne(e)?(h=!0,g=e.some(O=>lo(O)||oh(O)),d=()=>e.map(O=>{if(gt(O))return O.value;if(lo(O))return us(O);if(He(O))return fo(O,f,2)})):He(e)?t?d=()=>fo(e,f,2):d=()=>{if(!(f&&f.isUnmounted))return p&&p(),Ir(e,f,3,[v])}:d=Mr,t&&r){const O=d;d=()=>us(O())}let p,v=O=>{p=k.onStop=()=>{fo(O,f,4)}},_;if(Nc)if(v=Mr,t?n&&Ir(t,f,3,[d(),h?[]:void 0,v]):d(),o==="sync"){const O=JM();_=O.__watcherHandles||(O.__watcherHandles=[])}else return Mr;let E=h?new Array(e.length).fill(Cf):Cf;const S=()=>{if(k.active)if(t){const O=k.run();(r||g||(h?O.some((U,L)=>wc(U,E[L])):wc(O,E)))&&(p&&p(),Ir(t,f,3,[O,E===Cf?void 0:h&&E[0]===Cf?[]:E,v]),E=O)}else k.run()};S.allowRecurse=!!t;let b;o==="sync"?b=S:o==="post"?b=()=>zn(S,f&&f.suspense):(S.pre=!0,f&&(S.id=f.uid),b=()=>Ry(S));const k=new Ey(d,b);t?n?S():E=k.run():o==="post"?zn(k.run.bind(k),f&&f.suspense):k.run();const D=()=>{k.stop(),f&&f.scope&&yy(f.scope.effects,k)};return _&&_.push(D),D}function sM(e,t,n){const r=this.proxy,o=qt(e)?e.includes(".")?l1(r,e):()=>r[e]:e.bind(r,r);let s;He(t)?s=t:(s=t.handler,n=t);const u=en;Na(this);const c=Py(o,s.bind(r),n);return u?Na(u):ms(),c}function l1(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function us(e,t){if(!vt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),gt(e))us(e.value,t);else if(Ne(e))for(let n=0;n<e.length;n++)us(e[n],t);else if(Hh(e)||ba(e))e.forEach(n=>{us(n,t)});else if(LA(e))for(const n in e)us(e[n],t);return e}function Sc(e,t){const n=Xn;if(n===null)return e;const r=nd(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[u,c,f,d=It]=t[s];u&&(He(u)&&(u={mounted:u,updated:u}),u.deep&&us(c),o.push({dir:u,instance:r,value:c,oldValue:void 0,arg:f,modifiers:d}))}return e}function Qo(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let u=0;u<o.length;u++){const c=o[u];s&&(c.oldValue=s[u].value);let f=c.dir[r];f&&(Za(),Ir(f,n,8,[e.el,c,e,t]),eu())}}function aM(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qc(()=>{e.isMounted=!0}),xy(()=>{e.isUnmounting=!0}),e}const br=[Function,Array],f1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:br,onEnter:br,onAfterEnter:br,onEnterCancelled:br,onBeforeLeave:br,onLeave:br,onAfterLeave:br,onLeaveCancelled:br,onBeforeAppear:br,onAppear:br,onAfterAppear:br,onAppearCancelled:br},uM={name:"BaseTransition",props:f1,setup(e,{slots:t}){const n=ui(),r=aM();let o;return()=>{const s=t.default&&d1(t.default(),!0);if(!s||!s.length)return;let u=s[0];if(s.length>1){for(const E of s)if(E.type!==Fr){u=E;break}}const c=tt(e),{mode:f}=c;if(r.isLeaving)return Ig(u);const d=vI(u);if(!d)return Ig(u);const g=ov(d,c,r,n);sv(d,g);const h=n.subTree,p=h&&vI(h);let v=!1;const{getTransitionKey:_}=d.type;if(_){const E=_();o===void 0?o=E:E!==o&&(o=E,v=!0)}if(p&&p.type!==Fr&&(!os(d,p)||v)){const E=ov(p,c,r,n);if(sv(p,E),f==="out-in")return r.isLeaving=!0,E.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Ig(u);f==="in-out"&&d.type!==Fr&&(E.delayLeave=(S,b,k)=>{const D=h1(r,p);D[String(p.key)]=p,S._leaveCb=()=>{b(),S._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=k})}return u}}},cM=uM;function h1(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ov(e,t,n,r){const{appear:o,mode:s,persisted:u=!1,onBeforeEnter:c,onEnter:f,onAfterEnter:d,onEnterCancelled:g,onBeforeLeave:h,onLeave:p,onAfterLeave:v,onLeaveCancelled:_,onBeforeAppear:E,onAppear:S,onAfterAppear:b,onAppearCancelled:k}=t,D=String(e.key),O=h1(n,e),U=(j,H)=>{j&&Ir(j,r,9,H)},L=(j,H)=>{const x=H[1];U(j,H),Ne(j)?j.every(Ie=>Ie.length<=1)&&x():j.length<=1&&x()},Y={mode:s,persisted:u,beforeEnter(j){let H=c;if(!n.isMounted)if(o)H=E||c;else return;j._leaveCb&&j._leaveCb(!0);const x=O[D];x&&os(e,x)&&x.el._leaveCb&&x.el._leaveCb(),U(H,[j])},enter(j){let H=f,x=d,Ie=g;if(!n.isMounted)if(o)H=S||f,x=b||d,Ie=k||g;else return;let ie=!1;const we=j._enterCb=xe=>{ie||(ie=!0,xe?U(Ie,[j]):U(x,[j]),Y.delayedLeave&&Y.delayedLeave(),j._enterCb=void 0)};H?L(H,[j,we]):we()},leave(j,H){const x=String(e.key);if(j._enterCb&&j._enterCb(!0),n.isUnmounting)return H();U(h,[j]);let Ie=!1;const ie=j._leaveCb=we=>{Ie||(Ie=!0,H(),we?U(_,[j]):U(v,[j]),j._leaveCb=void 0,O[x]===e&&delete O[x])};O[x]=e,p?L(p,[j,ie]):ie()},clone(j){return ov(j,t,n,r)}};return Y}function Ig(e){if(Jh(e))return e=vo(e),e.children=null,e}function vI(e){return Jh(e)?e.children?e.children[0]:void 0:e}function sv(e,t){e.shapeFlag&6&&e.component?sv(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function d1(e,t=!1,n){let r=[],o=0;for(let s=0;s<e.length;s++){let u=e[s];const c=n==null?u.key:String(n)+String(u.key!=null?u.key:s);u.type===Vt?(u.patchFlag&128&&o++,r=r.concat(d1(u.children,t,c))):(t||u.type!==Fr)&&r.push(c!=null?vo(u,{key:c}):u)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function Eo(e,t){return He(e)?(()=>Yt({name:e.name},t,{setup:e}))():e}const zf=e=>!!e.type.__asyncLoader,Jh=e=>e.type.__isKeepAlive;function lM(e,t){p1(e,"a",t)}function fM(e,t){p1(e,"da",t)}function p1(e,t,n=en){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Zh(t,r,n),n){let o=n.parent;for(;o&&o.parent;)Jh(o.parent.vnode)&&hM(r,t,n,o),o=o.parent}}function hM(e,t,n,r){const o=Zh(t,e,r,!0);Dy(()=>{yy(r[t],o)},n)}function Zh(e,t,n=en,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...u)=>{if(n.isUnmounted)return;Za(),Na(n);const c=Ir(t,n,e,u);return ms(),eu(),c});return r?o.unshift(s):o.push(s),s}}const Ri=e=>(t,n=en)=>(!Nc||e==="sp")&&Zh(e,(...r)=>t(...r),n),m1=Ri("bm"),Qc=Ri("m"),dM=Ri("bu"),pM=Ri("u"),xy=Ri("bum"),Dy=Ri("um"),mM=Ri("sp"),gM=Ri("rtg"),vM=Ri("rtc");function yM(e,t=en){Zh("ec",e,t)}const Ly="components",_M="directives";function At(e,t){return My(Ly,e,!0,t)||e}const g1=Symbol.for("v-ndc");function ed(e){return qt(e)?My(Ly,e,!1)||e:e||g1}function bM(e){return My(_M,e)}function My(e,t,n=!0,r=!1){const o=Xn||en;if(o){const s=o.type;if(e===Ly){const c=YM(s,!1);if(c&&(c===t||c===ai(t)||c===Gh(ai(t))))return s}const u=yI(o[e]||s[e],t)||yI(o.appContext[e],t);return!u&&r?s:u}}function yI(e,t){return e&&(e[t]||e[ai(t)]||e[Gh(ai(t))])}function tu(e,t,n,r){let o;const s=n&&n[r];if(Ne(e)||qt(e)){o=new Array(e.length);for(let u=0,c=e.length;u<c;u++)o[u]=t(e[u],u,void 0,s&&s[u])}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,s&&s[u])}else if(vt(e))if(e[Symbol.iterator])o=Array.from(e,(u,c)=>t(u,c,void 0,s&&s[c]));else{const u=Object.keys(e);o=new Array(u.length);for(let c=0,f=u.length;c<f;c++){const d=u[c];o[c]=t(e[d],d,c,s&&s[c])}}else o=[];return n&&(n[r]=o),o}const av=e=>e?k1(e)?nd(e)||e.proxy:av(e.parent):null,uc=Yt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>av(e.parent),$root:e=>av(e.root),$emit:e=>e.emit,$options:e=>Fy(e),$forceUpdate:e=>e.f||(e.f=()=>Ry(e.update)),$nextTick:e=>e.n||(e.n=_i.bind(e.proxy)),$watch:e=>sM.bind(e)}),Tg=(e,t)=>e!==It&&!e.__isScriptSetup&&rt(e,t),wM={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:u,type:c,appContext:f}=e;let d;if(t[0]!=="$"){const v=u[t];if(v!==void 0)switch(v){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(Tg(r,t))return u[t]=1,r[t];if(o!==It&&rt(o,t))return u[t]=2,o[t];if((d=e.propsOptions[0])&&rt(d,t))return u[t]=3,s[t];if(n!==It&&rt(n,t))return u[t]=4,n[t];uv&&(u[t]=0)}}const g=uc[t];let h,p;if(g)return t==="$attrs"&&Zn(e,"get",t),g(e);if((h=c.__cssModules)&&(h=h[t]))return h;if(n!==It&&rt(n,t))return u[t]=4,n[t];if(p=f.config.globalProperties,rt(p,t))return p[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return Tg(o,t)?(o[t]=n,!0):r!==It&&rt(r,t)?(r[t]=n,!0):rt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},u){let c;return!!n[u]||e!==It&&rt(e,u)||Tg(t,u)||(c=s[0])&&rt(c,u)||rt(r,u)||rt(uc,u)||rt(o.config.globalProperties,u)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:rt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function _I(e){return Ne(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let uv=!0;function EM(e){const t=Fy(e),n=e.proxy,r=e.ctx;uv=!1,t.beforeCreate&&bI(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:u,watch:c,provide:f,inject:d,created:g,beforeMount:h,mounted:p,beforeUpdate:v,updated:_,activated:E,deactivated:S,beforeDestroy:b,beforeUnmount:k,destroyed:D,unmounted:O,render:U,renderTracked:L,renderTriggered:Y,errorCaptured:j,serverPrefetch:H,expose:x,inheritAttrs:Ie,components:ie,directives:we,filters:xe}=t;if(d&&IM(d,r,null),u)for(const De in u){const pe=u[De];He(pe)&&(r[De]=pe.bind(n))}if(o){const De=o.call(n,n);vt(De)&&(e.data=Ni(De))}if(uv=!0,s)for(const De in s){const pe=s[De],nt=He(pe)?pe.bind(n,n):He(pe.get)?pe.get.bind(n,n):Mr,lt=!He(pe)&&He(pe.set)?pe.set.bind(n):Mr,wt=Le({get:nt,set:lt});Object.defineProperty(r,De,{enumerable:!0,configurable:!0,get:()=>wt.value,set:_t=>wt.value=_t})}if(c)for(const De in c)v1(c[De],r,n,De);if(f){const De=He(f)?f.call(n):f;Reflect.ownKeys(De).forEach(pe=>{Ea(pe,De[pe])})}g&&bI(g,e,"c");function ce(De,pe){Ne(pe)?pe.forEach(nt=>De(nt.bind(n))):pe&&De(pe.bind(n))}if(ce(m1,h),ce(Qc,p),ce(dM,v),ce(pM,_),ce(lM,E),ce(fM,S),ce(yM,j),ce(vM,L),ce(gM,Y),ce(xy,k),ce(Dy,O),ce(mM,H),Ne(x))if(x.length){const De=e.exposed||(e.exposed={});x.forEach(pe=>{Object.defineProperty(De,pe,{get:()=>n[pe],set:nt=>n[pe]=nt})})}else e.exposed||(e.exposed={});U&&e.render===Mr&&(e.render=U),Ie!=null&&(e.inheritAttrs=Ie),ie&&(e.components=ie),we&&(e.directives=we)}function IM(e,t,n=Mr){Ne(e)&&(e=cv(e));for(const r in e){const o=e[r];let s;vt(o)?"default"in o?s=dr(o.from||r,o.default,!0):s=dr(o.from||r):s=dr(o),gt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:u=>s.value=u}):t[r]=s}}function bI(e,t,n){Ir(Ne(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function v1(e,t,n,r){const o=r.includes(".")?l1(n,r):()=>n[r];if(qt(e)){const s=t[e];He(s)&&Sn(o,s)}else if(He(e))Sn(o,e.bind(n));else if(vt(e))if(Ne(e))e.forEach(s=>v1(s,t,n,r));else{const s=He(e.handler)?e.handler.bind(n):t[e.handler];He(s)&&Sn(o,s,e)}}function Fy(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:u}}=e.appContext,c=s.get(t);let f;return c?f=c:!o.length&&!n&&!r?f=t:(f={},o.length&&o.forEach(d=>ah(f,d,u,!0)),ah(f,t,u)),vt(t)&&s.set(t,f),f}function ah(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&ah(e,s,n,!0),o&&o.forEach(u=>ah(e,u,n,!0));for(const u in t)if(!(r&&u==="expose")){const c=TM[u]||n&&n[u];e[u]=c?c(e[u],t[u]):t[u]}return e}const TM={data:wI,props:EI,emits:EI,methods:ic,computed:ic,beforeCreate:Pn,created:Pn,beforeMount:Pn,mounted:Pn,beforeUpdate:Pn,updated:Pn,beforeDestroy:Pn,beforeUnmount:Pn,destroyed:Pn,unmounted:Pn,activated:Pn,deactivated:Pn,errorCaptured:Pn,serverPrefetch:Pn,components:ic,directives:ic,watch:AM,provide:wI,inject:SM};function wI(e,t){return t?e?function(){return Yt(He(e)?e.call(this,this):e,He(t)?t.call(this,this):t)}:t:e}function SM(e,t){return ic(cv(e),cv(t))}function cv(e){if(Ne(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Pn(e,t){return e?[...new Set([].concat(e,t))]:t}function ic(e,t){return e?Yt(Object.create(null),e,t):t}function EI(e,t){return e?Ne(e)&&Ne(t)?[...new Set([...e,...t])]:Yt(Object.create(null),_I(e),_I(t??{})):t}function AM(e,t){if(!e)return t;if(!t)return e;const n=Yt(Object.create(null),e);for(const r in t)n[r]=Pn(e[r],t[r]);return n}function y1(){return{app:null,config:{isNativeTag:XD,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kM=0;function NM(e,t){return function(r,o=null){He(r)||(r=Yt({},r)),o!=null&&!vt(o)&&(o=null);const s=y1(),u=new Set;let c=!1;const f=s.app={_uid:kM++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:ZM,get config(){return s.config},set config(d){},use(d,...g){return u.has(d)||(d&&He(d.install)?(u.add(d),d.install(f,...g)):He(d)&&(u.add(d),d(f,...g))),f},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),f},component(d,g){return g?(s.components[d]=g,f):s.components[d]},directive(d,g){return g?(s.directives[d]=g,f):s.directives[d]},mount(d,g,h){if(!c){const p=Re(r,o);return p.appContext=s,g&&t?t(p,d):e(p,d,h),c=!0,f._container=d,d.__vue_app__=f,nd(p.component)||p.component.proxy}},unmount(){c&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,g){return s.provides[d]=g,f},runWithContext(d){Ac=f;try{return d()}finally{Ac=null}}};return f}}let Ac=null;function Ea(e,t){if(en){let n=en.provides;const r=en.parent&&en.parent.provides;r===n&&(n=en.provides=Object.create(r)),n[e]=t}}function dr(e,t,n=!1){const r=en||Xn;if(r||Ac){const o=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Ac._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&He(t)?t.call(r&&r.proxy):t}}function CM(){return!!(en||Xn||Ac)}function OM(e,t,n,r=!1){const o={},s={};rh(s,td,1),e.propsDefaults=Object.create(null),_1(e,t,o,s);for(const u in e.propsOptions[0])u in o||(o[u]=void 0);n?e.props=r?o:QA(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function RM(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:u}}=e,c=tt(o),[f]=e.propsOptions;let d=!1;if((r||u>0)&&!(u&16)){if(u&8){const g=e.vnode.dynamicProps;for(let h=0;h<g.length;h++){let p=g[h];if(Qh(e.emitsOptions,p))continue;const v=t[p];if(f)if(rt(s,p))v!==s[p]&&(s[p]=v,d=!0);else{const _=ai(p);o[_]=lv(f,c,_,v,e,!1)}else v!==s[p]&&(s[p]=v,d=!0)}}}else{_1(e,t,o,s)&&(d=!0);let g;for(const h in c)(!t||!rt(t,h)&&((g=Ja(h))===h||!rt(t,g)))&&(f?n&&(n[h]!==void 0||n[g]!==void 0)&&(o[h]=lv(f,c,h,void 0,e,!0)):delete o[h]);if(s!==c)for(const h in s)(!t||!rt(t,h))&&(delete s[h],d=!0)}d&&ki(e,"set","$attrs")}function _1(e,t,n,r){const[o,s]=e.propsOptions;let u=!1,c;if(t)for(let f in t){if(Gf(f))continue;const d=t[f];let g;o&&rt(o,g=ai(f))?!s||!s.includes(g)?n[g]=d:(c||(c={}))[g]=d:Qh(e.emitsOptions,f)||(!(f in r)||d!==r[f])&&(r[f]=d,u=!0)}if(s){const f=tt(n),d=c||It;for(let g=0;g<s.length;g++){const h=s[g];n[h]=lv(o,f,h,d[h],e,!rt(d,h))}}return u}function lv(e,t,n,r,o,s){const u=e[n];if(u!=null){const c=rt(u,"default");if(c&&r===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&He(f)){const{propsDefaults:d}=o;n in d?r=d[n]:(Na(o),r=d[n]=f.call(null,t),ms())}else r=f}u[0]&&(s&&!c?r=!1:u[1]&&(r===""||r===Ja(n))&&(r=!0))}return r}function b1(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,u={},c=[];let f=!1;if(!He(e)){const g=h=>{f=!0;const[p,v]=b1(h,t,!0);Yt(u,p),v&&c.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!s&&!f)return vt(e)&&r.set(e,_a),_a;if(Ne(s))for(let g=0;g<s.length;g++){const h=ai(s[g]);II(h)&&(u[h]=It)}else if(s)for(const g in s){const h=ai(g);if(II(h)){const p=s[g],v=u[h]=Ne(p)||He(p)?{type:p}:Yt({},p);if(v){const _=AI(Boolean,v.type),E=AI(String,v.type);v[0]=_>-1,v[1]=E<0||_<E,(_>-1||rt(v,"default"))&&c.push(h)}}}const d=[u,c];return vt(e)&&r.set(e,d),d}function II(e){return e[0]!=="$"}function TI(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function SI(e,t){return TI(e)===TI(t)}function AI(e,t){return Ne(t)?t.findIndex(n=>SI(n,e)):He(t)&&SI(t,e)?0:-1}const w1=e=>e[0]==="_"||e==="$stable",Uy=e=>Ne(e)?e.map(ti):[ti(e)],PM=(e,t,n)=>{if(t._n)return t;const r=jn((...o)=>Uy(t(...o)),n);return r._c=!1,r},E1=(e,t,n)=>{const r=e._ctx;for(const o in e){if(w1(o))continue;const s=e[o];if(He(s))t[o]=PM(o,s,r);else if(s!=null){const u=Uy(s);t[o]=()=>u}}},I1=(e,t)=>{const n=Uy(t);e.slots.default=()=>n},xM=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=tt(t),rh(t,"_",n)):E1(t,e.slots={})}else e.slots={},t&&I1(e,t);rh(e.slots,td,1)},DM=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,u=It;if(r.shapeFlag&32){const c=t._;c?n&&c===1?s=!1:(Yt(o,t),!n&&c===1&&delete o._):(s=!t.$stable,E1(t,o)),u=t}else t&&(I1(e,t),u={default:1});if(s)for(const c in o)!w1(c)&&!(c in u)&&delete o[c]};function fv(e,t,n,r,o=!1){if(Ne(e)){e.forEach((p,v)=>fv(p,t&&(Ne(t)?t[v]:t),n,r,o));return}if(zf(r)&&!o)return;const s=r.shapeFlag&4?nd(r.component)||r.component.proxy:r.el,u=o?null:s,{i:c,r:f}=e,d=t&&t.r,g=c.refs===It?c.refs={}:c.refs,h=c.setupState;if(d!=null&&d!==f&&(qt(d)?(g[d]=null,rt(h,d)&&(h[d]=null)):gt(d)&&(d.value=null)),He(f))fo(f,c,12,[u,g]);else{const p=qt(f),v=gt(f);if(p||v){const _=()=>{if(e.f){const E=p?rt(h,f)?h[f]:g[f]:f.value;o?Ne(E)&&yy(E,s):Ne(E)?E.includes(s)||E.push(s):p?(g[f]=[s],rt(h,f)&&(h[f]=g[f])):(f.value=[s],e.k&&(g[e.k]=f.value))}else p?(g[f]=u,rt(h,f)&&(h[f]=u)):v&&(f.value=u,e.k&&(g[e.k]=u))};u?(_.id=-1,zn(_,n)):_()}}}const zn=iM;function LM(e){return MM(e)}function MM(e,t){const n=ev();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:u,createText:c,createComment:f,setText:d,setElementText:g,parentNode:h,nextSibling:p,setScopeId:v=Mr,insertStaticContent:_}=e,E=(P,T,I,C=null,M=null,B=null,Z=!1,te=null,ae=!!T.dynamicChildren)=>{if(P===T)return;P&&!os(P,T)&&(C=$(P),_t(P,M,B,!0),P=null),T.patchFlag===-2&&(ae=!1,T.dynamicChildren=null);const{type:re,ref:le,shapeFlag:V}=T;switch(re){case Jc:S(P,T,I,C);break;case Fr:b(P,T,I,C);break;case Sg:P==null&&k(T,I,C,Z);break;case Vt:ie(P,T,I,C,M,B,Z,te,ae);break;default:V&1?U(P,T,I,C,M,B,Z,te,ae):V&6?we(P,T,I,C,M,B,Z,te,ae):(V&64||V&128)&&re.process(P,T,I,C,M,B,Z,te,ae,oe)}le!=null&&M&&fv(le,P&&P.ref,B,T||P,!T)},S=(P,T,I,C)=>{if(P==null)r(T.el=c(T.children),I,C);else{const M=T.el=P.el;T.children!==P.children&&d(M,T.children)}},b=(P,T,I,C)=>{P==null?r(T.el=f(T.children||""),I,C):T.el=P.el},k=(P,T,I,C)=>{[P.el,P.anchor]=_(P.children,T,I,C,P.el,P.anchor)},D=({el:P,anchor:T},I,C)=>{let M;for(;P&&P!==T;)M=p(P),r(P,I,C),P=M;r(T,I,C)},O=({el:P,anchor:T})=>{let I;for(;P&&P!==T;)I=p(P),o(P),P=I;o(T)},U=(P,T,I,C,M,B,Z,te,ae)=>{Z=Z||T.type==="svg",P==null?L(T,I,C,M,B,Z,te,ae):H(P,T,M,B,Z,te,ae)},L=(P,T,I,C,M,B,Z,te)=>{let ae,re;const{type:le,props:V,shapeFlag:N,transition:F,dirs:q}=P;if(ae=P.el=u(P.type,B,V&&V.is,V),N&8?g(ae,P.children):N&16&&j(P.children,ae,null,C,M,B&&le!=="foreignObject",Z,te),q&&Qo(P,null,C,"created"),Y(ae,P,P.scopeId,Z,C),V){for(const ge in V)ge!=="value"&&!Gf(ge)&&s(ae,ge,null,V[ge],B,P.children,C,M,ye);"value"in V&&s(ae,"value",null,V.value),(re=V.onVnodeBeforeMount)&&Jr(re,C,P)}q&&Qo(P,null,C,"beforeMount");const J=(!M||M&&!M.pendingBranch)&&F&&!F.persisted;J&&F.beforeEnter(ae),r(ae,T,I),((re=V&&V.onVnodeMounted)||J||q)&&zn(()=>{re&&Jr(re,C,P),J&&F.enter(ae),q&&Qo(P,null,C,"mounted")},M)},Y=(P,T,I,C,M)=>{if(I&&v(P,I),C)for(let B=0;B<C.length;B++)v(P,C[B]);if(M){let B=M.subTree;if(T===B){const Z=M.vnode;Y(P,Z,Z.scopeId,Z.slotScopeIds,M.parent)}}},j=(P,T,I,C,M,B,Z,te,ae=0)=>{for(let re=ae;re<P.length;re++){const le=P[re]=te?Zi(P[re]):ti(P[re]);E(null,le,T,I,C,M,B,Z,te)}},H=(P,T,I,C,M,B,Z)=>{const te=T.el=P.el;let{patchFlag:ae,dynamicChildren:re,dirs:le}=T;ae|=P.patchFlag&16;const V=P.props||It,N=T.props||It;let F;I&&Jo(I,!1),(F=N.onVnodeBeforeUpdate)&&Jr(F,I,T,P),le&&Qo(T,P,I,"beforeUpdate"),I&&Jo(I,!0);const q=M&&T.type!=="foreignObject";if(re?x(P.dynamicChildren,re,te,I,C,q,B):Z||pe(P,T,te,null,I,C,q,B,!1),ae>0){if(ae&16)Ie(te,T,V,N,I,C,M);else if(ae&2&&V.class!==N.class&&s(te,"class",null,N.class,M),ae&4&&s(te,"style",V.style,N.style,M),ae&8){const J=T.dynamicProps;for(let ge=0;ge<J.length;ge++){const he=J[ge],Fe=V[he],Ze=N[he];(Ze!==Fe||he==="value")&&s(te,he,Fe,Ze,M,P.children,I,C,ye)}}ae&1&&P.children!==T.children&&g(te,T.children)}else!Z&&re==null&&Ie(te,T,V,N,I,C,M);((F=N.onVnodeUpdated)||le)&&zn(()=>{F&&Jr(F,I,T,P),le&&Qo(T,P,I,"updated")},C)},x=(P,T,I,C,M,B,Z)=>{for(let te=0;te<T.length;te++){const ae=P[te],re=T[te],le=ae.el&&(ae.type===Vt||!os(ae,re)||ae.shapeFlag&70)?h(ae.el):I;E(ae,re,le,null,C,M,B,Z,!0)}},Ie=(P,T,I,C,M,B,Z)=>{if(I!==C){if(I!==It)for(const te in I)!Gf(te)&&!(te in C)&&s(P,te,I[te],null,Z,T.children,M,B,ye);for(const te in C){if(Gf(te))continue;const ae=C[te],re=I[te];ae!==re&&te!=="value"&&s(P,te,re,ae,Z,T.children,M,B,ye)}"value"in C&&s(P,"value",I.value,C.value)}},ie=(P,T,I,C,M,B,Z,te,ae)=>{const re=T.el=P?P.el:c(""),le=T.anchor=P?P.anchor:c("");let{patchFlag:V,dynamicChildren:N,slotScopeIds:F}=T;F&&(te=te?te.concat(F):F),P==null?(r(re,I,C),r(le,I,C),j(T.children,I,le,M,B,Z,te,ae)):V>0&&V&64&&N&&P.dynamicChildren?(x(P.dynamicChildren,N,I,M,B,Z,te),(T.key!=null||M&&T===M.subTree)&&T1(P,T,!0)):pe(P,T,I,le,M,B,Z,te,ae)},we=(P,T,I,C,M,B,Z,te,ae)=>{T.slotScopeIds=te,P==null?T.shapeFlag&512?M.ctx.activate(T,I,C,Z,ae):xe(T,I,C,M,B,Z,ae):qe(P,T,ae)},xe=(P,T,I,C,M,B,Z)=>{const te=P.component=HM(P,C,M);if(Jh(P)&&(te.ctx.renderer=oe),KM(te),te.asyncDep){if(M&&M.registerDep(te,ce),!P.el){const ae=te.subTree=Re(Fr);b(null,ae,T,I)}return}ce(te,P,T,I,M,B,Z)},qe=(P,T,I)=>{const C=T.component=P.component;if(tM(P,T,I))if(C.asyncDep&&!C.asyncResolved){De(C,T,I);return}else C.next=T,YL(C.update),C.update();else T.el=P.el,C.vnode=T},ce=(P,T,I,C,M,B,Z)=>{const te=()=>{if(P.isMounted){let{next:le,bu:V,u:N,parent:F,vnode:q}=P,J=le,ge;Jo(P,!1),le?(le.el=q.el,De(P,le,Z)):le=q,V&&Wf(V),(ge=le.props&&le.props.onVnodeBeforeUpdate)&&Jr(ge,F,le,q),Jo(P,!0);const he=Eg(P),Fe=P.subTree;P.subTree=he,E(Fe,he,h(Fe.el),$(Fe),P,M,B),le.el=he.el,J===null&&nM(P,he.el),N&&zn(N,M),(ge=le.props&&le.props.onVnodeUpdated)&&zn(()=>Jr(ge,F,le,q),M)}else{let le;const{el:V,props:N}=T,{bm:F,m:q,parent:J}=P,ge=zf(T);if(Jo(P,!1),F&&Wf(F),!ge&&(le=N&&N.onVnodeBeforeMount)&&Jr(le,J,T),Jo(P,!0),V&&Se){const he=()=>{P.subTree=Eg(P),Se(V,P.subTree,P,M,null)};ge?T.type.__asyncLoader().then(()=>!P.isUnmounted&&he()):he()}else{const he=P.subTree=Eg(P);E(null,he,I,C,P,M,B),T.el=he.el}if(q&&zn(q,M),!ge&&(le=N&&N.onVnodeMounted)){const he=T;zn(()=>Jr(le,J,he),M)}(T.shapeFlag&256||J&&zf(J.vnode)&&J.vnode.shapeFlag&256)&&P.a&&zn(P.a,M),P.isMounted=!0,T=I=C=null}},ae=P.effect=new Ey(te,()=>Ry(re),P.scope),re=P.update=()=>ae.run();re.id=P.uid,Jo(P,!0),re()},De=(P,T,I)=>{T.component=P;const C=P.vnode.props;P.vnode=T,P.next=null,RM(P,T.props,C,I),DM(P,T.children,I),Za(),mI(),eu()},pe=(P,T,I,C,M,B,Z,te,ae=!1)=>{const re=P&&P.children,le=P?P.shapeFlag:0,V=T.children,{patchFlag:N,shapeFlag:F}=T;if(N>0){if(N&128){lt(re,V,I,C,M,B,Z,te,ae);return}else if(N&256){nt(re,V,I,C,M,B,Z,te,ae);return}}F&8?(le&16&&ye(re,M,B),V!==re&&g(I,V)):le&16?F&16?lt(re,V,I,C,M,B,Z,te,ae):ye(re,M,B,!0):(le&8&&g(I,""),F&16&&j(V,I,C,M,B,Z,te,ae))},nt=(P,T,I,C,M,B,Z,te,ae)=>{P=P||_a,T=T||_a;const re=P.length,le=T.length,V=Math.min(re,le);let N;for(N=0;N<V;N++){const F=T[N]=ae?Zi(T[N]):ti(T[N]);E(P[N],F,I,null,M,B,Z,te,ae)}re>le?ye(P,M,B,!0,!1,V):j(T,I,C,M,B,Z,te,ae,V)},lt=(P,T,I,C,M,B,Z,te,ae)=>{let re=0;const le=T.length;let V=P.length-1,N=le-1;for(;re<=V&&re<=N;){const F=P[re],q=T[re]=ae?Zi(T[re]):ti(T[re]);if(os(F,q))E(F,q,I,null,M,B,Z,te,ae);else break;re++}for(;re<=V&&re<=N;){const F=P[V],q=T[N]=ae?Zi(T[N]):ti(T[N]);if(os(F,q))E(F,q,I,null,M,B,Z,te,ae);else break;V--,N--}if(re>V){if(re<=N){const F=N+1,q=F<le?T[F].el:C;for(;re<=N;)E(null,T[re]=ae?Zi(T[re]):ti(T[re]),I,q,M,B,Z,te,ae),re++}}else if(re>N)for(;re<=V;)_t(P[re],M,B,!0),re++;else{const F=re,q=re,J=new Map;for(re=q;re<=N;re++){const pt=T[re]=ae?Zi(T[re]):ti(T[re]);pt.key!=null&&J.set(pt.key,re)}let ge,he=0;const Fe=N-q+1;let Ze=!1,Oe=0;const Xe=new Array(Fe);for(re=0;re<Fe;re++)Xe[re]=0;for(re=F;re<=V;re++){const pt=P[re];if(he>=Fe){_t(pt,M,B,!0);continue}let rr;if(pt.key!=null)rr=J.get(pt.key);else for(ge=q;ge<=N;ge++)if(Xe[ge-q]===0&&os(pt,T[ge])){rr=ge;break}rr===void 0?_t(pt,M,B,!0):(Xe[rr-q]=re+1,rr>=Oe?Oe=rr:Ze=!0,E(pt,T[rr],I,null,M,B,Z,te,ae),he++)}const Nt=Ze?FM(Xe):_a;for(ge=Nt.length-1,re=Fe-1;re>=0;re--){const pt=q+re,rr=T[pt],cn=pt+1<le?T[pt+1].el:C;Xe[re]===0?E(null,rr,I,cn,M,B,Z,te,ae):Ze&&(ge<0||re!==Nt[ge]?wt(rr,I,cn,2):ge--)}}},wt=(P,T,I,C,M=null)=>{const{el:B,type:Z,transition:te,children:ae,shapeFlag:re}=P;if(re&6){wt(P.component.subTree,T,I,C);return}if(re&128){P.suspense.move(T,I,C);return}if(re&64){Z.move(P,T,I,oe);return}if(Z===Vt){r(B,T,I);for(let V=0;V<ae.length;V++)wt(ae[V],T,I,C);r(P.anchor,T,I);return}if(Z===Sg){D(P,T,I);return}if(C!==2&&re&1&&te)if(C===0)te.beforeEnter(B),r(B,T,I),zn(()=>te.enter(B),M);else{const{leave:V,delayLeave:N,afterLeave:F}=te,q=()=>r(B,T,I),J=()=>{V(B,()=>{q(),F&&F()})};N?N(B,q,J):J()}else r(B,T,I)},_t=(P,T,I,C=!1,M=!1)=>{const{type:B,props:Z,ref:te,children:ae,dynamicChildren:re,shapeFlag:le,patchFlag:V,dirs:N}=P;if(te!=null&&fv(te,null,I,P,!0),le&256){T.ctx.deactivate(P);return}const F=le&1&&N,q=!zf(P);let J;if(q&&(J=Z&&Z.onVnodeBeforeUnmount)&&Jr(J,T,P),le&6)ve(P.component,I,C);else{if(le&128){P.suspense.unmount(I,C);return}F&&Qo(P,null,T,"beforeUnmount"),le&64?P.type.remove(P,T,I,M,oe,C):re&&(B!==Vt||V>0&&V&64)?ye(re,T,I,!1,!0):(B===Vt&&V&384||!M&&le&16)&&ye(ae,T,I),C&&st(P)}(q&&(J=Z&&Z.onVnodeUnmounted)||F)&&zn(()=>{J&&Jr(J,T,P),F&&Qo(P,null,T,"unmounted")},I)},st=P=>{const{type:T,el:I,anchor:C,transition:M}=P;if(T===Vt){Jt(I,C);return}if(T===Sg){O(P);return}const B=()=>{o(I),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(P.shapeFlag&1&&M&&!M.persisted){const{leave:Z,delayLeave:te}=M,ae=()=>Z(I,B);te?te(P.el,B,ae):ae()}else B()},Jt=(P,T)=>{let I;for(;P!==T;)I=p(P),o(P),P=I;o(T)},ve=(P,T,I)=>{const{bum:C,scope:M,update:B,subTree:Z,um:te}=P;C&&Wf(C),M.stop(),B&&(B.active=!1,_t(Z,P,T,I)),te&&zn(te,T),zn(()=>{P.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},ye=(P,T,I,C=!1,M=!1,B=0)=>{for(let Z=B;Z<P.length;Z++)_t(P[Z],T,I,C,M)},$=P=>P.shapeFlag&6?$(P.component.subTree):P.shapeFlag&128?P.suspense.next():p(P.anchor||P.el),z=(P,T,I)=>{P==null?T._vnode&&_t(T._vnode,null,null,!0):E(T._vnode||null,P,T,null,null,null,I),mI(),s1(),T._vnode=P},oe={p:E,um:_t,m:wt,r:st,mt:xe,mc:j,pc:pe,pbc:x,n:$,o:e};let fe,Se;return t&&([fe,Se]=t(oe)),{render:z,hydrate:fe,createApp:NM(z,fe)}}function Jo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function T1(e,t,n=!1){const r=e.children,o=t.children;if(Ne(r)&&Ne(o))for(let s=0;s<r.length;s++){const u=r[s];let c=o[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[s]=Zi(o[s]),c.el=u.el),n||T1(u,c)),c.type===Jc&&(c.el=u.el)}}function FM(e){const t=e.slice(),n=[0];let r,o,s,u,c;const f=e.length;for(r=0;r<f;r++){const d=e[r];if(d!==0){if(o=n[n.length-1],e[o]<d){t[r]=o,n.push(r);continue}for(s=0,u=n.length-1;s<u;)c=s+u>>1,e[n[c]]<d?s=c+1:u=c;d<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,u=n[s-1];s-- >0;)n[s]=u,u=t[u];return n}const UM=e=>e.__isTeleport,Vt=Symbol.for("v-fgt"),Jc=Symbol.for("v-txt"),Fr=Symbol.for("v-cmt"),Sg=Symbol.for("v-stc"),cc=[];let Lr=null;function Ye(e=!1){cc.push(Lr=e?null:[])}function VM(){cc.pop(),Lr=cc[cc.length-1]||null}let kc=1;function kI(e){kc+=e}function S1(e){return e.dynamicChildren=kc>0?Lr||_a:null,VM(),kc>0&&Lr&&Lr.push(e),e}function ct(e,t,n,r,o,s){return S1(G(e,t,n,r,o,s,!0))}function bs(e,t,n,r,o){return S1(Re(e,t,n,r,o,!0))}function hv(e){return e?e.__v_isVNode===!0:!1}function os(e,t){return e.type===t.type&&e.key===t.key}const td="__vInternal",A1=({key:e})=>e??null,Yf=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?qt(e)||gt(e)||He(e)?{i:Xn,r:e,k:t,f:!!n}:e:null);function G(e,t=null,n=null,r=0,o=null,s=e===Vt?0:1,u=!1,c=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&A1(t),ref:t&&Yf(t),scopeId:c1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Xn};return c?(Vy(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=qt(n)?8:16),kc>0&&!u&&Lr&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Lr.push(f),f}const Re=jM;function jM(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===g1)&&(e=Fr),hv(e)){const c=vo(e,t,!0);return n&&Vy(c,n),kc>0&&!s&&Lr&&(c.shapeFlag&6?Lr[Lr.indexOf(e)]=c:Lr.push(c)),c.patchFlag|=-2,c}if(XM(e)&&(e=e.__vccOpts),t){t=BM(t);let{class:c,style:f}=t;c&&!qt(c)&&(t.class=In(c)),vt(f)&&(JA(f)&&!Ne(f)&&(f=Yt({},f)),t.style=Sa(f))}const u=qt(e)?1:rM(e)?128:UM(e)?64:vt(e)?4:He(e)?2:0;return G(e,t,n,r,o,u,s,!0)}function BM(e){return e?JA(e)||td in e?Yt({},e):e:null}function vo(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:u}=e,c=t?jy(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&A1(c),ref:t&&t.ref?n&&o?Ne(o)?o.concat(Yf(t)):[o,Yf(t)]:Yf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Vt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&vo(e.ssContent),ssFallback:e.ssFallback&&vo(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ho(e=" ",t=0){return Re(Jc,null,e,t)}function ka(e="",t=!1){return t?(Ye(),bs(Fr,null,e)):Re(Fr,null,e)}function ti(e){return e==null||typeof e=="boolean"?Re(Fr):Ne(e)?Re(Vt,null,e.slice()):typeof e=="object"?Zi(e):Re(Jc,null,String(e))}function Zi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:vo(e)}function Vy(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ne(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),Vy(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(td in t)?t._ctx=Xn:o===3&&Xn&&(Xn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else He(t)?(t={default:t,_ctx:Xn},n=32):(t=String(t),r&64?(n=16,t=[ho(t)]):n=8);e.children=t,e.shapeFlag|=n}function jy(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=In([t.class,r.class]));else if(o==="style")t.style=Sa([t.style,r.style]);else if(qh(o)){const s=t[o],u=r[o];u&&s!==u&&!(Ne(s)&&s.includes(u))&&(t[o]=s?[].concat(s,u):u)}else o!==""&&(t[o]=r[o])}return t}function Jr(e,t,n,r=null){Ir(e,t,7,[n,r])}const $M=y1();let qM=0;function HM(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||$M,s={uid:qM++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new VA(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:b1(r,o),emitsOptions:u1(r,o),emit:null,emitted:null,propsDefaults:It,inheritAttrs:r.inheritAttrs,ctx:It,data:It,props:It,attrs:It,slots:It,refs:It,setupState:It,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=JL.bind(null,s),e.ce&&e.ce(s),s}let en=null;const ui=()=>en||Xn;let By,sa,NI="__VUE_INSTANCE_SETTERS__";(sa=ev()[NI])||(sa=ev()[NI]=[]),sa.push(e=>en=e),By=e=>{sa.length>1?sa.forEach(t=>t(e)):sa[0](e)};const Na=e=>{By(e),e.scope.on()},ms=()=>{en&&en.scope.off(),By(null)};function k1(e){return e.vnode.shapeFlag&4}let Nc=!1;function KM(e,t=!1){Nc=t;const{props:n,children:r}=e.vnode,o=k1(e);OM(e,n,o,t),xM(e,r);const s=o?GM(e,t):void 0;return Nc=!1,s}function GM(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Yh(new Proxy(e.ctx,wM));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?zM(e):null;Na(e),Za();const s=fo(r,e,0,[e.props,o]);if(eu(),ms(),xA(s)){if(s.then(ms,ms),t)return s.then(u=>{CI(e,u,t)}).catch(u=>{Xh(u,e,0)});e.asyncDep=s}else CI(e,s,t)}else N1(e,t)}function CI(e,t,n){He(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:vt(t)&&(e.setupState=n1(t)),N1(e,n)}let OI;function N1(e,t,n){const r=e.type;if(!e.render){if(!t&&OI&&!r.render){const o=r.template||Fy(e).template;if(o){const{isCustomElement:s,compilerOptions:u}=e.appContext.config,{delimiters:c,compilerOptions:f}=r,d=Yt(Yt({isCustomElement:s,delimiters:c},u),f);r.render=OI(o,d)}}e.render=r.render||Mr}Na(e),Za(),EM(e),eu(),ms()}function WM(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Zn(e,"get","$attrs"),t[n]}}))}function zM(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return WM(e)},slots:e.slots,emit:e.emit,expose:t}}function nd(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(n1(Yh(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in uc)return uc[n](e)},has(t,n){return n in t||n in uc}}))}function YM(e,t=!0){return He(e)?e.displayName||e.name:e.name||t&&e.__name}function XM(e){return He(e)&&"__vccOpts"in e}const Le=(e,t)=>GL(e,t,Nc);function Ci(e,t,n){const r=arguments.length;return r===2?vt(t)&&!Ne(t)?hv(t)?Re(e,null,[t]):Re(e,t):Re(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&hv(n)&&(n=[n]),Re(e,t,n))}const QM=Symbol.for("v-scx"),JM=()=>dr(QM),ZM="3.3.4",eF="http://www.w3.org/2000/svg",ss=typeof document<"u"?document:null,RI=ss&&ss.createElement("template"),tF={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?ss.createElementNS(eF,e):ss.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>ss.createTextNode(e),createComment:e=>ss.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ss.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const u=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{RI.innerHTML=r?`<svg>${e}</svg>`:e;const c=RI.content;if(r){const f=c.firstChild;for(;f.firstChild;)c.appendChild(f.firstChild);c.removeChild(f)}t.insertBefore(c,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function nF(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function rF(e,t,n){const r=e.style,o=qt(n);if(n&&!o){if(t&&!qt(t))for(const s in t)n[s]==null&&dv(r,s,"");for(const s in n)dv(r,s,n[s])}else{const s=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const PI=/\s*!important$/;function dv(e,t,n){if(Ne(n))n.forEach(r=>dv(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=iF(e,t);PI.test(n)?e.setProperty(Ja(r),n.replace(PI,""),"important"):e[r]=n}}const xI=["Webkit","Moz","ms"],Ag={};function iF(e,t){const n=Ag[t];if(n)return n;let r=ai(t);if(r!=="filter"&&r in e)return Ag[t]=r;r=Gh(r);for(let o=0;o<xI.length;o++){const s=xI[o]+r;if(s in e)return Ag[t]=s}return t}const DI="http://www.w3.org/1999/xlink";function oF(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(DI,t.slice(6,t.length)):e.setAttributeNS(DI,t,n);else{const s=uL(t);n==null||s&&!FA(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function sF(e,t,n,r,o,s,u){if(t==="innerHTML"||t==="textContent"){r&&u(r,o,s),e[t]=n??"";return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){e._value=n;const d=c==="OPTION"?e.getAttribute("value"):e.value,g=n??"";d!==g&&(e.value=g),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=FA(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function C1(e,t,n,r){e.addEventListener(t,n,r)}function aF(e,t,n,r){e.removeEventListener(t,n,r)}function uF(e,t,n,r,o=null){const s=e._vei||(e._vei={}),u=s[t];if(r&&u)u.value=r;else{const[c,f]=cF(t);if(r){const d=s[t]=hF(r,o);C1(e,c,d,f)}else u&&(aF(e,c,u,f),s[t]=void 0)}}const LI=/(?:Once|Passive|Capture)$/;function cF(e){let t;if(LI.test(e)){t={};let r;for(;r=e.match(LI);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ja(e.slice(2)),t]}let kg=0;const lF=Promise.resolve(),fF=()=>kg||(lF.then(()=>kg=0),kg=Date.now());function hF(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ir(dF(r,n.value),t,5,[r])};return n.value=e,n.attached=fF(),n}function dF(e,t){if(Ne(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const MI=/^on[a-z]/,pF=(e,t,n,r,o=!1,s,u,c,f)=>{t==="class"?nF(e,r,o):t==="style"?rF(e,n,r):qh(t)?vy(t)||uF(e,t,n,r,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):mF(e,t,r,o))?sF(e,t,r,s,u,c,f):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),oF(e,t,r,o))};function mF(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&MI.test(t)&&He(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||MI.test(t)&&qt(n)?!1:t in e}const qi="transition",zu="animation",$y=(e,{slots:t})=>Ci(cM,gF(e),t);$y.displayName="Transition";const O1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};$y.props=Yt({},f1,O1);const Zo=(e,t=[])=>{Ne(e)?e.forEach(n=>n(...t)):e&&e(...t)},FI=e=>e?Ne(e)?e.some(t=>t.length>1):e.length>1:!1;function gF(e){const t={};for(const ie in e)ie in O1||(t[ie]=e[ie]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:u=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:f=s,appearActiveClass:d=u,appearToClass:g=c,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,_=vF(o),E=_&&_[0],S=_&&_[1],{onBeforeEnter:b,onEnter:k,onEnterCancelled:D,onLeave:O,onLeaveCancelled:U,onBeforeAppear:L=b,onAppear:Y=k,onAppearCancelled:j=D}=t,H=(ie,we,xe)=>{es(ie,we?g:c),es(ie,we?d:u),xe&&xe()},x=(ie,we)=>{ie._isLeaving=!1,es(ie,h),es(ie,v),es(ie,p),we&&we()},Ie=ie=>(we,xe)=>{const qe=ie?Y:k,ce=()=>H(we,ie,xe);Zo(qe,[we,ce]),UI(()=>{es(we,ie?f:s),Hi(we,ie?g:c),FI(qe)||VI(we,r,E,ce)})};return Yt(t,{onBeforeEnter(ie){Zo(b,[ie]),Hi(ie,s),Hi(ie,u)},onBeforeAppear(ie){Zo(L,[ie]),Hi(ie,f),Hi(ie,d)},onEnter:Ie(!1),onAppear:Ie(!0),onLeave(ie,we){ie._isLeaving=!0;const xe=()=>x(ie,we);Hi(ie,h),bF(),Hi(ie,p),UI(()=>{ie._isLeaving&&(es(ie,h),Hi(ie,v),FI(O)||VI(ie,r,S,xe))}),Zo(O,[ie,xe])},onEnterCancelled(ie){H(ie,!1),Zo(D,[ie])},onAppearCancelled(ie){H(ie,!0),Zo(j,[ie])},onLeaveCancelled(ie){x(ie),Zo(U,[ie])}})}function vF(e){if(e==null)return null;if(vt(e))return[Ng(e.enter),Ng(e.leave)];{const t=Ng(e);return[t,t]}}function Ng(e){return nL(e)}function Hi(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function es(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function UI(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let yF=0;function VI(e,t,n,r){const o=e._endId=++yF,s=()=>{o===e._endId&&r()};if(n)return setTimeout(s,n);const{type:u,timeout:c,propCount:f}=_F(e,t);if(!u)return r();const d=u+"end";let g=0;const h=()=>{e.removeEventListener(d,p),s()},p=v=>{v.target===e&&++g>=f&&h()};setTimeout(()=>{g<f&&h()},c+1),e.addEventListener(d,p)}function _F(e,t){const n=window.getComputedStyle(e),r=_=>(n[_]||"").split(", "),o=r(`${qi}Delay`),s=r(`${qi}Duration`),u=jI(o,s),c=r(`${zu}Delay`),f=r(`${zu}Duration`),d=jI(c,f);let g=null,h=0,p=0;t===qi?u>0&&(g=qi,h=u,p=s.length):t===zu?d>0&&(g=zu,h=d,p=f.length):(h=Math.max(u,d),g=h>0?u>d?qi:zu:null,p=g?g===qi?s.length:f.length:0);const v=g===qi&&/\b(transform|all)(,|$)/.test(r(`${qi}Property`).toString());return{type:g,timeout:h,propCount:p,hasTransform:v}}function jI(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>BI(n)+BI(e[r])))}function BI(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function bF(){return document.body.offsetHeight}const $I=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ne(t)?n=>Wf(t,n):t},wF={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=Hh(t);C1(e,"change",()=>{const s=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>n?MA(uh(u)):uh(u));e._assign(e.multiple?o?new Set(s):s:s[0])}),e._assign=$I(r)},mounted(e,{value:t}){qI(e,t)},beforeUpdate(e,t,n){e._assign=$I(n)},updated(e,{value:t}){qI(e,t)}};function qI(e,t){const n=e.multiple;if(!(n&&!Ne(t)&&!Hh(t))){for(let r=0,o=e.options.length;r<o;r++){const s=e.options[r],u=uh(s);if(n)Ne(t)?s.selected=lL(t,u)>-1:s.selected=t.has(u);else if(Wh(uh(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function uh(e){return"_value"in e?e._value:e.value}const EF=["ctrl","shift","alt","meta"],IF={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>EF.some(n=>e[`${n}Key`]&&!t.includes(n))},_n=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const s=IF[t[o]];if(s&&s(n,t))return}return e(n,...r)},pv={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Yu(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Yu(e,!0),r.enter(e)):r.leave(e,()=>{Yu(e,!1)}):Yu(e,t))},beforeUnmount(e,{value:t}){Yu(e,t)}};function Yu(e,t){e.style.display=t?e._vod:"none"}const TF=Yt({patchProp:pF},tF);let HI;function SF(){return HI||(HI=LM(TF))}const AF=(...e)=>{const t=SF().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=kF(r);if(!o)return;const s=t._component;!He(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const u=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},t};function kF(e){return qt(e)?document.querySelector(e):e}var NF=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let R1;const rd=e=>R1=e,P1=Symbol();function mv(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var lc;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(lc||(lc={}));function CF(){const e=by(!0),t=e.run(()=>St({}));let n=[],r=[];const o=Yh({install(s){rd(o),o._a=s,s.provide(P1,o),s.config.globalProperties.$pinia=o,r.forEach(u=>n.push(u)),r=[]},use(s){return!this._a&&!NF?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const x1=()=>{};function KI(e,t,n,r=x1){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&jA()&&hL(o),o}function aa(e,...t){e.slice().forEach(n=>{n(...t)})}const OF=e=>e();function gv(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];mv(o)&&mv(r)&&e.hasOwnProperty(n)&&!gt(r)&&!lo(r)?e[n]=gv(o,r):e[n]=r}return e}const RF=Symbol();function PF(e){return!mv(e)||!e.hasOwnProperty(RF)}const{assign:Ji}=Object;function xF(e){return!!(gt(e)&&e.effect)}function DF(e,t,n,r){const{state:o,actions:s,getters:u}=t,c=n.state.value[e];let f;function d(){c||(n.state.value[e]=o?o():{});const g=$L(n.state.value[e]);return Ji(g,s,Object.keys(u||{}).reduce((h,p)=>(h[p]=Yh(Le(()=>{rd(n);const v=n._s.get(e);return u[p].call(v,v)})),h),{}))}return f=D1(e,d,t,n,r,!0),f}function D1(e,t,n={},r,o,s){let u;const c=Ji({actions:{}},n),f={deep:!0};let d,g,h=[],p=[],v;const _=r.state.value[e];!s&&!_&&(r.state.value[e]={}),St({});let E;function S(j){let H;d=g=!1,typeof j=="function"?(j(r.state.value[e]),H={type:lc.patchFunction,storeId:e,events:v}):(gv(r.state.value[e],j),H={type:lc.patchObject,payload:j,storeId:e,events:v});const x=E=Symbol();_i().then(()=>{E===x&&(d=!0)}),g=!0,aa(h,H,r.state.value[e])}const b=s?function(){const{state:H}=n,x=H?H():{};this.$patch(Ie=>{Ji(Ie,x)})}:x1;function k(){u.stop(),h=[],p=[],r._s.delete(e)}function D(j,H){return function(){rd(r);const x=Array.from(arguments),Ie=[],ie=[];function we(ce){Ie.push(ce)}function xe(ce){ie.push(ce)}aa(p,{args:x,name:j,store:U,after:we,onError:xe});let qe;try{qe=H.apply(this&&this.$id===e?this:U,x)}catch(ce){throw aa(ie,ce),ce}return qe instanceof Promise?qe.then(ce=>(aa(Ie,ce),ce)).catch(ce=>(aa(ie,ce),Promise.reject(ce))):(aa(Ie,qe),qe)}}const O={_p:r,$id:e,$onAction:KI.bind(null,p),$patch:S,$reset:b,$subscribe(j,H={}){const x=KI(h,j,H.detached,()=>Ie()),Ie=u.run(()=>Sn(()=>r.state.value[e],ie=>{(H.flush==="sync"?g:d)&&j({storeId:e,type:lc.direct,events:v},ie)},Ji({},f,H)));return x},$dispose:k},U=Ni(O);r._s.set(e,U);const L=r._a&&r._a.runWithContext||OF,Y=r._e.run(()=>(u=by(),L(()=>u.run(t))));for(const j in Y){const H=Y[j];if(gt(H)&&!xF(H)||lo(H))s||(_&&PF(H)&&(gt(H)?H.value=_[j]:gv(H,_[j])),r.state.value[e][j]=H);else if(typeof H=="function"){const x=D(j,H);Y[j]=x,c.actions[j]=H}}return Ji(U,Y),Ji(tt(U),Y),Object.defineProperty(U,"$state",{get:()=>r.state.value[e],set:j=>{S(H=>{Ji(H,j)})}}),r._p.forEach(j=>{Ji(U,u.run(()=>j({store:U,app:r._a,pinia:r,options:c})))}),_&&s&&n.hydrate&&n.hydrate(U.$state,_),d=!0,g=!0,U}function qy(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function u(c,f){const d=CM();return c=c||(d?dr(P1,null):null),c&&rd(c),c=R1,c._s.has(r)||(s?D1(r,t,o,c):DF(r,o,c)),c._s.get(r)}return u.$id=r,u}let LF="Store";function MF(...e){return e.reduce((t,n)=>(t[n.$id+LF]=function(){return n(this.$pinia)},t),{})}function Hy(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const o=e(this.$pinia),s=t[r];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function id(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[r](...o)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[t[r]](...o)},n),{})}function L1(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[r]},set(o){return e(this.$pinia)[r]=o}},n),{}):Object.keys(t).reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(o){return e(this.$pinia)[t[r]]=o}},n),{})}const vv=qy("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var yv=function(e,t){return yv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},yv(e,t)};function Ce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ca=function(){return Ca=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ca.apply(this,arguments)};function Q(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function c(g){try{d(r.next(g))}catch(h){u(h)}}function f(g){try{d(r.throw(g))}catch(h){u(h)}}function d(g){g.done?s(g.value):o(g.value).then(c,f)}d((r=r.apply(e,t||[])).next())})}function X(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(d){return function(g){return f([d,g])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(n=0)),n;)try{if(r=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(g){d=[6,g],o=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Cg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Of(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){u={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return s}function Rt(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M1=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},FF=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],u=e[n++],c=e[n++],f=((o&7)<<18|(s&63)<<12|(u&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|u&63)}}return t.join("")},UF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],u=o+1<e.length,c=u?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,g=s>>2,h=(s&3)<<4|c>>4,p=(c&15)<<2|d>>6,v=d&63;f||(v=64,u||(p=64)),r.push(n[g],n[h],n[p],n[v])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(M1(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):FF(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],u=o<e.length,c=u?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var g=o<e.length,h=g?n[e.charAt(o)]:64;if(++o,s==null||c==null||d==null||h==null)throw Error();var p=s<<2|c>>4;if(r.push(p),d!==64){var v=c<<4&240|d>>2;if(r.push(v),h!==64){var _=d<<6&192|h;r.push(_)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},VF=function(e){var t=M1(e);return UF.encodeByteArray(t,!0)},GI=function(e){return VF(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(e){return Cc(void 0,e)}function Cc(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!BF(r)||(e[r]=Cc(e[r],t[r]));return e}function BF(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $F=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=Ca({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),c="";return[GI(JSON.stringify(n)),GI(JSON.stringify(u)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ws())}function U1(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HF(){return typeof self=="object"&&self.self===self}function KF(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function GF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WF(){return ws().indexOf("Electron/")>=0}function zF(){var e=ws();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function YF(){return ws().indexOf("MSAppHost/")>=0}function XF(){return!U1()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QF="FirebaseError",V1=function(e){Ce(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=QF,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Ky.prototype.create),s}return t}(Error),Ky=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,u=this.errors[t],c=u?JF(u,o):"Error",f=this.serviceName+": "+c+" ("+s+").",d=new V1(s,f,o);return d},e}();function JF(e,t){return e.replace(ZF,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var ZF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function eU(e,t){var n=new tU(e,t);return n.subscribe.bind(n)}var tU=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nU(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Og),s.error===void 0&&(s.error=Og),s.complete===void 0&&(s.complete=Og);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function nU(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Og(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(e){return e&&e._delegate?e._delegate:e}var Zc=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rU=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new $F;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(oU(t))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}try{for(var o=Cg(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var u=Of(s.value,2),c=u[0],f=u[1],d=this.normalizeInstanceIdentifier(c);try{var g=this.getOrInitializeService({instanceIdentifier:d});f.resolve(g)}catch{}}}catch(h){n={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=ns),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return Q(this,void 0,void 0,function(){var t;return X(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Rt(Rt([],Of(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Of(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=ns),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=ns),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,u=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:s});try{for(var f=Cg(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var g=Of(d.value,2),h=g[0],p=g[1],v=this.normalizeInstanceIdentifier(h);u===v&&p.resolve(c)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return c},e.prototype.onInit=function(t,n){var r,o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);var u=this.instances.get(o);return u&&t(u,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,o,s=this.onInitCallbacks.get(n);if(s)try{for(var u=Cg(s),c=u.next();!c.done;c=u.next()){var f=c.value;try{f(t,n)}catch{}}}catch(d){r={error:d}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:iU(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=ns),this.component?this.component.multipleInstances?t:ns:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function iU(e){return e===ns?void 0:e}function oU(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sU=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new rU(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Rr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],u=0,c=s.length;u<c;u++,o++)r[o]=s[u];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ts,Gy=[],ot;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ot||(ot={}));var j1={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},aU=ot.INFO,uU=(ts={},ts[ot.DEBUG]="log",ts[ot.VERBOSE]="log",ts[ot.INFO]="info",ts[ot.WARN]="warn",ts[ot.ERROR]="error",ts),cU=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=uU[t];if(s)console[s].apply(console,Rr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},B1=function(){function e(t){this.name=t,this._logLevel=aU,this._logHandler=cU,this._userLogHandler=null,Gy.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ot))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?j1[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Rr([this,ot.DEBUG],t)),this._logHandler.apply(this,Rr([this,ot.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Rr([this,ot.VERBOSE],t)),this._logHandler.apply(this,Rr([this,ot.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Rr([this,ot.INFO],t)),this._logHandler.apply(this,Rr([this,ot.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Rr([this,ot.WARN],t)),this._logHandler.apply(this,Rr([this,ot.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Rr([this,ot.ERROR],t)),this._logHandler.apply(this,Rr([this,ot.ERROR],t))},e}();function lU(e){Gy.forEach(function(t){t.setLogLevel(e)})}function fU(e,t){for(var n=function(u){var c=null;t&&t.level&&(c=j1[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(f,d){for(var g=[],h=2;h<arguments.length;h++)g[h-2]=arguments[h];var p=g.map(function(v){if(v==null)return null;if(typeof v=="string")return v;if(typeof v=="number"||typeof v=="boolean")return v.toString();if(v instanceof Error)return v.message;try{return JSON.stringify(v)}catch{return null}}).filter(function(v){return v}).join(" ");d>=(c??f.logLevel)&&e({level:ot[d].toLowerCase(),message:p,args:g,type:f.name})}},r=0,o=Gy;r<o.length;r++){var s=o[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ki,hU=(Ki={},Ki["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ki["bad-app-name"]="Illegal App name: '{$appName}",Ki["duplicate-app"]="Firebase App named '{$appName}' already exists",Ki["app-deleted"]="Firebase App named '{$appName}' already deleted",Ki["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ki["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ki),fa=new Ky("app","Firebase",hU),$1="@firebase/app",dU="0.6.30",pU="@firebase/analytics",mU="@firebase/app-check",gU="@firebase/auth",vU="@firebase/database",yU="@firebase/functions",_U="@firebase/installations",bU="@firebase/messaging",wU="@firebase/performance",EU="@firebase/remote-config",IU="@firebase/storage",TU="@firebase/firestore",SU="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn,ch="[DEFAULT]",AU=(yn={},yn[$1]="fire-core",yn[pU]="fire-analytics",yn[mU]="fire-app-check",yn[gU]="fire-auth",yn[vU]="fire-rtdb",yn[yU]="fire-fn",yn[_U]="fire-iid",yn[bU]="fire-fcm",yn[wU]="fire-perf",yn[EU]="fire-rc",yn[IU]="fire-gcs",yn[TU]="fire-fst",yn["fire-js"]="fire-js",yn[SU]="fire-js-all",yn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oa=new B1("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xf=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=jF(t),this.container=new sU(n.name),this._addComponent(new Zc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=ch),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((r=o.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=ch),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Oa.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw fa.create("app-deleted",{appName:this.name_})},e}();Xf.prototype.name&&Xf.prototype.options||Xf.prototype.delete||console.log("dc");var kU="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(e){var t={},n=new Map,r={__esModule:!0,initializeApp:u,app:s,registerVersion:d,setLogLevel:lU,onLog:g,apps:null,SDK_VERSION:kU,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:h}};r.default=r,Object.defineProperty(r,"apps",{get:c});function o(p){delete t[p]}function s(p){if(p=p||ch,!WI(t,p))throw fa.create("no-app",{appName:p});return t[p]}s.App=e;function u(p,v){if(v===void 0&&(v={}),typeof v!="object"||v===null){var _=v;v={name:_}}var E=v;E.name===void 0&&(E.name=ch);var S=E.name;if(typeof S!="string"||!S)throw fa.create("bad-app-name",{appName:String(S)});if(WI(t,S))throw fa.create("duplicate-app",{appName:S});var b=new e(p,E,r);return t[S]=b,b}function c(){return Object.keys(t).map(function(p){return t[p]})}function f(p){var v=p.name;if(n.has(v))return Oa.debug("There were multiple attempts to register component "+v+"."),p.type==="PUBLIC"?r[v]:null;if(n.set(v,p),p.type==="PUBLIC"){var _=function(k){if(k===void 0&&(k=s()),typeof k[v]!="function")throw fa.create("invalid-app-argument",{appName:v});return k[v]()};p.serviceProps!==void 0&&Cc(_,p.serviceProps),r[v]=_,e.prototype[v]=function(){for(var k=[],D=0;D<arguments.length;D++)k[D]=arguments[D];var O=this._getService.bind(this,v);return O.apply(this,p.multipleInstances?k:[])}}for(var E=0,S=Object.keys(t);E<S.length;E++){var b=S[E];t[b]._addComponent(p)}return p.type==="PUBLIC"?r[v]:null}function d(p,v,_){var E,S=(E=AU[p])!==null&&E!==void 0?E:p;_&&(S+="-"+_);var b=S.match(/\s|\//),k=v.match(/\s|\//);if(b||k){var D=['Unable to register library "'+S+'" with version "'+v+'":'];b&&D.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),b&&k&&D.push("and"),k&&D.push('version name "'+v+'" contains illegal characters (whitespace or "/")'),Oa.warn(D.join(" "));return}f(new Zc(S+"-version",function(){return{library:S,version:v}},"VERSION"))}function g(p,v){if(p!==null&&typeof p!="function")throw fa.create("invalid-log-argument");fU(p,v)}function h(p,v){if(v==="serverAuth")return null;var _=v;return _}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){var e=NU(Xf);e.INTERNAL=Ca(Ca({},e.INTERNAL),{createFirebaseNamespace:q1,extendNamespace:t,createSubscribe:eU,ErrorFactory:Ky,deepExtend:Cc});function t(n){Cc(e,n)}return e}var Wy=q1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CU=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(OU(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function OU(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(e,t){e.INTERNAL.registerComponent(new Zc("platform-logger",function(n){return new CU(n)},"PRIVATE")),e.registerVersion($1,dU,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(HF()&&self.firebase!==void 0){Oa.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var zI=self.firebase.SDK_VERSION;zI&&zI.indexOf("LITE")>=0&&Oa.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var PU=Wy.initializeApp;Wy.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return U1()&&Oa.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),PU.apply(void 0,e)};var Pe=Wy;RU(Pe);var xU="firebase",H1="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pe.registerVersion(xU,H1,"app");Pe.SDK_VERSION=H1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,l){i!=Array.prototype&&i!=Object.prototype&&(i[a]=l.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var a=0;a<i.length;++a){var l=i[a];if(l&&l.Math==Math)return l}return globalThis}var r=n(this);function o(i,a){if(a){var l=r;i=i.split(".");for(var m=0;m<i.length-1;m++){var y=i[m];y in l||(l[y]={}),l=l[y]}i=i[i.length-1],m=l[i],a=a(m),a!=m&&a!=null&&t(l,i,{configurable:!0,writable:!0,value:a})}}function s(i){var a=0;return function(){return a<i.length?{done:!1,value:i[a++]}:{done:!0}}}function u(i){var a=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return a?a.call(i):{next:s(i)}}o("Promise",function(i){function a(A){this.b=0,this.c=void 0,this.a=[];var R=this.f();try{A(R.resolve,R.reject)}catch(W){R.reject(W)}}function l(){this.a=null}function m(A){return A instanceof a?A:new a(function(R){R(A)})}if(i)return i;l.prototype.b=function(A){if(this.a==null){this.a=[];var R=this;this.c(function(){R.g()})}this.a.push(A)};var y=r.setTimeout;l.prototype.c=function(A){y(A,0)},l.prototype.g=function(){for(;this.a&&this.a.length;){var A=this.a;this.a=[];for(var R=0;R<A.length;++R){var W=A[R];A[R]=null;try{W()}catch(ee){this.f(ee)}}}this.a=null},l.prototype.f=function(A){this.c(function(){throw A})},a.prototype.f=function(){function A(ee){return function(je){W||(W=!0,ee.call(R,je))}}var R=this,W=!1;return{resolve:A(this.m),reject:A(this.g)}},a.prototype.m=function(A){if(A===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(A instanceof a)this.s(A);else{e:switch(typeof A){case"object":var R=A!=null;break e;case"function":R=!0;break e;default:R=!1}R?this.v(A):this.h(A)}},a.prototype.v=function(A){var R=void 0;try{R=A.then}catch(W){this.g(W);return}typeof R=="function"?this.u(R,A):this.h(A)},a.prototype.g=function(A){this.i(2,A)},a.prototype.h=function(A){this.i(1,A)},a.prototype.i=function(A,R){if(this.b!=0)throw Error("Cannot settle("+A+", "+R+"): Promise already settled in state"+this.b);this.b=A,this.c=R,this.l()},a.prototype.l=function(){if(this.a!=null){for(var A=0;A<this.a.length;++A)w.b(this.a[A]);this.a=null}};var w=new l;return a.prototype.s=function(A){var R=this.f();A.Ra(R.resolve,R.reject)},a.prototype.u=function(A,R){var W=this.f();try{A.call(R,W.resolve,W.reject)}catch(ee){W.reject(ee)}},a.prototype.then=function(A,R){function W(it,sn){return typeof it=="function"?function(mi){try{ee(it(mi))}catch(bg){je(bg)}}:sn}var ee,je,ft=new a(function(it,sn){ee=it,je=sn});return this.Ra(W(A,ee),W(R,je)),ft},a.prototype.catch=function(A){return this.then(void 0,A)},a.prototype.Ra=function(A,R){function W(){switch(ee.b){case 1:A(ee.c);break;case 2:R(ee.c);break;default:throw Error("Unexpected state: "+ee.b)}}var ee=this;this.a==null?w.b(W):this.a.push(W)},a.resolve=m,a.reject=function(A){return new a(function(R,W){W(A)})},a.race=function(A){return new a(function(R,W){for(var ee=u(A),je=ee.next();!je.done;je=ee.next())m(je.value).Ra(R,W)})},a.all=function(A){var R=u(A),W=R.next();return W.done?m([]):new a(function(ee,je){function ft(mi){return function(bg){it[mi]=bg,sn--,sn==0&&ee(it)}}var it=[],sn=0;do it.push(void 0),sn++,m(W.value).Ra(ft(it.length-1),je),W=R.next();while(!W.done)})},a});var c=c||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,g=null;function h(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&d.test(i)?i:""}function p(){}function v(i){var a=typeof i;return a!="object"?a:i?Array.isArray(i)?"array":a:"null"}function _(i){var a=v(i);return a=="array"||a=="object"&&typeof i.length=="number"}function E(i){return v(i)=="function"}function S(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function b(i){return Object.prototype.hasOwnProperty.call(i,k)&&i[k]||(i[k]=++D)}var k="closure_uid_"+(1e9*Math.random()>>>0),D=0;function O(i,a,l){return i.call.apply(i.bind,arguments)}function U(i,a,l){if(!i)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(y,m),i.apply(a,y)}}return function(){return i.apply(a,arguments)}}function L(i,a,l){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?L=O:L=U,L.apply(null,arguments)}function Y(i,a){var l=Array.prototype.slice.call(arguments,1);return function(){var m=l.slice();return m.push.apply(m,arguments),i.apply(this,m)}}function j(i,a){function l(){}l.prototype=a.prototype,i.bb=a.prototype,i.prototype=new l,i.prototype.constructor=i}function H(i){return i}function x(i,a,l){this.code=ie+i,this.message=a||we[i]||"",this.a=l||null}j(x,Error),x.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},x.prototype.toJSON=function(){return this.w()};function Ie(i){var a=i&&i.code;return a?new x(a.substring(ie.length),i.message,i.serverResponse):null}var ie="auth/",we={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},xe={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function qe(i){for(var a in xe)if(xe[a].id===i)return i=xe[a],{firebaseEndpoint:i.Ua,secureTokenEndpoint:i.$a,identityPlatformEndpoint:i.Xa};return null}var ce;ce=qe("__EID__")?"__EID__":void 0;function De(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function pe(i){if(Error.captureStackTrace)Error.captureStackTrace(this,pe);else{var a=Error().stack;a&&(this.stack=a)}i&&(this.message=String(i))}j(pe,Error),pe.prototype.name="CustomError";function nt(i,a){i=i.split("%s");for(var l="",m=i.length-1,y=0;y<m;y++)l+=i[y]+(y<a.length?a[y]:"%s");pe.call(this,l+i[m])}j(nt,pe),nt.prototype.name="AssertionError";function lt(i,a){throw new nt("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function wt(i,a){this.c=i,this.f=a,this.b=0,this.a=null}wt.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function _t(i,a){i.f(a),100>i.b&&(i.b++,a.next=i.a,i.a=a)}function st(){this.b=this.a=null}var Jt=new wt(function(){return new ye},function(i){i.reset()});st.prototype.add=function(i,a){var l=Jt.get();l.set(i,a),this.b?this.b.next=l:this.a=l,this.b=l};function ve(){var i=Kb,a=null;return i.a&&(a=i.a,i.a=i.a.next,i.a||(i.b=null),a.next=null),a}function ye(){this.next=this.b=this.a=null}ye.prototype.set=function(i,a){this.a=i,this.b=a,this.next=null},ye.prototype.reset=function(){this.next=this.b=this.a=null};var $=Array.prototype.indexOf?function(i,a){return Array.prototype.indexOf.call(i,a,void 0)}:function(i,a){if(typeof i=="string")return typeof a!="string"||a.length!=1?-1:i.indexOf(a,0);for(var l=0;l<i.length;l++)if(l in i&&i[l]===a)return l;return-1},z=Array.prototype.forEach?function(i,a,l){Array.prototype.forEach.call(i,a,l)}:function(i,a,l){for(var m=i.length,y=typeof i=="string"?i.split(""):i,w=0;w<m;w++)w in y&&a.call(l,y[w],w,i)};function oe(i,a){for(var l=typeof i=="string"?i.split(""):i,m=i.length-1;0<=m;--m)m in l&&a.call(void 0,l[m],m,i)}var fe=Array.prototype.filter?function(i,a){return Array.prototype.filter.call(i,a,void 0)}:function(i,a){for(var l=i.length,m=[],y=0,w=typeof i=="string"?i.split(""):i,A=0;A<l;A++)if(A in w){var R=w[A];a.call(void 0,R,A,i)&&(m[y++]=R)}return m},Se=Array.prototype.map?function(i,a){return Array.prototype.map.call(i,a,void 0)}:function(i,a){for(var l=i.length,m=Array(l),y=typeof i=="string"?i.split(""):i,w=0;w<l;w++)w in y&&(m[w]=a.call(void 0,y[w],w,i));return m},P=Array.prototype.some?function(i,a){return Array.prototype.some.call(i,a,void 0)}:function(i,a){for(var l=i.length,m=typeof i=="string"?i.split(""):i,y=0;y<l;y++)if(y in m&&a.call(void 0,m[y],y,i))return!0;return!1};function T(i){e:{for(var a=CP,l=i.length,m=typeof i=="string"?i.split(""):i,y=0;y<l;y++)if(y in m&&a.call(void 0,m[y],y,i)){a=y;break e}a=-1}return 0>a?null:typeof i=="string"?i.charAt(a):i[a]}function I(i,a){return 0<=$(i,a)}function C(i,a){a=$(i,a);var l;return(l=0<=a)&&Array.prototype.splice.call(i,a,1),l}function M(i,a){var l=0;oe(i,function(m,y){a.call(void 0,m,y,i)&&Array.prototype.splice.call(i,y,1).length==1&&l++})}function B(i){return Array.prototype.concat.apply([],arguments)}function Z(i){var a=i.length;if(0<a){for(var l=Array(a),m=0;m<a;m++)l[m]=i[m];return l}return[]}var te=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},ae=/&/g,re=/</g,le=/>/g,V=/"/g,N=/'/g,F=/\x00/g,q=/[\x00&<>"']/;function J(i,a){return i.indexOf(a)!=-1}function ge(i,a){return i<a?-1:i>a?1:0}var he;e:{var Fe=f.navigator;if(Fe){var Ze=Fe.userAgent;if(Ze){he=Ze;break e}}he=""}function Oe(i){return J(he,i)}function Xe(i,a){for(var l in i)a.call(void 0,i[l],l,i)}function Nt(i){for(var a in i)return!1;return!0}function pt(i){var a={},l;for(l in i)a[l]=i[l];return a}var rr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cn(i,a){for(var l,m,y=1;y<arguments.length;y++){m=arguments[y];for(l in m)i[l]=m[l];for(var w=0;w<rr.length;w++)l=rr[w],Object.prototype.hasOwnProperty.call(m,l)&&(i[l]=m[l])}}function Sb(i,a){e:{try{var l=i&&i.ownerDocument,m=l&&(l.defaultView||l.parentWindow);if(m=m||f,m.Element&&m.Location){var y=m;break e}}catch{}y=null}if(y&&typeof y[a]<"u"&&(!i||!(i instanceof y[a])&&(i instanceof y.Location||i instanceof y.Element))){if(S(i))try{var w=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{w="<object could not be stringified>"}else w=i===void 0?"undefined":i===null?"null":typeof i;lt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,w)}}function Hr(i,a){this.a=i===El&&a||"",this.b=Ab}Hr.prototype.ta=!0,Hr.prototype.sa=function(){return this.a},Hr.prototype.toString=function(){return"Const{"+this.a+"}"};function Wd(i){return i instanceof Hr&&i.constructor===Hr&&i.b===Ab?i.a:(lt("expected object of type Const, got '"+i+"'"),"type_error:Const")}var Ab={},El={},Il;function kb(){if(Il===void 0){var i=null,a=f.trustedTypes;if(a&&a.createPolicy){try{i=a.createPolicy("goog#html",{createHTML:H,createScript:H,createScriptURL:H})}catch(l){f.console&&f.console.error(l.message)}Il=i}else Il=i}return Il}function Fs(i,a){this.a=a===Cb?i:""}Fs.prototype.ta=!0,Fs.prototype.sa=function(){return this.a.toString()},Fs.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Nb(i){return i instanceof Fs&&i.constructor===Fs?i.a:(lt("expected object of type TrustedResourceUrl, got '"+i+"' of type "+v(i)),"type_error:TrustedResourceUrl")}function zd(i,a){var l=Wd(i);if(!oR.test(l))throw Error("Invalid TrustedResourceUrl format: "+l);return i=l.replace(iR,function(m,y){if(!Object.prototype.hasOwnProperty.call(a,y))throw Error('Found marker, "'+y+'", in format string, "'+l+'", but no valid label mapping found in args: '+JSON.stringify(a));return m=a[y],m instanceof Hr?Wd(m):encodeURIComponent(String(m))}),sR(i)}var iR=/%{(\w+)}/g,oR=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Cb={};function sR(i){var a=kb();return i=a?a.createScriptURL(i):i,new Fs(i,Cb)}function qn(i,a){this.a=a===hu?i:""}qn.prototype.ta=!0,qn.prototype.sa=function(){return this.a.toString()},qn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Tl(i){return i instanceof qn&&i.constructor===qn?i.a:(lt("expected object of type SafeUrl, got '"+i+"' of type "+v(i)),"type_error:SafeUrl")}var aR=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,uR=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ob=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Rb(i){if(i instanceof qn)return i;if(i=typeof i=="object"&&i.ta?i.sa():String(i),Ob.test(i))i=new qn(i,hu);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var a=i.match(uR);i=a&&aR.test(a[1])?new qn(i,hu):null}return i}function Pb(i){return i instanceof qn?i:(i=typeof i=="object"&&i.ta?i.sa():String(i),Ob.test(i)||(i="about:invalid#zClosurez"),new qn(i,hu))}var hu={},xb=new qn("about:invalid#zClosurez",hu);function Us(i,a,l){this.a=l===Db?i:""}Us.prototype.ta=!0,Us.prototype.sa=function(){return this.a.toString()},Us.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function cR(i){return i instanceof Us&&i.constructor===Us?i.a:(lt("expected object of type SafeHtml, got '"+i+"' of type "+v(i)),"type_error:SafeHtml")}var Db={};function lR(i,a){Sb(i,"HTMLScriptElement"),i.src=Nb(a),(a=i.ownerDocument&&i.ownerDocument.defaultView)&&a!=f?a=h(a.document):(g===null&&(g=h(f.document)),a=g),a&&i.setAttribute("nonce",a)}function Lb(i,a,l,m){return i=i instanceof qn?i:Pb(i),a=a||f,l=l instanceof Hr?Wd(l):l||"",a.open(Tl(i),l,m,void 0)}function Mb(i,a){for(var l=i.split("%s"),m="",y=Array.prototype.slice.call(arguments,1);y.length&&1<l.length;)m+=l.shift()+y.shift();return m+l.join("%s")}function Yd(i){return q.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(ae,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(re,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(le,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(V,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(N,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(F,"&#0;"))),i}function Xd(i){return Xd[" "](i),i}Xd[" "]=p;function fR(i,a){var l=mR;return Object.prototype.hasOwnProperty.call(l,i)?l[i]:l[i]=a(i)}var hR=Oe("Opera"),Tr=Oe("Trident")||Oe("MSIE"),Fb=Oe("Edge"),dR=Fb||Tr,Ub=Oe("Gecko")&&!(J(he.toLowerCase(),"webkit")&&!Oe("Edge"))&&!(Oe("Trident")||Oe("MSIE"))&&!Oe("Edge"),pR=J(he.toLowerCase(),"webkit")&&!Oe("Edge");function Vb(){var i=f.document;return i?i.documentMode:void 0}var Sl;e:{var Qd="",Jd=function(){var i=he;if(Ub)return/rv:([^\);]+)(\)|;)/.exec(i);if(Fb)return/Edge\/([\d\.]+)/.exec(i);if(Tr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(pR)return/WebKit\/(\S+)/.exec(i);if(hR)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(Jd&&(Qd=Jd?Jd[1]:""),Tr){var Zd=Vb();if(Zd!=null&&Zd>parseFloat(Qd)){Sl=String(Zd);break e}}Sl=Qd}var mR={};function jb(i){return fR(i,function(){for(var a=0,l=te(String(Sl)).split("."),m=te(String(i)).split("."),y=Math.max(l.length,m.length),w=0;a==0&&w<y;w++){var A=l[w]||"",R=m[w]||"";do{if(A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],R=/(\d*)(\D*)(.*)/.exec(R)||["","","",""],A[0].length==0&&R[0].length==0)break;a=ge(A[1].length==0?0:parseInt(A[1],10),R[1].length==0?0:parseInt(R[1],10))||ge(A[2].length==0,R[2].length==0)||ge(A[2],R[2]),A=A[3],R=R[3]}while(a==0)}return 0<=a})}var ep;if(f.document&&Tr){var Bb=Vb();ep=Bb||parseInt(Sl,10)||void 0}else ep=void 0;var Di=ep;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var gR=!Tr||9<=Number(Di);function du(i){var a=document;return typeof i=="string"?a.getElementById(i):i}function $b(i,a){Xe(a,function(l,m){l&&typeof l=="object"&&l.ta&&(l=l.sa()),m=="style"?i.style.cssText=l:m=="class"?i.className=l:m=="for"?i.htmlFor=l:qb.hasOwnProperty(m)?i.setAttribute(qb[m],l):m.lastIndexOf("aria-",0)==0||m.lastIndexOf("data-",0)==0?i.setAttribute(m,l):i[m]=l})}var qb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function vR(i,a,l){var m=arguments,y=document,w=String(m[0]),A=m[1];if(!gR&&A&&(A.name||A.type)){if(w=["<",w],A.name&&w.push(' name="',Yd(A.name),'"'),A.type){w.push(' type="',Yd(A.type),'"');var R={};cn(R,A),delete R.type,A=R}w.push(">"),w=w.join("")}return w=Al(y,w),A&&(typeof A=="string"?w.className=A:Array.isArray(A)?w.className=A.join(" "):$b(w,A)),2<m.length&&yR(y,w,m),w}function yR(i,a,l){function m(R){R&&a.appendChild(typeof R=="string"?i.createTextNode(R):R)}for(var y=2;y<l.length;y++){var w=l[y];if(!_(w)||S(w)&&0<w.nodeType)m(w);else{e:{if(w&&typeof w.length=="number"){if(S(w)){var A=typeof w.item=="function"||typeof w.item=="string";break e}if(E(w)){A=typeof w.item=="function";break e}}A=!1}z(A?Z(w):w,m)}}}function Al(i,a){return a=String(a),i.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),i.createElement(a)}function Hb(i){f.setTimeout(function(){throw i},0)}var tp;function _R(){var i=f.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Oe("Presto")&&(i=function(){var y=Al(document,"IFRAME");y.style.display="none",document.documentElement.appendChild(y);var w=y.contentWindow;y=w.document,y.open(),y.close();var A="callImmediate"+Math.random(),R=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;y=L(function(W){(R=="*"||W.origin==R)&&W.data==A&&this.port1.onmessage()},this),w.addEventListener("message",y,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(A,R)}}}),typeof i<"u"&&!Oe("Trident")&&!Oe("MSIE")){var a=new i,l={},m=l;return a.port1.onmessage=function(){if(l.next!==void 0){l=l.next;var y=l.Hb;l.Hb=null,y()}},function(y){m.next={Hb:y},m=m.next,a.port2.postMessage(0)}}return function(y){f.setTimeout(y,0)}}function kl(i,a){Nl||bR(),np||(Nl(),np=!0),Kb.add(i,a)}var Nl;function bR(){if(f.Promise&&f.Promise.resolve){var i=f.Promise.resolve(void 0);Nl=function(){i.then(Gb)}}else Nl=function(){var a=Gb;!E(f.setImmediate)||f.Window&&f.Window.prototype&&!Oe("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(tp||(tp=_R()),tp(a)):f.setImmediate(a)}}var np=!1,Kb=new st;function Gb(){for(var i;i=ve();){try{i.a.call(i.b)}catch(a){Hb(a)}_t(Jt,i)}np=!1}function We(i,a){if(this.a=Po,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=p)try{var l=this;i.call(a,function(m){xo(l,pu,m)},function(m){if(!(m instanceof Vs))try{throw m instanceof Error?m:Error("Promise rejected.")}catch{}xo(l,fi,m)})}catch(m){xo(this,fi,m)}}var Po=0,pu=2,fi=3;function Wb(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Wb.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var zb=new wt(function(){return new Wb},function(i){i.reset()});function rp(i,a,l){var m=zb.get();return m.g=i,m.b=a,m.f=l,m}function ke(i){if(i instanceof We)return i;var a=new We(p);return xo(a,pu,i),a}function Ct(i){return new We(function(a,l){l(i)})}function Yb(i,a,l){Zb(i,a,l,null)||kl(Y(a,i))}function wR(i){return new We(function(a,l){var m=i.length,y=[];if(m)for(var w=function(ee,je){m--,y[ee]=je,m==0&&a(y)},A=function(ee){l(ee)},R=0,W;R<i.length;R++)W=i[R],Yb(W,Y(w,R),A);else a(y)})}function Xb(i){return new We(function(a){var l=i.length,m=[];if(l)for(var y=function(R,W,ee){l--,m[R]=W?{Qb:!0,value:ee}:{Qb:!1,reason:ee},l==0&&a(m)},w=0,A;w<i.length;w++)A=i[w],Yb(A,Y(y,w,!0),Y(y,w,!1));else a(m)})}We.prototype.then=function(i,a,l){return Jb(this,E(i)?i:null,E(a)?a:null,l)},We.prototype.$goog_Thenable=!0,e=We.prototype,e.oa=function(i,a){return i=rp(i,i,a),i.c=!0,ip(this,i),this},e.o=function(i,a){return Jb(this,null,i,a)},e.cancel=function(i){if(this.a==Po){var a=new Vs(i);kl(function(){Qb(this,a)},this)}};function Qb(i,a){if(i.a==Po)if(i.c){var l=i.c;if(l.b){for(var m=0,y=null,w=null,A=l.b;A&&(A.c||(m++,A.a==i&&(y=A),!(y&&1<m)));A=A.next)y||(w=A);y&&(l.a==Po&&m==1?Qb(l,a):(w?(m=w,m.next==l.f&&(l.f=m),m.next=m.next.next):t0(l),n0(l,y,fi,a)))}i.c=null}else xo(i,fi,a)}function ip(i,a){i.b||i.a!=pu&&i.a!=fi||e0(i),i.f?i.f.next=a:i.b=a,i.f=a}function Jb(i,a,l,m){var y=rp(null,null,null);return y.a=new We(function(w,A){y.g=a?function(R){try{var W=a.call(m,R);w(W)}catch(ee){A(ee)}}:w,y.b=l?function(R){try{var W=l.call(m,R);W===void 0&&R instanceof Vs?A(R):w(W)}catch(ee){A(ee)}}:A}),y.a.c=i,ip(i,y),y.a}e.$c=function(i){this.a=Po,xo(this,pu,i)},e.ad=function(i){this.a=Po,xo(this,fi,i)};function xo(i,a,l){i.a==Po&&(i===l&&(a=fi,l=new TypeError("Promise cannot resolve to itself")),i.a=1,Zb(l,i.$c,i.ad,i)||(i.i=l,i.a=a,i.c=null,e0(i),a!=fi||l instanceof Vs||IR(i,l)))}function Zb(i,a,l,m){if(i instanceof We)return ip(i,rp(a||p,l||null,m)),!0;if(De(i))return i.then(a,l,m),!0;if(S(i))try{var y=i.then;if(E(y))return ER(i,y,a,l,m),!0}catch(w){return l.call(m,w),!0}return!1}function ER(i,a,l,m,y){function w(W){R||(R=!0,m.call(y,W))}function A(W){R||(R=!0,l.call(y,W))}var R=!1;try{a.call(i,A,w)}catch(W){w(W)}}function e0(i){i.h||(i.h=!0,kl(i.gc,i))}function t0(i){var a=null;return i.b&&(a=i.b,i.b=a.next,a.next=null),i.b||(i.f=null),a}e.gc=function(){for(var i;i=t0(this);)n0(this,i,this.a,this.i);this.h=!1};function n0(i,a,l,m){if(l==fi&&a.b&&!a.c)for(;i&&i.g;i=i.c)i.g=!1;if(a.a)a.a.c=null,r0(a,l,m);else try{a.c?a.g.call(a.f):r0(a,l,m)}catch(y){i0.call(null,y)}_t(zb,a)}function r0(i,a,l){a==pu?i.g.call(i.f,l):i.b&&i.b.call(i.f,l)}function IR(i,a){i.g=!0,kl(function(){i.g&&i0.call(null,a)})}var i0=Hb;function Vs(i){pe.call(this,i)}j(Vs,pe),Vs.prototype.name="cancel";function Cl(){this.ya=this.ya,this.pa=this.pa}var TR=0;Cl.prototype.ya=!1;function o0(i){!i.ya&&(i.ya=!0,i.Da(),TR!=0)&&b(i)}Cl.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var SR=Object.freeze||function(i){return i},s0=!Tr||9<=Number(Di),AR=Tr&&!jb("9"),kR=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var i=!1,a=Object.defineProperty({},"passive",{get:function(){i=!0}});try{f.addEventListener("test",p,a),f.removeEventListener("test",p,a)}catch{}return i}();function Hn(i,a){this.type=i,this.b=this.target=a,this.defaultPrevented=!1}Hn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Do(i,a){if(Hn.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var l=this.type=i.type,m=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=a,a=i.relatedTarget){if(Ub){e:{try{Xd(a.nodeName);var y=!0;break e}catch{}y=!1}y||(a=null)}}else l=="mouseover"?a=i.fromElement:l=="mouseout"&&(a=i.toElement);this.relatedTarget=a,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:NR[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}j(Do,Hn);var NR=SR({2:"touch",3:"pen",4:"mouse"});Do.prototype.preventDefault=function(){Do.bb.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,AR)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}},Do.prototype.g=function(){return this.a};var mu="closure_listenable_"+(1e6*Math.random()|0),CR=0;function OR(i,a,l,m,y){this.listener=i,this.proxy=null,this.src=a,this.type=l,this.capture=!!m,this.Wa=y,this.key=++CR,this.wa=this.Qa=!1}function Ol(i){i.wa=!0,i.listener=null,i.proxy=null,i.src=null,i.Wa=null}function Rl(i){this.src=i,this.a={},this.b=0}Rl.prototype.add=function(i,a,l,m,y){var w=i.toString();i=this.a[w],i||(i=this.a[w]=[],this.b++);var A=sp(i,a,m,y);return-1<A?(a=i[A],l||(a.Qa=!1)):(a=new OR(a,this.src,w,!!m,y),a.Qa=l,i.push(a)),a};function op(i,a){var l=a.type;l in i.a&&C(i.a[l],a)&&(Ol(a),i.a[l].length==0&&(delete i.a[l],i.b--))}function sp(i,a,l,m){for(var y=0;y<i.length;++y){var w=i[y];if(!w.wa&&w.listener==a&&w.capture==!!l&&w.Wa==m)return y}return-1}var ap="closure_lm_"+(1e6*Math.random()|0),up={};function gr(i,a,l,m,y){if(m&&m.once)cp(i,a,l,m,y);else if(Array.isArray(a))for(var w=0;w<a.length;w++)gr(i,a[w],l,m,y);else l=fp(l),i&&i[mu]?h0(i,a,l,S(m)?!!m.capture:!!m,y):a0(i,a,l,!1,m,y)}function a0(i,a,l,m,y,w){if(!a)throw Error("Invalid event type");var A=S(y)?!!y.capture:!!y,R=Pl(i);if(R||(i[ap]=R=new Rl(i)),l=R.add(a,l,m,A,w),!l.proxy)if(m=RR(),l.proxy=m,m.src=i,m.listener=l,i.addEventListener)kR||(y=A),y===void 0&&(y=!1),i.addEventListener(a.toString(),m,y);else if(i.attachEvent)i.attachEvent(c0(a.toString()),m);else if(i.addListener&&i.removeListener)i.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.")}function RR(){var i=PR,a=s0?function(l){return i.call(a.src,a.listener,l)}:function(l){if(l=i.call(a.src,a.listener,l),!l)return l};return a}function cp(i,a,l,m,y){if(Array.isArray(a))for(var w=0;w<a.length;w++)cp(i,a[w],l,m,y);else l=fp(l),i&&i[mu]?hp(i,a,l,S(m)?!!m.capture:!!m,y):a0(i,a,l,!0,m,y)}function ir(i,a,l,m,y){if(Array.isArray(a))for(var w=0;w<a.length;w++)ir(i,a[w],l,m,y);else m=S(m)?!!m.capture:!!m,l=fp(l),i&&i[mu]?(i=i.v,a=String(a).toString(),a in i.a&&(w=i.a[a],l=sp(w,l,m,y),-1<l&&(Ol(w[l]),Array.prototype.splice.call(w,l,1),w.length==0&&(delete i.a[a],i.b--)))):i&&(i=Pl(i))&&(a=i.a[a.toString()],i=-1,a&&(i=sp(a,l,m,y)),(l=-1<i?a[i]:null)&&u0(l))}function u0(i){if(typeof i!="number"&&i&&!i.wa){var a=i.src;if(a&&a[mu])op(a.v,i);else{var l=i.type,m=i.proxy;a.removeEventListener?a.removeEventListener(l,m,i.capture):a.detachEvent?a.detachEvent(c0(l),m):a.addListener&&a.removeListener&&a.removeListener(m),(l=Pl(a))?(op(l,i),l.b==0&&(l.src=null,a[ap]=null)):Ol(i)}}}function c0(i){return i in up?up[i]:up[i]="on"+i}function l0(i,a,l,m){var y=!0;if((i=Pl(i))&&(a=i.a[a.toString()]))for(a=a.concat(),i=0;i<a.length;i++){var w=a[i];w&&w.capture==l&&!w.wa&&(w=f0(w,m),y=y&&w!==!1)}return y}function f0(i,a){var l=i.listener,m=i.Wa||i.src;return i.Qa&&u0(i),l.call(m,a)}function PR(i,a){if(i.wa)return!0;if(!s0){if(!a)e:{a=["window","event"];for(var l=f,m=0;m<a.length;m++)if(l=l[a[m]],l==null){a=null;break e}a=l}if(m=a,a=new Do(m,this),l=!0,!(0>m.keyCode||m.returnValue!=null)){e:{var y=!1;if(m.keyCode==0)try{m.keyCode=-1;break e}catch{y=!0}(y||m.returnValue==null)&&(m.returnValue=!0)}for(m=[],y=a.b;y;y=y.parentNode)m.push(y);for(i=i.type,y=m.length-1;0<=y;y--){a.b=m[y];var w=l0(m[y],i,!0,a);l=l&&w}for(y=0;y<m.length;y++)a.b=m[y],w=l0(m[y],i,!1,a),l=l&&w}return l}return f0(i,new Do(a,this))}function Pl(i){return i=i[ap],i instanceof Rl?i:null}var lp="__closure_events_fn_"+(1e9*Math.random()>>>0);function fp(i){return E(i)?i:(i[lp]||(i[lp]=function(a){return i.handleEvent(a)}),i[lp])}function Cn(){Cl.call(this),this.v=new Rl(this),this.bc=this,this.hb=null}j(Cn,Cl),Cn.prototype[mu]=!0,Cn.prototype.addEventListener=function(i,a,l,m){gr(this,i,a,l,m)},Cn.prototype.removeEventListener=function(i,a,l,m){ir(this,i,a,l,m)},Cn.prototype.dispatchEvent=function(i){var a,l=this.hb;if(l)for(a=[];l;l=l.hb)a.push(l);l=this.bc;var m=i.type||i;if(typeof i=="string")i=new Hn(i,l);else if(i instanceof Hn)i.target=i.target||l;else{var y=i;i=new Hn(m,l),cn(i,y)}if(y=!0,a)for(var w=a.length-1;0<=w;w--){var A=i.b=a[w];y=xl(A,m,!0,i)&&y}if(A=i.b=l,y=xl(A,m,!0,i)&&y,y=xl(A,m,!1,i)&&y,a)for(w=0;w<a.length;w++)A=i.b=a[w],y=xl(A,m,!1,i)&&y;return y},Cn.prototype.Da=function(){if(Cn.bb.Da.call(this),this.v){var i=this.v,a;for(a in i.a){for(var l=i.a[a],m=0;m<l.length;m++)Ol(l[m]);delete i.a[a],i.b--}}this.hb=null};function h0(i,a,l,m,y){i.v.add(String(a),l,!1,m,y)}function hp(i,a,l,m,y){i.v.add(String(a),l,!0,m,y)}function xl(i,a,l,m){if(a=i.v.a[String(a)],!a)return!0;a=a.concat();for(var y=!0,w=0;w<a.length;++w){var A=a[w];if(A&&!A.wa&&A.capture==l){var R=A.listener,W=A.Wa||A.src;A.Qa&&op(i.v,A),y=R.call(W,m)!==!1&&y}}return y&&!m.defaultPrevented}function dp(i,a,l){if(E(i))l&&(i=L(i,l));else if(i&&typeof i.handleEvent=="function")i=L(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:f.setTimeout(i,a||0)}function js(i){var a=null;return new We(function(l,m){a=dp(function(){l(void 0)},i),a==-1&&m(Error("Failed to schedule timer."))}).o(function(l){throw f.clearTimeout(a),l})}function d0(i){if(i.X&&typeof i.X=="function")return i.X();if(typeof i=="string")return i.split("");if(_(i)){for(var a=[],l=i.length,m=0;m<l;m++)a.push(i[m]);return a}a=[],l=0;for(m in i)a[l++]=i[m];return a}function p0(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.X||typeof i.X!="function"){if(_(i)||typeof i=="string"){var a=[];i=i.length;for(var l=0;l<i;l++)a.push(l);return a}a=[],l=0;for(var m in i)a[l++]=m;return a}}function xR(i,a){if(i.forEach&&typeof i.forEach=="function")i.forEach(a,void 0);else if(_(i)||typeof i=="string")z(i,a,void 0);else for(var l=p0(i),m=d0(i),y=m.length,w=0;w<y;w++)a.call(void 0,m[w],l&&l[w],i)}function Bs(i,a){this.b={},this.a=[],this.c=0;var l=arguments.length;if(1<l){if(l%2)throw Error("Uneven number of arguments");for(var m=0;m<l;m+=2)this.set(arguments[m],arguments[m+1])}else if(i)if(i instanceof Bs)for(l=i.Y(),m=0;m<l.length;m++)this.set(l[m],i.get(l[m]));else for(m in i)this.set(m,i[m])}e=Bs.prototype,e.X=function(){pp(this);for(var i=[],a=0;a<this.a.length;a++)i.push(this.b[this.a[a]]);return i},e.Y=function(){return pp(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function pp(i){if(i.c!=i.a.length){for(var a=0,l=0;a<i.a.length;){var m=i.a[a];Lo(i.b,m)&&(i.a[l++]=m),a++}i.a.length=l}if(i.c!=i.a.length){var y={};for(l=a=0;a<i.a.length;)m=i.a[a],Lo(y,m)||(i.a[l++]=m,y[m]=1),a++;i.a.length=l}}e.get=function(i,a){return Lo(this.b,i)?this.b[i]:a},e.set=function(i,a){Lo(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=a},e.forEach=function(i,a){for(var l=this.Y(),m=0;m<l.length;m++){var y=l[m],w=this.get(y);i.call(a,w,y,this)}};function Lo(i,a){return Object.prototype.hasOwnProperty.call(i,a)}var m0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function DR(i,a){if(i){i=i.split("&");for(var l=0;l<i.length;l++){var m=i[l].indexOf("="),y=null;if(0<=m){var w=i[l].substring(0,m);y=i[l].substring(m+1)}else w=i[l];a(w,y?decodeURIComponent(y.replace(/\+/g," ")):"")}}}function Li(i,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var l;i instanceof Li?(this.i=a!==void 0?a:i.i,gu(this,i.c),this.l=i.l,this.a=i.a,vu(this,i.g),this.f=i.f,mp(this,_0(i.b)),this.h=i.h):i&&(l=String(i).match(m0))?(this.i=!!a,gu(this,l[1]||"",!0),this.l=yu(l[2]||""),this.a=yu(l[3]||"",!0),vu(this,l[4]),this.f=yu(l[5]||"",!0),mp(this,l[6]||"",!0),this.h=yu(l[7]||"")):(this.i=!!a,this.b=new Mo(null,this.i))}Li.prototype.toString=function(){var i=[],a=this.c;a&&i.push(_u(a,g0,!0),":");var l=this.a;return(l||a=="file")&&(i.push("//"),(a=this.l)&&i.push(_u(a,g0,!0),"@"),i.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l=this.g,l!=null&&i.push(":",String(l))),(l=this.f)&&(this.a&&l.charAt(0)!="/"&&i.push("/"),i.push(_u(l,l.charAt(0)=="/"?FR:MR,!0))),(l=this.b.toString())&&i.push("?",l),(l=this.h)&&i.push("#",_u(l,VR)),i.join("")},Li.prototype.resolve=function(i){var a=new Li(this),l=!!i.c;l?gu(a,i.c):l=!!i.l,l?a.l=i.l:l=!!i.a,l?a.a=i.a:l=i.g!=null;var m=i.f;if(l)vu(a,i.g);else if(l=!!i.f){if(m.charAt(0)!="/")if(this.a&&!this.f)m="/"+m;else{var y=a.f.lastIndexOf("/");y!=-1&&(m=a.f.substr(0,y+1)+m)}if(y=m,y==".."||y==".")m="";else if(J(y,"./")||J(y,"/.")){m=y.lastIndexOf("/",0)==0,y=y.split("/");for(var w=[],A=0;A<y.length;){var R=y[A++];R=="."?m&&A==y.length&&w.push(""):R==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),m&&A==y.length&&w.push("")):(w.push(R),m=!0)}m=w.join("/")}else m=y}return l?a.f=m:l=i.b.toString()!=="",l?mp(a,_0(i.b)):l=!!i.h,l&&(a.h=i.h),a};function gu(i,a,l){i.c=l?yu(a,!0):a,i.c&&(i.c=i.c.replace(/:$/,""))}function vu(i,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);i.g=a}else i.g=null}function mp(i,a,l){a instanceof Mo?(i.b=a,jR(i.b,i.i)):(l||(a=_u(a,UR)),i.b=new Mo(a,i.i))}function jt(i,a,l){i.b.set(a,l)}function vr(i,a){return i.b.get(a)}function Kn(i){return i instanceof Li?new Li(i):new Li(i,void 0)}function Dl(i,a,l,m){var y=new Li(null,void 0);return i&&gu(y,i),a&&(y.a=a),l&&vu(y,l),m&&(y.f=m),y}function yu(i,a){return i?a?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function _u(i,a,l){return typeof i=="string"?(i=encodeURI(i).replace(a,LR),l&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function LR(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var g0=/[#\/\?@]/g,MR=/[#\?:]/g,FR=/[#\?]/g,UR=/[#\?@]/g,VR=/#/g;function Mo(i,a){this.b=this.a=null,this.c=i||null,this.f=!!a}function Mi(i){i.a||(i.a=new Bs,i.b=0,i.c&&DR(i.c,function(a,l){i.add(decodeURIComponent(a.replace(/\+/g," ")),l)}))}function v0(i){var a=p0(i);if(typeof a>"u")throw Error("Keys are undefined");var l=new Mo(null,void 0);i=d0(i);for(var m=0;m<a.length;m++){var y=a[m],w=i[m];Array.isArray(w)?y0(l,y,w):l.add(y,w)}return l}e=Mo.prototype,e.add=function(i,a){Mi(this),this.c=null,i=$s(this,i);var l=this.a.get(i);return l||this.a.set(i,l=[]),l.push(a),this.b+=1,this};function Kr(i,a){Mi(i),a=$s(i,a),Lo(i.a.b,a)&&(i.c=null,i.b-=i.a.get(a).length,i=i.a,Lo(i.b,a)&&(delete i.b[a],i.c--,i.a.length>2*i.c&&pp(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function gp(i,a){return Mi(i),a=$s(i,a),Lo(i.a.b,a)}e.forEach=function(i,a){Mi(this),this.a.forEach(function(l,m){z(l,function(y){i.call(a,y,m,this)},this)},this)},e.Y=function(){Mi(this);for(var i=this.a.X(),a=this.a.Y(),l=[],m=0;m<a.length;m++)for(var y=i[m],w=0;w<y.length;w++)l.push(a[m]);return l},e.X=function(i){Mi(this);var a=[];if(typeof i=="string")gp(this,i)&&(a=B(a,this.a.get($s(this,i))));else{i=this.a.X();for(var l=0;l<i.length;l++)a=B(a,i[l])}return a},e.set=function(i,a){return Mi(this),this.c=null,i=$s(this,i),gp(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[a]),this.b+=1,this},e.get=function(i,a){return i?(i=this.X(i),0<i.length?String(i[0]):a):a};function y0(i,a,l){Kr(i,a),0<l.length&&(i.c=null,i.a.set($s(i,a),Z(l)),i.b+=l.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],a=this.a.Y(),l=0;l<a.length;l++){var m=a[l],y=encodeURIComponent(String(m));m=this.X(m);for(var w=0;w<m.length;w++){var A=y;m[w]!==""&&(A+="="+encodeURIComponent(String(m[w]))),i.push(A)}}return this.c=i.join("&")};function _0(i){var a=new Mo;return a.c=i.c,i.a&&(a.a=new Bs(i.a),a.b=i.b),a}function $s(i,a){return a=String(a),i.f&&(a=a.toLowerCase()),a}function jR(i,a){a&&!i.f&&(Mi(i),i.c=null,i.a.forEach(function(l,m){var y=m.toLowerCase();m!=y&&(Kr(this,m),y0(this,y,l))},i)),i.f=a}function b0(i){var a=[];return vp(new BR,i,a),a.join("")}function BR(){}function vp(i,a,l){if(a==null)l.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var m=a;a=m.length,l.push("[");for(var y="",w=0;w<a;w++)l.push(y),vp(i,m[w],l),y=",";l.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{l.push("{"),y="";for(m in a)Object.prototype.hasOwnProperty.call(a,m)&&(w=a[m],typeof w!="function"&&(l.push(y),E0(m,l),l.push(":"),vp(i,w,l),y=","));l.push("}");return}}switch(typeof a){case"string":E0(a,l);break;case"number":l.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":l.push(String(a));break;case"function":l.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var w0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},$R=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function E0(i,a){a.push('"',i.replace($R,function(l){var m=w0[l];return m||(m="\\u"+(l.charCodeAt(0)|65536).toString(16).substr(1),w0[l]=m),m}),'"')}function yp(){var i=ln();return Tr&&!!Di&&Di==11||/Edge\/\d+/.test(i)}function bu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function I0(i,a){a=a||f.window;var l="about:blank";i&&(l=Tl(Rb(i)||xb)),a.location.href=l}function T0(i,a){var l=[],m;for(m in i)m in a?typeof i[m]!=typeof a[m]?l.push(m):typeof i[m]=="object"&&i[m]!=null&&a[m]!=null?0<T0(i[m],a[m]).length&&l.push(m):i[m]!==a[m]&&l.push(m):l.push(m);for(m in a)m in i||l.push(m);return l}function qR(){var i=ln();return i=qs(i)!=N0?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!Tr||!Di||9<Di}function S0(i){return i=(i||ln()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function Fo(i){i=i||f.window;try{i.close()}catch{}}function A0(i,a,l){var m=Math.floor(1e9*Math.random()).toString();a=a||500,l=l||600;var y=(window.screen.availHeight-l)/2,w=(window.screen.availWidth-a)/2;a={width:a,height:l,top:0<y?y:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},l=ln().toLowerCase(),m&&(a.target=m,J(l,"crios/")&&(a.target="_blank")),qs(ln())==wp&&(i=i||"http://localhost",a.scrollbars=!0),l=i||"",(i=a)||(i={}),m=window,a=l instanceof qn?l:Rb(typeof l.href<"u"?l.href:String(l))||xb,l=i.target||l.target,y=[];for(A in i)switch(A){case"width":case"height":case"top":case"left":y.push(A+"="+i[A]);break;case"target":case"noopener":case"noreferrer":break;default:y.push(A+"="+(i[A]?1:0))}var A=y.join(",");if((Oe("iPhone")&&!Oe("iPod")&&!Oe("iPad")||Oe("iPad")||Oe("iPod"))&&m.navigator&&m.navigator.standalone&&l&&l!="_self"?(A=Al(document,"A"),Sb(A,"HTMLAnchorElement"),a=a instanceof qn?a:Pb(a),A.href=Tl(a),A.setAttribute("target",l),i.noreferrer&&A.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,m,1),A.dispatchEvent(i),A={}):i.noreferrer?(A=Lb("",m,l,A),i=Tl(a),A&&(dR&&J(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),A.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Yd(i)+'">',i=(m=kb())?m.createHTML(i):i,i=new Us(i,null,Db),m=A.document)&&(m.write(cR(i)),m.close())):(A=Lb(a,m,l,A))&&i.noopener&&(A.opener=null),A)try{A.focus()}catch{}return A}function HR(i){return new We(function(a){function l(){js(2e3).then(function(){if(!i||i.closed)a();else return l()})}return l()})}var KR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GR=/^[^@]+@[^@]+$/;function Ll(){var i=null;return new We(function(a){f.document.readyState=="complete"?a():(i=function(){a()},cp(window,"load",i))}).o(function(a){throw ir(window,"load",i),a})}function WR(){return _p(void 0)?Ll().then(function(){return new We(function(i,a){var l=f.document,m=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);l.addEventListener("deviceready",function(){clearTimeout(m),i()},!1)})}):Ct(Error("Cordova must run in an Android or iOS file scheme."))}function _p(i){return i=i||ln(),!(Ks()!=="file:"&&Ks()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function bp(){var i=f.window;try{return!(!i||i==i.top)}catch{return!1}}function Sr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Gr(){return Pe.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Pe.INTERNAL.hasOwnProperty("node")?"Node":Sr()?"Worker":"Browser"}function k0(){var i=Gr();return i==="ReactNative"||i==="Node"}function zR(){for(var i=50,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}var wp="Firefox",N0="Chrome";function qs(i){var a=i.toLowerCase();if(J(a,"opera/")||J(a,"opr/")||J(a,"opios/"))return"Opera";if(J(a,"iemobile"))return"IEMobile";if(J(a,"msie")||J(a,"trident/"))return"IE";if(J(a,"edge/"))return"Edge";if(J(a,"firefox/"))return wp;if(J(a,"silk/"))return"Silk";if(J(a,"blackberry"))return"Blackberry";if(J(a,"webos"))return"Webos";if(!J(a,"safari/")||J(a,"chrome/")||J(a,"crios/")||J(a,"android"))if(!J(a,"chrome/")&&!J(a,"crios/")||J(a,"edge/")){if(J(a,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return N0;else return"Safari";return"Other"}var C0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Hs(i,a){a=a||[];var l=[],m={},y;for(y in C0)m[C0[y]]=!0;for(y=0;y<a.length;y++)typeof m[a[y]]<"u"&&(delete m[a[y]],l.push(a[y]));return l.sort(),a=l,a.length||(a=["FirebaseCore-web"]),l=Gr(),l==="Browser"?(m=ln(),l=qs(m)):l==="Worker"&&(m=ln(),l=qs(m)+"-"+l),l+"/JsCore/"+i+"/"+a.join(",")}function ln(){return f.navigator&&f.navigator.userAgent||""}function Ot(i,a){i=i.split("."),a=a||f;for(var l=0;l<i.length&&typeof a=="object"&&a!=null;l++)a=a[i[l]];return l!=i.length&&(a=void 0),a}function Ep(){try{var i=f.localStorage,a=Vo();if(i)return i.setItem(a,"1"),i.removeItem(a),yp()?!!f.indexedDB:!0}catch{return Sr()&&!!f.indexedDB}return!1}function Uo(){return(Ml()||Ks()==="chrome-extension:"||_p())&&!k0()&&Ep()&&!Sr()}function Ml(){return Ks()==="http:"||Ks()==="https:"}function Ks(){return f.location&&f.location.protocol||null}function wu(i){return i=i||ln(),!(S0(i)||qs(i)==wp)}function Eu(i){return typeof i>"u"?null:b0(i)}function O0(i){var a={},l;for(l in i)i.hasOwnProperty(l)&&i[l]!==null&&i[l]!==void 0&&(a[l]=i[l]);return a}function Gs(i){if(i!==null)return JSON.parse(i)}function Vo(i){return i||Math.floor(1e9*Math.random()).toString()}function R0(i){return i=i||ln(),!(qs(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function P0(){var i=f.___jsl;if(i&&i.H){for(var a in i.H)if(i.H[a].r=i.H[a].r||[],i.H[a].L=i.H[a].L||[],i.H[a].r=i.H[a].L.concat(),i.CP)for(var l=0;l<i.CP.length;l++)i.CP[l]=null}}function Fi(i,a){if(i>a)throw Error("Short delay should be less than long delay!");this.a=i,this.c=a,i=ln(),a=Gr(),this.b=S0(i)||a==="ReactNative"}Fi.prototype.get=function(){var i=f.navigator;return!(i&&typeof i.onLine=="boolean"&&(Ml()||Ks()==="chrome-extension:"||typeof i.connection<"u"))||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Ip(){var i=f.document;return i&&typeof i.visibilityState<"u"?i.visibilityState=="visible":!0}function YR(){var i=f.document,a=null;return Ip()||!i?ke():new We(function(l){a=function(){Ip()&&(i.removeEventListener("visibilitychange",a,!1),l())},i.addEventListener("visibilitychange",a,!1)}).o(function(l){throw i.removeEventListener("visibilitychange",a,!1),l})}function Iu(i){try{var a=new Date(parseInt(i,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(i))return a.toUTCString()}catch{}return null}function x0(){return!(!Ot("fireauth.oauthhelper",f)&&!Ot("fireauth.iframe",f))}function XR(){var i=f.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function QR(){var i=f.navigator;return i&&i.serviceWorker?ke().then(function(){return i.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):ke(null)}var D0={};function Tp(i){D0[i]||(D0[i]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(i))}var Sp;try{var Ap={};Object.defineProperty(Ap,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ap,"abcd",{configurable:!0,enumerable:!0,value:2}),Sp=Ap.abcd==2}catch{Sp=!1}function Ee(i,a,l){Sp?Object.defineProperty(i,a,{configurable:!0,enumerable:!0,value:l}):i[a]=l}function On(i,a){if(a)for(var l in a)a.hasOwnProperty(l)&&Ee(i,l,a[l])}function Wr(i){var a={};return On(a,i),a}function JR(i){var a={},l;for(l in i)i.hasOwnProperty(l)&&(a[l]=i[l]);return a}function ZR(i,a){if(!a||!a.length)return!0;if(!i)return!1;for(var l=0;l<a.length;l++){var m=i[a[l]];if(m==null||m==="")return!1}return!0}function kp(i){var a=i;if(typeof i=="object"&&i!=null){a="length"in i?[]:{};for(var l in i)Ee(a,l,kp(i[l]))}return a}function Np(i){var a=i&&(i[Pp]?"phone":null);if(a&&i&&i[Rp]){Ee(this,"uid",i[Rp]),Ee(this,"displayName",i[L0]||null);var l=null;i[Op]&&(l=new Date(i[Op]).toUTCString()),Ee(this,"enrollmentTime",l),Ee(this,"factorId",a)}else throw new x("internal-error","Internal assert: invalid MultiFactorInfo object")}Np.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Cp(i){try{var a=new Tu(i)}catch{a=null}return a}var L0="displayName",Op="enrolledAt",Rp="mfaEnrollmentId",Pp="phoneInfo";function Tu(i){Np.call(this,i),Ee(this,"phoneNumber",i[Pp])}j(Tu,Np),Tu.prototype.w=function(){var i=Tu.bb.w.call(this);return i.phoneNumber=this.phoneNumber,i};function eP(i){var a={},l=i[tP],m=i[rP],y=i[iP];if(i=Cp(i[nP]),!y||y!=Fl&&y!=Su&&!l||y==Su&&!m||y==xp&&!i)throw Error("Invalid checkActionCode response!");y==Su?(a[F0]=l||null,a[U0]=l||null,a[M0]=m):(a[F0]=m||null,a[U0]=m||null,a[M0]=l||null),a[oP]=i||null,Ee(this,aP,y),Ee(this,sP,kp(a))}var xp="REVERT_SECOND_FACTOR_ADDITION",Fl="EMAIL_SIGNIN",Su="VERIFY_AND_CHANGE_EMAIL",tP="email",nP="mfaInfo",rP="newEmail",iP="requestType",M0="email",F0="fromEmail",oP="multiFactorInfo",U0="previousEmail",sP="data",aP="operation";function Dp(i){i=Kn(i);var a=vr(i,V0)||null,l=vr(i,j0)||null,m=vr(i,B0)||null;if(m=m&&fP[m]||null,!a||!l||!m)throw new x("argument-error",V0+", "+j0+"and "+B0+" are required in a valid action code URL.");On(this,{apiKey:a,operation:m,code:l,continueUrl:vr(i,uP)||null,languageCode:vr(i,cP)||null,tenantId:vr(i,lP)||null})}var V0="apiKey",j0="oobCode",uP="continueUrl",cP="languageCode",B0="mode",lP="tenantId",fP={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:xp,signIn:Fl,verifyAndChangeEmail:Su,verifyEmail:"VERIFY_EMAIL"};function $0(i){try{return new Dp(i)}catch{return null}}function Ul(i){var a=i[hP];if(typeof a>"u")throw new x("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new x("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var l=i[q0];if(l&&typeof l=="object"){a=l[z0];var m=l[G0];if(l=l[W0],typeof a=="string"&&a.length){if(this.a=a,typeof m<"u"&&typeof m!="boolean")throw new x("argument-error",G0+" property must be a boolean when specified.");if(this.g=!!m,typeof l<"u"&&(typeof l!="string"||typeof l=="string"&&!l.length))throw new x("argument-error",W0+" property must be a non empty string when specified.");this.b=l||null}else{if(typeof a<"u")throw new x("argument-error",z0+" property must be a non empty string when specified.");if(typeof m<"u"||typeof l<"u")throw new x("missing-android-pkg-name")}}else if(typeof l<"u")throw new x("argument-error",q0+" property must be a non null object when specified.");if(this.f=null,(a=i[K0])&&typeof a=="object"){if(a=a[Y0],typeof a=="string"&&a.length)this.f=a;else if(typeof a<"u")throw new x("argument-error",Y0+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new x("argument-error",K0+" property must be a non null object when specified.");if(a=i[Lp],typeof a<"u"&&typeof a!="boolean")throw new x("argument-error",Lp+" property must be a boolean when specified.");if(this.c=!!a,i=i[H0],typeof i<"u"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new x("argument-error",H0+" property must be a non empty string when specified.");this.i=i||null}var q0="android",H0="dynamicLinkDomain",Lp="handleCodeInApp",K0="iOS",hP="url",G0="installApp",W0="minimumVersion",z0="packageName",Y0="bundleId";function Vl(i){var a={};a.continueUrl=i.h,a.canHandleCodeInApp=i.c,(a.androidPackageName=i.a)&&(a.androidMinimumVersion=i.b,a.androidInstallApp=i.g),a.iOSBundleId=i.f,a.dynamicLinkDomain=i.i;for(var l in a)a[l]===null&&delete a[l];return a}function dP(i){return Se(i,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var Au=null;function pP(i){var a=[];return mP(i,function(l){a.push(l)}),a}function mP(i,a){function l(W){for(;m<i.length;){var ee=i.charAt(m++),je=Au[ee];if(je!=null)return je;if(!/^[\s\xa0]*$/.test(ee))throw Error("Unknown base64 encoding at char: "+ee)}return W}gP();for(var m=0;;){var y=l(-1),w=l(0),A=l(64),R=l(64);if(R===64&&y===-1)break;a(y<<2|w>>4),A!=64&&(a(w<<4&240|A>>2),R!=64&&a(A<<6&192|R))}}function gP(){if(!Au){Au={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],l=0;5>l;l++)for(var m=i.concat(a[l].split("")),y=0;y<m.length;y++){var w=m[y];Au[w]===void 0&&(Au[w]=y)}}}function jl(i){var a=X0(i);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=i,this.a=a.exp,this.i=a.sub,i=Date.now()/1e3,this.g=a.iat||(i>this.a?this.a:i),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}jl.prototype.T=function(){return this.f},jl.prototype.l=function(){return this.c},jl.prototype.toString=function(){return this.h};function Bl(i){try{return new jl(i)}catch{return null}}function X0(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var a=(4-i.length%4)%4,l=0;l<a;l++)i+=".";try{var m=pP(i);for(i=[],l=a=0;a<m.length;){var y=m[a++];if(128>y)i[l++]=String.fromCharCode(y);else if(191<y&&224>y){var w=m[a++];i[l++]=String.fromCharCode((y&31)<<6|w&63)}else if(239<y&&365>y){w=m[a++];var A=m[a++],R=m[a++],W=((y&7)<<18|(w&63)<<12|(A&63)<<6|R&63)-65536;i[l++]=String.fromCharCode(55296+(W>>10)),i[l++]=String.fromCharCode(56320+(W&1023))}else w=m[a++],A=m[a++],i[l++]=String.fromCharCode((y&15)<<12|(w&63)<<6|A&63)}return JSON.parse(i.join(""))}catch{}return null}var Q0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),$l=["client_id","response_type","scope","redirect_uri","state"],Mp={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:$l},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:$l},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:$l},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Q0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Fp(i){for(var a in Mp)if(Mp[a].fa==i)return Mp[a];return null}function J0(i){var a={};a["facebook.com"]=ew,a["google.com"]=nw,a["github.com"]=tw,a["twitter.com"]=rw;var l=i&&i[Z0];try{if(l)return a[l]?new a[l](i):new zr(i);if(typeof i[Up]<"u")return new Vp(i)}catch{}return null}var Up="idToken",Z0="providerId";function Vp(i){var a=i[Z0];if(!a&&i[Up]){var l=Bl(i[Up]);l&&l.b&&(a=l.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),l=!1,typeof i.isNewUser<"u"?l=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(l=!0),Ee(this,"providerId",a),Ee(this,"isNewUser",l)}function zr(i){Vp.call(this,i),i=Gs(i.rawUserInfo||"{}"),Ee(this,"profile",kp(i||{}))}j(zr,Vp);function ew(i){if(zr.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}j(ew,zr);function tw(i){if(zr.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");Ee(this,"username",this.profile&&this.profile.login||null)}j(tw,zr);function nw(i){if(zr.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}j(nw,zr);function rw(i){if(zr.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");Ee(this,"username",i.screenName||null)}j(rw,zr);function iw(i){var a=Kn(i),l=vr(a,"link"),m=vr(Kn(l),"link");return a=vr(a,"deep_link_id"),vr(Kn(a),"link")||a||m||l||i}function ql(i,a){if(!i&&!a)throw new x("internal-error","Internal assert: no raw session string available");if(i&&a)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=a||null,this.type=this.a?ku:Hl}var ku="enroll",Hl="signin";ql.prototype.Ha=function(){return this.a?ke(this.a):ke(this.b)},ql.prototype.w=function(){return this.type==ku?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Ws(){}Ws.prototype.ka=function(){},Ws.prototype.b=function(){},Ws.prototype.c=function(){},Ws.prototype.w=function(){};function zs(i,a){return i.then(function(l){if(l[Nr]){var m=Bl(l[Nr]);if(!m||a!=m.i)throw new x("user-mismatch");return l}throw new x("user-mismatch")}).o(function(l){throw l&&l.code&&l.code==ie+"user-not-found"?new x("user-mismatch"):l})}function jo(i,a){if(a)this.a=a;else throw new x("internal-error","failed to construct a credential");Ee(this,"providerId",i),Ee(this,"signInMethod",i)}jo.prototype.ka=function(i){return cm(i,jp(this))},jo.prototype.b=function(i,a){var l=jp(this);return l.idToken=a,lm(i,l)},jo.prototype.c=function(i,a){return zs(fm(i,jp(this)),a)};function jp(i){return{pendingToken:i.a,requestUri:"http://localhost"}}jo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function vP(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new jo(i.providerId,i.pendingToken)}catch{}return null}function hi(i,a,l){if(this.a=null,a.idToken||a.accessToken)a.idToken&&Ee(this,"idToken",a.idToken),a.accessToken&&Ee(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&Ee(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)Ee(this,"accessToken",a.oauthToken),Ee(this,"secret",a.oauthTokenSecret);else throw new x("internal-error","failed to construct a credential");Ee(this,"providerId",i),Ee(this,"signInMethod",l)}hi.prototype.ka=function(i){return cm(i,Bp(this))},hi.prototype.b=function(i,a){var l=Bp(this);return l.idToken=a,lm(i,l)},hi.prototype.c=function(i,a){var l=Bp(this);return zs(fm(i,l),a)};function Bp(i){var a={};return i.idToken&&(a.id_token=i.idToken),i.accessToken&&(a.access_token=i.accessToken),i.secret&&(a.oauth_token_secret=i.secret),a.providerId=i.providerId,i.nonce&&!i.a&&(a.nonce=i.nonce),a={postBody:v0(a).toString(),requestUri:"http://localhost"},i.a&&(delete a.postBody,a.pendingToken=i.a),a}hi.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function yP(i){if(i&&i.providerId&&i.signInMethod){var a={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new hi(i.providerId,a,i.signInMethod)}catch{}}return null}function Bo(i,a){this.Qc=a||[],On(this,{providerId:i,isOAuthProvider:!0}),this.Jb={},this.qb=(Fp(i)||{}).Ja||null,this.pb=null}Bo.prototype.Ka=function(i){return this.Jb=pt(i),this};function ow(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');Bo.call(this,i,[])}j(ow,Bo);function or(i){Bo.call(this,i,$l),this.a=[]}j(or,Bo),or.prototype.Ca=function(i){return I(this.a,i)||this.a.push(i),this},or.prototype.Rb=function(){return Z(this.a)},or.prototype.credential=function(i,a){var l;if(S(i)?l={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:l={idToken:i||null,accessToken:a||null},!l.idToken&&!l.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new hi(this.providerId,l,this.providerId)};function $o(){or.call(this,"facebook.com")}j($o,or),Ee($o,"PROVIDER_ID","facebook.com"),Ee($o,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function sw(i){if(!i)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return S(i)&&(a=i.accessToken),new $o().credential({accessToken:a})}function qo(){or.call(this,"github.com")}j(qo,or),Ee(qo,"PROVIDER_ID","github.com"),Ee(qo,"GITHUB_SIGN_IN_METHOD","github.com");function aw(i){if(!i)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return S(i)&&(a=i.accessToken),new qo().credential({accessToken:a})}function Ho(){or.call(this,"google.com"),this.Ca("profile")}j(Ho,or),Ee(Ho,"PROVIDER_ID","google.com"),Ee(Ho,"GOOGLE_SIGN_IN_METHOD","google.com");function uw(i,a){var l=i;return S(i)&&(l=i.idToken,a=i.accessToken),new Ho().credential({idToken:l,accessToken:a})}function Ys(){Bo.call(this,"twitter.com",Q0)}j(Ys,Bo),Ee(Ys,"PROVIDER_ID","twitter.com"),Ee(Ys,"TWITTER_SIGN_IN_METHOD","twitter.com");function cw(i,a){var l=i;if(S(l)||(l={oauthToken:i,oauthTokenSecret:a}),!l.oauthToken||!l.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new hi("twitter.com",l,"twitter.com")}function Ui(i,a,l){this.a=i,this.f=a,Ee(this,"providerId","password"),Ee(this,"signInMethod",l===yr.EMAIL_LINK_SIGN_IN_METHOD?yr.EMAIL_LINK_SIGN_IN_METHOD:yr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Ui.prototype.ka=function(i){return this.signInMethod==yr.EMAIL_LINK_SIGN_IN_METHOD?Qe(i,nx,{email:this.a,oobCode:this.f}):Qe(i,Fw,{email:this.a,password:this.f})},Ui.prototype.b=function(i,a){return this.signInMethod==yr.EMAIL_LINK_SIGN_IN_METHOD?Qe(i,rx,{idToken:a,email:this.a,oobCode:this.f}):Qe(i,Mw,{idToken:a,email:this.a,password:this.f})},Ui.prototype.c=function(i,a){return zs(this.ka(i),a)},Ui.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function _P(i){return i&&i.email&&i.password?new Ui(i.email,i.password,i.signInMethod):null}function yr(){On(this,{providerId:"password",isOAuthProvider:!1})}function lw(i,a){if(a=$p(a),!a)throw new x("argument-error","Invalid email link!");return new Ui(i,a.code,yr.EMAIL_LINK_SIGN_IN_METHOD)}function $p(i){return i=iw(i),(i=$0(i))&&i.operation===Fl?i:null}On(yr,{PROVIDER_ID:"password"}),On(yr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),On(yr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Vi(i){if(!(i.fb&&i.eb||i.La&&i.ea))throw new x("internal-error");this.a=i,Ee(this,"providerId","phone"),this.fa="phone",Ee(this,"signInMethod","phone")}Vi.prototype.ka=function(i){return i.gb(Nu(this))},Vi.prototype.b=function(i,a){var l=Nu(this);return l.idToken=a,Qe(i,Ix,l)},Vi.prototype.c=function(i,a){var l=Nu(this);return l.operation="REAUTH",i=Qe(i,Tx,l),zs(i,a)},Vi.prototype.w=function(){var i={providerId:"phone"};return this.a.fb&&(i.verificationId=this.a.fb),this.a.eb&&(i.verificationCode=this.a.eb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function bP(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var a={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(l){i[l]&&(a[l]=i[l])}),new Vi(a)}return null}function Nu(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.fb,code:i.a.eb}}function di(i){try{this.a=i||Pe.auth()}catch{throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}On(this,{providerId:"phone",isOAuthProvider:!1})}di.prototype.gb=function(i,a){var l=this.a.a;return ke(a.verify()).then(function(m){if(typeof m!="string")throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var y=S(i)?i.session:null,w=S(i)?i.phoneNumber:i,A;return y&&y.type==ku?A=y.Ha().then(function(R){return WP(l,{idToken:R,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:m}})}):y&&y.type==Hl?A=y.Ha().then(function(R){return zP(l,{mfaPendingCredential:R,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:m}})}):A=GP(l,{phoneNumber:w,recaptchaToken:m}),A.then(function(R){return typeof a.reset=="function"&&a.reset(),R},function(R){throw typeof a.reset=="function"&&a.reset(),R});default:throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function fw(i,a){if(!i)throw new x("missing-verification-id");if(!a)throw new x("missing-verification-code");return new Vi({fb:i,eb:a})}On(di,{PROVIDER_ID:"phone"}),On(di,{PHONE_SIGN_IN_METHOD:"phone"});function qp(i){if(i.temporaryProof&&i.phoneNumber)return new Vi({La:i.temporaryProof,ea:i.phoneNumber});var a=i&&i.providerId;if(!a||a==="password")return null;var l=i&&i.oauthAccessToken,m=i&&i.oauthTokenSecret,y=i&&i.nonce,w=i&&i.oauthIdToken,A=i&&i.pendingToken;try{switch(a){case"google.com":return uw(w,l);case"facebook.com":return sw(l);case"github.com":return aw(l);case"twitter.com":return cw(l,m);default:return l||m||w||A?A?a.indexOf("saml.")==0?new jo(a,A):new hi(a,{pendingToken:A,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},a):new or(a).credential({idToken:w,accessToken:l,rawNonce:y}):null}}catch{return null}}function Hp(i){if(!i.isOAuthProvider)throw new x("invalid-oauth-provider")}function Ar(i,a,l,m,y,w,A){if(this.c=i,this.b=a||null,this.g=l||null,this.f=m||null,this.i=w||null,this.h=A||null,this.a=y||null,this.g||this.a){if(this.g&&this.a)throw new x("invalid-auth-event");if(this.g&&!this.f)throw new x("invalid-auth-event")}else throw new x("invalid-auth-event")}Ar.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},Ar.prototype.T=function(){return this.h},Ar.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function hw(i){return i=i||{},i.type?new Ar(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&Ie(i.error),i.postBody,i.tenantId):null}function wP(){this.b=null,this.a=[]}var Kp=null;function EP(i){var a=Kp;a.a.push(i),a.b||(a.b=function(l){for(var m=0;m<a.a.length;m++)a.a[m](l)},i=Ot("universalLinks.subscribe",f),typeof i=="function"&&i(null,a.b))}function Gp(i){var a="unauthorized-domain",l=void 0,m=Kn(i);i=m.a,m=m.c,m=="chrome-extension"?l=Mb("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):m=="http"||m=="https"?l=Mb("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):a="operation-not-supported-in-this-environment",x.call(this,a,l)}j(Gp,x);function Cu(i,a,l){x.call(this,i,l),i=a||{},i.Kb&&Ee(this,"email",i.Kb),i.ea&&Ee(this,"phoneNumber",i.ea),i.credential&&Ee(this,"credential",i.credential),i.$b&&Ee(this,"tenantId",i.$b)}j(Cu,x),Cu.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&cn(i,a),i},Cu.prototype.toJSON=function(){return this.w()};function Kl(i){if(i.code){var a=i.code||"";a.indexOf(ie)==0&&(a=a.substring(ie.length));var l={credential:qp(i),$b:i.tenantId};if(i.email)l.Kb=i.email;else if(i.phoneNumber)l.ea=i.phoneNumber;else if(!l.credential)return new x(a,i.message||void 0);return new Cu(a,l,i.message)}return null}function Ou(){}Ou.prototype.c=null;function dw(i){return i.c||(i.c=i.b())}var Wp;function Gl(){}j(Gl,Ou),Gl.prototype.a=function(){var i=pw(this);return i?new ActiveXObject(i):new XMLHttpRequest},Gl.prototype.b=function(){var i={};return pw(this)&&(i[0]=!0,i[1]=!0),i};function pw(i){if(!i.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],l=0;l<a.length;l++){var m=a[l];try{return new ActiveXObject(m),i.f=m}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}Wp=new Gl;function Wl(){}j(Wl,Ou),Wl.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest<"u")return new mw;throw Error("Unsupported browser")},Wl.prototype.b=function(){return{}};function mw(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=L(this.qc,this),this.a.onerror=L(this.Tb,this),this.a.onprogress=L(this.rc,this),this.a.ontimeout=L(this.vc,this)}e=mw.prototype,e.open=function(i,a,l){if(l!=null&&!l)throw Error("Only async requests are supported.");this.a.open(i,a)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,zp(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",zp(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,zp(this,1)};function zp(i,a){i.readyState=a,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Yp(i,a,l){this.reset(i,a,l,void 0,void 0)}Yp.prototype.a=null,Yp.prototype.reset=function(i,a,l,m,y){delete this.a};function Xp(i){this.f=i,this.b=this.c=this.a=null}function Ru(i,a){this.name=i,this.value=a}Ru.prototype.toString=function(){return this.name};var gw=new Ru("SEVERE",1e3),Qp=new Ru("WARNING",900),IP=new Ru("CONFIG",700),TP=new Ru("FINE",500);function vw(i){return i.c?i.c:i.a?vw(i.a):(lt("Root logger has no level set."),null)}Xp.prototype.log=function(i,a,l){if(i.value>=vw(this).value)for(E(a)&&(a=a()),i=new Yp(i,String(a),this.f),l&&(i.a=l),l=this;l;)l=l.a};var Jp={},zl=null;function Zp(i){zl||(zl=new Xp(""),Jp[""]=zl,zl.c=IP);var a;if(!(a=Jp[i])){a=new Xp(i);var l=i.lastIndexOf("."),m=i.substr(l+1);l=Zp(i.substr(0,l)),l.b||(l.b={}),l.b[m]=a,a.a=l,Jp[i]=a}return a}function _r(i,a){i&&i.log(TP,a,void 0)}function Yl(i){this.f=i}j(Yl,Ou),Yl.prototype.a=function(){return new Xl(this.f)},Yl.prototype.b=function(i){return function(){return i}}({});function Xl(i){Cn.call(this),this.u=i,this.h=void 0,this.readyState=em,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Zp("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}j(Xl,Cn);var em=0;e=Xl.prototype,e.open=function(i,a){if(this.readyState!=em)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=a,this.readyState=1,xu(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(a.body=i),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Pu(this)),this.readyState=em},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,xu(this)),this.a&&(this.readyState=3,xu(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,yw(this)):i.text().then(this.tc.bind(this),this.Va.bind(this)))))};function yw(i){i.c.read().then(i.pc.bind(i)).catch(i.Va.bind(i))}e.pc=function(i){if(this.a){var a=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});a&&(this.response=this.responseText+=a),i.done?Pu(this):xu(this),this.readyState==3&&yw(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,Pu(this))},e.sc=function(i){this.a&&(this.response=i,Pu(this))},e.Va=function(i){var a=this.i;a&&a.log(Qp,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&Pu(this)};function Pu(i){i.readyState=4,i.g=null,i.c=null,i.m=null,xu(i)}e.setRequestHeader=function(i,a){this.l.append(i,a)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(Qp,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(Qp,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var a=this.b.entries(),l=a.next();!l.done;)l=l.value,i.push(l[0]+": "+l[1]),l=a.next();return i.join(`\r
`)};function xu(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(Xl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function Du(i){Cn.call(this),this.headers=new Bs,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=_w,this.u=this.S=!1}j(Du,Cn);var _w="";Du.prototype.b=Zp("goog.net.XhrIo");var SP=/^https?$/i,AP=["POST","PUT"];function kP(i,a,l,m,y){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+a);l=l?l.toUpperCase():"GET",i.l=a,i.h="",i.P=l,i.J=!1,i.c=!0,i.a=i.D?i.D.a():Wp.a(),i.C=i.D?dw(i.D):dw(Wp),i.a.onreadystatechange=L(i.Wb,i);try{_r(i.b,pi(i,"Opening Xhr")),i.N=!0,i.a.open(l,String(a),!0),i.N=!1}catch(A){_r(i.b,pi(i,"Error opening Xhr: "+A.message)),bw(i,A);return}a=m||"";var w=new Bs(i.headers);y&&xR(y,function(A,R){w.set(R,A)}),y=T(w.Y()),m=f.FormData&&a instanceof f.FormData,!I(AP,l)||y||m||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(A,R){this.a.setRequestHeader(R,A)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{Iw(i),0<i.g&&(i.u=NP(i.a),_r(i.b,pi(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=L(i.Ma,i)):i.s=dp(i.Ma,i.g,i)),_r(i.b,pi(i,"Sending request")),i.i=!0,i.a.send(a),i.i=!1}catch(A){_r(i.b,pi(i,"Send error: "+A.message)),bw(i,A)}}function NP(i){return Tr&&jb(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function CP(i){return i.toLowerCase()=="content-type"}e=Du.prototype,e.Ma=function(){typeof c<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",_r(this.b,pi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function bw(i,a){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=a,ww(i),Ql(i)}function ww(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(_r(this.b,pi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ql(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ql(this,!0)),Du.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Ew(this):this.Jc())},e.Jc=function(){Ew(this)};function Ew(i){if(i.c&&typeof c<"u"){if(i.C[1]&&Lu(i)==4&&Jl(i)==2)_r(i.b,pi(i,"Local request error detected and ignored"));else if(i.i&&Lu(i)==4)dp(i.Wb,0,i);else if(i.dispatchEvent("readystatechange"),Lu(i)==4){_r(i.b,pi(i,"Request complete")),i.c=!1;try{var a=Jl(i);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var m;if(!(m=l)){var y;if(y=a===0){var w=String(i.l).match(m0)[1]||null;if(!w&&f.self&&f.self.location){var A=f.self.location.protocol;w=A.substr(0,A.length-1)}y=!SP.test(w?w.toLowerCase():"")}m=y}if(m)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var R=2<Lu(i)?i.a.statusText:""}catch(W){_r(i.b,"Can not get status: "+W.message),R=""}i.h=R+" ["+Jl(i)+"]",ww(i)}}finally{Ql(i)}}}}function Ql(i,a){if(i.a){Iw(i);var l=i.a,m=i.C[0]?p:null;i.a=null,i.C=null,a||i.dispatchEvent("ready");try{l.onreadystatechange=m}catch(y){(i=i.b)&&i.log(gw,"Problem encountered resetting onreadystatechange: "+y.message,void 0)}}}function Iw(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(f.clearTimeout(i.s),i.s=null)}function Lu(i){return i.a?i.a.readyState:0}function Jl(i){try{return 2<Lu(i)?i.a.status:-1}catch{return-1}}function OP(i){try{return i.a?i.a.responseText:""}catch(a){return _r(i.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case _w:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(gw,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return _r(this.b,"Can not get response: "+a.message),null}};function pi(i,a){return a+" ["+i.P+" "+i.l+" "+Jl(i)+"]"}function Ko(i){var a=xP;this.g=[],this.u=a,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Ko.prototype.cancel=function(i){if(this.a)this.c instanceof Ko&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,i?a.cancel(i):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new Fu,Zl(this),Mu(this,!1,i))}},Ko.prototype.m=function(i,a){this.i=!1,Mu(this,i,a)};function Mu(i,a,l){i.a=!0,i.c=l,i.f=!a,Sw(i)}function Zl(i){if(i.a){if(!i.v)throw new ef;i.v=!1}}function RP(i,a){tm(i,null,a,void 0)}function tm(i,a,l,m){i.g.push([a,l,m]),i.a&&Sw(i)}Ko.prototype.then=function(i,a,l){var m,y,w=new We(function(A,R){m=A,y=R});return tm(this,m,function(A){A instanceof Fu?w.cancel():y(A)}),w.then(i,a,l)},Ko.prototype.$goog_Thenable=!0;function Tw(i){return P(i.g,function(a){return E(a[1])})}function Sw(i){if(i.h&&i.a&&Tw(i)){var a=i.h,l=tf[a];l&&(f.clearTimeout(l.a),delete tf[a]),i.h=0}i.b&&(i.b.l--,delete i.b),a=i.c;for(var m=l=!1;i.g.length&&!i.i;){var y=i.g.shift(),w=y[0],A=y[1];if(y=y[2],w=i.f?A:w)try{var R=w.call(y||i.s,a);R!==void 0&&(i.f=i.f&&(R==a||R instanceof Error),i.c=a=R),(De(a)||typeof f.Promise=="function"&&a instanceof f.Promise)&&(m=!0,i.i=!0)}catch(W){a=W,i.f=!0,Tw(i)||(l=!0)}}i.c=a,m&&(R=L(i.m,i,!0),m=L(i.m,i,!1),a instanceof Ko?(tm(a,R,m),a.C=!0):a.then(R,m)),l&&(a=new Aw(a),tf[a.a]=a,i.h=a.a)}function ef(){pe.call(this)}j(ef,pe),ef.prototype.message="Deferred has already fired",ef.prototype.name="AlreadyCalledError";function Fu(){pe.call(this)}j(Fu,pe),Fu.prototype.message="Deferred was canceled",Fu.prototype.name="CanceledError";function Aw(i){this.a=f.setTimeout(L(this.c,this),0),this.b=i}Aw.prototype.c=function(){throw delete tf[this.a],this.b};var tf={};function nm(i){var a={},l=a.document||document,m=Nb(i).toString(),y=Al(document,"SCRIPT"),w={Xb:y,Ma:void 0},A=new Ko(w),R=null,W=a.timeout!=null?a.timeout:5e3;return 0<W&&(R=window.setTimeout(function(){nf(y,!0);var ee=new rm(LP,"Timeout reached for loading script "+m);Zl(A),Mu(A,!1,ee)},W),w.Ma=R),y.onload=y.onreadystatechange=function(){y.readyState&&y.readyState!="loaded"&&y.readyState!="complete"||(nf(y,a.xd||!1,R),Zl(A),Mu(A,!0,null))},y.onerror=function(){nf(y,!0,R);var ee=new rm(DP,"Error while loading script "+m);Zl(A),Mu(A,!1,ee)},w=a.attributes||{},cn(w,{type:"text/javascript",charset:"UTF-8"}),$b(y,w),lR(y,i),PP(l).appendChild(y),A}function PP(i){var a;return(a=(i||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:i.documentElement}function xP(){if(this&&this.Xb){var i=this.Xb;i&&i.tagName=="SCRIPT"&&nf(i,!0,this.Ma)}}function nf(i,a,l){l!=null&&f.clearTimeout(l),i.onload=p,i.onerror=p,i.onreadystatechange=p,a&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var DP=0,LP=1;function rm(i,a){var l="Jsloader error (code #"+i+")";a&&(l+=": "+a),pe.call(this,l),this.code=i}j(rm,pe);function rf(i){this.f=i}j(rf,Ou),rf.prototype.a=function(){return new this.f},rf.prototype.b=function(){return{}};function kr(i,a,l){if(this.c=i,i=a||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||MP,this.g=pt(i.secureTokenHeaders||FP),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||UP,this.a=pt(i.firebaseHeaders||VP),l&&(this.a["X-Client-Version"]=l,this.g["X-Client-Version"]=l),l=Gr()=="Node",l=f.XMLHttpRequest||l&&Pe.INTERNAL.node&&Pe.INTERNAL.node.XMLHttpRequest,!l&&!Sr())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Sr()?this.f=new Yl(self):k0()?this.f=new rf(l):this.f=new Wl,this.b=null}var im,Nr="idToken",MP=new Fi(3e4,6e4),FP={"Content-Type":"application/x-www-form-urlencoded"},UP=new Fi(3e4,6e4),VP={"Content-Type":"application/json"};function kw(i,a){a?i.a["X-Firebase-Locale"]=a:delete i.a["X-Firebase-Locale"]}function of(i,a){a&&(i.l=om("https://securetoken.googleapis.com/v1/token",a),i.h=om("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),i.i=om("https://identitytoolkit.googleapis.com/v2/",a))}function om(i,a){return i=Kn(i),a=Kn(a.url),i.f=i.a+i.f,gu(i,a.c),i.a=a.a,vu(i,a.g),i.toString()}function Nw(i,a){a?(i.a["X-Client-Version"]=a,i.g["X-Client-Version"]=a):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}kr.prototype.T=function(){return this.b};function Cw(i,a,l,m,y,w,A){qR()||Sr()?i=L(i.u,i):(im||(im=new We(function(R,W){BP(R,W)})),i=L(i.s,i)),i(a,l,m,y,w,A)}kr.prototype.u=function(i,a,l,m,y,w){if(Sr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var A=new Du(this.f);if(w){A.g=Math.max(0,w);var R=setTimeout(function(){A.dispatchEvent("timeout")},w)}h0(A,"complete",function(){R&&clearTimeout(R);var W=null;try{W=JSON.parse(OP(this))||null}catch{W=null}a&&a(W)}),hp(A,"ready",function(){R&&clearTimeout(R),o0(this)}),hp(A,"timeout",function(){R&&clearTimeout(R),o0(this),a&&a(null)}),kP(A,i,l,m,y)};var jP=new Hr(El,"https://apis.google.com/js/client.js?onload=%{onload}"),Ow="__fcb"+Math.floor(1e6*Math.random()).toString();function BP(i,a){if(((window.gapi||{}).client||{}).request)i();else{f[Ow]=function(){((window.gapi||{}).client||{}).request?i():a(Error("CORS_UNSUPPORTED"))};var l=zd(jP,{onload:Ow});RP(nm(l),function(){a(Error("CORS_UNSUPPORTED"))})}}kr.prototype.s=function(i,a,l,m,y){var w=this;im.then(function(){window.gapi.client.setApiKey(w.c);var A=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:l,body:m,headers:y,authType:"none",callback:function(R){window.gapi.auth.setToken(A),a&&a(R)}})}).o(function(A){a&&a({error:{message:A&&A.message||"CORS_UNSUPPORTED"}})})};function $P(i,a){return new We(function(l,m){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?Cw(i,i.l+"?key="+encodeURIComponent(i.c),function(y){y?y.error?m(dm(y)):y.access_token&&y.refresh_token?l(y):m(new x("internal-error")):m(new x("network-request-failed"))},"POST",v0(a).toString(),i.g,i.m.get()):m(new x("internal-error"))})}function Rw(i,a,l,m,y,w,A){var R=Kn(a+l);jt(R,"key",i.c),A&&jt(R,"cb",Date.now().toString());var W=m=="GET";if(W)for(var ee in y)y.hasOwnProperty(ee)&&jt(R,ee,y[ee]);return new We(function(je,ft){Cw(i,R.toString(),function(it){it?it.error?ft(dm(it,w||{})):je(it):ft(new x("network-request-failed"))},m,W?void 0:b0(O0(y)),i.a,i.v.get())})}function Go(i){if(i=i.email,typeof i!="string"||!GR.test(i))throw new x("invalid-email")}function Pw(i){"email"in i&&Go(i)}function qP(i,a){return Qe(i,ZP,{identifier:a,continueUri:Ml()?bu():"http://localhost"}).then(function(l){return l.signinMethods||[]})}function HP(i){return Qe(i,fx,{}).then(function(a){return a.authorizedDomains||[]})}function Gn(i){if(!i[Nr])throw i.mfaPendingCredential?new x("multi-factor-auth-required",null,pt(i)):new x("internal-error")}function sm(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new x("internal-error")}else{if(!i.sessionInfo)throw new x("missing-verification-id");if(!i.code)throw new x("missing-verification-code")}}kr.prototype.Ab=function(){return Qe(this,mx,{})},kr.prototype.Cb=function(i,a){return Qe(this,Lw,{idToken:i,email:a})},kr.prototype.Db=function(i,a){return Qe(this,Mw,{idToken:i,password:a})};var KP={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=kr.prototype,e.Eb=function(i,a){var l={idToken:i},m=[];return Xe(KP,function(y,w){var A=a[w];A===null?m.push(y):w in a&&(l[w]=A)}),m.length&&(l.deleteAttribute=m),Qe(this,Lw,l)},e.wb=function(i,a){return i={requestType:"PASSWORD_RESET",email:i},cn(i,a),Qe(this,lx,i)},e.xb=function(i,a){return i={requestType:"EMAIL_SIGNIN",email:i},cn(i,a),Qe(this,ax,i)},e.vb=function(i,a){return i={requestType:"VERIFY_EMAIL",idToken:i},cn(i,a),Qe(this,ux,i)},e.Fb=function(i,a,l){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:a},cn(i,l),Qe(this,cx,i)};function GP(i,a){return Qe(i,px,a)}e.gb=function(i){return Qe(this,Ex,i)};function WP(i,a){return Qe(i,gx,a).then(function(l){return l.phoneSessionInfo.sessionInfo})}function xw(i){if(!i.phoneVerificationInfo)throw new x("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new x("missing-verification-code")}function zP(i,a){return Qe(i,vx,a).then(function(l){return l.phoneResponseInfo.sessionInfo})}function YP(i,a,l){return Qe(i,tx,{idToken:a,deleteProvider:l})}function am(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new x("internal-error")}function um(i,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(i.sessionId?a.nonce=i.sessionId:i.postBody&&(i=new Mo(i.postBody),gp(i,"nonce")&&(a.nonce=i.get("nonce")))),a}function Dw(i){var a=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",a=Kl(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",a=Kl(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",a=Kl(i)):i.errorMessage&&(a=Uw(i.errorMessage)),a)throw a;Gn(i)}function cm(i,a){return a.returnIdpCredential=!0,Qe(i,yx,a)}function lm(i,a){return a.returnIdpCredential=!0,Qe(i,bx,a)}function fm(i,a){return a.returnIdpCredential=!0,a.autoCreate=!1,Qe(i,_x,a)}function hm(i){if(!i.oobCode)throw new x("invalid-action-code")}e.ob=function(i,a){return Qe(this,dx,{oobCode:i,newPassword:a})},e.Sa=function(i){return Qe(this,QP,{oobCode:i})},e.kb=function(i){return Qe(this,XP,{oobCode:i})};var XP={endpoint:"setAccountInfo",A:hm,Z:"email",B:!0},QP={endpoint:"resetPassword",A:hm,G:function(i){var a=i.requestType;if(!a||!i.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},B:!0},JP={endpoint:"signupNewUser",A:function(i){if(Go(i),!i.password)throw new x("weak-password")},G:Gn,V:!0,B:!0},ZP={endpoint:"createAuthUri",B:!0},ex={endpoint:"deleteAccount",O:["idToken"]},tx={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new x("internal-error")}},nx={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Go,G:Gn,V:!0,B:!0},rx={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Go,G:Gn,V:!0},ix={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:xw,G:Gn,B:!0,Na:!0},ox={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:xw,G:Gn,B:!0,Na:!0},sx={endpoint:"getAccountInfo"},ax={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new x("internal-error");Go(i)},Z:"email",B:!0},ux={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new x("internal-error")},Z:"email",B:!0},cx={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},Z:"email",B:!0},lx={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new x("internal-error");Go(i)},Z:"email",B:!0},fx={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},hx={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new x("internal-error")}},dx={endpoint:"resetPassword",A:hm,Z:"email",B:!0},px={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Lw={endpoint:"setAccountInfo",O:["idToken"],A:Pw,V:!0},Mw={endpoint:"setAccountInfo",O:["idToken"],A:function(i){if(Pw(i),!i.password)throw new x("weak-password")},G:Gn,V:!0},mx={endpoint:"signupNewUser",G:Gn,V:!0,B:!0},gx={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new x("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},vx={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},yx={endpoint:"verifyAssertion",A:am,Za:um,G:Dw,V:!0,B:!0},_x={endpoint:"verifyAssertion",A:am,Za:um,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new x("user-not-found");if(i.errorMessage)throw Uw(i.errorMessage);Gn(i)},V:!0,B:!0},bx={endpoint:"verifyAssertion",A:function(i){if(am(i),!i.idToken)throw new x("internal-error")},Za:um,G:Dw,V:!0},wx={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new x("invalid-custom-token")},G:Gn,V:!0,B:!0},Fw={endpoint:"verifyPassword",A:function(i){if(Go(i),!i.password)throw new x("wrong-password")},G:Gn,V:!0,B:!0},Ex={endpoint:"verifyPhoneNumber",A:sm,G:Gn,B:!0},Ix={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new x("internal-error");sm(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",Kl(i);Gn(i)}},Tx={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:sm,G:Gn,B:!0},Sx={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[Nr]^!!i.refreshToken)throw new x("internal-error")},B:!0,Na:!0};function Qe(i,a,l){if(!ZR(l,a.O))return Ct(new x("internal-error"));var m=!!a.Na,y=a.Vb||"POST",w;return ke(l).then(a.A).then(function(){return a.V&&(l.returnSecureToken=!0),a.B&&i.b&&typeof l.tenantId>"u"&&(l.tenantId=i.b),m?Rw(i,i.i,a.endpoint,y,l,a.Ib,a.mb||!1):Rw(i,i.h,a.endpoint,y,l,a.Ib,a.mb||!1)}).then(function(A){return w=A,a.Za?a.Za(l,w):w}).then(a.G).then(function(){if(!a.Z)return w;if(!(a.Z in w))throw new x("internal-error");return w[a.Z]})}function Uw(i){return dm({error:{errors:[{message:i}],code:400,message:i}})}function dm(i,a){var l=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",m={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(l=m[l]?new x(m[l]):null)return l;l=i.error&&i.error.message||"",m={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},cn(m,a||{}),a=(a=l.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var y in m)if(l.indexOf(y)===0)return new x(m[y],a);return!a&&i&&(a=Eu(i)),new x("internal-error",a)}function Ax(i){this.b=i,this.a=null,this.sb=kx(this)}function kx(i){return xx().then(function(){return new We(function(a,l){Ot("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:Ot("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(m){function y(){clearTimeout(w),a()}i.a=m,i.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){l(Error("Network Error"))},Px.get());m.ping(y).then(y,function(){l(Error("Network Error"))})})})})}function Nx(i,a){return i.sb.then(function(){return new We(function(l){i.a.send(a.type,a,l,Ot("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Cx(i,a){i.sb.then(function(){i.a.register("authEvent",a,Ot("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var Ox=new Hr(El,"https://apis.google.com/js/api.js?onload=%{onload}"),Rx=new Fi(3e4,6e4),Px=new Fi(5e3,15e3),sf=null;function xx(){return sf||(sf=new We(function(i,a){function l(){P0(),Ot("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){P0(),a(Error("Network Error"))},timeout:Rx.get()})}if(Ot("gapi.iframes.Iframe"))i();else if(Ot("gapi.load"))l();else{var m="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[m]=function(){Ot("gapi.load")?l():a(Error("Network Error"))},m=zd(Ox,{onload:m}),ke(nm(m)).o(function(){a(Error("Network Error"))})}}).o(function(i){throw sf=null,i}))}function Vw(i,a,l,m){this.l=i,this.h=a,this.i=l,this.g=m,this.f=null,this.g?(i=Kn(this.g.url),i=Dl(i.c,i.a,i.g,"/emulator/auth/iframe")):i=Dl("https",this.l,null,"/__/auth/iframe"),this.a=i,jt(this.a,"apiKey",this.h),jt(this.a,"appName",this.i),this.b=null,this.c=[]}Vw.prototype.toString=function(){return this.f?jt(this.a,"v",this.f):Kr(this.a.b,"v"),this.b?jt(this.a,"eid",this.b):Kr(this.a.b,"eid"),this.c.length?jt(this.a,"fw",this.c.join(",")):Kr(this.a.b,"fw"),this.a.toString()};function pm(i,a,l,m,y,w){this.u=i,this.s=a,this.c=l,this.m=m,this.v=w,this.i=this.g=this.l=null,this.a=y,this.h=this.f=null}pm.prototype.zb=function(i){return this.h=i,this},pm.prototype.toString=function(){if(this.v){var i=Kn(this.v.url);i=Dl(i.c,i.a,i.g,"/emulator/auth/handler")}else i=Dl("https",this.u,null,"/__/auth/handler");if(jt(i,"apiKey",this.s),jt(i,"appName",this.c),jt(i,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var l=Pe.app(this.c).auth().la()}catch{l=null}a.pb=l,jt(i,"providerId",this.a.providerId),l=this.a,a=O0(l.Jb);for(var m in a)a[m]=a[m].toString();m=l.Qc,a=pt(a);for(var y=0;y<m.length;y++){var w=m[y];w in a&&delete a[w]}l.qb&&l.pb&&!a[l.qb]&&(a[l.qb]=l.pb),Nt(a)||jt(i,"customParameters",Eu(a))}if(typeof this.a.Rb=="function"&&(l=this.a.Rb(),l.length&&jt(i,"scopes",l.join(","))),this.l?jt(i,"redirectUrl",this.l):Kr(i.b,"redirectUrl"),this.g?jt(i,"eventId",this.g):Kr(i.b,"eventId"),this.i?jt(i,"v",this.i):Kr(i.b,"v"),this.b)for(var A in this.b)this.b.hasOwnProperty(A)&&!vr(i,A)&&jt(i,A,this.b[A]);return this.h?jt(i,"tid",this.h):Kr(i.b,"tid"),this.f?jt(i,"eid",this.f):Kr(i.b,"eid"),A=mm(this.c),A.length&&jt(i,"fw",A.join(",")),i.toString()};function mm(i){try{return Pe.app(i).auth().Ga()}catch{return[]}}function jw(i,a,l,m,y,w){this.s=i,this.g=a,this.b=l,this.f=w,this.c=m||null,this.i=y||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Bw(i){var a=bu();return HP(i).then(function(l){e:{var m=Kn(a),y=m.c;m=m.a;for(var w=0;w<l.length;w++){var A=l[w],R=m,W=y;if(A.indexOf("chrome-extension://")==0?R=Kn(A).a==R&&W=="chrome-extension":W!="http"&&W!="https"?R=!1:KR.test(A)?R=R==A:(A=A.split(".").join("\\."),R=new RegExp("^(.+\\."+A+"|"+A+")$","i").test(R)),R){l=!0;break e}}l=!1}if(!l)throw new Gp(bu())})}function $w(i){return i.m||(i.m=Ll().then(function(){if(!i.u){var a=i.c,l=i.i,m=mm(i.b),y=new Vw(i.s,i.g,i.b,i.f);y.f=a,y.b=l,y.c=Z(m||[]),i.u=y.toString()}i.v=new Ax(i.u),Dx(i)})),i.m}e=jw.prototype,e.Pb=function(i,a,l){var m=new x("popup-closed-by-user"),y=new x("web-storage-unsupported"),w=this,A=!1;return this.ma().then(function(){Lx(w).then(function(R){R||(i&&Fo(i),a(y),A=!0)})}).o(function(){}).then(function(){if(!A)return HR(i)}).then(function(){if(!A)return js(l).then(function(){a(m)})})},e.Yb=function(){var i=ln();return!wu(i)&&!R0(i)},e.Ub=function(){return!1},e.Nb=function(i,a,l,m,y,w,A,R){if(!i)return Ct(new x("popup-blocked"));if(A&&!wu())return this.ma().o(function(ee){Fo(i),y(ee)}),m(),ke();this.a||(this.a=Bw(qw(this)));var W=this;return this.a.then(function(){var ee=W.ma().o(function(je){throw Fo(i),y(je),je});return m(),ee}).then(function(){if(Hp(l),!A){var ee=Uu(W.s,W.g,W.b,a,l,null,w,W.c,void 0,W.i,R,W.f);I0(ee,i)}}).o(function(ee){throw ee.code=="auth/network-request-failed"&&(W.a=null),ee})};function qw(i){return i.l||(i.C=i.c?Hs(i.c,mm(i.b)):null,i.l=new kr(i.g,qe(i.i),i.C),i.f&&of(i.l,i.f)),i.l}e.Ob=function(i,a,l,m){this.a||(this.a=Bw(qw(this)));var y=this;return this.a.then(function(){Hp(a);var w=Uu(y.s,y.g,y.b,i,a,bu(),l,y.c,void 0,y.i,m,y.f);I0(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(y.a=null),w})},e.ma=function(){var i=this;return $w(this).then(function(){return i.v.sb}).o(function(){throw i.a=null,new x("network-request-failed")})},e.ac=function(){return!0};function Uu(i,a,l,m,y,w,A,R,W,ee,je,ft){return i=new pm(i,a,l,m,y,ft),i.l=w,i.g=A,i.i=R,i.b=pt(W||null),i.f=ee,i.zb(je).toString()}function Dx(i){if(!i.v)throw Error("IfcHandler must be initialized!");Cx(i.v,function(a){var l={};if(a&&a.authEvent){var m=!1;for(a=hw(a.authEvent),l=0;l<i.h.length;l++)m=i.h[l](a)||m;return l={},l.status=m?"ACK":"ERROR",ke(l)}return l.status="ERROR",ke(l)})}function Lx(i){var a={type:"webStorageSupport"};return $w(i).then(function(){return Nx(i.v,a)}).then(function(l){if(l&&l.length&&typeof l[0].webStorageSupport<"u")return l[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Ta=function(i){M(this.h,function(a){return a==i})};function Hw(i){if(this.a=i||Pe.INTERNAL.reactNative&&Pe.INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=Hw.prototype,e.get=function(i){return ke(this.a.getItem(i)).then(function(a){return a&&Gs(a)})},e.set=function(i,a){return ke(this.a.setItem(i,Eu(a)))},e.U=function(i){return ke(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function Kw(i){this.b=i,this.a={},this.f=L(this.c,this)}var Gw=[];function Mx(){var i=Sr()?self:null;if(z(Gw,function(l){l.b==i&&(a=l)}),!a){var a=new Kw(i);Gw.push(a)}return a}Kw.prototype.c=function(i){var a=i.data.eventType,l=i.data.eventId,m=this.a[a];if(m&&0<m.length){i.ports[0].postMessage({status:"ack",eventId:l,eventType:a,response:null});var y=[];z(m,function(w){y.push(ke().then(function(){return w(i.origin,i.data.data)}))}),Xb(y).then(function(w){var A=[];z(w,function(R){A.push({fulfilled:R.Qb,value:R.value,reason:R.reason?R.reason.message:void 0})}),z(A,function(R){for(var W in R)typeof R[W]>"u"&&delete R[W]}),i.ports[0].postMessage({status:"done",eventId:l,eventType:a,response:A})})}};function Ww(i,a,l){Nt(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[a]>"u"&&(i.a[a]=[]),i.a[a].push(l)}function zw(i){this.a=i}zw.prototype.postMessage=function(i,a){this.a.postMessage(i,a)};function Yw(i){this.c=i,this.b=!1,this.a=[]}function Xw(i,a,l,m){var y,w=l||{},A,R,W,ee=null;if(i.b)return Ct(Error("connection_unavailable"));var je=m?800:50,ft=typeof MessageChannel<"u"?new MessageChannel:null;return new We(function(it,sn){ft?(y=Math.floor(Math.random()*Math.pow(10,20)).toString(),ft.port1.start(),R=setTimeout(function(){sn(Error("unsupported_event"))},je),A=function(mi){mi.data.eventId===y&&(mi.data.status==="ack"?(clearTimeout(R),W=setTimeout(function(){sn(Error("timeout"))},3e3)):mi.data.status==="done"?(clearTimeout(W),typeof mi.data.response<"u"?it(mi.data.response):sn(Error("unknown_error"))):(clearTimeout(R),clearTimeout(W),sn(Error("invalid_response"))))},ee={messageChannel:ft,onMessage:A},i.a.push(ee),ft.port1.addEventListener("message",A),i.c.postMessage({eventType:a,eventId:y,data:w},[ft.port2])):sn(Error("connection_unavailable"))}).then(function(it){return gm(i,ee),it}).o(function(it){throw gm(i,ee),it})}function gm(i,a){if(a){var l=a.messageChannel,m=a.onMessage;l&&(l.port1.removeEventListener("message",m),l.port1.close()),M(i.a,function(y){return y==a})}}Yw.prototype.close=function(){for(;0<this.a.length;)gm(this,this.a[0]);this.b=!0};function Qw(){if(!_m())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;Sr()&&self?(this.v=Mx(),Ww(this.v,"keyChanged",function(a,l){return eE(i).then(function(m){return 0<m.length&&z(i.a,function(y){y(m)}),{keyProcessed:I(m,l.key)}})}),Ww(this.v,"ping",function(){return ke(["keyChanged"])})):QR().then(function(a){(i.h=a)&&(i.g=new Yw(new zw(a)),Xw(i.g,"ping",null,!0).then(function(l){l[0].fulfilled&&I(l[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var vm;function Fx(i){return new We(function(a,l){var m=i.m.deleteDatabase("firebaseLocalStorageDb");m.onsuccess=function(){a()},m.onerror=function(y){l(Error(y.target.error))}})}function Jw(i){return new We(function(a,l){var m=i.m.open("firebaseLocalStorageDb",1);m.onerror=function(y){try{y.preventDefault()}catch{}l(Error(y.target.error))},m.onupgradeneeded=function(y){y=y.target.result;try{y.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){l(w)}},m.onsuccess=function(y){y=y.target.result,y.objectStoreNames.contains("firebaseLocalStorage")?a(y):Fx(i).then(function(){return Jw(i)}).then(function(w){a(w)}).o(function(w){l(w)})}})}function ym(i){return i.i||(i.i=Jw(i)),i.i}function af(i,a){function l(y,w){ym(i).then(a).then(y).o(function(A){if(3<++m)w(A);else return ym(i).then(function(R){return R.close(),i.i=void 0,l(y,w)}).o(function(R){w(R)})})}var m=0;return new We(l)}function _m(){try{return!!f.indexedDB}catch{return!1}}function Vu(i){return i.objectStore("firebaseLocalStorage")}function ju(i,a){return i.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function Xs(i){return new We(function(a,l){i.onsuccess=function(m){m&&m.target?a(m.target.result):a()},i.onerror=function(m){l(m.target.error)}})}e=Qw.prototype,e.set=function(i,a){var l=this,m=!1;return af(this,function(y){return y=Vu(ju(y,!0)),Xs(y.get(i))}).then(function(y){return af(l,function(w){if(w=Vu(ju(w,!0)),y)return y.value=a,Xs(w.put(y));l.b++,m=!0;var A={};return A.fbase_key=i,A.value=a,Xs(w.add(A))})}).then(function(){return l.c[i]=a,Zw(l,i)}).oa(function(){m&&l.b--})};function Zw(i,a){return i.g&&i.h&&XR()===i.h?Xw(i.g,"keyChanged",{key:a},i.s).then(function(){}).o(function(){}):ke()}e.get=function(i){return af(this,function(a){return Xs(Vu(ju(a,!1)).get(i))}).then(function(a){return a&&a.value})},e.U=function(i){var a=this,l=!1;return af(this,function(m){return l=!0,a.b++,Xs(Vu(ju(m,!0)).delete(i))}).then(function(){return delete a.c[i],Zw(a,i)}).oa(function(){l&&a.b--})};function eE(i){return ym(i).then(function(a){var l=Vu(ju(a,!1));return l.getAll?Xs(l.getAll()):new We(function(m,y){var w=[],A=l.openCursor();A.onsuccess=function(R){(R=R.target.result)?(w.push(R.value),R.continue()):m(w)},A.onerror=function(R){y(R.target.error)}})}).then(function(a){var l={},m=[];if(i.b==0){for(m=0;m<a.length;m++)l[a[m].fbase_key]=a[m].value;m=T0(i.c,l),i.c=l}return m})}e.ca=function(i){this.a.length==0&&Ux(this),this.a.push(i)},e.ia=function(i){M(this.a,function(a){return a==i}),this.a.length==0&&tE(this)};function Ux(i){function a(){i.f=setTimeout(function(){i.l=eE(i).then(function(l){0<l.length&&z(i.a,function(m){m(l)})}).then(function(){a()}).o(function(l){l.message!="STOP_EVENT"&&a()})},800)}tE(i),a()}function tE(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function nE(i){var a=this,l=null;this.a=[],this.type="indexedDB",this.c=i,this.b=ke().then(function(){if(_m()){var m=Vo(),y="__sak"+m;return vm||(vm=new Qw),l=vm,l.set(y,m).then(function(){return l.get(y)}).then(function(w){if(w!==m)throw Error("indexedDB not supported!");return l.U(y)}).then(function(){return l}).o(function(){return a.c})}return a.c}).then(function(m){return a.type=m.type,m.ca(function(y){z(a.a,function(w){w(y)})}),m})}e=nE.prototype,e.get=function(i){return this.b.then(function(a){return a.get(i)})},e.set=function(i,a){return this.b.then(function(l){return l.set(i,a)})},e.U=function(i){return this.b.then(function(a){return a.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){M(this.a,function(a){return a==i})};function Bu(){this.a={},this.type="inMemory"}e=Bu.prototype,e.get=function(i){return ke(this.a[i])},e.set=function(i,a){return this.a[i]=a,ke()},e.U=function(i){return delete this.a[i],ke()},e.ca=function(){},e.ia=function(){};function uf(){if(!Vx())throw Gr()=="Node"?new x("internal-error","The LocalStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=rE()||Pe.INTERNAL.node.localStorage,this.type="localStorage"}function rE(){try{var i=f.localStorage,a=Vo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function Vx(){var i=Gr()=="Node";if(i=rE()||i&&Pe.INTERNAL.node&&Pe.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=uf.prototype,e.get=function(i){var a=this;return ke().then(function(){var l=a.a.getItem(i);return Gs(l)})},e.set=function(i,a){var l=this;return ke().then(function(){var m=Eu(a);m===null?l.U(i):l.a.setItem(i,m)})},e.U=function(i){var a=this;return ke().then(function(){a.a.removeItem(i)})},e.ca=function(i){f.window&&gr(f.window,"storage",i)},e.ia=function(i){f.window&&ir(f.window,"storage",i)};function bm(){this.type="nullStorage"}e=bm.prototype,e.get=function(){return ke(null)},e.set=function(){return ke()},e.U=function(){return ke()},e.ca=function(){},e.ia=function(){};function wm(){if(!jx())throw Gr()=="Node"?new x("internal-error","The SessionStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=iE()||Pe.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function iE(){try{var i=f.sessionStorage,a=Vo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function jx(){var i=Gr()=="Node";if(i=iE()||i&&Pe.INTERNAL.node&&Pe.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=wm.prototype,e.get=function(i){var a=this;return ke().then(function(){var l=a.a.getItem(i);return Gs(l)})},e.set=function(i,a){var l=this;return ke().then(function(){var m=Eu(a);m===null?l.U(i):l.a.setItem(i,m)})},e.U=function(i){var a=this;return ke().then(function(){a.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function Bx(){var i={};i.Browser=$x,i.Node=qx,i.ReactNative=Hx,i.Worker=Kx,this.a=i[Gr()]}var Em,$x={F:uf,cb:wm},qx={F:uf,cb:wm},Hx={F:Hw,cb:bm},Kx={F:uf,cb:bm},Qs={rd:"local",NONE:"none",td:"session"};function Gx(i){var a=new x("invalid-persistence-type"),l=new x("unsupported-persistence-type");e:{for(m in Qs)if(Qs[m]==i){var m=!0;break e}m=!1}if(!m||typeof i!="string")throw a;switch(Gr()){case"ReactNative":if(i==="session")throw l;break;case"Node":if(i!=="none")throw l;break;case"Worker":if(i==="session"||!_m()&&i!=="none")throw l;break;default:if(!Ep()&&i!=="none")throw l}}function oE(){var i=!!(!R0(ln())&&bp()),a=wu(),l=Ep();this.m=i,this.h=a,this.l=l,this.a={},Em||(Em=new Bx),i=Em;try{this.g=!yp()&&x0()||!f.indexedDB?new i.a.F:new nE(Sr()?new Bu:new i.a.F)}catch{this.g=new Bu,this.h=!0}try{this.i=new i.a.cb}catch{this.i=new Bu}this.v=new Bu,this.f=L(this.Zb,this),this.b={}}var Im;function $u(){return Im||(Im=new oE),Im}function Wo(i,a){switch(a){case"session":return i.i;case"none":return i.v;default:return i.g}}function Js(i,a){return"firebase:"+i.name+(a?":"+a:"")}function Wx(i,a,l){var m=Js(a,l),y=Wo(i,a.F);return i.get(a,l).then(function(w){var A=null;try{A=Gs(f.localStorage.getItem(m))}catch{}if(A&&!w)return f.localStorage.removeItem(m),i.set(a,A,l);A&&w&&y.type!="localStorage"&&f.localStorage.removeItem(m)})}e=oE.prototype,e.get=function(i,a){return Wo(this,i.F).get(Js(i,a))};function Zs(i,a,l){return l=Js(a,l),a.F=="local"&&(i.b[l]=null),Wo(i,a.F).U(l)}e.set=function(i,a,l){var m=Js(i,l),y=this,w=Wo(this,i.F);return w.set(m,a).then(function(){return w.get(m)}).then(function(A){i.F=="local"&&(y.b[m]=A)})},e.addListener=function(i,a,l){i=Js(i,a),this.l&&(this.b[i]=f.localStorage.getItem(i)),Nt(this.a)&&(Wo(this,"local").ca(this.f),this.h||(yp()||!x0())&&f.indexedDB||!this.l||zx(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(l)},e.removeListener=function(i,a,l){i=Js(i,a),this.a[i]&&(M(this.a[i],function(m){return m==l}),this.a[i].length==0&&delete this.a[i]),Nt(this.a)&&(Wo(this,"local").ia(this.f),Tm(this))};function zx(i){Tm(i),i.c=setInterval(function(){for(var a in i.a){var l=f.localStorage.getItem(a),m=i.b[a];l!=m&&(i.b[a]=l,l=new Do({type:"storage",key:a,target:window,oldValue:m,newValue:l,a:!0}),i.Zb(l))}},1e3)}function Tm(i){i.c&&(clearInterval(i.c),i.c=null)}e.Zb=function(i){if(i&&i.g){var a=i.a.key;if(a==null)for(var l in this.a){var m=this.b[l];typeof m>"u"&&(m=null);var y=f.localStorage.getItem(l);y!==m&&(this.b[l]=y,this.nb(l))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof i.a.a<"u"?Wo(this,"local").ia(this.f):Tm(this),this.m){if(l=f.localStorage.getItem(a),m=i.a.newValue,m!==l)m!==null?f.localStorage.setItem(a,m):f.localStorage.removeItem(a);else if(this.b[a]===m&&typeof i.a.a>"u")return}var w=this;l=function(){(typeof i.a.a<"u"||w.b[a]!==f.localStorage.getItem(a))&&(w.b[a]=f.localStorage.getItem(a),w.nb(a))},Tr&&Di&&Di==10&&f.localStorage.getItem(a)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(l,10):l()}}else z(i,L(this.nb,this))},e.nb=function(i){this.a[i]&&z(this.a[i],function(a){a()})};function Yx(i){this.a=i,this.b=$u()}var Sm={name:"authEvent",F:"local"};function Xx(i){return i.b.get(Sm,i.a).then(function(a){return hw(a)})}function Qx(){this.a=$u()}function Jx(){this.b=-1}function cf(i,a){this.b=sE,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=a,this.l=f.Int32Array?new Int32Array(64):Array(64),lf===void 0&&(f.Int32Array?lf=new Int32Array(cE):lf=cE),this.reset()}var lf;j(cf,Jx);for(var sE=64,Zx=sE-1,aE=[],Am=0;Am<Zx;Am++)aE[Am]=0;var uE=B(128,aE);cf.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):Z(this.h)};function km(i){for(var a=i.f,l=i.l,m=0,y=0;y<a.length;)l[m++]=a[y]<<24|a[y+1]<<16|a[y+2]<<8|a[y+3],y=4*m;for(a=16;64>a;a++){y=l[a-15]|0,m=l[a-2]|0;var w=(l[a-16]|0)+((y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3)|0,A=(l[a-7]|0)+((m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10)|0;l[a]=w+A|0}m=i.a[0]|0,y=i.a[1]|0;var R=i.a[2]|0,W=i.a[3]|0,ee=i.a[4]|0,je=i.a[5]|0,ft=i.a[6]|0;for(w=i.a[7]|0,a=0;64>a;a++){var it=((m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10))+(m&y^m&R^y&R)|0;A=ee&je^~ee&ft,w=w+((ee>>>6|ee<<26)^(ee>>>11|ee<<21)^(ee>>>25|ee<<7))|0,A=A+(lf[a]|0)|0,A=w+(A+(l[a]|0)|0)|0,w=ft,ft=je,je=ee,ee=W+A|0,W=R,R=y,y=m,m=A+it|0}i.a[0]=i.a[0]+m|0,i.a[1]=i.a[1]+y|0,i.a[2]=i.a[2]+R|0,i.a[3]=i.a[3]+W|0,i.a[4]=i.a[4]+ee|0,i.a[5]=i.a[5]+je|0,i.a[6]=i.a[6]+ft|0,i.a[7]=i.a[7]+w|0}function Nm(i,a,l){l===void 0&&(l=a.length);var m=0,y=i.c;if(typeof a=="string")for(;m<l;)i.f[y++]=a.charCodeAt(m++),y==i.b&&(km(i),y=0);else if(_(a))for(;m<l;){var w=a[m++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");i.f[y++]=w,y==i.b&&(km(i),y=0)}else throw Error("message must be string or array");i.c=y,i.g+=l}var cE=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function lE(){cf.call(this,8,eD)}j(lE,cf);var eD=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function fE(i,a,l,m,y,w){this.v=i,this.i=a,this.l=l,this.m=m||null,this.u=y||null,this.s=w,this.h=a+":"+l,this.C=new Qx,this.g=new Yx(this.h),this.f=null,this.b=[],this.a=this.c=null}function ff(i){return new x("invalid-cordova-configuration",i)}e=fE.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=WR().then(function(){if(typeof Ot("universalLinks.subscribe",f)!="function")throw ff("cordova-universal-links-plugin-fix is not installed");if(typeof Ot("BuildInfo.packageName",f)>"u")throw ff("cordova-plugin-buildinfo is not installed");if(typeof Ot("cordova.plugins.browsertab.openUrl",f)!="function")throw ff("cordova-plugin-browsertab is not installed");if(typeof Ot("cordova.InAppBrowser.open",f)!="function")throw ff("cordova-plugin-inappbrowser is not installed")},function(){throw new x("cordova-not-ready")})};function tD(){for(var i=20,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}function nD(i){var a=new lE;Nm(a,i),i=[];var l=8*a.g;56>a.c?Nm(a,uE,56-a.c):Nm(a,uE,a.b-(a.c-56));for(var m=63;56<=m;m--)a.f[m]=l&255,l/=256;for(km(a),m=l=0;m<a.i;m++)for(var y=24;0<=y;y-=8)i[l++]=a.a[m]>>y&255;return dP(i)}e.Pb=function(i,a){return a(new x("operation-not-supported-in-this-environment")),ke()},e.Nb=function(){return Ct(new x("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(i,a,l,m){if(this.c)return Ct(new x("redirect-operation-pending"));var y=this,w=f.document,A=null,R=null,W=null,ee=null;return this.c=ke().then(function(){return Hp(a),dE(y)}).then(function(){return rD(y,i,a,l,m)}).then(function(){return new We(function(je,ft){R=function(){var it=Ot("cordova.plugins.browsertab.close",f);return je(),typeof it=="function"&&it(),y.a&&typeof y.a.close=="function"&&(y.a.close(),y.a=null),!1},y.Ea(R),W=function(){A||(A=js(2e3).then(function(){ft(new x("redirect-cancelled-by-user"))}))},ee=function(){Ip()&&W()},w.addEventListener("resume",W,!1),ln().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",ee,!1)}).o(function(je){return Cm(y).then(function(){throw je})})}).oa(function(){W&&w.removeEventListener("resume",W,!1),ee&&w.removeEventListener("visibilitychange",ee,!1),A&&A.cancel(),R&&y.Ta(R),y.c=null})};function rD(i,a,l,m,y){var w=tD(),A=new Ar(a,m,null,w,new x("no-auth-event"),null,y),R=Ot("BuildInfo.packageName",f);if(typeof R!="string")throw new x("invalid-cordova-configuration");var W=Ot("BuildInfo.displayName",f),ee={};if(ln().toLowerCase().match(/iphone|ipad|ipod/))ee.ibi=R;else if(ln().toLowerCase().match(/android/))ee.apn=R;else return Ct(new x("operation-not-supported-in-this-environment"));W&&(ee.appDisplayName=W),w=nD(w),ee.sessionId=w;var je=Uu(i.v,i.i,i.l,a,l,null,m,i.m,ee,i.u,y,i.s);return i.ma().then(function(){var ft=i.h;return i.C.a.set(Sm,A.w(),ft)}).then(function(){var ft=Ot("cordova.plugins.browsertab.isAvailable",f);if(typeof ft!="function")throw new x("invalid-cordova-configuration");var it=null;ft(function(sn){if(sn){if(it=Ot("cordova.plugins.browsertab.openUrl",f),typeof it!="function")throw new x("invalid-cordova-configuration");it(je)}else{if(it=Ot("cordova.InAppBrowser.open",f),typeof it!="function")throw new x("invalid-cordova-configuration");sn=ln(),i.a=it(je,sn.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||sn.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function hE(i,a){for(var l=0;l<i.b.length;l++)try{i.b[l](a)}catch{}}function dE(i){return i.f||(i.f=i.ma().then(function(){return new We(function(a){function l(m){return a(m),i.Ta(l),!1}i.Ea(l),iD(i)})})),i.f}function Cm(i){var a=null;return Xx(i.g).then(function(l){return a=l,l=i.g,Zs(l.b,Sm,l.a)}).then(function(){return a})}function iD(i){function a(A){m=!0,y&&y.cancel(),Cm(i).then(function(R){var W=l;if(R&&A&&A.url){var ee=null;W=iw(A.url),W.indexOf("/__/auth/callback")!=-1&&(ee=Kn(W),ee=Gs(vr(ee,"firebaseError")||null),ee=(ee=typeof ee=="object"?Ie(ee):null)?new Ar(R.c,R.b,null,null,ee,null,R.T()):new Ar(R.c,R.b,W,R.f,null,null,R.T())),W=ee||l}hE(i,W)})}var l=new Ar("unknown",null,null,null,new x("no-auth-event")),m=!1,y=js(500).then(function(){return Cm(i).then(function(){m||hE(i,l)})}),w=f.handleOpenURL;f.handleOpenURL=function(A){if(A.toLowerCase().indexOf(Ot("BuildInfo.packageName",f).toLowerCase()+"://")==0&&a({url:A}),typeof w=="function")try{w(A)}catch(R){console.error(R)}},Kp||(Kp=new wP),EP(a)}e.Ea=function(i){this.b.push(i),dE(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new Ar("unknown",null,null,null,new x("no-auth-event")),i(a))})},e.Ta=function(i){M(this.b,function(a){return a==i})};function oD(i){this.a=i,this.b=$u()}var Om={name:"pendingRedirect",F:"session"};function sD(i){return i.b.set(Om,"pending",i.a)}function Rm(i){return Zs(i.b,Om,i.a)}function aD(i){return i.b.get(Om,i.a).then(function(a){return a=="pending"})}function hf(i,a,l,m){this.i={},this.u=0,this.D=i,this.v=a,this.m=l,this.J=m,this.h=[],this.f=!1,this.l=L(this.s,this),this.b=new pf,this.C=new IE,this.g=new oD(bE(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=pE(this.D,this.v,this.m,ce,this.J)}function pE(i,a,l,m,y){var w=Pe.SDK_VERSION||null;return _p()?new fE(i,a,l,w,m,y):new jw(i,a,l,w,m,y)}hf.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=pE(this.D,this.v,this.m,null,this.J),this.i={}};function mE(i){i.f||(i.f=!0,i.a.Ea(i.l));var a=i.a;return i.a.ma().o(function(l){throw i.a==a&&i.reset(),l})}function gE(i){i.a.Yb()&&mE(i).o(function(a){var l=new Ar("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));xm(a)&&i.s(l)}),i.a.Ub()||wE(i.b)}function df(i,a){I(i.h,a)||i.h.push(a),i.f||aD(i.g).then(function(l){l?Rm(i.g).then(function(){mE(i).o(function(m){var y=new Ar("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));xm(m)&&i.s(y)})}):gE(i)}).o(function(){gE(i)})}function Pm(i,a){M(i.h,function(l){return l==a})}hf.prototype.s=function(i){if(!i)throw new x("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var a=!1,l=0;l<this.h.length;l++){var m=this.h[l];if(m.Gb(i.c,i.b)){(a=this.c[i.c])&&(a.h(i,m),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),a=!0;break}}return wE(this.b),a};var uD=new Fi(2e3,1e4),cD=new Fi(3e4,6e4);hf.prototype.ra=function(){return this.b.ra()};function vE(i,a,l,m,y,w,A){return i.a.Nb(a,l,m,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},y,w,A)}function xm(i){return!!(i&&i.code=="auth/cordova-not-ready")}function yE(i,a,l,m,y){var w;return sD(i.g).then(function(){return i.a.Ob(a,l,m,y).o(function(A){if(xm(A))throw new x("operation-not-supported-in-this-environment");return w=A,Rm(i.g).then(function(){throw w})}).then(function(){return i.a.ac()?new We(function(){}):Rm(i.g).then(function(){return i.ra()}).then(function(){}).o(function(){})})})}function _E(i,a,l,m,y){return i.a.Pb(m,function(w){a.na(l,null,w,y)},uD.get())}var Dm={};function bE(i,a,l){return i=i+":"+a,l&&(i=i+":"+l.url),i}function Lm(i,a,l,m){var y=bE(a,l,m);return Dm[y]||(Dm[y]=new hf(i,a,l,m)),Dm[y]}function pf(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}pf.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},pf.prototype.h=function(i,a){if(i){this.reset(),this.g=!0;var l=i.c,m=i.b,y=i.a&&i.a.code=="auth/web-storage-unsupported",w=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!y&&!w),l!="unknown"||y||w?i.a?(zo(this,!0,null,i.a),ke()):a.Fa(l,m)?lD(this,i,a):Ct(new x("invalid-auth-event")):(zo(this,!1,null,null),ke())}else Ct(new x("invalid-auth-event"))};function wE(i){i.g||(i.g=!0,zo(i,!1,null,null))}function mf(i){i.g&&!i.i&&zo(i,!1,null,null)}function lD(i,a,l){l=l.Fa(a.c,a.b);var m=a.g,y=a.f,w=a.i,A=a.T(),R=!!a.c.match(/Redirect$/);l(m,y,A,w).then(function(W){zo(i,R,W,null)}).o(function(W){zo(i,R,null,W)})}function fD(i,a){if(i.b=function(){return Ct(a)},i.c.length)for(var l=0;l<i.c.length;l++)i.c[l](a)}function EE(i,a){if(i.b=function(){return ke(a)},i.f.length)for(var l=0;l<i.f.length;l++)i.f[l](a)}function zo(i,a,l,m){a?m?fD(i,m):EE(i,l):EE(i,{user:null}),i.f=[],i.c=[]}pf.prototype.ra=function(){var i=this;return new We(function(a,l){i.b?i.b().then(a,l):(i.f.push(a),i.c.push(l),hD(i))})};function hD(i){var a=new x("timeout");i.a&&i.a.cancel(),i.a=js(cD.get()).then(function(){i.b||(i.g=!0,zo(i,!0,null,a))})}function IE(){}IE.prototype.h=function(i,a){if(i){var l=i.c,m=i.b;i.a?(a.na(i.c,null,i.a,i.b),ke()):a.Fa(l,m)?dD(i,a):Ct(new x("invalid-auth-event"))}else Ct(new x("invalid-auth-event"))};function dD(i,a){var l=i.b,m=i.c;a.Fa(m,l)(i.g,i.f,i.T(),i.i).then(function(y){a.na(m,y,null,l)}).o(function(y){a.na(m,null,y,l)})}function TE(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(i){this.jb=i},enumerable:!1})}function Mm(i,a){this.a=a,Ee(this,"verificationId",i)}Mm.prototype.confirm=function(i){return i=fw(this.verificationId,i),this.a(i)};function Fm(i,a,l,m){return new di(i).gb(a,l).then(function(y){return new Mm(y,m)})}function pD(i){var a=X0(i);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");On(this,{token:i,expirationTime:Iu(1e3*a.exp),authTime:Iu(1e3*a.auth_time),issuedAtTime:Iu(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function Um(i,a,l){var m=a&&a[AE];if(!m)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=pt(a),this.g=l,this.c=new ql(null,m),this.b=[];var y=this;z(a[SE]||[],function(w){(w=Cp(w))&&y.b.push(w)}),Ee(this,"auth",this.a),Ee(this,"session",this.c),Ee(this,"hints",this.b)}var SE="mfaInfo",AE="mfaPendingCredential";Um.prototype.Rc=function(i){var a=this;return i.tb(this.a.a,this.c).then(function(l){var m=pt(a.f);return delete m[SE],delete m[AE],cn(m,l),a.g(m)})};function Vm(i,a,l,m){x.call(this,"multi-factor-auth-required",m,a),this.b=new Um(i,a,l),Ee(this,"resolver",this.b)}j(Vm,x);function kE(i,a,l){if(i&&S(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new Vm(a,i.serverResponse,l,i.message)}catch{}return null}function NE(){}NE.prototype.tb=function(i,a,l){return a.type==ku?mD(this,i,a,l):gD(this,i,a)};function mD(i,a,l,m){return l.Ha().then(function(y){return y={idToken:y},typeof m<"u"&&(y.displayName=m),cn(y,{phoneVerificationInfo:Nu(i.a)}),Qe(a,ix,y)})}function gD(i,a,l){return l.Ha().then(function(m){return m={mfaPendingCredential:m},cn(m,{phoneVerificationInfo:Nu(i.a)}),Qe(a,ox,m)})}function jm(i){Ee(this,"factorId",i.fa),this.a=i}j(jm,NE);function CE(i){if(jm.call(this,i),this.a.fa!=di.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}j(CE,jm);function ea(i,a){Hn.call(this,i);for(var l in a)this[l]=a[l]}j(ea,Hn);function Bm(i,a){this.a=i,this.b=[],this.c=L(this.yc,this),gr(this.a,"userReloaded",this.c);var l=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&z(a.multiFactor.enrolledFactors,function(m){var y=null,w={};if(m){m.uid&&(w[Rp]=m.uid),m.displayName&&(w[L0]=m.displayName),m.enrollmentTime&&(w[Op]=new Date(m.enrollmentTime).toISOString()),m.phoneNumber&&(w[Pp]=m.phoneNumber);try{y=new Tu(w)}catch{}m=y}else m=null;m&&l.push(m)}),gf(this,l)}function vD(i){var a=[];return z(i.mfaInfo||[],function(l){(l=Cp(l))&&a.push(l)}),a}e=Bm.prototype,e.yc=function(i){gf(this,vD(i.hd))};function gf(i,a){i.b=a,Ee(i,"enrolledFactors",a)}e.Sb=function(){return this.a.I().then(function(i){return new ql(i,null)})},e.fc=function(i,a){var l=this,m=this.a.a;return this.Sb().then(function(y){return i.tb(m,y,a)}).then(function(y){return Yr(l.a,y),l.a.reload()})},e.bd=function(i){var a=this,l=typeof i=="string"?i:i.uid,m=this.a.a;return this.a.I().then(function(y){return Qe(m,Sx,{idToken:y,mfaEnrollmentId:l})}).then(function(y){var w=fe(a.b,function(A){return A.uid!=l});return gf(a,w),Yr(a.a,y),a.a.reload().o(function(A){if(A.code!="auth/user-token-expired")throw A})})},e.w=function(){return{multiFactor:{enrolledFactors:Se(this.b,function(i){return i.w()})}}};function $m(i,a,l){if(this.h=i,this.i=a,this.g=l,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}$m.prototype.start=function(){this.a=this.c,qm(this,!0)};function yD(i,a){return a?(i.a=i.c,i.g()):(a=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),a)}function qm(i,a){i.stop(),i.b=js(yD(i,a)).then(function(){return YR()}).then(function(){return i.h()}).then(function(){qm(i,!0)}).o(function(l){i.i(l)&&qm(i,!1)})}$m.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Hm(i){this.f=i,this.b=this.a=null,this.c=Date.now()}Hm.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function OE(i,a){typeof a>"u"&&(i.b?(a=i.b,a=a.a-a.g):a=0),i.c=Date.now()+1e3*a}function RE(i,a){i.b=Bl(a[Nr]||""),i.a=a.refreshToken,a=a.expiresIn,OE(i,typeof a<"u"?Number(a):void 0)}function _D(i,a){i.b=a.b,i.a=a.a,i.c=a.c}function bD(i,a){return $P(i.f,a).then(function(l){return i.b=Bl(l.access_token),i.a=l.refresh_token,OE(i,l.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(l){throw l.code=="auth/user-token-expired"&&(i.a=null),l})}Hm.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?Ct(new x("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?bD(this,{grant_type:"refresh_token",refresh_token:this.a}):ke(null):ke({accessToken:this.b.toString(),refreshToken:this.a})};function vf(i,a){this.a=i||null,this.b=a||null,On(this,{lastSignInTime:Iu(a||null),creationTime:Iu(i||null)})}function wD(i){return new vf(i.a,i.b)}vf.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function ED(i,a,l,m,y,w){On(this,{uid:i,displayName:m||null,photoURL:y||null,email:l||null,phoneNumber:w||null,providerId:a})}function sr(i,a,l){this.N=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var m=Pe.SDK_VERSION?Hs(Pe.SDK_VERSION):null;this.a=new kr(this.l,qe(ce),m),(this.u=i.emulatorConfig||null)&&of(this.a,this.u),this.h=new Hm(this.a),Qm(this,a[Nr]),RE(this.h,a),Ee(this,"refreshToken",this.h.a),xE(this,l||{}),Cn.call(this),this.P=!1,this.s&&Uo()&&(this.b=Lm(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=ID(this),this.ba=L(this.ib,this);var y=this;this.za=null,this.Pa=function(w){y.xa(w.h)},this.qa=null,this.Ba=function(w){Km(y,w.c)},this.$=null,this.aa=[],this.Oa=function(w){qu(y,w.f)},this.ja=null,this.S=new Bm(this,l),Ee(this,"multiFactor",this.S)}j(sr,Cn),sr.prototype.xa=function(i){this.za=i,kw(this.a,i)};function Km(i,a){i.u=a,of(i.a,a),i.b&&(a=i.b,i.b=Lm(i.s,i.l,i.m,i.u),i.P&&(Pm(a,i),df(i.b,i)))}sr.prototype.la=function(){return this.za};function Gm(i,a){i.qa&&ir(i.qa,"languageCodeChanged",i.Pa),(i.qa=a)&&gr(a,"languageCodeChanged",i.Pa)}function Wm(i,a){i.$&&ir(i.$,"emulatorConfigChanged",i.Ba),(i.$=a)&&gr(a,"emulatorConfigChanged",i.Ba)}function qu(i,a){i.aa=a,Nw(i.a,Pe.SDK_VERSION?Hs(Pe.SDK_VERSION,i.aa):null)}sr.prototype.Ga=function(){return Z(this.aa)};function zm(i,a){i.ja&&ir(i.ja,"frameworkChanged",i.Oa),(i.ja=a)&&gr(a,"frameworkChanged",i.Oa)}sr.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Ym(i){try{return Pe.app(i.m).auth()}catch{throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function ID(i){return new $m(function(){return i.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=i.h.c-Date.now()-3e5;return 0<a?a:0})}function PE(i){i.J||i.D.b||(i.D.start(),ir(i,"tokenChanged",i.ba),gr(i,"tokenChanged",i.ba))}function Xm(i){ir(i,"tokenChanged",i.ba),i.D.stop()}function Qm(i,a){i.Aa=a,Ee(i,"_lat",a)}function TD(i,a){M(i.W,function(l){return l==a})}function Yo(i){for(var a=[],l=0;l<i.W.length;l++)a.push(i.W[l](i));return Xb(a).then(function(){return i})}function Hu(i){i.b&&!i.P&&(i.P=!0,df(i.b,i))}function xE(i,a){On(i,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new vf(a.createdAt,a.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}Ee(sr.prototype,"providerId","firebase");function DE(){}function Jm(i){return ke().then(function(){if(i.J)throw new x("app-deleted")})}function Zm(i){return Se(i.providerData,function(a){return a.providerId})}function eg(i,a){a&&(LE(i,a.providerId),i.providerData.push(a))}function LE(i,a){M(i.providerData,function(l){return l.providerId==a})}function ji(i,a,l){(a!="uid"||l)&&i.hasOwnProperty(a)&&Ee(i,a,l)}function yf(i,a){i!=a&&(On(i,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?Ee(i,"metadata",wD(a.metadata)):Ee(i,"metadata",new vf),z(a.providerData,function(l){eg(i,l)}),_D(i.h,a.h),Ee(i,"refreshToken",i.h.a),gf(i.S,a.S.b))}e=sr.prototype,e.reload=function(){var i=this;return Zt(this,Jm(this).then(function(){return tg(i).then(function(){return Yo(i)}).then(DE)}))};function tg(i){return i.I().then(function(a){var l=i.isAnonymous;return SD(i,a).then(function(){return l||ji(i,"isAnonymous",!1),a})})}e.oc=function(i){return this.I(i).then(function(a){return new pD(a)})},e.I=function(i){var a=this;return Zt(this,Jm(this).then(function(){return a.h.getToken(i)}).then(function(l){if(!l)throw new x("internal-error");return l.accessToken!=a.Aa&&(Qm(a,l.accessToken),a.dispatchEvent(new ea("tokenChanged"))),ji(a,"refreshToken",l.refreshToken),l.accessToken}))};function Yr(i,a){a[Nr]&&i.Aa!=a[Nr]&&(RE(i.h,a),i.dispatchEvent(new ea("tokenChanged")),Qm(i,a[Nr]),ji(i,"refreshToken",i.h.a))}function SD(i,a){return Qe(i.a,sx,{idToken:a}).then(L(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new x("internal-error");i=i[0],xE(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var a=AD(i),l=0;l<a.length;l++)eg(this,a[l]);ji(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ea("userReloaded",{hd:i}))};function AD(i){return(i=i.providerUserInfo)&&i.length?Se(i,function(a){return new ED(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(i){return Tp("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(i)},e.ub=function(i){var a=this,l=null;return Zt(this,i.c(this.a,this.uid).then(function(m){return Yr(a,m),l=Ku(a,m,"reauthenticate"),a.i=null,a.reload()}).then(function(){return l}),!0)};function _f(i,a){return tg(i).then(function(){if(I(Zm(i),a))return Yo(i).then(function(){throw new x("provider-already-linked")})})}e.Cc=function(i){return Tp("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(i)},e.rb=function(i){var a=this,l=null;return Zt(this,_f(this,i.providerId).then(function(){return a.I()}).then(function(m){return i.b(a.a,m)}).then(function(m){return l=Ku(a,m,"link"),ME(a,m)}).then(function(){return l}))},e.Dc=function(i,a){var l=this;return Zt(this,_f(this,"phone").then(function(){return Fm(Ym(l),i,a,L(l.rb,l))}))},e.Mc=function(i,a){var l=this;return Zt(this,ke().then(function(){return Fm(Ym(l),i,a,L(l.ub,l))}),!0)};function Ku(i,a,l){var m=qp(a);return a=J0(a),Wr({user:i,credential:m,additionalUserInfo:a,operationType:l})}function ME(i,a){return Yr(i,a),i.reload().then(function(){return i})}e.Cb=function(i){var a=this;return Zt(this,this.I().then(function(l){return a.a.Cb(l,i)}).then(function(l){return Yr(a,l),a.reload()}))},e.ed=function(i){var a=this;return Zt(this,this.I().then(function(l){return i.b(a.a,l)}).then(function(l){return Yr(a,l),a.reload()}))},e.Db=function(i){var a=this;return Zt(this,this.I().then(function(l){return a.a.Db(l,i)}).then(function(l){return Yr(a,l),a.reload()}))},e.Eb=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return Jm(this);var a=this;return Zt(this,this.I().then(function(l){return a.a.Eb(l,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(l){return Yr(a,l),ji(a,"displayName",l.displayName||null),ji(a,"photoURL",l.photoUrl||null),z(a.providerData,function(m){m.providerId==="password"&&(Ee(m,"displayName",a.displayName),Ee(m,"photoURL",a.photoURL))}),Yo(a)}).then(DE))},e.cd=function(i){var a=this;return Zt(this,tg(this).then(function(l){return I(Zm(a),i)?YP(a.a,l,[i]).then(function(m){var y={};return z(m.providerUserInfo||[],function(w){y[w.providerId]=!0}),z(Zm(a),function(w){y[w]||LE(a,w)}),y[di.PROVIDER_ID]||Ee(a,"phoneNumber",null),Yo(a)}):Yo(a).then(function(){throw new x("no-such-provider")})}))},e.delete=function(){var i=this;return Zt(this,this.I().then(function(a){return Qe(i.a,ex,{idToken:a})}).then(function(){i.dispatchEvent(new ea("userDeleted"))})).then(function(){for(var a=0;a<i.N.length;a++)i.N[a].cancel("app-deleted");Gm(i,null),Wm(i,null),zm(i,null),i.N=[],i.J=!0,Xm(i),Ee(i,"refreshToken",null),i.b&&Pm(i.b,i)})},e.Gb=function(i,a){return!!(i=="linkViaPopup"&&(this.g||null)==a&&this.f||i=="reauthViaPopup"&&(this.g||null)==a&&this.f||i=="linkViaRedirect"&&(this.ga||null)==a||i=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(i,a,l,m){i!="linkViaPopup"&&i!="reauthViaPopup"||m!=(this.g||null)||(l&&this.C?this.C(l):a&&!l&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="linkViaPopup"&&a==(this.g||null)?L(this.Lb,this):i=="reauthViaPopup"&&a==(this.g||null)?L(this.Mb,this):i=="linkViaRedirect"&&(this.ga||null)==a?L(this.Lb,this):i=="reauthViaRedirect"&&(this.ga||null)==a?L(this.Mb,this):null},e.Ec=function(i){var a=this;return FE(this,"linkViaPopup",i,function(){return _f(a,i.providerId).then(function(){return Yo(a)})},!1)},e.Nc=function(i){return FE(this,"reauthViaPopup",i,function(){return ke()},!0)};function FE(i,a,l,m,y){if(!Uo())return Ct(new x("operation-not-supported-in-this-environment"));if(i.i&&!y)return Ct(i.i);var w=Fp(l.providerId),A=Vo(i.uid+":::"),R=null;(!wu()||bp())&&i.s&&l.isOAuthProvider&&(R=Uu(i.s,i.l,i.m,a,l,null,A,Pe.SDK_VERSION||null,null,null,i.tenantId,i.u));var W=A0(R,w&&w.va,w&&w.ua);return m=m().then(function(){if(VE(i),!y)return i.I().then(function(){})}).then(function(){return vE(i.b,W,a,l,A,!!R,i.tenantId)}).then(function(){return new We(function(ee,je){i.na(a,null,new x("cancelled-popup-request"),i.g||null),i.f=ee,i.C=je,i.g=A,i.c=_E(i.b,i,a,W,A)})}).then(function(ee){return W&&Fo(W),ee?Wr(ee):null}).o(function(ee){throw W&&Fo(W),ee}),Zt(i,m,y)}e.Fc=function(i){var a=this;return UE(this,"linkViaRedirect",i,function(){return _f(a,i.providerId)},!1)},e.Oc=function(i){return UE(this,"reauthViaRedirect",i,function(){return ke()},!0)};function UE(i,a,l,m,y){if(!Uo())return Ct(new x("operation-not-supported-in-this-environment"));if(i.i&&!y)return Ct(i.i);var w=null,A=Vo(i.uid+":::");return m=m().then(function(){if(VE(i),!y)return i.I().then(function(){})}).then(function(){return i.ga=A,Yo(i)}).then(function(R){return i.ha&&(R=i.ha,R=R.b.set(ng,i.w(),R.a)),R}).then(function(){return yE(i.b,a,l,A,i.tenantId)}).o(function(R){if(w=R,i.ha)return BE(i.ha);throw w}).then(function(){if(w)throw w}),Zt(i,m,y)}function VE(i){if(!i.b||!i.P)throw i.b&&!i.P?new x("internal-error"):new x("auth-domain-config-required")}e.Lb=function(i,a,l,m){var y=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return l=this.I().then(function(A){return lm(y.a,{requestUri:i,postBody:m,sessionId:a,idToken:A})}).then(function(A){return w=Ku(y,A,"link"),ME(y,A)}).then(function(){return w}),Zt(this,l)},e.Mb=function(i,a,l,m){var y=this;this.c&&(this.c.cancel(),this.c=null);var w=null,A=ke().then(function(){return zs(fm(y.a,{requestUri:i,sessionId:a,postBody:m,tenantId:l}),y.uid)}).then(function(R){return w=Ku(y,R,"reauthenticate"),Yr(y,R),y.i=null,y.reload()}).then(function(){return w});return Zt(this,A,!0)},e.vb=function(i){var a=this,l=null;return Zt(this,this.I().then(function(m){return l=m,typeof i>"u"||Nt(i)?{}:Vl(new Ul(i))}).then(function(m){return a.a.vb(l,m)}).then(function(m){if(a.email!=m)return a.reload()}).then(function(){}))},e.Fb=function(i,a){var l=this,m=null;return Zt(this,this.I().then(function(y){return m=y,typeof a>"u"||Nt(a)?{}:Vl(new Ul(a))}).then(function(y){return l.a.Fb(m,i,y)}).then(function(y){if(l.email!=y)return l.reload()}).then(function(){}))};function Zt(i,a,l){var m=kD(i,a,l);return i.N.push(m),m.oa(function(){C(i.N,m)}),m.o(function(y){var w=null;throw y&&y.code==="auth/multi-factor-auth-required"&&(w=kE(y.w(),Ym(i),L(i.jc,i))),w||y})}e.jc=function(i){var a=null,l=this;return i=zs(ke(i),l.uid).then(function(m){return a=Ku(l,m,"reauthenticate"),Yr(l,m),l.i=null,l.reload()}).then(function(){return a}),Zt(this,i,!0)};function kD(i,a,l){return i.i&&!l?(a.cancel(),Ct(i.i)):a.o(function(m){throw!m||m.code!="auth/user-disabled"&&m.code!="auth/user-token-expired"||(i.i||i.dispatchEvent(new ea("userInvalidated")),i.i=m),m})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&cn(i,this.metadata.w()),z(this.providerData,function(a){i.providerData.push(JR(a))}),cn(i,this.S.w()),i};function jE(i){if(!i.apiKey)return null;var a={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},l={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){l[Nr]=i.stsTokenManager.accessToken,l.refreshToken=i.stsTokenManager.refreshToken||null;var m=i.stsTokenManager.expirationTime;m&&(l.expiresIn=(m-Date.now())/1e3)}else return null;var y=new sr(a,l,i);return i.providerData&&z(i.providerData,function(w){w&&eg(y,Wr(w))}),i.redirectEventId&&(y.ga=i.redirectEventId),y}function ND(i,a,l,m){var y=new sr(i,a);return l&&(y.ha=l),m&&qu(y,m),y.reload().then(function(){return y})}function CD(i,a,l,m){var y=i.h,w={};return w[Nr]=y.b&&y.b.toString(),w.refreshToken=y.a,a=new sr(a||{apiKey:i.l,authDomain:i.s,appName:i.m},w),l&&(a.ha=l),m&&qu(a,m),yf(a,i),a}function OD(i){this.a=i,this.b=$u()}var ng={name:"redirectUser",F:"session"};function BE(i){return Zs(i.b,ng,i.a)}function RD(i,a){return i.b.get(ng,i.a).then(function(l){return l&&a&&(l.authDomain=a),jE(l||{})})}function rg(i){this.a=i,this.b=$u(),this.c=null,this.f=PD(this),this.b.addListener(Xr("local"),this.a,L(this.g,this))}rg.prototype.g=function(){var i=this,a=Xr("local");ta(this,function(){return ke().then(function(){return i.c&&i.c.F!="local"?i.b.get(a,i.a):null}).then(function(l){if(l)return ig(i,"local").then(function(){i.c=a})})})};function ig(i,a){var l=[],m;for(m in Qs)Qs[m]!==a&&l.push(Zs(i.b,Xr(Qs[m]),i.a));return l.push(Zs(i.b,og,i.a)),wR(l)}function PD(i){var a=Xr("local"),l=Xr("session"),m=Xr("none");return Wx(i.b,a,i.a).then(function(){return i.b.get(l,i.a)}).then(function(y){return y?l:i.b.get(m,i.a).then(function(w){return w?m:i.b.get(a,i.a).then(function(A){return A?a:i.b.get(og,i.a).then(function(R){return R?Xr(R):a})})})}).then(function(y){return i.c=y,ig(i,y.F)}).o(function(){i.c||(i.c=a)})}var og={name:"persistence",F:"session"};function Xr(i){return{name:"authUser",F:i}}rg.prototype.yb=function(i){var a=null,l=this;return Gx(i),ta(this,function(){return i!=l.c.F?l.b.get(l.c,l.a).then(function(m){return a=m,ig(l,i)}).then(function(){if(l.c=Xr(i),a)return l.b.set(l.c,a,l.a)}):ke()})};function xD(i){return ta(i,function(){return i.b.set(og,i.c.F,i.a)})}function $E(i,a){return ta(i,function(){return i.b.set(i.c,a.w(),i.a)})}function qE(i){return ta(i,function(){return Zs(i.b,i.c,i.a)})}function HE(i,a,l){return ta(i,function(){return i.b.get(i.c,i.a).then(function(m){return m&&a&&(m.authDomain=a),m&&l&&(m.emulatorConfig=l),jE(m||{})})})}function ta(i,a){return i.f=i.f.then(a,a),i.f}function Cr(i){if(this.l=!1,Ee(this,"settings",new TE),Ee(this,"app",i),mt(this).options&&mt(this).options.apiKey)i=Pe.SDK_VERSION?Hs(Pe.SDK_VERSION):null,this.a=new kr(mt(this).options&&mt(this).options.apiKey,qe(ce),i);else throw new x("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Pe.INTERNAL.createSubscribe(L(this.zc,this)),this.W=void 0,this.ib=Pe.INTERNAL.createSubscribe(L(this.Ac,this)),na(this,null),this.i=new rg(mt(this).options.apiKey+":"+mt(this).name),this.D=new OD(mt(this).options.apiKey+":"+mt(this).name),this.$=Mt(this,VD(this)),this.h=Mt(this,jD(this)),this.ba=!1,this.ja=L(this.Zc,this),this.Ba=L(this.da,this),this.qa=L(this.mc,this),this.za=L(this.wc,this),this.Aa=L(this.xc,this),this.b=null,MD(this),this.INTERNAL={},this.INTERNAL.delete=L(this.delete,this),this.INTERNAL.logFramework=L(this.Gc,this),this.u=0,Cn.call(this),LD(this),this.J=[],this.R=null}j(Cr,Cn);function KE(i){Hn.call(this,"languageCodeChanged"),this.h=i}j(KE,Hn);function GE(i){Hn.call(this,"emulatorConfigChanged"),this.c=i}j(GE,Hn);function WE(i){Hn.call(this,"frameworkChanged"),this.f=i}j(WE,Hn),e=Cr.prototype,e.yb=function(i){return i=this.i.yb(i),Mt(this,i)},e.xa=function(i){this.aa===i||this.l||(this.aa=i,kw(this.a,this.aa),this.dispatchEvent(new KE(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=f.navigator;this.xa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,a){if(!this.R){if(!/^https?:\/\//.test(i))throw new x("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,DD(a),this.R={url:i,ec:a},this.settings.jb=!0,of(this.a,this.R),this.dispatchEvent(new GE(this.R))}};function DD(i){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!i&&Ll().then(function(){var a=f.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#b50000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),f.document.body.appendChild(a)})}e.Gc=function(i){this.J.push(i),Nw(this.a,Pe.SDK_VERSION?Hs(Pe.SDK_VERSION,this.J):null),this.dispatchEvent(new WE(this.J))},e.Ga=function(){return Z(this.J)},e.zb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function LD(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(a){this.xa(a)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(a){this.zb(a)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.R){var a=Kn(this.R.url);a=Wr({protocol:a.c,host:a.a,port:a.g,options:Wr({disableWarnings:this.R.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:mt(this).options.apiKey,authDomain:mt(this).options.authDomain,appName:mt(this).name,currentUser:Ke(this)&&Ke(this).w()}};function sg(i){return i.Oa||Ct(new x("auth-domain-config-required"))}function MD(i){var a=mt(i).options.authDomain,l=mt(i).options.apiKey;a&&Uo()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=Lm(a,l,mt(i).name,i.R),df(i.b,i),Ke(i)&&Hu(Ke(i)),i.m){Hu(i.m);var m=i.m;m.xa(i.la()),Gm(m,i),m=i.m,qu(m,i.J),zm(m,i),m=i.m,Km(m,i.R),Wm(m,i),i.m=null}return i.b}}))}e.Gb=function(i,a){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(i,a,l,m){i=="signInViaPopup"&&this.g==m&&(l&&this.C?this.C(l):a&&!l&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==a&&this.f?L(this.ic,this):null},e.ic=function(i,a,l,m){var y=this,w={requestUri:i,postBody:m,sessionId:a,tenantId:l};return this.c&&(this.c.cancel(),this.c=null),y.$.then(function(){return Xo(y,cm(y.a,w))})},e.Xc=function(i){if(!Uo())return Ct(new x("operation-not-supported-in-this-environment"));var a=this,l=Fp(i.providerId),m=Vo(),y=null;(!wu()||bp())&&mt(this).options.authDomain&&i.isOAuthProvider&&(y=Uu(mt(this).options.authDomain,mt(this).options.apiKey,mt(this).name,"signInViaPopup",i,null,m,Pe.SDK_VERSION||null,null,null,this.T(),this.R));var w=A0(y,l&&l.va,l&&l.ua);return l=sg(this).then(function(A){return vE(A,w,"signInViaPopup",i,m,!!y,a.T())}).then(function(){return new We(function(A,R){a.na("signInViaPopup",null,new x("cancelled-popup-request"),a.g),a.f=A,a.C=R,a.g=m,a.c=_E(a.b,a,"signInViaPopup",w,m)})}).then(function(A){return w&&Fo(w),A?Wr(A):null}).o(function(A){throw w&&Fo(w),A}),Mt(this,l)},e.Yc=function(i){if(!Uo())return Ct(new x("operation-not-supported-in-this-environment"));var a=this,l=sg(this).then(function(){return xD(a.i)}).then(function(){return yE(a.b,"signInViaRedirect",i,void 0,a.T())});return Mt(this,l)};function zE(i){if(!Uo())return Ct(new x("operation-not-supported-in-this-environment"));var a=sg(i).then(function(){return i.b.ra()}).then(function(l){return l?Wr(l):null});return Mt(i,a)}e.ra=function(){var i=this;return zE(this).then(function(a){return i.b&&mf(i.b.b),a}).o(function(a){throw i.b&&mf(i.b.b),a})},e.dd=function(i){if(!i)return Ct(new x("null-user"));if(this.S!=i.tenantId)return Ct(new x("tenant-id-mismatch"));var a=this,l={};l.apiKey=mt(this).options.apiKey,l.authDomain=mt(this).options.authDomain,l.appName=mt(this).name;var m=CD(i,l,a.D,a.Ga());return Mt(this,this.h.then(function(){if(mt(a).options.apiKey!=i.l)return m.reload()}).then(function(){return Ke(a)&&i.uid==Ke(a).uid?(yf(Ke(a),i),a.da(i)):(na(a,m),Hu(m),a.da(m))}).then(function(){Gu(a)}))};function FD(i,a){var l={};return l.apiKey=mt(i).options.apiKey,l.authDomain=mt(i).options.authDomain,l.appName=mt(i).name,i.R&&(l.emulatorConfig=i.R),i.$.then(function(){return ND(l,a,i.D,i.Ga())}).then(function(m){return Ke(i)&&m.uid==Ke(i).uid?(yf(Ke(i),m),i.da(m)):(na(i,m),Hu(m),i.da(m))}).then(function(){Gu(i)})}function na(i,a){Ke(i)&&(TD(Ke(i),i.Ba),ir(Ke(i),"tokenChanged",i.qa),ir(Ke(i),"userDeleted",i.za),ir(Ke(i),"userInvalidated",i.Aa),Xm(Ke(i))),a&&(a.W.push(i.Ba),gr(a,"tokenChanged",i.qa),gr(a,"userDeleted",i.za),gr(a,"userInvalidated",i.Aa),0<i.u&&PE(a)),Ee(i,"currentUser",a),a&&(a.xa(i.la()),Gm(a,i),qu(a,i.J),zm(a,i),Km(a,i.R),Wm(a,i))}e.Bb=function(){var i=this,a=this.h.then(function(){return i.b&&mf(i.b.b),Ke(i)?(na(i,null),qE(i.i).then(function(){Gu(i)})):ke()});return Mt(this,a)};function UD(i){var a=RD(i.D,mt(i).options.authDomain).then(function(l){return(i.m=l)&&(l.ha=i.D),BE(i.D)});return Mt(i,a)}function VD(i){var a=mt(i).options.authDomain,l=UD(i).then(function(){return HE(i.i,a,i.R)}).then(function(m){return m?(m.ha=i.D,i.m&&(i.m.ga||null)==(m.ga||null)?m:m.reload().then(function(){return $E(i.i,m).then(function(){return m})}).o(function(y){return y.code=="auth/network-request-failed"?m:qE(i.i)})):null}).then(function(m){na(i,m||null)});return Mt(i,l)}function jD(i){return i.$.then(function(){return zE(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var a=i.i;a.b.addListener(Xr("local"),a.a,i.ja)}})}e.Zc=function(){var i=this;return HE(this.i,mt(this).options.authDomain).then(function(a){if(!i.l){var l;if(l=Ke(i)&&a){l=Ke(i).uid;var m=a.uid;l=l==null||l===""||m===void 0||m===null||m===""?!1:l==m}if(l)return yf(Ke(i),a),Ke(i).I();(Ke(i)||a)&&(na(i,a),a&&(Hu(a),a.ha=i.D),i.b&&df(i.b,i),Gu(i))}})},e.da=function(i){return $E(this.i,i)},e.mc=function(){Gu(this),this.da(Ke(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Xo(i,a){var l=null,m=null;return Mt(i,a.then(function(y){return l=qp(y),m=J0(y),FD(i,y)},function(y){var w=null;throw y&&y.code==="auth/multi-factor-auth-required"&&(w=kE(y.w(),i,L(i.kc,i))),w||y}).then(function(){return Wr({user:Ke(i),credential:l,additionalUserInfo:m,operationType:"signIn"})}))}e.kc=function(i){var a=this;return this.h.then(function(){return Xo(a,ke(i))})},e.zc=function(i){var a=this;this.addAuthTokenListener(function(){i.next(Ke(a))})},e.Ac=function(i){var a=this;BD(this,function(){i.next(Ke(a))})},e.Ic=function(i,a,l){var m=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(Ke(m)):typeof i.next=="function"&&i.next(Ke(m))}),this.Pa(i,a,l)},e.Hc=function(i,a,l){var m=this;return this.ba&&Promise.resolve().then(function(){m.W=m.getUid(),typeof i=="function"?i(Ke(m)):typeof i.next=="function"&&i.next(Ke(m))}),this.ib(i,a,l)},e.nc=function(i){var a=this,l=this.h.then(function(){return Ke(a)?Ke(a).I(i).then(function(m){return{accessToken:m}}):null});return Mt(this,l)},e.Tc=function(i){var a=this;return this.h.then(function(){return Xo(a,Qe(a.a,wx,{token:i}))}).then(function(l){var m=l.user;return ji(m,"isAnonymous",!1),a.da(m),l})},e.Uc=function(i,a){var l=this;return this.h.then(function(){return Xo(l,Qe(l.a,Fw,{email:i,password:a}))})},e.dc=function(i,a){var l=this;return this.h.then(function(){return Xo(l,Qe(l.a,JP,{email:i,password:a}))})},e.ab=function(i){var a=this;return this.h.then(function(){return Xo(a,i.ka(a.a))})},e.Sc=function(i){return Tp("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(i)},e.Ab=function(){var i=this;return this.h.then(function(){var a=Ke(i);if(a&&a.isAnonymous){var l=Wr({providerId:null,isNewUser:!1});return Wr({user:a,credential:null,additionalUserInfo:l,operationType:"signIn"})}return Xo(i,i.a.Ab()).then(function(m){var y=m.user;return ji(y,"isAnonymous",!0),i.da(y),m})})};function mt(i){return i.app}function Ke(i){return i.currentUser}e.getUid=function(){return Ke(this)&&Ke(this).uid||null};function bf(i){return Ke(i)&&Ke(i)._lat||null}function Gu(i){if(i.ba){for(var a=0;a<i.s.length;a++)i.s[a]&&i.s[a](bf(i));if(i.W!==i.getUid()&&i.N.length)for(i.W=i.getUid(),a=0;a<i.N.length;a++)i.N[a]&&i.N[a](bf(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&Ke(this)&&PE(Ke(this))},e.Pc=function(i){var a=this;z(this.s,function(l){l==i&&a.u--}),0>this.u&&(this.u=0),this.u==0&&Ke(this)&&Xm(Ke(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var a=this;this.s.push(i),Mt(this,this.h.then(function(){a.l||I(a.s,i)&&i(bf(a))}))},e.removeAuthTokenListener=function(i){M(this.s,function(a){return a==i})};function BD(i,a){i.N.push(a),Mt(i,i.h.then(function(){!i.l&&I(i.N,a)&&i.W!==i.getUid()&&(i.W=i.getUid(),a(bf(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.P.length;i++)this.P[i].cancel("app-deleted");return this.P=[],this.i&&(i=this.i,i.b.removeListener(Xr("local"),i.a,this.ja)),this.b&&(Pm(this.b,this),mf(this.b.b)),Promise.resolve()};function Mt(i,a){return i.P.push(a),a.oa(function(){C(i.P,a)}),a}e.hc=function(i){return Mt(this,qP(this.a,i))},e.Bc=function(i){return!!$p(i)},e.xb=function(i,a){var l=this;return Mt(this,ke().then(function(){var m=new Ul(a);if(!m.c)throw new x("argument-error",Lp+" must be true when sending sign in link to email");return Vl(m)}).then(function(m){return l.a.xb(i,m)}).then(function(){}))},e.jd=function(i){return this.Sa(i).then(function(a){return a.data.email})},e.ob=function(i,a){return Mt(this,this.a.ob(i,a).then(function(){}))},e.Sa=function(i){return Mt(this,this.a.Sa(i).then(function(a){return new eP(a)}))},e.kb=function(i){return Mt(this,this.a.kb(i).then(function(){}))},e.wb=function(i,a){var l=this;return Mt(this,ke().then(function(){return typeof a>"u"||Nt(a)?{}:Vl(new Ul(a))}).then(function(m){return l.a.wb(i,m)}).then(function(){}))},e.Wc=function(i,a){return Mt(this,Fm(this,i,a,L(this.ab,this)))},e.Vc=function(i,a){var l=this;return Mt(this,ke().then(function(){var m=a||bu(),y=lw(i,m);if(m=$p(m),!m)throw new x("argument-error","Invalid email link!");if(m.tenantId!==l.T())throw new x("tenant-id-mismatch");return l.ab(y)}))};function Wu(){}Wu.prototype.render=function(){},Wu.prototype.reset=function(){},Wu.prototype.getResponse=function(){},Wu.prototype.execute=function(){};function ra(){this.a={},this.b=1e12}var ag=null;ra.prototype.render=function(i,a){return this.a[this.b.toString()]=new wf(i,a),this.b++},ra.prototype.reset=function(i){var a=ug(this,i);i=YE(i),a&&i&&(a.delete(),delete this.a[i])},ra.prototype.getResponse=function(i){return(i=ug(this,i))?i.getResponse():null},ra.prototype.execute=function(i){(i=ug(this,i))&&i.execute()};function ug(i,a){return(a=YE(a))&&i.a[a]||null}function YE(i){return(i=typeof i>"u"?1e12:i)?i.toString():null}function wf(i,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=du(i);var l=this;this.i=function(){l.execute()},this.h?this.execute():gr(this.f,"click",this.i)}wf.prototype.getResponse=function(){return cg(this),this.b},wf.prototype.execute=function(){cg(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=zR();var a=i.c.callback,l=i.c["expired-callback"];if(a)try{a(i.b)}catch{}i.a=setTimeout(function(){if(i.a=null,i.b=null,l)try{l()}catch{}i.h&&i.execute()},6e4)},500))},wf.prototype.delete=function(){cg(this),this.g=!0,clearTimeout(this.a),this.a=null,ir(this.f,"click",this.i)};function cg(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function lg(){}Ee(lg,"FACTOR_ID","phone");function fg(){}fg.prototype.g=function(){return ag||(ag=new ra),ke(ag)},fg.prototype.c=function(){};var hg=null;function dg(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var $D=new Hr(El,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),qD=new Fi(3e4,6e4);dg.prototype.g=function(i){var a=this;return new We(function(l,m){var y=setTimeout(function(){m(new x("network-request-failed"))},qD.get());if(!f.grecaptcha||i!==a.f&&!a.b){f[a.a]=function(){if(f.grecaptcha){a.f=i;var A=f.grecaptcha.render;f.grecaptcha.render=function(R,W){return R=A(R,W),a.b++,R},clearTimeout(y),l(f.grecaptcha)}else clearTimeout(y),m(new x("internal-error"));delete f[a.a]};var w=zd($D,{onload:a.a,hl:i||""});ke(nm(w)).o(function(){clearTimeout(y),m(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(y),l(f.grecaptcha)})},dg.prototype.c=function(){this.b--};var pg=null;function mg(i,a,l,m,y,w,A){if(Ee(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=a,this.g=null,A?(hg||(hg=new fg),A=hg):(pg||(pg=new dg),A=pg),this.m=A,this.a=l||{theme:"light",type:"image"},this.h=[],this.a[JE])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[HD]==="invisible",!f.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!du(a)||!this.i&&du(a).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new kr(i,w||null,y||null),this.u=m||function(){return null};var R=this;this.l=[];var W=this.a[XE];this.a[XE]=function(je){if(ZE(R,je),typeof W=="function")W(je);else if(typeof W=="string"){var ft=Ot(W,f);typeof ft=="function"&&ft(je)}};var ee=this.a[QE];this.a[QE]=function(){if(ZE(R,null),typeof ee=="function")ee();else if(typeof ee=="string"){var je=Ot(ee,f);typeof je=="function"&&je()}}}var XE="callback",QE="expired-callback",JE="sitekey",HD="size";function ZE(i,a){for(var l=0;l<i.l.length;l++)try{i.l[l](a)}catch{}}function KD(i,a){M(i.l,function(l){return l==a})}function gg(i,a){return i.h.push(a),a.oa(function(){C(i.h,a)}),a}e=mg.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=gg(this,ke().then(function(){if(Ml()&&!Sr())return Ll();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(a){return i.g=a,Qe(i.s,hx,{})}).then(function(a){i.a[JE]=a.recaptchaSiteKey}).o(function(a){throw i.f=null,a}))},e.render=function(){Ef(this);var i=this;return gg(this,this.Ia().then(function(){if(i.c===null){var a=i.v;if(!i.i){var l=du(a);a=vR("DIV"),l.appendChild(a)}i.c=i.g.render(a,i.a)}return i.c}))},e.verify=function(){Ef(this);var i=this;return gg(this,this.render().then(function(a){return new We(function(l){var m=i.g.getResponse(a);if(m)l(m);else{var y=function(w){w&&(KD(i,y),l(w))};i.l.push(y),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){Ef(this),this.c!==null&&this.g.reset(this.c)};function Ef(i){if(i.J)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Ef(this),this.J=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=du(this.v);for(var a;a=i.firstChild;)i.removeChild(a)}};function vg(i,a,l){var m=!1;try{this.b=l||Pe.app()}catch{throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)l=this.b.options.apiKey;else throw new x("invalid-api-key");var y=this,w=null;try{w=this.b.auth().Ga()}catch{}try{m=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=Pe.SDK_VERSION?Hs(Pe.SDK_VERSION,w):null,mg.call(this,l,i,a,function(){try{var A=y.b.auth().la()}catch{A=null}return A},w,qe(ce),m)}j(vg,mg);function eI(i,a,l,m){e:{l=Array.prototype.slice.call(l);for(var y=0,w=!1,A=0;A<a.length;A++)if(a[A].optional)w=!0;else{if(w)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");y++}if(w=a.length,l.length<y||w<l.length)m="Expected "+(y==w?y==1?"1 argument":y+" arguments":y+"-"+w+" arguments")+" but got "+l.length+".";else{for(y=0;y<l.length;y++)if(w=a[y].optional&&l[y]===void 0,!a[y].M(l[y])&&!w){if(a=a[y],0>y||y>=tI.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");l=tI[y],m=(m?"":l+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break e}m=null}}if(m)throw new x("argument-error",i+" failed: "+m)}var tI="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function be(i,a){return{name:i||"",K:"a valid string",optional:!!a,M:function(l){return typeof l=="string"}}}function yg(i,a){return{name:i||"",K:"a boolean",optional:!!a,M:function(l){return typeof l=="boolean"}}}function Ht(i,a){return{name:i||"",K:"a valid object",optional:!!a,M:S}}function ia(i,a){return{name:i||"",K:"a function",optional:!!a,M:function(l){return typeof l=="function"}}}function Qr(i,a){return{name:i||"",K:"null",optional:!!a,M:function(l){return l===null}}}function GD(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function WD(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof Cr)}}}function zD(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof Pe.app.App)}}}function Bi(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var l=!i||a.providerId===i;return!(!a.ka||!l)}}}function nI(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.tb:!1}}}function oa(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function _g(i,a){return S(i)&&typeof i.type=="string"&&i.type===a&&typeof i.Ha=="function"}function rI(i){return S(i)&&typeof i.uid=="string"}function If(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function Bt(i,a,l,m){return{name:l||"",K:i.K+" or "+a.K,optional:!!m,M:function(y){return i.M(y)||a.M(y)}}}function xt(i,a){for(var l in a){var m=a[l].name;i[m]=oI(m,i[l],a[l].j)}}function iI(i,a){for(var l in a){var m=a[l].name;m!==l&&Object.defineProperty(i,m,{get:Y(function(y){return this[y]},l),set:Y(function(y,w,A,R){eI(y,[A],[R],!0),this[w]=R},m,l,a[l].lb),enumerable:!0})}}function $t(i,a,l,m){i[a]=oI(a,l,m)}function oI(i,a,l){function m(){var A=Array.prototype.slice.call(arguments);return eI(y,l,A),a.apply(this,A)}if(!l)return a;var y=YD(i),w;for(w in a)m[w]=a[w];for(w in a.prototype)m.prototype[w]=a.prototype[w];return m}function YD(i){return i=i.split("."),i[i.length-1]}xt(Cr.prototype,{kb:{name:"applyActionCode",j:[be("code")]},Sa:{name:"checkActionCode",j:[be("code")]},ob:{name:"confirmPasswordReset",j:[be("code"),be("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[be("email"),be("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[be("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[be("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Bt(Ht(),ia(),"nextOrObserver"),ia("opt_error",!0),ia("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Bt(Ht(),ia(),"nextOrObserver"),ia("opt_error",!0),ia("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[be("email"),Bt(Ht("opt_actionCodeSettings",!0),Qr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[be("email"),Ht("actionCodeSettings")]},yb:{name:"setPersistence",j:[be("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Bi()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Bi()]},Tc:{name:"signInWithCustomToken",j:[be("token")]},Uc:{name:"signInWithEmailAndPassword",j:[be("email"),be("password")]},Vc:{name:"signInWithEmailLink",j:[be("email"),be("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[be("phoneNumber"),If()]},Xc:{name:"signInWithPopup",j:[oa()]},Yc:{name:"signInWithRedirect",j:[oa()]},dd:{name:"updateCurrentUser",j:[Bt(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(a){return!!(a&&a instanceof sr)}}}(),Qr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[be(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[be("url"),Ht("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[be("code")]}}),iI(Cr.prototype,{lc:{name:"languageCode",lb:Bt(be(),Qr(),"languageCode")},ti:{name:"tenantId",lb:Bt(be(),Qr(),"tenantId")}}),Cr.Persistence=Qs,Cr.Persistence.LOCAL="local",Cr.Persistence.SESSION="session",Cr.Persistence.NONE="none",xt(sr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[yg("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[yg("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Bi()]},rb:{name:"linkWithCredential",j:[Bi()]},Dc:{name:"linkWithPhoneNumber",j:[be("phoneNumber"),If()]},Ec:{name:"linkWithPopup",j:[oa()]},Fc:{name:"linkWithRedirect",j:[oa()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Bi()]},ub:{name:"reauthenticateWithCredential",j:[Bi()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[be("phoneNumber"),If()]},Nc:{name:"reauthenticateWithPopup",j:[oa()]},Oc:{name:"reauthenticateWithRedirect",j:[oa()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Bt(Ht("opt_actionCodeSettings",!0),Qr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[be(null,!0)]},cd:{name:"unlink",j:[be("provider")]},Cb:{name:"updateEmail",j:[be("email")]},Db:{name:"updatePassword",j:[be("password")]},ed:{name:"updatePhoneNumber",j:[Bi("phone")]},Eb:{name:"updateProfile",j:[Ht("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[be("email"),Bt(Ht("opt_actionCodeSettings",!0),Qr(null,!0),"opt_actionCodeSettings",!0)]}}),xt(ra.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),xt(Wu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),xt(We.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),iI(TE.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:yg("appVerificationDisabledForTesting")}}),xt(Mm.prototype,{confirm:{name:"confirm",j:[be("verificationCode")]}}),$t(Ws,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var a,l=[yP,_P,bP,vP],m=0;m<l.length;m++)if(a=l[m](i))return a;return null},[Bt(be(),Ht(),"json")]),$t(yr,"credential",function(i,a){return new Ui(i,a)},[be("email"),be("password")]),xt(Ui.prototype,{w:{name:"toJSON",j:[be(null,!0)]}}),xt($o.prototype,{Ca:{name:"addScope",j:[be("scope")]},Ka:{name:"setCustomParameters",j:[Ht("customOAuthParameters")]}}),$t($o,"credential",sw,[Bt(be(),Ht(),"token")]),$t(yr,"credentialWithLink",lw,[be("email"),be("emailLink")]),xt(qo.prototype,{Ca:{name:"addScope",j:[be("scope")]},Ka:{name:"setCustomParameters",j:[Ht("customOAuthParameters")]}}),$t(qo,"credential",aw,[Bt(be(),Ht(),"token")]),xt(Ho.prototype,{Ca:{name:"addScope",j:[be("scope")]},Ka:{name:"setCustomParameters",j:[Ht("customOAuthParameters")]}}),$t(Ho,"credential",uw,[Bt(be(),Bt(Ht(),Qr()),"idToken"),Bt(be(),Qr(),"accessToken",!0)]),xt(Ys.prototype,{Ka:{name:"setCustomParameters",j:[Ht("customOAuthParameters")]}}),$t(Ys,"credential",cw,[Bt(be(),Ht(),"token"),be("secret",!0)]),xt(or.prototype,{Ca:{name:"addScope",j:[be("scope")]},credential:{name:"credential",j:[Bt(be(),Bt(Ht(),Qr()),"optionsOrIdToken"),Bt(be(),Qr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ht("customOAuthParameters")]}}),xt(hi.prototype,{w:{name:"toJSON",j:[be(null,!0)]}}),xt(jo.prototype,{w:{name:"toJSON",j:[be(null,!0)]}}),$t(di,"credential",fw,[be("verificationId"),be("verificationCode")]),xt(di.prototype,{gb:{name:"verifyPhoneNumber",j:[Bt(be(),function(i,a){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(l){return l?l.session&&l.phoneNumber?_g(l.session,ku)&&typeof l.phoneNumber=="string":l.session&&l.multiFactorHint?_g(l.session,Hl)&&rI(l.multiFactorHint):l.session&&l.multiFactorUid?_g(l.session,Hl)&&typeof l.multiFactorUid=="string":l.phoneNumber?typeof l.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),If()]}}),xt(Vi.prototype,{w:{name:"toJSON",j:[be(null,!0)]}}),xt(x.prototype,{toJSON:{name:"toJSON",j:[be(null,!0)]}}),xt(Cu.prototype,{toJSON:{name:"toJSON",j:[be(null,!0)]}}),xt(Gp.prototype,{toJSON:{name:"toJSON",j:[be(null,!0)]}}),xt(Vm.prototype,{toJSON:{name:"toJSON",j:[be(null,!0)]}}),xt(Um.prototype,{Rc:{name:"resolveSignIn",j:[nI()]}}),xt(Bm.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[nI(),be("displayName",!0)]},bd:{name:"unenroll",j:[Bt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:rI},be(),"multiFactorInfoIdentifier")]}}),xt(vg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),$t(Dp,"parseLink",$0,[be("link")]),$t(lg,"assertion",function(i){return new CE(i)},[Bi("phone")]),function(){if(typeof Pe<"u"&&Pe.INTERNAL&&Pe.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Fl,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:xp,VERIFY_AND_CHANGE_EMAIL:Su,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Cr,AuthCredential:Ws,Error:x};$t(i,"EmailAuthProvider",yr,[]),$t(i,"FacebookAuthProvider",$o,[]),$t(i,"GithubAuthProvider",qo,[]),$t(i,"GoogleAuthProvider",Ho,[]),$t(i,"TwitterAuthProvider",Ys,[]),$t(i,"OAuthProvider",or,[be("providerId")]),$t(i,"SAMLAuthProvider",ow,[be("providerId")]),$t(i,"PhoneAuthProvider",di,[WD()]),$t(i,"RecaptchaVerifier",vg,[Bt(be(),GD(),"recaptchaContainer"),Ht("recaptchaParameters",!0),zD()]),$t(i,"ActionCodeURL",Dp,[]),$t(i,"PhoneMultiFactorGenerator",lg,[]),Pe.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new Cr(a)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(a){a.getProvider("auth-internal").initialize()}}),Pe.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:L(a.getUid,a),getToken:L(a.nc,a),addAuthTokenListener:L(a.cc,a),removeAuthTokenListener:L(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Pe.registerVersion("@firebase/auth","0.16.8"),Pe.INTERNAL.extendNamespace({User:sr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _v=function(e,t){return _v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},_v(e,t)};function DU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_v(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function K1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var LU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_e,zy=zy||{},Be=LU||self;function lh(){}function bv(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function el(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function MU(e){return Object.prototype.hasOwnProperty.call(e,Rg)&&e[Rg]||(e[Rg]=++FU)}var Rg="closure_uid_"+(1e9*Math.random()>>>0),FU=0;function UU(e,t,n){return e.call.apply(e.bind,arguments)}function VU(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function pn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?pn=UU:pn=VU,pn.apply(null,arguments)}function Rf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function vn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,o,s){for(var u=Array(arguments.length-2),c=2;c<arguments.length;c++)u[c-2]=arguments[c];return t.prototype[o].apply(r,u)}}function Io(){this.s=this.s,this.o=this.o}var jU=0;Io.prototype.s=!1;Io.prototype.na=function(){!this.s&&(this.s=!0,this.M(),jU!=0)&&MU(this)};Io.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var G1=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},W1=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function BU(e){e:{for(var t=PV,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function YI(e){return Array.prototype.concat.apply([],arguments)}function Yy(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function fh(e){return/^[\s\xa0]*$/.test(e)}var XI=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Mn(e,t){return e.indexOf(t)!=-1}function Pg(e,t){return e<t?-1:e>t?1:0}var Fn;e:{var QI=Be.navigator;if(QI){var JI=QI.userAgent;if(JI){Fn=JI;break e}}Fn=""}function Xy(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function z1(e){var t={};for(var n in e)t[n]=e[n];return t}var ZI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y1(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<ZI.length;s++)n=ZI[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Qy(e){return Qy[" "](e),e}Qy[" "]=lh;function $U(e){var t=KU;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var qU=Mn(Fn,"Opera"),Ra=Mn(Fn,"Trident")||Mn(Fn,"MSIE"),X1=Mn(Fn,"Edge"),wv=X1||Ra,Q1=Mn(Fn,"Gecko")&&!(Mn(Fn.toLowerCase(),"webkit")&&!Mn(Fn,"Edge"))&&!(Mn(Fn,"Trident")||Mn(Fn,"MSIE"))&&!Mn(Fn,"Edge"),HU=Mn(Fn.toLowerCase(),"webkit")&&!Mn(Fn,"Edge");function J1(){var e=Be.document;return e?e.documentMode:void 0}var hh;e:{var xg="",Dg=function(){var e=Fn;if(Q1)return/rv:([^\);]+)(\)|;)/.exec(e);if(X1)return/Edge\/([\d\.]+)/.exec(e);if(Ra)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(HU)return/WebKit\/(\S+)/.exec(e);if(qU)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Dg&&(xg=Dg?Dg[1]:""),Ra){var Lg=J1();if(Lg!=null&&Lg>parseFloat(xg)){hh=String(Lg);break e}}hh=xg}var KU={};function GU(){return $U(function(){for(var e=0,t=XI(String(hh)).split("."),n=XI("9").split("."),r=Math.max(t.length,n.length),o=0;e==0&&o<r;o++){var s=t[o]||"",u=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],s[0].length==0&&u[0].length==0)break;e=Pg(s[1].length==0?0:parseInt(s[1],10),u[1].length==0?0:parseInt(u[1],10))||Pg(s[2].length==0,u[2].length==0)||Pg(s[2],u[2]),s=s[3],u=u[3]}while(e==0)}return 0<=e})}var Ev;if(Be.document&&Ra){var eT=J1();Ev=eT||parseInt(hh,10)||void 0}else Ev=void 0;var WU=Ev,zU=function(){if(!Be.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Be.addEventListener("test",lh,t),Be.removeEventListener("test",lh,t)}catch{}return e}();function An(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}An.prototype.h=function(){this.defaultPrevented=!0};function Oc(e,t){if(An.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Q1){e:{try{Qy(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:YU[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Oc.Z.h.call(this)}}vn(Oc,An);var YU={2:"touch",3:"pen",4:"mouse"};Oc.prototype.h=function(){Oc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var tl="closure_listenable_"+(1e6*Math.random()|0),XU=0;function QU(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++XU,this.ca=this.fa=!1}function od(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function sd(e){this.src=e,this.g={},this.h=0}sd.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var u=Tv(e,t,r,o);return-1<u?(t=e[u],n||(t.fa=!1)):(t=new QU(t,this.src,s,!!r,o),t.fa=n,e.push(t)),t};function Iv(e,t){var n=t.type;if(n in e.g){var r=e.g[n],o=G1(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(od(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Tv(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return o}return-1}var Jy="closure_lm_"+(1e6*Math.random()|0),Mg={};function Z1(e,t,n,r,o){if(r&&r.once)return tk(e,t,n,r,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Z1(e,t[s],n,r,o);return null}return n=t_(n),e&&e[tl]?e.N(t,n,el(r)?!!r.capture:!!r,o):ek(e,t,n,!1,r,o)}function ek(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var u=el(o)?!!o.capture:!!o,c=e_(e);if(c||(e[Jy]=c=new sd(e)),n=c.add(t,n,r,u,s),n.proxy)return n;if(r=JU(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)zU||(o=u),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(rk(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function JU(){function e(n){return t.call(e.src,e.listener,n)}var t=ZU;return e}function tk(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)tk(e,t[s],n,r,o);return null}return n=t_(n),e&&e[tl]?e.O(t,n,el(r)?!!r.capture:!!r,o):ek(e,t,n,!0,r,o)}function nk(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)nk(e,t[s],n,r,o);else r=el(r)?!!r.capture:!!r,n=t_(n),e&&e[tl]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Tv(s,n,r,o),-1<n&&(od(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=e_(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Tv(t,n,r,o)),(n=-1<e?t[e]:null)&&Zy(n))}function Zy(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[tl])Iv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(rk(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=e_(t))?(Iv(n,e),n.h==0&&(n.src=null,t[Jy]=null)):od(e)}}}function rk(e){return e in Mg?Mg[e]:Mg[e]="on"+e}function ZU(e,t){if(e.ca)e=!0;else{t=new Oc(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Zy(e),e=n.call(r,t)}return e}function e_(e){return e=e[Jy],e instanceof sd?e:null}var Fg="__closure_events_fn_"+(1e9*Math.random()>>>0);function t_(e){return typeof e=="function"?e:(e[Fg]||(e[Fg]=function(t){return e.handleEvent(t)}),e[Fg])}function un(){Io.call(this),this.i=new sd(this),this.P=this,this.I=null}vn(un,Io);un.prototype[tl]=!0;un.prototype.removeEventListener=function(e,t,n,r){nk(this,e,t,n,r)};function mn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new An(t,e);else if(t instanceof An)t.target=t.target||e;else{var o=t;t=new An(r,e),Y1(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var u=t.g=n[s];o=Pf(u,r,!0,t)&&o}if(u=t.g=e,o=Pf(u,r,!0,t)&&o,o=Pf(u,r,!1,t)&&o,n)for(s=0;s<n.length;s++)u=t.g=n[s],o=Pf(u,r,!1,t)&&o}un.prototype.M=function(){if(un.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)od(n[r]);delete e.g[t],e.h--}}this.I=null};un.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};un.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Pf(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ca&&u.capture==n){var c=u.listener,f=u.ia||u.src;u.fa&&Iv(e.i,u),o=c.call(f,r)!==!1&&o}}return o&&!r.defaultPrevented}var n_=Be.JSON.stringify;function eV(){var e=ok,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var tV=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=ik.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),ik=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new nV},function(e){return e.reset()}),nV=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function rV(e){Be.setTimeout(function(){throw e},0)}function r_(e,t){Sv||iV(),Av||(Sv(),Av=!0),ok.add(e,t)}var Sv;function iV(){var e=Be.Promise.resolve(void 0);Sv=function(){e.then(oV)}}var Av=!1,ok=new tV;function oV(){for(var e;e=eV();){try{e.h.call(e.g)}catch(n){rV(n)}var t=ik;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Av=!1}function ad(e,t){un.call(this),this.h=e||1,this.g=t||Be,this.j=pn(this.kb,this),this.l=Date.now()}vn(ad,un);_e=ad.prototype;_e.da=!1;_e.S=null;_e.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),mn(this,"tick"),this.da&&(i_(this),this.start()))}};_e.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function i_(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}_e.M=function(){ad.Z.M.call(this),i_(this),delete this.g};function o_(e,t,n){if(typeof e=="function")n&&(e=pn(e,n));else if(e&&typeof e.handleEvent=="function")e=pn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Be.setTimeout(e,t||0)}function sk(e){e.g=o_(function(){e.g=null,e.i&&(e.i=!1,sk(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var sV=function(e){DU(t,e);function t(n,r){var o=e.call(this)||this;return o.m=n,o.j=r,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:sk(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Io);function Rc(e){Io.call(this),this.h=e,this.g={}}vn(Rc,Io);var tT=[];function ak(e,t,n,r){Array.isArray(n)||(n&&(tT[0]=n.toString()),n=tT);for(var o=0;o<n.length;o++){var s=Z1(t,n[o],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function uk(e){Xy(e.g,function(t,n){this.g.hasOwnProperty(n)&&Zy(t)},e),e.g={}}Rc.prototype.M=function(){Rc.Z.M.call(this),uk(this)};Rc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ud(){this.g=!0}ud.prototype.Aa=function(){this.g=!1};function aV(e,t,n,r,o,s){e.info(function(){if(e.g)if(s)for(var u="",c=s.split("&"),f=0;f<c.length;f++){var d=c[f].split("=");if(1<d.length){var g=d[0];d=d[1];var h=g.split("_");u=2<=h.length&&h[1]=="type"?u+(g+"="+d+"&"):u+(g+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+u})}function uV(e,t,n,r,o,s,u){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+u})}function ga(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+lV(e,n)+(r?" "+r:"")})}function cV(e,t){e.info(function(){return"TIMEOUT: "+t})}ud.prototype.info=function(){};function lV(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var u=1;u<o.length;u++)o[u]=""}}}}return n_(n)}catch{return t}}var Cs={},nT=null;function cd(){return nT=nT||new un}Cs.Ma="serverreachability";function ck(e){An.call(this,Cs.Ma,e)}vn(ck,An);function Pc(e){var t=cd();mn(t,new ck(t))}Cs.STAT_EVENT="statevent";function lk(e,t){An.call(this,Cs.STAT_EVENT,e),this.stat=t}vn(lk,An);function Un(e){var t=cd();mn(t,new lk(t,e))}Cs.Na="timingevent";function fk(e,t){An.call(this,Cs.Na,e),this.size=t}vn(fk,An);function nl(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Be.setTimeout(function(){e()},t)}var ld={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},hk={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function s_(){}s_.prototype.h=null;function rT(e){return e.h||(e.h=e.i())}function dk(){}var rl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function a_(){An.call(this,"d")}vn(a_,An);function u_(){An.call(this,"c")}vn(u_,An);var kv;function fd(){}vn(fd,s_);fd.prototype.g=function(){return new XMLHttpRequest};fd.prototype.i=function(){return{}};kv=new fd;function il(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Rc(this),this.P=fV,e=wv?125:void 0,this.W=new ad(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new pk}function pk(){this.i=null,this.g="",this.h=!1}var fV=45e3,Nv={},dh={};_e=il.prototype;_e.setTimeout=function(e){this.P=e};function Cv(e,t,n){e.K=1,e.v=dd(Oi(t)),e.s=n,e.U=!0,mk(e,null)}function mk(e,t){e.F=Date.now(),ol(e),e.A=Oi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Ek(n.h,"t",r),e.C=0,n=e.l.H,e.h=new pk,e.g=$k(e.l,n?t:null,!e.s),0<e.O&&(e.L=new sV(pn(e.Ia,e,e.g),e.O)),ak(e.V,e.g,"readystatechange",e.gb),t=e.H?z1(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Pc(),aV(e.j,e.u,e.A,e.m,e.X,e.s)}_e.gb=function(e){e=e.target;var t=this.L;t&&wi(e)==3?t.l():this.Ia(e)};_e.Ia=function(e){try{if(e==this.g)e:{var t=wi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||wv||this.g&&(this.h.h||this.g.ga()||aT(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Pc(3):Pc(2)),hd(this);var o=this.g.ba();this.N=o;t:if(gk(this)){var s=aT(this.g);e="";var u=s.length,c=wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cs(this),fc(this);var f="";break t}this.h.i=new Be.TextDecoder}for(n=0;n<u;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:c&&n==u-1});s.splice(0,u),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,uV(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,g=this.g;if((d=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fh(d)){var h=d;break t}}h=null}if(o=h)ga(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ov(this,o);else{this.i=!1,this.o=3,Un(12),cs(this),fc(this);break e}}this.U?(vk(this,t,f),wv&&this.i&&t==3&&(ak(this.V,this.W,"tick",this.fb),this.W.start())):(ga(this.j,this.m,f,null),Ov(this,f)),t==4&&cs(this),this.i&&!this.I&&(t==4?Uk(this.l,this):(this.i=!1,ol(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,Un(12)):(this.o=0,Un(13)),cs(this),fc(this)}}}catch{}finally{}};function gk(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function vk(e,t,n){for(var r=!0,o;!e.I&&e.C<n.length;)if(o=hV(e,n),o==dh){t==4&&(e.o=4,Un(14),r=!1),ga(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Nv){e.o=4,Un(15),ga(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else ga(e.j,e.m,o,null),Ov(e,o);gk(e)&&o!=dh&&o!=Nv&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Un(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),v_(t),t.L=!0,Un(11))):(ga(e.j,e.m,n,"[Invalid Chunked Response]"),cs(e),fc(e))}_e.fb=function(){if(this.g){var e=wi(this.g),t=this.g.ga();this.C<t.length&&(hd(this),vk(this,e,t),this.i&&e!=4&&ol(this))}};function hV(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?dh:(n=Number(t.substring(n,r)),isNaN(n)?Nv:(r+=1,r+n>t.length?dh:(t=t.substr(r,n),e.C=r+n,t)))}_e.cancel=function(){this.I=!0,cs(this)};function ol(e){e.Y=Date.now()+e.P,yk(e,e.P)}function yk(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=nl(pn(e.eb,e),t)}function hd(e){e.B&&(Be.clearTimeout(e.B),e.B=null)}_e.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(cV(this.j,this.A),this.K!=2&&(Pc(),Un(17)),cs(this),this.o=2,fc(this)):yk(this,this.Y-e)};function fc(e){e.l.G==0||e.I||Uk(e.l,e)}function cs(e){hd(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,i_(e.W),uk(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ov(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Rv(n.i,e))){if(n.I=e.N,!e.J&&Rv(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)vh(n),gd(n);else break e;g_(n),Un(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=nl(pn(n.ab,n),6e3));if(1>=Sk(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else ls(n,11)}else if((e.J||n.g==e)&&vh(n),!fh(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var u=s[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));var c=s[4];c!=null&&(n.za=c,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var d=e.g;if(d){var g=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var h=r.i;!h.g&&(Mn(g,"spdy")||Mn(g,"quic")||Mn(g,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(f_(h,h.h),h.h=null))}if(r.D){var p=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.sa=p,Pt(r.F,r.D,p))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var v=e;if(r.oa=Bk(r,r.H?r.la:null,r.W),v.J){Ak(r.i,v);var _=v,E=r.K;E&&_.setTimeout(E),_.B&&(hd(_),ol(_)),r.g=v}else Mk(r);0<n.l.length&&vd(n)}else s[0]!="stop"&&s[0]!="close"||ls(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?ls(n,7):m_(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Pc(4)}catch{}}function dV(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(bv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function c_(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(bv(e)||typeof e=="string")W1(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(bv(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=dV(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function nu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof nu)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}_e=nu.prototype;_e.R=function(){l_(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};_e.T=function(){return l_(this),this.g.concat()};function l_(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Es(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)r=e.g[t],Es(o,r)||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}_e.get=function(e,t){return Es(this.h,e)?this.h[e]:t};_e.set=function(e,t){Es(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};_e.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function Es(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _k=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pV(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Is(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Is){this.g=t!==void 0?t:e.g,ph(this,e.j),this.s=e.s,mh(this,e.i),gh(this,e.m),this.l=e.l,t=e.h;var n=new xc;n.i=t.i,t.g&&(n.g=new nu(t.g),n.h=t.h),iT(this,n),this.o=e.o}else e&&(n=String(e).match(_k))?(this.g=!!t,ph(this,n[1]||"",!0),this.s=hc(n[2]||""),mh(this,n[3]||"",!0),gh(this,n[4]),this.l=hc(n[5]||"",!0),iT(this,n[6]||"",!0),this.o=hc(n[7]||"")):(this.g=!!t,this.h=new xc(null,this.g))}Is.prototype.toString=function(){var e=[],t=this.j;t&&e.push(oc(t,oT,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(oc(t,oT,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(oc(n,n.charAt(0)=="/"?_V:yV,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",oc(n,wV)),e.join("")};function Oi(e){return new Is(e)}function ph(e,t,n){e.j=n?hc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function mh(e,t,n){e.i=n?hc(t,!0):t}function gh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function iT(e,t,n){t instanceof xc?(e.h=t,EV(e.h,e.g)):(n||(t=oc(t,bV)),e.h=new xc(t,e.g))}function Pt(e,t,n){e.h.set(t,n)}function dd(e){return Pt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function mV(e){return e instanceof Is?Oi(e):new Is(e,void 0)}function gV(e,t,n,r){var o=new Is(null,void 0);return e&&ph(o,e),t&&mh(o,t),n&&gh(o,n),r&&(o.l=r),o}function hc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function oc(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,vV),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function vV(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var oT=/[#\/\?@]/g,yV=/[#\?:]/g,_V=/[#\?]/g,bV=/[#\?@]/g,wV=/#/g;function xc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function To(e){e.g||(e.g=new nu,e.h=0,e.i&&pV(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}_e=xc.prototype;_e.add=function(e,t){To(this),this.i=null,e=ru(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function bk(e,t){To(e),t=ru(e,t),Es(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Es(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&l_(e)))}function wk(e,t){return To(e),t=ru(e,t),Es(e.g.h,t)}_e.forEach=function(e,t){To(this),this.g.forEach(function(n,r){W1(n,function(o){e.call(t,o,r,this)},this)},this)};_e.T=function(){To(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};_e.R=function(e){To(this);var t=[];if(typeof e=="string")wk(this,e)&&(t=YI(t,this.g.get(ru(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=YI(t,e[n])}return t};_e.set=function(e,t){return To(this),this.i=null,e=ru(this,e),wk(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};_e.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function Ek(e,t,n){bk(e,t),0<n.length&&(e.i=null,e.g.set(ru(e,t),Yy(n)),e.h+=n.length)}_e.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var u=o;r[s]!==""&&(u+="="+encodeURIComponent(String(r[s]))),e.push(u)}}return this.i=e.join("&")};function ru(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function EV(e,t){t&&!e.j&&(To(e),e.i=null,e.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(bk(this,r),Ek(this,o,n))},e)),e.j=t}var IV=function(){function e(t,n){this.h=t,this.g=n}return e}();function Ik(e){this.l=e||TV,Be.PerformanceNavigationTiming?(e=Be.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Be.g&&Be.g.Ea&&Be.g.Ea()&&Be.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var TV=10;function Tk(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Sk(e){return e.h?1:e.g?e.g.size:0}function Rv(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function f_(e,t){e.g?e.g.add(t):e.h=t}function Ak(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Ik.prototype.cancel=function(){var e,t;if(this.i=kk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=K1(this.g.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function kk(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var o=K1(e.g.values()),s=o.next();!s.done;s=o.next()){var u=s.value;r=r.concat(u.D)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return Yy(e.i)}function h_(){}h_.prototype.stringify=function(e){return Be.JSON.stringify(e,void 0)};h_.prototype.parse=function(e){return Be.JSON.parse(e,void 0)};function SV(){this.g=new h_}function AV(e,t,n){var r=n||"";try{c_(e,function(o,s){var u=o;el(o)&&(u=n_(o)),t.push(r+s+"="+encodeURIComponent(u))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function kV(e,t){var n=new ud;if(Be.Image){var r=new Image;r.onload=Rf(xf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Rf(xf,n,r,"TestLoadImage: error",!1,t),r.onabort=Rf(xf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Rf(xf,n,r,"TestLoadImage: timeout",!1,t),Be.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function xf(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function sl(e){this.l=e.$b||null,this.j=e.ib||!1}vn(sl,s_);sl.prototype.g=function(){return new pd(this.l,this.j)};sl.prototype.i=function(e){return function(){return e}}({});function pd(e,t){un.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=d_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vn(pd,un);var d_=0;_e=pd.prototype;_e.open=function(e,t){if(this.readyState!=d_)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Dc(this)};_e.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Be).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};_e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,al(this)),this.readyState=d_};_e.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dc(this)),this.g&&(this.readyState=3,Dc(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Be.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Nk(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function Nk(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}_e.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?al(this):Dc(this),this.readyState==3&&Nk(this)}};_e.Ua=function(e){this.g&&(this.response=this.responseText=e,al(this))};_e.Ta=function(e){this.g&&(this.response=e,al(this))};_e.ha=function(){this.g&&al(this)};function al(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Dc(e)}_e.setRequestHeader=function(e,t){this.v.append(e,t)};_e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};_e.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Dc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(pd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var NV=Be.JSON.parse;function Xt(e){un.call(this),this.headers=new nu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ck,this.K=this.L=!1}vn(Xt,un);var Ck="",CV=/^https?$/i,OV=["POST","PUT"];_e=Xt.prototype;_e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():kv.g(),this.C=this.u?rT(this.u):rT(kv),this.g.onreadystatechange=pn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){sT(this,s);return}e=n||"";var o=new nu(this.headers);r&&c_(r,function(s,u){o.set(u,s)}),r=BU(o.T()),n=Be.FormData&&e instanceof Be.FormData,!(0<=G1(OV,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pk(this),0<this.B&&((this.K=RV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pn(this.pa,this)):this.A=o_(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){sT(this,s)}};function RV(e){return Ra&&GU()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function PV(e){return e.toLowerCase()=="content-type"}_e.pa=function(){typeof zy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mn(this,"timeout"),this.abort(8))};function sT(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ok(e),md(e)}function Ok(e){e.D||(e.D=!0,mn(e,"complete"),mn(e,"error"))}_e.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,mn(this,"complete"),mn(this,"abort"),md(this))};_e.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),md(this,!0)),Xt.Z.M.call(this)};_e.Fa=function(){this.s||(this.F||this.v||this.l?Rk(this):this.cb())};_e.cb=function(){Rk(this)};function Rk(e){if(e.h&&typeof zy<"u"&&(!e.C[1]||wi(e)!=4||e.ba()!=2)){if(e.v&&wi(e)==4)o_(e.Fa,0,e);else if(mn(e,"readystatechange"),wi(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.H).match(_k)[1]||null;if(!s&&Be.self&&Be.self.location){var u=Be.self.location.protocol;s=u.substr(0,u.length-1)}o=!CV.test(s?s.toLowerCase():"")}r=o}if(r)mn(e,"complete"),mn(e,"success");else{e.m=6;try{var c=2<wi(e)?e.g.statusText:""}catch{c=""}e.j=c+" ["+e.ba()+"]",Ok(e)}}finally{md(e)}}}}function md(e,t){if(e.g){Pk(e);var n=e.g,r=e.C[0]?lh:null;e.g=null,e.C=null,t||mn(e,"ready");try{n.onreadystatechange=r}catch{}}}function Pk(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Be.clearTimeout(e.A),e.A=null)}function wi(e){return e.g?e.g.readyState:0}_e.ba=function(){try{return 2<wi(this)?this.g.status:-1}catch{return-1}};_e.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};_e.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),NV(t)}};function aT(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ck:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}_e.Da=function(){return this.m};_e.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function xV(e){var t="";return Xy(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function p_(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=xV(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Pt(e,t,n))}function Xu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function xk(e){this.za=0,this.l=[],this.h=new ud,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xu("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xu("baseRetryDelayMs",5e3,e),this.$a=Xu("retryDelaySeedMs",1e4,e),this.Ya=Xu("forwardChannelMaxRetries",2,e),this.ra=Xu("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ik(e&&e.concurrentRequestLimit),this.Ca=new SV,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}_e=xk.prototype;_e.ma=8;_e.G=1;function m_(e){if(Dk(e),e.G==3){var t=e.V++,n=Oi(e.F);Pt(n,"SID",e.J),Pt(n,"RID",t),Pt(n,"TYPE","terminate"),ul(e,n),t=new il(e,e.h,t,void 0),t.K=2,t.v=dd(Oi(n)),n=!1,Be.navigator&&Be.navigator.sendBeacon&&(n=Be.navigator.sendBeacon(t.v.toString(),"")),!n&&Be.Image&&(new Image().src=t.v,n=!0),n||(t.g=$k(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ol(t)}jk(e)}_e.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function gd(e){e.g&&(v_(e),e.g.cancel(),e.g=null)}function Dk(e){gd(e),e.u&&(Be.clearTimeout(e.u),e.u=null),vh(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Be.clearTimeout(e.m),e.m=null)}function Ug(e,t){e.l.push(new IV(e.Za++,t)),e.G==3&&vd(e)}function vd(e){Tk(e.i)||e.m||(e.m=!0,r_(e.Ha,e),e.C=0)}function DV(e,t){return Sk(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=nl(pn(e.Ha,e,t),Vk(e,e.C)),e.C++,!0)}_e.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new il(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=z1(n),Y1(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=Lk(this,t,r),o=Oi(this.F),Pt(o,"RID",e),Pt(o,"CVER",22),this.D&&Pt(o,"X-HTTP-Session-Id",this.D),ul(this,o),this.o&&n&&p_(o,this.o,n),f_(this.i,t),this.Ra&&Pt(o,"TYPE","init"),this.ja?(Pt(o,"$req",r),Pt(o,"SID","null"),t.$=!0,Cv(t,o,null)):Cv(t,o,r),this.G=2}}else this.G==3&&(e?uT(this,e):this.l.length==0||Tk(this.i)||uT(this))};function uT(e,t){var n;t?n=t.m:n=e.V++;var r=Oi(e.F);Pt(r,"SID",e.J),Pt(r,"RID",n),Pt(r,"AID",e.U),ul(e,r),e.o&&e.s&&p_(r,e.o,e.s),n=new il(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Lk(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),f_(e.i,n),Cv(n,r,t)}function ul(e,t){e.j&&c_({},function(n,r){Pt(t,r,n)})}function Lk(e,t,n){n=Math.min(e.l.length,n);var r=e.j?pn(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var u=["count="+n];s==-1?0<n?(s=o[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);for(var c=!0,f=0;f<n;f++){var d=o[f].h,g=o[f].g;if(d-=s,0>d)s=Math.max(0,o[f].h-100),c=!1;else try{AV(g,u,"req"+d+"_")}catch{r&&r(g)}}if(c){r=u.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Mk(e){e.g||e.u||(e.Y=1,r_(e.Ga,e),e.A=0)}function g_(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=nl(pn(e.Ga,e),Vk(e,e.A)),e.A++,!0)}_e.Ga=function(){if(this.u=null,Fk(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=nl(pn(this.bb,this),e)}};_e.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Un(10),gd(this),Fk(this))};function v_(e){e.B!=null&&(Be.clearTimeout(e.B),e.B=null)}function Fk(e){e.g=new il(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Oi(e.oa);Pt(t,"RID","rpc"),Pt(t,"SID",e.J),Pt(t,"CI",e.N?"0":"1"),Pt(t,"AID",e.U),ul(e,t),Pt(t,"TYPE","xmlhttp"),e.o&&e.s&&p_(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=dd(Oi(t)),n.s=null,n.U=!0,mk(n,e)}_e.ab=function(){this.v!=null&&(this.v=null,gd(this),g_(this),Un(19))};function vh(e){e.v!=null&&(Be.clearTimeout(e.v),e.v=null)}function Uk(e,t){var n=null;if(e.g==t){vh(e),v_(e),e.g=null;var r=2}else if(Rv(e.i,t))n=t.D,Ak(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;r=cd(),mn(r,new fk(r,n)),vd(e)}else Mk(e);else if(o=t.o,o==3||o==0&&0<e.I||!(r==1&&DV(e,t)||r==2&&g_(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:ls(e,5);break;case 4:ls(e,10);break;case 3:ls(e,6);break;default:ls(e,2)}}}function Vk(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ls(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=pn(e.jb,e);n||(n=new Is("//www.google.com/images/cleardot.gif"),Be.location&&Be.location.protocol=="http"||ph(n,"https"),dd(n)),kV(n.toString(),r)}else Un(2);e.G=0,e.j&&e.j.va(t),jk(e),Dk(e)}_e.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Un(2)):(this.h.info("Failed to ping google.com"),Un(1))};function jk(e){e.G=0,e.I=-1,e.j&&((kk(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Yy(e.l),e.l.length=0),e.j.ua())}function Bk(e,t,n){var r=mV(n);if(r.i!="")t&&mh(r,t+"."+r.i),gh(r,r.m);else{var o=Be.location;r=gV(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Xy(e.aa,function(s,u){Pt(r,u,s)}),t=e.D,n=e.sa,t&&n&&Pt(r,t,n),Pt(r,"VER",e.ma),ul(e,r),r}function $k(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Xt(new sl({ib:!0})):new Xt(e.qa),t.L=e.H,t}function qk(){}_e=qk.prototype;_e.xa=function(){};_e.wa=function(){};_e.va=function(){};_e.ua=function(){};_e.Oa=function(){};function yh(){if(Ra&&!(10<=Number(WU)))throw Error("Environmental error: no available transport.")}yh.prototype.g=function(e,t){return new mr(e,t)};function mr(e,t){un.call(this),this.g=new xk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!fh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!fh(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new iu(this)}vn(mr,un);mr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),r_(pn(e.hb,e,t))),Un(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Bk(e,null,e.W),vd(e)};mr.prototype.close=function(){m_(this.g)};mr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Ug(this.g,t)}else this.v?(t={},t.__data__=n_(e),Ug(this.g,t)):Ug(this.g,e)};mr.prototype.M=function(){this.g.j=null,delete this.j,m_(this.g),delete this.g,mr.Z.M.call(this)};function Hk(e){a_.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}vn(Hk,a_);function Kk(){u_.call(this),this.status=1}vn(Kk,u_);function iu(e){this.g=e}vn(iu,qk);iu.prototype.xa=function(){mn(this.g,"a")};iu.prototype.wa=function(e){mn(this.g,new Hk(e))};iu.prototype.va=function(e){mn(this.g,new Kk)};iu.prototype.ua=function(){mn(this.g,"b")};yh.prototype.createWebChannel=yh.prototype.g;mr.prototype.send=mr.prototype.u;mr.prototype.open=mr.prototype.m;mr.prototype.close=mr.prototype.close;ld.NO_ERROR=0;ld.TIMEOUT=8;ld.HTTP_ERROR=6;hk.COMPLETE="complete";dk.EventType=rl;rl.OPEN="a";rl.CLOSE="b";rl.ERROR="c";rl.MESSAGE="d";un.prototype.listen=un.prototype.N;Xt.prototype.listenOnce=Xt.prototype.O;Xt.prototype.getLastError=Xt.prototype.La;Xt.prototype.getLastErrorCode=Xt.prototype.Da;Xt.prototype.getStatus=Xt.prototype.ba;Xt.prototype.getResponseJson=Xt.prototype.Qa;Xt.prototype.getResponseText=Xt.prototype.ga;Xt.prototype.send=Xt.prototype.ea;var LV=function(){return new yh},MV=function(){return cd()},Vg=ld,FV=hk,UV=Cs,cT={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},VV=sl,Df=dk,jV=Xt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fr=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();fr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ne=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Ce(t,e),t}(Error),Ur=new B1("@firebase/firestore");function Pv(){return Ur.logLevel}function ue(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ur.logLevel<=ot.DEBUG){var r=t.map(y_);Ur.debug.apply(Ur,Rt(["Firestore (8.10.1): "+e],r))}}function Wt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ur.logLevel<=ot.ERROR){var r=t.map(y_);Ur.error.apply(Ur,Rt(["Firestore (8.10.1): "+e],r))}}function _h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ur.logLevel<=ot.WARN){var r=t.map(y_);Ur.warn.apply(Ur,Rt(["Firestore (8.10.1): "+e],r))}}function y_(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Wt(t),new Error(t)}function Ve(e,t){e||Te()}function me(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gk=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=BV(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function Je(e,t){return e<t?-1:e>t?1:0}function Pa(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function Wk(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ne(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ne(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ne(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Je(this.nanoseconds,t.nanoseconds):Je(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ge=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Jn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Os(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function zk(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yk=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&Te(),r===void 0?r=t.length-n:r>t.length-n&&Te(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),u=n.get(o);if(s<u)return-1;if(s>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),at=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,u=n;s<u.length;s++){var c=u[s];if(c.indexOf("//")>=0)throw new ne(K.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");o.push.apply(o,c.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(Yk),$V=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$r=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return $V.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,u=function(){if(o.length===0)throw new ne(K.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},c=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new ne(K.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ne(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,s+=2}else f==="`"?(c=!c,s++):f!=="."||c?(o+=f,s++):(u(),s++)}if(u(),c)throw new ne(K.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(Yk),xa=function(){function e(t){this.fields=t,t.sort($r.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Pa(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),er=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Je(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();er.EMPTY_BYTE_STRING=new er("");var qV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(e){if(Ve(!!e),typeof e=="string"){var t=0,n=qV.exec(e);if(Ve(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Gt(e.seconds),nanos:Gt(e.nanos)}}function Gt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Da(e){return typeof e=="string"?er.fromBase64String(e):er.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Xk(e){var t=e.mapValue.fields.__previous_value__;return __(t)?Xk(t):t}function Lc(e){var t=yo(e.mapValue.fields.__local_write_time__.timestampValue);return new Jn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(e){return e==null}function bh(e){return e===0&&1/e==-1/0}function Qk(e){return typeof e=="number"&&Number.isInteger(e)&&!bh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(at.fromString(t))},e.fromName=function(t){return new e(at.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&at.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return at.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new at(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?__(e)?4:10:Te()}function ci(e,t){var n=Ts(e);if(n!==Ts(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lc(e).isEqual(Lc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=yo(r.timestampValue),u=yo(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return Da(r.bytesValue).isEqual(Da(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return Gt(r.geoPointValue.latitude)===Gt(o.geoPointValue.latitude)&&Gt(r.geoPointValue.longitude)===Gt(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Gt(r.integerValue)===Gt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=Gt(r.doubleValue),u=Gt(o.doubleValue);return s===u?bh(s)===bh(u):isNaN(s)&&isNaN(u)}return!1}(e,t);case 9:return Pa(e.arrayValue.values||[],t.arrayValue.values||[],ci);case 10:return function(r,o){var s=r.mapValue.fields||{},u=o.mapValue.fields||{};if(lT(s)!==lT(u))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!ci(s[c],u[c])))return!1;return!0}(e,t);default:return Te()}}function Mc(e,t){return(e.values||[]).find(function(n){return ci(n,t)})!==void 0}function La(e,t){var n=Ts(e),r=Ts(t);if(n!==r)return Je(n,r);switch(n){case 0:return 0;case 1:return Je(e.booleanValue,t.booleanValue);case 2:return function(o,s){var u=Gt(o.integerValue||o.doubleValue),c=Gt(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(e,t);case 3:return fT(e.timestampValue,t.timestampValue);case 4:return fT(Lc(e),Lc(t));case 5:return Je(e.stringValue,t.stringValue);case 6:return function(o,s){var u=Da(o),c=Da(s);return u.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var u=o.split("/"),c=s.split("/"),f=0;f<u.length&&f<c.length;f++){var d=Je(u[f],c[f]);if(d!==0)return d}return Je(u.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var u=Je(Gt(o.latitude),Gt(s.latitude));return u!==0?u:Je(Gt(o.longitude),Gt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var u=o.values||[],c=s.values||[],f=0;f<u.length&&f<c.length;++f){var d=La(u[f],c[f]);if(d)return d}return Je(u.length,c.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var u=o.fields||{},c=Object.keys(u),f=s.fields||{},d=Object.keys(f);c.sort(),d.sort();for(var g=0;g<c.length&&g<d.length;++g){var h=Je(c[g],d[g]);if(h!==0)return h;var p=La(u[c[g]],f[d[g]]);if(p!==0)return p}return Je(c.length,d.length)}(e.mapValue,t.mapValue);default:throw Te()}}function fT(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Je(e,t);var n=yo(e),r=yo(t),o=Je(n.seconds,r.seconds);return o!==0?o:Je(n.nanos,r.nanos)}function b_(e){return xv(e)}function xv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=yo(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Da(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ae.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,u=0,c=r.values||[];u<c.length;u++)s?s=!1:o+=",",o+=xv(c[u]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,u=0,c=Object.keys(r.fields||{}).sort();u<c.length;u++){var f=c[u];s?s=!1:o+=",",o+=f+":"+xv(r.fields[f])}return o+"}"}(e.mapValue):Te();var t,n}function wh(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Dv(e){return!!e&&"integerValue"in e}function w_(e){return!!e&&"arrayValue"in e}function hT(e){return!!e&&"nullValue"in e}function dT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Qf(e){return!!e&&"mapValue"in e}function dc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Os(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=dc(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=dc(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lr=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Qf(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=dc(n)},e.prototype.setAll=function(t){var n=this,r=$r.emptyPath(),o={},s=[];t.forEach(function(c,f){if(!r.isImmediateParentOf(f)){var d=n.getFieldsMap(r);n.applyChanges(d,o,s),o={},s=[],r=f.popLast()}c?o[f.lastSegment()]=dc(c):s.push(f.lastSegment())});var u=this.getFieldsMap(r);this.applyChanges(u,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Qf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return ci(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var o=n.mapValue.fields[t.get(r)];Qf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Os(n,function(c,f){return t[c]=f});for(var o=0,s=r;o<s.length;o++){var u=s[o];delete t[u]}},e.prototype.clone=function(){return new e(dc(this.value))},e}();function Jk(e){var t=[];return Os(e.fields,function(n,r){var o=new $r([n]);if(Qf(r)){var s=Jk(r.mapValue).fields;if(s.length===0)t.push(o);else for(var u=0,c=s;u<c.length;u++){var f=c[u];t.push(o.child(f))}}else t.push(o)}),new xa(t)}var kn=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,Ge.min(),lr.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,lr.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,lr.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=lr.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=lr.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),HV=function(e,t,n,r,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=u,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(e,t,n,r,o,s,u){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),new HV(e,t,n,r,o,s,u)}function cl(e){var t=me(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+b_(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),Rs(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ih(t.startAt)),t.endAt&&(n+="|ub:",n+=Ih(t.endAt)),t.h=n}return t.h}function yd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!JV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!ci(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gT(e.startAt,t.startAt)&&gT(e.endAt,t.endAt)}function Eh(e){return Ae.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var hr=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return Ce(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new KV(n,r,o):r==="array-contains"?new zV(n,o):r==="in"?new YV(n,o):r==="not-in"?new XV(n,o):r==="array-contains-any"?new QV(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new GV(n,o):new WV(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(La(r,this.value)):r!==null&&Ts(this.value)===Ts(r)&&this.m(La(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Te()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),KV=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=Ae.fromName(o.referenceValue),s}return Ce(t,e),t.prototype.matches=function(n){var r=Ae.comparator(n.key,this.key);return this.m(r)},t}(hr),GV=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=Zk("in",r),o}return Ce(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(hr),WV=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=Zk("not-in",r),o}return Ce(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(hr);function Zk(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return Ae.fromName(r.referenceValue)})}var zV=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return Ce(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return w_(r)&&Mc(r.arrayValue,this.value)},t}(hr),YV=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return Ce(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Mc(this.value.arrayValue,r)},t}(hr),XV=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return Ce(t,e),t.prototype.matches=function(n){if(Mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Mc(this.value.arrayValue,r)},t}(hr),QV=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return Ce(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!w_(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return Mc(r.value.arrayValue,s)})},t}(hr),Fc=function(e,t){this.position=e,this.before=t};function Ih(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return b_(t)}).join(",")}var Ia=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function JV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function mT(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],u=e.position[o];if(r=s.field.isKeyField()?Ae.comparator(Ae.fromName(u.referenceValue),n.key):La(u,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function gT(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ci(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pi=function(e,t,n,r,o,s,u,c){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),u===void 0&&(u=null),c===void 0&&(c=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=c,this.p=null,this.T=null,this.startAt,this.endAt};function eN(e,t,n,r,o,s,u,c){return new Pi(e,t,n,r,o,s,u,c)}function ll(e){return new Pi(e)}function Jf(e){return!Rs(e.limit)&&e.limitType==="F"}function Th(e){return!Rs(e.limit)&&e.limitType==="L"}function E_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function I_(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function T_(e){return e.collectionGroup!==null}function Ma(e){var t=me(e);if(t.p===null){t.p=[];var n=I_(t),r=E_(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Ia(n)),t.p.push(new Ia($r.keyField(),"asc"));else{for(var o=!1,s=0,u=t.explicitOrderBy;s<u.length;s++){var c=u[s];t.p.push(c),c.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ia($r.keyField(),f))}}}return t.p}function li(e){var t=me(e);if(!t.T)if(t.limitType==="F")t.T=pT(t.path,t.collectionGroup,Ma(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=Ma(t);r<o.length;r++){var s=o[r],u=s.dir==="desc"?"asc":"desc";n.push(new Ia(s.field,u))}var c=t.endAt?new Fc(t.endAt.position,!t.endAt.before):null,f=t.startAt?new Fc(t.startAt.position,!t.startAt.before):null;t.T=pT(t.path,t.collectionGroup,n,t.filters,t.limit,c,f)}return t.T}function tN(e,t,n){return new Pi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function fl(e,t){return yd(li(e),li(t))&&e.limitType===t.limitType}function nN(e){return cl(li(e))+"|lt:"+e.limitType}function Lv(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+b_(o.value);var o}).join(", ")+"]"),Rs(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Ih(t.startAt)),t.endAt&&(n+=", endAt: "+Ih(t.endAt)),"Target("+n+")"}(li(e))+"; limitType="+e.limitType+")"}function hl(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ae.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var u=s[o];if(!u.field.isKeyField()&&r.data.field(u.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!mT(n.startAt,Ma(n),r))&&(!n.endAt||!mT(n.endAt,Ma(n),r))}(e,t)}function rN(e){return function(t,n){for(var r=!1,o=0,s=Ma(e);o<s.length;o++){var u=s[o],c=ZV(u,t,n);if(c!==0)return c;r=r||u.field.isKeyField()}return 0}}function ZV(e,t,n){var r=e.field.isKeyField()?Ae.comparator(t.key,n.key):function(o,s,u){var c=s.data.field(o),f=u.data.field(o);return c!==null&&f!==null?La(c,f):Te()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(t)?"-0":t}}function oN(e){return{integerValue:""+e}}function sN(e,t){return Qk(t)?oN(t):iN(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _d=function(){this._=void 0};function ej(e,t,n){return e instanceof Fa?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Ss?uN(e,t):e instanceof As?cN(e,t):function(r,o){var s=aN(r,o),u=vT(s)+vT(r.A);return Dv(s)&&Dv(r.A)?oN(u):iN(r.R,u)}(e,t)}function tj(e,t,n){return e instanceof Ss?uN(e,t):e instanceof As?cN(e,t):n}function aN(e,t){return e instanceof Ua?Dv(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Fa=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t}(_d),Ss=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Ce(t,e),t}(_d);function uN(e,t){for(var n=lN(t),r=function(u){n.some(function(c){return ci(c,u)})||n.push(u)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var As=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Ce(t,e),t}(_d);function cN(e,t){for(var n=lN(t),r=function(u){n=n.filter(function(c){return!ci(c,u)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var Ua=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return Ce(t,e),t}(_d);function vT(e){return Gt(e.integerValue||e.doubleValue)}function lN(e){return w_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dl=function(e,t){this.field=e,this.transform=t},nj=function(e,t){this.version=e,this.transformResults=t},Tn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Zf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var bd=function(){};function rj(e,t,n){e instanceof pl?function(r,o,s){var u=r.value.clone(),c=bT(r.fieldTransforms,o,s.transformResults);u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):e instanceof So?function(r,o,s){if(Zf(r.precondition,o)){var u=bT(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(fN(r)),c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Mv(e,t,n){e instanceof pl?function(r,o,s){if(Zf(r.precondition,o)){var u=r.value.clone(),c=wT(r.fieldTransforms,s,o);u.setAll(c),o.convertToFoundDocument(_T(o),u).setHasLocalMutations()}}(e,t,n):e instanceof So?function(r,o,s){if(Zf(r.precondition,o)){var u=wT(r.fieldTransforms,s,o),c=o.data;c.setAll(fN(r)),c.setAll(u),o.convertToFoundDocument(_T(o),c).setHasLocalMutations()}}(e,t,n):function(r,o){Zf(r.precondition,o)&&o.convertToNoDocument(Ge.min())}(e,t)}function ij(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],u=t.data.field(s.field),c=aN(s.transform,u||null);c!=null&&(n==null&&(n=lr.empty()),n.set(s.field,c))}return n||null}function yT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Pa(n,r,function(o,s){return function(u,c){return u.field.isEqual(c.field)&&function(f,d){return f instanceof Ss&&d instanceof Ss||f instanceof As&&d instanceof As?Pa(f.elements,d.elements,ci):f instanceof Ua&&d instanceof Ua?ci(f.A,d.A):f instanceof Fa&&d instanceof Fa}(u.transform,c.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function _T(e){return e.isFoundDocument()?e.version:Ge.min()}var pl=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=r,u.precondition=o,u.fieldTransforms=s,u.type=0,u}return Ce(t,e),t}(bd),So=function(e){function t(n,r,o,s,u){u===void 0&&(u=[]);var c=this;return(c=e.call(this)||this).key=n,c.data=r,c.fieldMask=o,c.precondition=s,c.fieldTransforms=u,c.type=1,c}return Ce(t,e),t}(bd);function fN(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function bT(e,t,n){var r=new Map;Ve(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],u=s.transform,c=t.data.field(s.field);r.set(s.field,tj(u,c,n[o]))}return r}function wT(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var u=s[o],c=u.transform,f=n.data.field(u.field);r.set(u.field,ej(c,f,t))}return r}var Kt,et,ml=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return Ce(t,e),t}(bd),S_=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return Ce(t,e),t}(bd),oj=function(e){this.count=e};function hN(e){switch(e){case K.OK:return Te();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return Te()}}function dN(e){if(e===void 0)return Wt("GRPC error has no .code"),K.UNKNOWN;switch(e){case Kt.OK:return K.OK;case Kt.CANCELLED:return K.CANCELLED;case Kt.UNKNOWN:return K.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return K.INTERNAL;case Kt.UNAVAILABLE:return K.UNAVAILABLE;case Kt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Kt.NOT_FOUND:return K.NOT_FOUND;case Kt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Kt.ABORTED:return K.ABORTED;case Kt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Kt.DATA_LOSS:return K.DATA_LOSS;default:return Te()}}(et=Kt||(Kt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn=function(){function e(t,n){this.comparator=t,this.root=n||ro.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ro.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ro.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Lf(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Lf(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Lf(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Lf(this.root,t,this.comparator,!0)},e}(),Lf=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),ro=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t??this.key,n??this.value,r??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();var t=this.left.check();if(t!==this.right.check())throw Te();return t+(this.isRed()?0:1)},e}();ro.EMPTY=null,ro.RED=!0,ro.BLACK=!1,ro.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Te()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Te()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Te()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Te()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Te()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new ro(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn=function(){function e(t){this.comparator=t,this.data=new Nn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new ET(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new ET(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),ET=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),sj=new Nn(Ae.comparator);function Vr(){return sj}var aj=new Nn(Ae.comparator);function Fv(){return aj}var uj=new Nn(Ae.comparator);function cj(){return uj}var lj=new rn(Ae.comparator);function bt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=lj,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var fj=new rn(Je);function wd(){return fj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A_=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,k_.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ge.min(),r,wd(),Vr(),bt())},e}(),k_=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(er.EMPTY_BYTE_STRING,n,bt(),bt(),bt())},e}(),eh=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},pN=function(e,t){this.targetId=e,this.V=t},mN=function(e,t,n,r){n===void 0&&(n=er.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},IT=function(){function e(){this.S=0,this.D=ST(),this.C=er.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=bt(),n=bt(),r=bt();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Te()}}),new k_(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=ST()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),hj=function(){function e(t){this.W=t,this.G=new Map,this.H=Vr(),this.J=TT(),this.Y=new rn(Je)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,u=t.removedTargetIds;s<u.length;s++)o=u[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.O(t.resumeToken));break;default:Te()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if(Eh(s))if(r===0){var u=new Ae(s.path);this.tt(n,u,kn.newNoDocument(u,Ge.min()))}else Ve(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(u,c){var f=n.ot(c);if(f){if(u.current&&Eh(f.target)){var d=new Ae(f.target.path);n.H.get(d)!==null||n.at(c,d)||n.tt(c,d,kn.newNoDocument(d,t))}u.$&&(r.set(c,u.M()),u.L())}});var o=bt();this.J.forEach(function(u,c){var f=!0;c.forEachWhile(function(d){var g=n.ot(d);return!g||g.purpose===2||(f=!1,!1)}),f&&(o=o.add(u))});var s=new A_(t,r,this.Y,this.H,o);return this.H=Vr(),this.J=TT(),this.Y=new rn(Je),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new IT,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new rn(Je),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new IT),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function TT(){return new Nn(Ae.comparator)}function ST(){return new Nn(Ae.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dj={asc:"ASCENDING",desc:"DESCENDING"},pj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mj=function(e,t){this.databaseId=e,this.I=t};function Uc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function gN(e,t){return e.I?t.toBase64():t.toUint8Array()}function gj(e,t){return Uc(e,t.toTimestamp())}function Vn(e){return Ve(!!e),Ge.fromTimestamp(function(t){var n=yo(t);return new Jn(n.seconds,n.nanos)}(e))}function N_(e,t){return function(n){return new at(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function vN(e){var t=at.fromString(e);return Ve(TN(t)),t}function Vc(e,t){return N_(e.databaseId,t.path)}function Ii(e,t){var n=vN(t);if(n.get(1)!==e.databaseId.projectId)throw new ne(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ne(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ae(_N(n))}function Uv(e,t){return N_(e.databaseId,t)}function yN(e){var t=vN(e);return t.length===4?at.emptyPath():_N(t)}function jc(e){return new at(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _N(e){return Ve(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function AT(e,t,n){return{name:Vc(e,t),fields:n.value.mapValue.fields}}function vj(e,t,n){var r=Ii(e,t.name),o=Vn(t.updateTime),s=new lr({mapValue:{fields:t.fields}}),u=kn.newFoundDocument(r,o,s);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Sh(e,t){var n;if(t instanceof pl)n={update:AT(e,t.key,t.value)};else if(t instanceof ml)n={delete:Vc(e,t.key)};else if(t instanceof So)n={update:AT(e,t.key,t.data),updateMask:Ej(t.fieldMask)};else{if(!(t instanceof S_))return Te();n={verify:Vc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var u=s.transform;if(u instanceof Fa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ss)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof As)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ua)return{fieldPath:s.field.canonicalString(),increment:u.A};throw Te()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:gj(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te()}(e,t.precondition)),n}function kT(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?Tn.updateTime(Vn(d.updateTime)):d.exists!==void 0?Tn.exists(d.exists):Tn.none()}(t.currentDocument):Tn.none(),r=t.updateTransforms?t.updateTransforms.map(function(d){return function(g,h){var p=null;if("setToServerValue"in h)Ve(h.setToServerValue==="REQUEST_TIME"),p=new Fa;else if("appendMissingElements"in h){var v=h.appendMissingElements.values||[];p=new Ss(v)}else if("removeAllFromArray"in h){var _=h.removeAllFromArray.values||[];p=new As(_)}else"increment"in h?p=new Ua(g,h.increment):Te();var E=$r.fromServerFormat(h.fieldPath);return new dl(E,p)}(e,d)}):[];if(t.update){t.update.name;var o=Ii(e,t.update.name),s=new lr({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(d){var g=d.fieldPaths||[];return new xa(g.map(function(h){return $r.fromServerFormat(h)}))}(t.updateMask);return new So(o,s,u,n,r)}return new pl(o,s,n,r)}if(t.delete){var c=Ii(e,t.delete);return new ml(c,n)}if(t.verify){var f=Ii(e,t.verify);return new S_(f,n)}return Te()}function bN(e,t){return{documents:[Uv(e,t.path)]}}function wN(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Uv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Uv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(c){if(c.length!==0){var f=c.map(function(d){return function(g){if(g.op==="=="){if(dT(g.value))return{unaryFilter:{field:ua(g.field),op:"IS_NAN"}};if(hT(g.value))return{unaryFilter:{field:ua(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(dT(g.value))return{unaryFilter:{field:ua(g.field),op:"IS_NOT_NAN"}};if(hT(g.value))return{unaryFilter:{field:ua(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(g.field),op:_j(g.op),value:g.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(c){if(c.length!==0)return c.map(function(f){return function(d){return{field:ua(d.field),direction:yj(d.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var u=function(c,f){return c.I||Rs(f)?f:{value:f}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=NT(t.startAt)),t.endAt&&(n.structuredQuery.endAt=NT(t.endAt)),n}function EN(e){var t=yN(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){Ve(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var u=[];n.where&&(u=IN(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(h){return function(p){return new Ia(va(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h)}));var f=null;n.limit&&(f=function(h){var p;return Rs(p=typeof h=="object"?h.value:h)?null:p}(n.limit));var d=null;n.startAt&&(d=CT(n.startAt));var g=null;return n.endAt&&(g=CT(n.endAt)),eN(t,o,c,u,f,"F",d,g)}function IN(e){return e?e.unaryFilter!==void 0?[wj(e)]:e.fieldFilter!==void 0?[bj(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return IN(t)}).reduce(function(t,n){return t.concat(n)}):Te():[]}function NT(e){return{before:e.before,values:e.position}}function CT(e){var t=!!e.before,n=e.values||[];return new Fc(n,t)}function yj(e){return dj[e]}function _j(e){return pj[e]}function ua(e){return{fieldPath:e.canonicalString()}}function va(e){return $r.fromServerFormat(e.fieldPath)}function bj(e){return hr.create(va(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Te()}}(e.fieldFilter.op),e.fieldFilter.value)}function wj(e){switch(e.unaryFilter.op){case"IS_NAN":var t=va(e.unaryFilter.field);return hr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=va(e.unaryFilter.field);return hr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=va(e.unaryFilter.field);return hr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=va(e.unaryFilter.field);return hr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Te()}}function Ej(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function TN(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=OT(t)),t=Ij(e.get(n),t);return OT(t)}function Ij(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function OT(e){return e+""}function Ei(e){var t=e.length;if(Ve(t>=2),t===2)return Ve(e.charAt(0)===""&&e.charAt(1)===""),at.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var u=e.indexOf("",s);switch((u<0||u>n)&&Te(),e.charAt(u+1)){case"":var c=e.substring(s,u),f=void 0;o.length===0?f=c:(f=o+=c,o=""),r.push(f);break;case"":o+=e.substring(s,u),o+="\0";break;case"":o+=e.substring(s,u+1);break;default:Te()}s=u+2}return new at(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tj=function(e,t){this.seconds=e,this.nanoseconds=t},ur=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};ur.store="owner",ur.key="owner";var po=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};po.store="mutationQueues",po.keyPath="userId";var Et=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};Et.store="mutations",Et.keyPath="batchId",Et.userMutationsIndex="userMutationsIndex",Et.userMutationsKeyPath=["userId","batchId"];var bn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,jr(n)]},e.key=function(t,n,r){return[t,jr(n),r]},e}();bn.store="documentMutations",bn.PLACEHOLDER=new bn;var Sj=function(e,t){this.path=e,this.readTime=t},Aj=function(e,t){this.path=e,this.version=t},Ft=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};Ft.store="remoteDocuments",Ft.readTimeIndex="readTimeIndex",Ft.readTimeIndexPath="readTime",Ft.collectionReadTimeIndex="collectionReadTimeIndex",Ft.collectionReadTimeIndexPath=["parentPath","readTime"];var ii=function(e){this.byteSize=e};ii.store="remoteDocumentGlobal",ii.key="remoteDocumentGlobalKey";var Qn=function(e,t,n,r,o,s,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=u};Qn.store="targets",Qn.keyPath="targetId",Qn.queryTargetsIndexName="queryTargetsIndex",Qn.queryTargetsKeyPath=["canonicalId","targetId"];var dn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};dn.store="targetDocuments",dn.keyPath=["targetId","path"],dn.documentTargetsIndex="documentTargetsIndex",dn.documentTargetsKeyPath=["path","targetId"];var cr=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};cr.key="targetGlobalKey",cr.store="targetGlobal";var gs=function(e,t){this.collectionId=e,this.parent=t};gs.store="collectionParents",gs.keyPath=["collectionId","parent"];var Ti=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Ti.store="clientMetadata",Ti.keyPath="clientId";var Va=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Va.store="bundles",Va.keyPath="bundleId";var ja=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};ja.store="namedQueries",ja.keyPath="name";var kj=Rt(Rt([],Rt(Rt([],Rt(Rt([],Rt(Rt([],[po.store,Et.store,bn.store,Ft.store,Qn.store,ur.store,cr.store,dn.store]),[Ti.store])),[ii.store])),[gs.store])),[Va.store,ja.store]),SN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",AN=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),tr=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},se=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(u){r.wrapSuccess(t,u).next(o,s)},r.catchCallback=function(u){r.wrapFailure(n,u).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,u=!1;t.forEach(function(c){++o,c.next(function(){++s,u&&s===o&&n()},function(f){return r(f)})}),u=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(u){n=n.next(function(c){return c?e.resolve(c):u()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,u){o.push(n.call(r,s,u))}),this.waitFor(o)},e}(),kN=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new tr,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new pc(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=C_(o.target.error);r.ft.reject(new pc(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new pc(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ue("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new Cj(n)},e}(),Ba=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(ws())===12.2&&Wt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return ue("SimpleDb","Removing database:",t),as(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=ws(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return Q(this,void 0,void 0,function(){var n,r=this;return X(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ue("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,u){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(f){var d=f.target.result;s(d)},c.onblocked=function(){u(new pc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(f){var d=f.target.error;d.name==="VersionError"?u(new ne(K.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new pc(t,d))},c.onupgradeneeded=function(f){ue("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;r.wt.Rt(d,c.transaction,f.oldVersion,r.version).next(function(){ue("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return Q(this,void 0,void 0,function(){var s,u,c,f,d;return X(this,function(g){switch(g.label){case 0:s=n==="readonly",u=0,c=function(){var h,p,v,_,E;return X(this,function(S){switch(S.label){case 0:++u,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=S.sent(),h=kN.open(f.db,t,s?"readonly":"readwrite",r),p=o(h).catch(function(b){return h.abort(b),se.reject(b)}).toPromise(),v={},p.catch(function(){}),[4,h.dt];case 3:return[2,(v.value=(S.sent(),p),v)];case 4:return _=S.sent(),E=_.name!=="FirebaseError"&&u<3,ue("SimpleDb","Transaction failed with error:",_.message,"Retrying:",E),f.close(),E?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,g.label=1;case 1:return[5,c()];case 2:if(typeof(d=g.sent())=="object")return[2,d.value];g.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Nj=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return as(this.Pt.delete())},e}(),pc=function(e){function t(n,r){var o=this;return(o=e.call(this,K.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return Ce(t,e),t}(ne);function Ps(e){return e.name==="IndexedDbTransactionError"}var Cj=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(ue("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(ue("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),as(r)},e.prototype.add=function(t){return ue("SimpleDb","ADD",this.store.name,t,t),as(this.store.add(t))},e.prototype.get=function(t){var n=this;return as(this.store.get(t)).next(function(r){return r===void 0&&(r=null),ue("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return ue("SimpleDb","DELETE",this.store.name,t),as(this.store.delete(t))},e.prototype.count=function(){return ue("SimpleDb","COUNT",this.store.name),as(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,u){o.push(u)}).next(function(){return o})},e.prototype.kt=function(t,n){ue("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var o=this.cursor(r);return this.xt(o,function(s,u,c){return c.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new se(function(r,o){n.onerror=function(s){var u=C_(s.target.error);o(u)},n.onsuccess=function(s){var u=s.target.result;u?t(u.primaryKey,u.value).next(function(c){c?u.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new se(function(o,s){t.onerror=function(u){s(u.target.error)},t.onsuccess=function(u){var c=u.target.result;if(c){var f=new Nj(c),d=n(c.primaryKey,c.value,f);if(d instanceof se){var g=d.catch(function(h){return f.done(),se.reject(h)});r.push(g)}f.isDone?o():f.Dt===null?c.continue():c.continue(f.Dt)}else o()}}).next(function(){return se.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function as(e){return new se(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=C_(r.target.error);n(o)}})}var RT=!1;function C_(e){var t=Ba._t(ws());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ne("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return RT||(RT=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PT=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return Ce(t,e),t}(AN);function nr(e,t){var n=me(e);return Ba.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O_=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&rj(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(t.key)&&Mv(u,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var u;(u=s[o]).key.isEqual(t.key)&&Mv(u,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(Ge.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},bt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Pa(this.mutations,t.mutations,function(n,r){return yT(n,r)})&&Pa(this.baseMutations,t.baseMutations,function(n,r){return yT(n,r)})},e}(),Oj=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){Ve(t.mutations.length===r.length);for(var o=cj(),s=t.mutations,u=0;u<s.length;u++)o=o.insert(s[u].key,r[u].version);return new e(t,n,r,o)},e}(),Ed=function(){function e(t,n,r,o,s,u,c){s===void 0&&(s=Ge.min()),u===void 0&&(u=Ge.min()),c===void 0&&(c=er.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),NN=function(e){this.Lt=e};function Vv(e,t){if(t.document)return vj(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Ae.fromSegments(t.noDocument.path),r=qa(t.noDocument.readTime),o=kn.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=Ae.fromSegments(t.unknownDocument.path);return r=qa(t.unknownDocument.version),kn.newUnknownDocument(s,r)}return Te()}function xT(e,t,n){var r=R_(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(h,p){return{name:Vc(h,p.key),fields:p.data.value.mapValue.fields,updateTime:Uc(h,p.version.toTimestamp())}}(e.Lt,t),u=t.hasCommittedMutations;return new Ft(null,null,s,u,r,o)}if(t.isNoDocument()){var c=t.key.path.toArray(),f=$a(t.version);return u=t.hasCommittedMutations,new Ft(null,new Sj(c,f),null,u,r,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),g=$a(t.version);return new Ft(new Aj(d,g),null,null,!0,r,o)}return Te()}function R_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function CN(e){var t=new Jn(e[0],e[1]);return Ge.fromTimestamp(t)}function $a(e){var t=e.toTimestamp();return new Tj(t.seconds,t.nanoseconds)}function qa(e){var t=new Jn(e.seconds,e.nanoseconds);return Ge.fromTimestamp(t)}function ha(e,t){for(var n=(t.baseMutations||[]).map(function(f){return kT(e.Lt,f)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var u=t.mutations.map(function(f){return kT(e.Lt,f)}),c=Jn.fromMillis(t.localWriteTimeMs);return new O_(t.batchId,c,n,u)}function sc(e){var t,n,r=qa(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?qa(e.lastLimboFreeSnapshotVersion):Ge.min();return e.query.documents!==void 0?(Ve((n=e.query).documents.length===1),t=li(ll(yN(n.documents[0])))):t=function(s){return li(EN(s))}(e.query),new Ed(t,e.targetId,0,e.lastListenSequenceNumber,r,o,er.fromBase64String(e.resumeToken))}function ON(e,t){var n,r=$a(t.snapshotVersion),o=$a(t.lastLimboFreeSnapshotVersion);n=Eh(t.target)?bN(e.Lt,t.target):wN(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Qn(t.targetId,cl(t.target),r,s,t.sequenceNumber,o,n)}function RN(e){var t=EN({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?tN(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rj=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return DT(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:qa(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return DT(t).put({bundleId:(r=n).id,createTime:$a(Vn(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return LT(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:RN(o.bundledQuery),readTime:qa(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return LT(t).put(function(r){return{name:r.name,readTime:$a(Vn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function DT(e){return nr(e,Va.store)}function LT(e){return nr(e,ja.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pj=function(){function e(){this.Bt=new P_}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),se.resolve()},e.prototype.getCollectionParents=function(t,n){return se.resolve(this.Bt.getEntries(n))},e}(),P_=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new rn(at.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new rn(at.comparator)).toArray()},e}(),xj=function(){function e(){this.qt=new P_}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var u={collectionId:o,parent:jr(s)};return MT(t).put(u)}return se.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[Wk(n),""],!1,!0);return MT(t).Nt(o).next(function(s){for(var u=0,c=s;u<c.length;u++){var f=c[u];if(f.collectionId!==n)break;r.push(Ei(f.parent))}return r})},e}();function MT(e){return nr(e,gs.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ei=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(e,t,n){var r=e.store(Et.store),o=e.store(bn.store),s=[],u=IDBKeyRange.only(n.batchId),c=0,f=r.$t({range:u},function(_,E,S){return c++,S.delete()});s.push(f.next(function(){Ve(c===1)}));for(var d=[],g=0,h=n.mutations;g<h.length;g++){var p=h[g],v=bn.key(t,p.key.path,n.batchId);s.push(o.delete(v)),d.push(p.key)}return se.waitFor(s).next(function(){return d})}function Ah(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Te();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei.DEFAULT_COLLECTION_PERCENTILE=10,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ei.DEFAULT=new ei(41943040,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ei.DISABLED=new ei(-1,0,0);var Dj=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,r,o){return Ve(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gi(t).$t({index:Et.userMutationsIndex,range:r},function(o,s,u){n=!1,u.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,u=da(t),c=Gi(t);return c.add({}).next(function(f){Ve(typeof f=="number");for(var d=new O_(f,n,r,o),g=function(b,k,D){var O=D.baseMutations.map(function(L){return Sh(b.Lt,L)}),U=D.mutations.map(function(L){return Sh(b.Lt,L)});return new Et(k,D.batchId,D.localWriteTime.toMillis(),O,U)}(s.R,s.userId,d),h=[],p=new rn(function(b,k){return Je(b.canonicalString(),k.canonicalString())}),v=0,_=o;v<_.length;v++){var E=_[v],S=bn.key(s.userId,E.key.path,f);p=p.add(E.key.path.popLast()),h.push(c.put(g)),h.push(u.put(S,bn.PLACEHOLDER))}return p.forEach(function(b){h.push(s.Ut.addToCollectionParentIndex(t,b))}),t.addOnCommittedListener(function(){s.Kt[f]=d.keys()}),se.waitFor(h).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Gi(t).get(n).next(function(o){return o?(Ve(o.userId===r.userId),ha(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?se.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),u=null;return Gi(t).$t({index:Et.userMutationsIndex,range:s},function(c,f,d){f.userId===r.userId&&(Ve(f.batchId>=o),u=ha(r.R,f)),d.done()}).next(function(){return u})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Gi(t).$t({index:Et.userMutationsIndex,range:n,reverse:!0},function(o,s,u){r=s.batchId,u.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gi(t).Nt(Et.userMutationsIndex,r).next(function(o){return o.map(function(s){return ha(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=bn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),u=[];return da(t).$t({range:s},function(c,f,d){var g=c[0],h=c[1],p=c[2],v=Ei(h);if(g===r.userId&&n.path.isEqual(v))return Gi(t).get(p).next(function(_){if(!_)throw Te();Ve(_.userId===r.userId),u.push(ha(r.R,_))});d.done()}).next(function(){return u})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new rn(Je),s=[];return n.forEach(function(u){var c=bn.prefixForPath(r.userId,u.path),f=IDBKeyRange.lowerBound(c),d=da(t).$t({range:f},function(g,h,p){var v=g[0],_=g[1],E=g[2],S=Ei(_);v===r.userId&&u.path.isEqual(S)?o=o.add(E):p.done()});s.push(d)}),se.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,u=bn.prefixForPath(this.userId,o),c=IDBKeyRange.lowerBound(u),f=new rn(Je);return da(t).$t({range:c},function(d,g,h){var p=d[0],v=d[1],_=d[2],E=Ei(v);p===r.userId&&o.isPrefixOf(E)?E.length===s&&(f=f.add(_)):h.done()}).next(function(){return r.Wt(t,f)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(u){s.push(Gi(t).get(u).next(function(c){if(c===null)throw Te();Ve(c.userId===r.userId),o.push(ha(r.R,c))}))}),se.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return PN(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),se.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return se.resolve();var o=IDBKeyRange.lowerBound(bn.prefixForUser(n.userId)),s=[];return da(t).$t({range:o},function(u,c,f){if(u[0]===n.userId){var d=Ei(u[1]);s.push(d)}else f.done()}).next(function(){Ve(s.length===0)})})},e.prototype.containsKey=function(t,n){return xN(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return DN(t).get(this.userId).next(function(r){return r||new po(n.userId,-1,"")})},e}();function xN(e,t,n){var r=bn.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),u=!1;return da(e).$t({range:s,Ft:!0},function(c,f,d){var g=c[0],h=c[1];c[2],g===t&&h===o&&(u=!0),d.done()}).next(function(){return u})}function Gi(e){return nr(e,Et.store)}function da(e){return nr(e,bn.store)}function DN(e){return nr(e,po.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kh=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Lj=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new kh(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Ge.fromTimestamp(new Jn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return ca(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return Ve(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return ca(t).$t(function(c,f){var d=sc(f);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(s++,u.push(o.removeTargetData(t,d)))}).next(function(){return se.waitFor(u)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return ca(t).$t(function(r,o){var s=sc(o);n(s)})},e.prototype.Xt=function(t){return UT(t).get(cr.key).next(function(n){return Ve(n!==null),n})},e.prototype.Zt=function(t,n){return UT(t).put(cr.key,n)},e.prototype.te=function(t,n){return ca(t).put(ON(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=cl(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return ca(t).$t({range:o,index:Qn.queryTargetsIndexName},function(u,c,f){var d=sc(c);yd(n,d.target)&&(s=d,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],u=io(t);return n.forEach(function(c){var f=jr(c.path);s.push(u.put(new dn(r,f))),s.push(o.referenceDelegate.addReference(t,r,c))}),se.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=io(t);return se.forEach(n,function(u){var c=jr(u.path);return se.waitFor([s.delete([r,c]),o.referenceDelegate.removeReference(t,r,u)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=io(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=io(t),s=bt();return o.$t({range:r,Ft:!0},function(u,c,f){var d=Ei(u[1]),g=new Ae(d);s=s.add(g)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=jr(n.path),o=IDBKeyRange.bound([r],[Wk(r)],!1,!0),s=0;return io(t).$t({index:dn.documentTargetsIndex,Ft:!0,range:o},function(u,c,f){var d=u[0];u[1],d!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return ca(t).get(n).next(function(r){return r?sc(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(e){return nr(e,Qn.store)}function UT(e){return nr(e,cr.store)}function io(e){return nr(e,dn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(e){return Q(this,void 0,void 0,function(){return X(this,function(t){if(e.code!==K.FAILED_PRECONDITION||e.message!==SN)throw e;return ue("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],u=Je(n,o);return u===0?Je(r,s):u}var Mj=function(){function e(t){this.ne=t,this.buffer=new rn(VT),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();VT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Fj=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;ue("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return Q(n,void 0,void 0,function(){var o;return X(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Ps(o=s.sent())?(ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,xs(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),Uj=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return se.resolve(fr.o);var o=new Mj(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(FT)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),FT):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,u,c,f,d,g=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(p){return p>g.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+p),o=g.params.maximumSequenceNumbersToCollect):o=p,u=Date.now(),g.nthSequenceNumber(t,o)}).next(function(p){return r=p,c=Date.now(),g.removeTargets(t,r,n)}).next(function(p){return s=p,f=Date.now(),g.removeOrphanedDocuments(t,r)}).next(function(p){return d=Date.now(),Pv()<=ot.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-h)+`ms
	Determined least recently used `+o+" in "+(c-u)+`ms
	Removed `+s+" targets in "+(f-c)+`ms
	Removed `+p+" documents in "+(d-f)+`ms
Total Duration: `+(d-h)+"ms"),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:p})})},e}(),Vj=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new Uj(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return Mf(t,r)},e.prototype.removeReference=function(t,n,r){return Mf(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Mf(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return DN(r).Ot(function(u){return xN(r,u,o).next(function(c){return c&&(s=!0),se.resolve(!c)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],u=0;return this.we(t,function(c,f){if(f<=n){var d=r._e(t,c).next(function(g){if(!g)return u++,o.getEntry(t,c).next(function(){return o.removeEntry(c),io(t).delete([0,jr(c.path)])})});s.push(d)}}).next(function(){return se.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Mf(t,n)},e.prototype.we=function(t,n){var r,o=io(t),s=fr.o;return o.$t({index:dn.documentTargetsIndex},function(u,c){var f=u[0];u[1];var d=c.path,g=c.sequenceNumber;f===0?(s!==fr.o&&n(new Ae(Ei(r)),s),s=g,r=d):s=fr.o}).next(function(){s!==fr.o&&n(new Ae(Ei(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Mf(e,t){return io(e).put(function(n,r){return new dn(0,jr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ou=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var u=s[o],c=u[0],f=u[1];if(this.equalsFn(c,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Os(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var u=s[o],c=u[0],f=u[1];t(c,f)}})},e.prototype.isEmpty=function(){return zk(this.inner)},e}(),LN=function(){function e(){this.changes=new ou(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Ge.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:kn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?se.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),jj=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return eo(t).put(Ff(n),r)},e.prototype.removeEntry=function(t,n){var r=eo(t),o=Ff(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return eo(t).get(Ff(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return eo(t).get(Ff(n)).next(function(o){return{document:r.ye(n,o),size:Ah(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=Vr();return this.pe(t,n,function(s,u){var c=r.ye(s,u);o=o.insert(s,c)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=Vr(),s=new Nn(Ae.comparator);return this.pe(t,n,function(u,c){var f=r.ye(u,c);o=o.insert(u,f),s=s.insert(u,Ah(c))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return se.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),u=s.getNext();return eo(t).$t({range:o},function(c,f,d){for(var g=Ae.fromSegments(c);u&&Ae.comparator(u,g)<0;)r(u,null),u=s.getNext();u&&u.isEqual(g)&&(r(u,f),u=s.hasNext()?s.getNext():null),u?d.Ct(u.path.toArray()):d.done()}).next(function(){for(;u;)r(u,null),u=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=Vr(),u=n.path.length+1,c={};if(r.isEqual(Ge.min())){var f=n.path.toArray();c.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),g=R_(r);c.range=IDBKeyRange.lowerBound([d,g],!0),c.index=Ft.collectionReadTimeIndex}return eo(t).$t(c,function(h,p,v){if(h.length===u){var _=Vv(o.R,p);n.path.isPrefixOf(_.key.path)?hl(n,_)&&(s=s.insert(_.key,_)):v.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new Bj(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return jT(t).get(ii.key).next(function(n){return Ve(!!n),n})},e.prototype.me=function(t,n){return jT(t).put(ii.key,n)},e.prototype.ye=function(t,n){if(n){var r=Vv(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(Ge.min()))return r}return kn.newInvalidDocument(t)},e}(),Bj=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new ou(function(s){return s.toString()},function(s,u){return s.isEqual(u)}),o}return Ce(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,u=new rn(function(c,f){return Je(c.canonicalString(),f.canonicalString())});return this.changes.forEach(function(c,f){var d=r.Ae.get(c);if(f.document.isValidDocument()){var g=xT(r.Ie.R,f.document,r.getReadTime(c));u=u.add(c.path.popLast());var h=Ah(g);s+=h-d,o.push(r.Ie.addEntry(n,c,g))}else if(s-=d,r.trackRemovals){var p=xT(r.Ie.R,kn.newNoDocument(c,Ge.min()),r.getReadTime(c));o.push(r.Ie.addEntry(n,c,p))}else o.push(r.Ie.removeEntry(n,c))}),u.forEach(function(c){o.push(r.Ie.Ut.addToCollectionParentIndex(n,c))}),o.push(this.Ie.updateMetadata(n,s)),se.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var u=s.documents;return s.Te.forEach(function(c,f){o.Ae.set(c,f)}),u})},t}(LN);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(e){return nr(e,ii.store)}function eo(e){return nr(e,Ft.store)}function Ff(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $j=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;Ve(r<o&&r>=0&&o<=11);var u=new kN("createOrUpgrade",n);r<1&&o>=1&&(function(f){f.createObjectStore(ur.store)}(t),function(f){f.createObjectStore(po.store,{keyPath:po.keyPath}),f.createObjectStore(Et.store,{keyPath:Et.keyPath,autoIncrement:!0}).createIndex(Et.userMutationsIndex,Et.userMutationsKeyPath,{unique:!0}),f.createObjectStore(bn.store)}(t),BT(t),function(f){f.createObjectStore(Ft.store)}(t));var c=se.resolve();return r<3&&o>=3&&(r!==0&&(function(f){f.deleteObjectStore(dn.store),f.deleteObjectStore(Qn.store),f.deleteObjectStore(cr.store)}(t),BT(t)),c=c.next(function(){return function(f){var d=f.store(cr.store),g=new cr(0,0,Ge.min().toTimestamp(),0);return d.put(cr.key,g)}(u)})),r<4&&o>=4&&(r!==0&&(c=c.next(function(){return function(f,d){return d.store(Et.store).Nt().next(function(g){f.deleteObjectStore(Et.store),f.createObjectStore(Et.store,{keyPath:Et.keyPath,autoIncrement:!0}).createIndex(Et.userMutationsIndex,Et.userMutationsKeyPath,{unique:!0});var h=d.store(Et.store),p=g.map(function(v){return h.put(v)});return se.waitFor(p)})}(t,u)})),c=c.next(function(){(function(f){f.createObjectStore(Ti.store,{keyPath:Ti.keyPath})})(t)})),r<5&&o>=5&&(c=c.next(function(){return s.Re(u)})),r<6&&o>=6&&(c=c.next(function(){return function(f){f.createObjectStore(ii.store)}(t),s.be(u)})),r<7&&o>=7&&(c=c.next(function(){return s.ve(u)})),r<8&&o>=8&&(c=c.next(function(){return s.Pe(t,u)})),r<9&&o>=9&&(c=c.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(Ft.store);d.createIndex(Ft.readTimeIndex,Ft.readTimeIndexPath,{unique:!1}),d.createIndex(Ft.collectionReadTimeIndex,Ft.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(c=c.next(function(){return s.Ve(u)})),r<11&&o>=11&&(c=c.next(function(){(function(f){f.createObjectStore(Va.store,{keyPath:Va.keyPath})})(t),function(f){f.createObjectStore(ja.store,{keyPath:ja.keyPath})}(t)})),c},e.prototype.be=function(t){var n=0;return t.store(Ft.store).$t(function(r,o){n+=Ah(o)}).next(function(){var r=new ii(n);return t.store(ii.store).put(ii.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(po.store),o=t.store(Et.store);return r.Nt().next(function(s){return se.forEach(s,function(u){var c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.Nt(Et.userMutationsIndex,c).next(function(f){return se.forEach(f,function(d){Ve(d.userId===u.userId);var g=ha(n.R,d);return PN(t,u.userId,g).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(dn.store),r=t.store(Ft.store);return t.store(cr.store).get(cr.key).next(function(o){var s=[];return r.$t(function(u,c){var f=new at(u),d=function(g){return[0,jr(g)]}(f);s.push(n.get(d).next(function(g){return g?se.resolve():function(h){return n.put(new dn(0,jr(h),o.highestListenSequenceNumber))}(f)}))}).next(function(){return se.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(gs.store,{keyPath:gs.keyPath});var r=n.store(gs.store),o=new P_,s=function(u){if(o.add(u)){var c=u.lastSegment(),f=u.popLast();return r.put({collectionId:c,parent:jr(f)})}};return n.store(Ft.store).$t({Ft:!0},function(u,c){var f=new at(u);return s(f.popLast())}).next(function(){return n.store(bn.store).$t({Ft:!0},function(u,c){u[0];var f=u[1];u[2];var d=Ei(f);return s(d.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Qn.store);return r.$t(function(o,s){var u=sc(s),c=ON(n.R,u);return r.put(c)})},e}();function BT(e){e.createObjectStore(dn.store,{keyPath:dn.keyPath}).createIndex(dn.documentTargetsIndex,dn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Qn.store,{keyPath:Qn.keyPath}).createIndex(Qn.queryTargetsIndexName,Qn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(cr.store)}var jg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",qj=function(){function e(t,n,r,o,s,u,c,f,d,g){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=u,this.document=c,this.De=d,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!e.yt())throw new ne(K.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vj(this,o),this.Le=n+"main",this.R=new NN(f),this.Be=new Ba(this.Le,11,new $j(this.R)),this.qe=new Lj(this.referenceDelegate,this.R),this.Ut=new xj,this.Ue=function(h,p){return new jj(h,p)}(this.R,this.Ut),this.Ke=new Rj,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&Wt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ne(K.FAILED_PRECONDITION,jg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new fr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return Q(n,void 0,void 0,function(){return X(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return Q(n,void 0,void 0,function(){return X(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Q(n,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Uf(n).put(new Ti(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Ps(n))return ue("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Qu(t).get(ur.key).next(function(r){return se.resolve(n.tn(r))})},e.prototype.en=function(t){return Uf(t).delete(this.clientId)},e.prototype.nn=function(){return Q(this,void 0,void 0,function(){var t,n,r,o,s=this;return X(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var f=nr(c,Ti.store);return f.Nt().next(function(d){var g=s.rn(d,18e5),h=d.filter(function(p){return g.indexOf(p)===-1});return se.forEach(h,function(p){return f.delete(p.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)o=r[n],this.Qe.removeItem(this.on(o.clientId));u.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?se.resolve(!0):Qu(t).get(ur.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new ne(K.FAILED_PRECONDITION,jg);return!1}}return!(!n.networkEnabled||!n.inForeground)||Uf(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var u=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(u||c&&f)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&ue("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return Q(this,void 0,void 0,function(){var t=this;return X(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ur.store,Ti.store],function(r){var o=new PT(r,fr.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Uf(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return Dj.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;ue("IndexedDbPersistence","Starting transaction:",t);var s,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,u,kj,function(c){return s=new PT(c,o.Ne?o.Ne.next():fr.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw Wt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new ne(K.FAILED_PRECONDITION,SN);return r(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return r(s)})}).then(function(c){return s.raiseOnCommittedEvent(),c})},e.prototype.dn=function(t){var n=this;return Qu(t).get(ur.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new ne(K.FAILED_PRECONDITION,jg)})},e.prototype.Ze=function(t){var n=new ur(this.clientId,this.allowTabSynchronization,Date.now());return Qu(t).put(ur.key,n)},e.yt=function(){return Ba.yt()},e.prototype.Xe=function(t){var n=this,r=Qu(t);return r.get(ur.key).next(function(o){return n.tn(o)?(ue("IndexedDbPersistence","Releasing primary lease."),r.delete(ur.key)):se.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Wt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),XF()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return ue("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return Wt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Wt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Qu(e){return nr(e,ur.store)}function Uf(e){return nr(e,Ti.store)}function x_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var MN=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,u=r;s<u.length;s++)u[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,u=n;s<u.length;s++)u[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return Ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):T_(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new Ae(n)).next(function(r){var o=Fv();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,u=Fv();return this.Ut.getCollectionParents(t,s).next(function(c){return se.forEach(c,function(f){var d=function(g,h){return new Pi(h,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(s));return o.An(t,d,r).next(function(g){g.forEach(function(h,p){u=u.insert(h,p)})})}).next(function(){return u})})},e.prototype.An=function(t,n,r){var o,s,u=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(c){return o=c,u._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(c){return s=c,u.Rn(t,s,o).next(function(f){o=f;for(var d=0,g=s;d<g.length;d++)for(var h=g[d],p=0,v=h.mutations;p<v.length;p++){var _=v[p],E=_.key,S=o.get(E);S==null&&(S=kn.newInvalidDocument(E),o=o.insert(E,S)),Mv(_,S,h.localWriteTime),S.isFoundDocument()||(o=o.remove(E))}})}).next(function(){return o.forEach(function(c,f){hl(n,f)||(o=o.remove(c))}),o})},e.prototype.Rn=function(t,n,r){for(var o=bt(),s=0,u=n;s<u.length;s++)for(var c=0,f=u[s].mutations;c<f.length;c++){var d=f[c];d instanceof So&&r.get(d.key)===null&&(o=o.add(d.key))}var g=r;return this.Ue.getEntries(t,o).next(function(h){return h.forEach(function(p,v){v.isFoundDocument()&&(g=g.insert(p,v))}),g})},e}(),Hj=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=bt(),o=bt(),s=0,u=n.docChanges;s<u.length;s++){var c=u[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),FN=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(Ge.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(u){var c=s.Cn(n,u);return(Jf(n)||Th(n))&&s.Nn(n.limitType,c,o,r)?s.Dn(t,n):(Pv()<=ot.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lv(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(f){return c.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var r=new rn(rN(t));return n.forEach(function(o,s){hl(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Pv()<=ot.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Lv(n)),this.Sn.getDocumentsMatchingQuery(t,n,Ge.min())},e}(),Kj=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new Nn(Je),this.Fn=new ou(function(s){return cl(s)},yd),this.$n=Ge.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new MN(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(e,t,n,r){return new Kj(e,t,n,r)}function VN(e,t){return Q(this,void 0,void 0,function(){var n,r,o,s;return X(this,function(u){switch(u.label){case 0:return n=me(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var f;return n._n.getAllMutationBatches(c).next(function(d){return f=d,r=n.persistence.getMutationQueue(t),o=new MN(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(c)}).next(function(d){for(var g=[],h=[],p=bt(),v=0,_=f;v<_.length;v++){var E=_[v];g.push(E.batchId);for(var S=0,b=E.mutations;S<b.length;S++){var k=b[S];p=p.add(k.key)}}for(var D=0,O=d;D<O.length;D++){var U=O[D];h.push(U.batchId);for(var L=0,Y=U.mutations;L<Y.length;L++){var j=Y[L];p=p.add(j.key)}}return o.pn(c,p).next(function(H){return{Ln:H,removedBatchIds:g,addedBatchIds:h}})})})];case 1:return s=u.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function Gj(e,t){var n=me(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(u,c,f,d){var g=f.batch,h=g.keys(),p=se.resolve();return h.forEach(function(v){p=p.next(function(){return d.getEntry(c,v)}).next(function(_){var E=f.docVersions.get(v);Ve(E!==null),_.version.compareTo(E)<0&&(g.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),p.next(function(){return u._n.removeMutationBatch(c,g)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function jN(e){var t=me(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function Wj(e,t){var n=me(e),r=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var u=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var c=[];t.targetChanges.forEach(function(g,h){var p=o.get(h);if(p){c.push(n.qe.removeMatchingKeys(s,g.removedDocuments,h).next(function(){return n.qe.addMatchingKeys(s,g.addedDocuments,h)}));var v=g.resumeToken;if(v.approximateByteSize()>0){var _=p.withResumeToken(v,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(h,_),function(E,S,b){return Ve(S.resumeToken.approximateByteSize()>0),E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,_,g)&&c.push(n.qe.updateTargetData(s,_))}}});var f=Vr();if(t.documentUpdates.forEach(function(g,h){t.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),c.push(zj(s,u,t.documentUpdates,r,void 0).next(function(g){f=g})),!r.isEqual(Ge.min())){var d=n.qe.getLastRemoteSnapshotVersion(s).next(function(g){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});c.push(d)}return se.waitFor(c).next(function(){return u.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function zj(e,t,n,r,o){var s=bt();return n.forEach(function(u){return s=s.add(u)}),t.getEntries(e,s).next(function(u){var c=Vr();return n.forEach(function(f,d){var g=u.get(f),h=(o==null?void 0:o.get(f))||r;d.isNoDocument()&&d.version.isEqual(Ge.min())?(t.removeEntry(f,h),c=c.insert(f,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(d,h),c=c.insert(f,d)):ue("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",d.version)}),c})}function Yj(e,t){var n=me(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function Nh(e,t){var n=me(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,se.resolve(o)):n.qe.allocateTargetId(r).next(function(u){return o=new Ed(t,u,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.kn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function Ha(e,t,n){return Q(this,void 0,void 0,function(){var r,o,s,u;return X(this,function(c){switch(c.label){case 0:r=me(e),o=r.kn.get(t),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(f){return r.persistence.referenceDelegate.removeTarget(f,o)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!Ps(u=c.sent()))throw u;return ue("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}})})}function Ch(e,t,n){var r=me(e),o=Ge.min(),s=bt();return r.persistence.runTransaction("Execute query","readonly",function(u){return function(c,f,d){var g=me(c),h=g.Fn.get(d);return h!==void 0?se.resolve(g.kn.get(h)):g.qe.getTargetData(f,d)}(r,u,li(t)).next(function(c){if(c)return o=c.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(u,c.targetId).next(function(f){s=f})}).next(function(){return r.xn.getDocumentsMatchingQuery(u,t,n?o:Ge.min(),n?s:bt())}).next(function(c){return{documents:c,Bn:s}})})}function BN(e,t){var n=me(e),r=me(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(u){return u?u.target:null})})}function $N(e){var t=me(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var u=me(r),c=Vr(),f=R_(s),d=eo(o),g=IDBKeyRange.lowerBound(f,!0);return d.$t({index:Ft.readTimeIndex,range:g},function(h,p){var v=Vv(u.R,p);c=c.insert(v.key,v),f=p.readTime}).next(function(){return{wn:c,readTime:CN(f)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,o=n.readTime;return t.$n=o,r})}function Xj(e){return Q(this,void 0,void 0,function(){var t;return X(this,function(n){return[2,(t=me(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=eo(o),u=Ge.min();return s.$t({index:Ft.readTimeIndex,reverse:!0},function(c,f,d){f.readTime&&(u=CN(f.readTime)),d.done()}).next(function(){return u})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qj=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return se.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Vn(r.createTime)}),se.resolve()},e.prototype.getNamedQuery=function(t,n){return se.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:RN(r.bundledQuery),readTime:Vn(r.readTime)}}(n)),se.resolve()},e}(),D_=function(){function e(){this.Wn=new rn(an.Gn),this.zn=new rn(an.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new an(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new an(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new Ae(new at([])),o=new an(r,t),s=new an(r,t+1),u=[];return this.zn.forEachInRange([o,s],function(c){n.Yn(c),u.push(c.key)}),u},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new Ae(new at([])),r=new an(n,t),o=new an(n,t+1),s=bt();return this.zn.forEachInRange([r,o],function(u){s=s.add(u.key)}),s},e.prototype.containsKey=function(t){var n=new an(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),an=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return Ae.comparator(t.key,n.key)||Je(t.ns,n.ns)},e.Hn=function(t,n){return Je(t.ns,n.ns)||Ae.comparator(t.key,n.key)},e}(),Jj=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new rn(an.Gn)}return e.prototype.checkEmpty=function(t){return se.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new O_(s,n,r,o);this._n.push(u);for(var c=0,f=o;c<f.length;c++){var d=f[c];this.rs=this.rs.add(new an(d.key,s)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return se.resolve(u)},e.prototype.lookupMutationBatch=function(t,n){return se.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return se.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return se.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return se.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new an(n,0),s=new an(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([o,s],function(c){var f=r.os(c.ns);u.push(f)}),se.resolve(u)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new rn(Je);return n.forEach(function(s){var u=new an(s,0),c=new an(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([u,c],function(f){o=o.add(f.ns)})}),se.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;Ae.isDocumentKey(s)||(s=s.child(""));var u=new an(new Ae(s),0),c=new rn(Je);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===o&&(c=c.add(f.ns)),!0)},u),se.resolve(this.us(c))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;Ve(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return se.forEach(n.mutations,function(s){var u=new an(s.key,n.batchId);return o=o.delete(u),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new an(n,0),o=this.rs.firstAfterOrEqual(r);return se.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,se.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),Zj=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Nn(Ae.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),u=s?s.size:0,c=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:c,readTime:r}),this.size+=c-u,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return se.resolve(r?r.document.clone():kn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=Vr();return n.forEach(function(s){var u=r.docs.get(s);o=o.insert(s,u?u.document.clone():kn.newInvalidDocument(s))}),se.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=Vr(),s=new Ae(n.path.child("")),u=this.docs.getIteratorFrom(s);u.hasNext();){var c=u.getNext(),f=c.key,d=c.value,g=d.document,h=d.readTime;if(!n.path.isPrefixOf(f.path))break;h.compareTo(r)<=0||hl(n,g)&&(o=o.insert(g.key,g.clone()))}return se.resolve(o)},e.prototype.fs=function(t,n){return se.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new e2(this)},e.prototype.getSize=function(t){return se.resolve(this.size)},e}(),e2=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return Ce(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,u){u.document.isValidDocument()?o.push(r.Ie.addEntry(n,u.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),se.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(LN),t2=function(){function e(t){this.persistence=t,this.ds=new ou(function(n){return cl(n)},yd),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.ws=0,this._s=new D_,this.targetCount=0,this.ys=kh.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),se.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return se.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return se.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),se.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),se.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new kh(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,se.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),se.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,se.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return this.ds.forEach(function(c,f){f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o.ds.delete(c),u.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),se.waitFor(u).next(function(){return s})},e.prototype.getTargetCount=function(t){return se.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return se.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),se.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(u){s.push(o.markPotentiallyOrphaned(t,u))}),se.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),se.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return se.resolve(r)},e.prototype.containsKey=function(t,n){return se.resolve(this._s.containsKey(n))},e}(),n2=function(){function e(t,n){var r=this;this.gs={},this.Ne=new fr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new t2(this),this.Ut=new Pj,this.Ue=function(o,s){return new Zj(o,function(u){return r.referenceDelegate.ps(u)})}(this.Ut),this.R=new NN(n),this.Ke=new Qj(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new Jj(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;ue("MemoryPersistence","Starting transaction:",t);var s=new r2(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(u){return o.referenceDelegate.Ts(s).next(function(){return u})}).toPromise().then(function(u){return s.raiseOnCommittedEvent(),u})},e.prototype.Is=function(t,n){return se.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),r2=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return Ce(t,e),t}(AN),i2=function(){function e(t){this.persistence=t,this.As=new D_,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Te()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),se.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),se.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),se.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(u){return r.vs.add(u.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.vs,function(o){var s=Ae.fromPath(o);return n.Ps(t,s).next(function(u){u||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return se.or([function(){return se.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),fn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(e,t){return"firestore_clients_"+e+"_"+t}function qT(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Bg(e,t){return"firestore_targets_"+e+"_"+t}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");var HT=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new ne(s.error.code,s.error.message)),u?new e(t,n,s.state,o):(Wt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),$g=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new ne(o.error.code,o.error.message)),s?new e(t,o.state,r):(Wt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),KT=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=wd(),u=0;o&&u<r.activeTargetIds.length;++u)o=Qk(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return o?new e(t,s):(Wt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),o2=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Wt("SharedClientState","Failed to parse online state: "+t),null)},e}(),jv=function(){function e(){this.activeTargetIds=wd()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),qg=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Nn(Je),this.started=!1,this.$s=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=$T(this.persistenceKey,this.Ns),this.Ms=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new jv),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.Ks=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return Q(this,void 0,void 0,function(){var t,n,r,o,s,u,c,f,d,g,h,p=this;return X(this,function(v){switch(v.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=v.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem($T(this.persistenceKey,o)))&&(u=KT.Vs(o,s))&&(this.Fs=this.Fs.insert(u.clientId,u));for(this.Qs(),(c=this.storage.getItem(this.Us))&&(f=this.js(c))&&this.Ws(f),d=0,g=this.$s;d<g.length;d++)h=g[d],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return p.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(Bg(this.persistenceKey,t));if(r){var o=$g.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Bg(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return ue("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){ue("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){ue("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Wt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Q(n,void 0,void 0,function(){var o,s,u,c,f,d;return X(this,function(g){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(u=this.si(r.key,r.newValue)))return[2,this.ii(u)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(c=this.ri(r.key,r.newValue)))return[2,this.oi(c)]}else if(r.key===this.Us){if(r.newValue!==null&&(f=this.js(r.newValue)))return[2,this.Ws(f)]}else if(r.key===this.Ms)(d=function(h){var p=fr.o;if(h!=null)try{var v=JSON.parse(h);Ve(typeof v=="number"),p=v}catch(_){Wt("SharedClientState","Failed to read sequence number from WebStorage",_)}return p}(r.newValue))!==fr.o&&this.sequenceNumberHandler(d);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new HT(this.currentUser,t,n,r),s=qT(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=qT(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=Bg(this.persistenceKey,t),s=new $g(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return KT.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return HT.Vs(new fn(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return $g.Vs(o,n)},e.prototype.js=function(t){return o2.Vs(t)},e.prototype.ii=function(t){return Q(this,void 0,void 0,function(){return X(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ue("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),u=this.Gs(o),c=[],f=[];return u.forEach(function(d){s.has(d)||c.push(d)}),s.forEach(function(d){u.has(d)||f.push(d)}),this.syncEngine.hi(c,f).then(function(){r.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=wd();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),qN=function(){function e(){this.li=new jv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new jv,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),s2=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),GT=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),a2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},u2=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),c2=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return Ce(t,e),t.prototype.Fi=function(n,r,o,s){return new Promise(function(u,c){var f=new jV;f.listenOnce(FV.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Vg.NO_ERROR:var g=f.getResponseJson();ue("Connection","XHR received:",JSON.stringify(g)),u(g);break;case Vg.TIMEOUT:ue("Connection",'RPC "'+n+'" timed out'),c(new ne(K.DEADLINE_EXCEEDED,"Request time out"));break;case Vg.HTTP_ERROR:var h=f.getStatus();if(ue("Connection",'RPC "'+n+'" failed with status:',h,"response text:",f.getResponseText()),h>0){var p=f.getResponseJson().error;if(p&&p.status&&p.message){var v=function(_){var E=_.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(E)>=0?E:K.UNKNOWN}(p.status);c(new ne(v,p.message))}else c(new ne(K.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new ne(K.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ue("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(s);f.send(r,"POST",d,o,15)})},t.prototype.Oi=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=LV(),u=MV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new VV({})),this.ki(c.initMessageHeaders,r),qF()||GF()||WF()||zF()||YF()||KF()||(c.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");ue("Connection","Creating WebChannel: "+f,c);var d=s.createWebChannel(f,c),g=!1,h=!1,p=new u2({Ei:function(_){h?ue("Connection","Not sending because WebChannel is closed:",_):(g||(ue("Connection","Opening WebChannel transport."),d.open(),g=!0),ue("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),v=function(_,E,S){_.listen(E,function(b){try{S(b)}catch(k){setTimeout(function(){throw k},0)}})};return v(d,Df.EventType.OPEN,function(){h||ue("Connection","WebChannel transport opened.")}),v(d,Df.EventType.CLOSE,function(){h||(h=!0,ue("Connection","WebChannel transport closed"),p.Vi())}),v(d,Df.EventType.ERROR,function(_){h||(h=!0,_h("Connection","WebChannel transport errored:",_),p.Vi(new ne(K.UNAVAILABLE,"The operation could not be completed")))}),v(d,Df.EventType.MESSAGE,function(_){var E;if(!h){var S=_.data[0];Ve(!!S);var b=S,k=b.error||((E=b[0])===null||E===void 0?void 0:E.error);if(k){ue("Connection","WebChannel received error:",k);var D=k.status,O=function(L){var Y=Kt[L];if(Y!==void 0)return dN(Y)}(D),U=k.message;O===void 0&&(O=K.INTERNAL,U="Unknown error status: "+D+" with message "+k.message),h=!0,p.Vi(new ne(O,U)),d.close()}else ue("Connection","WebChannel received:",S),p.Si(S)}}),v(u,UV.STAT_EVENT,function(_){_.stat===cT.PROXY?ue("Connection","Detected buffering proxy"):_.stat===cT.NOPROXY&&ue("Connection","Detected no buffering proxy")}),setTimeout(function(){p.Pi()},0),p},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);ue("RestConnection","Sending: ",s,r);var u={};return this.ki(u,o),this.Fi(t,s,u,r).then(function(c){return ue("RestConnection","Received: ",c),c},function(c){throw _h("RestConnection",t+" failed with error: ",c,"url: ",s,"request:",r),c})},e.prototype.$i=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=a2[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(){return typeof window<"u"?window:null}function th(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(e){return new mj(e,!0)}var L_=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-o);s>0&&ue("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),KN=function(){function e(t,n,r,o,s,u){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new L_(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return Q(this,void 0,void 0,function(){return X(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return Q(this,void 0,void 0,function(){return X(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return Q(this,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Wt(n.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===K.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new ne(K.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Q(t,void 0,void 0,function(){return X(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return ue("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),l2=function(e){function t(n,r,o,s,u){var c=this;return(c=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,u)||this).R=s,c}return Ce(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,u){var c;if("targetChange"in u){u.targetChange;var f=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:Te()}(u.targetChange.targetChangeType||"NO_CHANGE"),d=u.targetChange.targetIds||[],g=function(S,b){return S.I?(Ve(b===void 0||typeof b=="string"),er.fromBase64String(b||"")):(Ve(b===void 0||b instanceof Uint8Array),er.fromUint8Array(b||new Uint8Array))}(s,u.targetChange.resumeToken),h=(p=u.targetChange.cause)&&function(S){var b=S.code===void 0?K.UNKNOWN:dN(S.code);return new ne(b,S.message||"")}(p);c=new mN(f,d,g,h||null)}else if("documentChange"in u){u.documentChange,(f=u.documentChange).document,f.document.name,f.document.updateTime,d=Ii(s,f.document.name),g=Vn(f.document.updateTime);var p=new lr({mapValue:{fields:f.document.fields}}),v=(h=kn.newFoundDocument(d,g,p),f.targetIds||[]),_=f.removedTargetIds||[];c=new eh(v,_,h.key,h)}else if("documentDelete"in u)u.documentDelete,(f=u.documentDelete).document,d=Ii(s,f.document),g=f.readTime?Vn(f.readTime):Ge.min(),p=kn.newNoDocument(d,g),h=f.removedTargetIds||[],c=new eh([],h,p.key,p);else if("documentRemove"in u)u.documentRemove,(f=u.documentRemove).document,d=Ii(s,f.document),g=f.removedTargetIds||[],c=new eh([],g,d,null);else{if(!("filter"in u))return Te();u.filter;var E=u.filter;E.targetId,f=E.count||0,d=new oj(f),g=E.targetId,c=new pN(g,d)}return c}(this.R,n),o=function(s){if(!("targetChange"in s))return Ge.min();var u=s.targetChange;return u.targetIds&&u.targetIds.length?Ge.min():u.readTime?Vn(u.readTime):Ge.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=jc(this.R),r.addTarget=function(s,u){var c,f=u.target;return(c=Eh(f)?{documents:bN(s,f)}:{query:wN(s,f)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=gN(s,u.resumeToken):u.snapshotVersion.compareTo(Ge.min())>0&&(c.readTime=Uc(s,u.snapshotVersion.toTimestamp())),c}(this.R,n);var o=function(s,u){var c=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Te()}}(0,u.purpose);return c==null?null:{"goog-listen-tags":c}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=jc(this.R),r.removeTarget=n,this.cr(r)},t}(KN),f2=function(e){function t(n,r,o,s,u){var c=this;return(c=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,u)||this).R=s,c.gr=!1,c}return Ce(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Ve(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,u){return s&&s.length>0?(Ve(u!==void 0),s.map(function(c){return function(f,d){var g=f.updateTime?Vn(f.updateTime):Vn(d);return g.isEqual(Ge.min())&&(g=Vn(d)),new nj(g,f.transformResults||[])}(c,u)})):[]}(n.writeResults,n.commitTime),o=Vn(n.commitTime);return this.listener.Tr(o,r)}return Ve(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=jc(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return Sh(r.R,s)})};this.cr(o)},t}(KN),h2=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return Ce(t,e),t.prototype.br=function(){if(this.Rr)throw new ne(K.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.Ni(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new ne(K.UNKNOWN,u.toString())})},t.prototype.$i=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.$i(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new ne(K.UNKNOWN,u.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),d2=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Wt(n),this.Vr=!1):ue("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),p2=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(u){n.enqueueAndForget(function(){return Q(s,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return Ao(this)?(ue("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return Q(this,void 0,void 0,function(){var d;return X(this,function(g){switch(g.label){case 0:return(d=me(f)).Or.add(4),[4,su(d)];case 1:return g.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,gl(d)];case 2:return g.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Br=new d2(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(e){return Q(this,void 0,void 0,function(){var t,n;return X(this,function(r){switch(r.label){case 0:if(!Ao(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function su(e){return Q(this,void 0,void 0,function(){var t,n;return X(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Td(e,t){var n=me(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),U_(n)?F_(n):uu(n).er()&&M_(n,t))}function Bc(e,t){var n=me(e),r=uu(n);n.$r.delete(t),r.er()&&GN(n,t),n.$r.size===0&&(r.er()?r.ir():Ao(n)&&n.Br.set("Unknown"))}function M_(e,t){e.qr.U(t.targetId),uu(e).mr(t)}function GN(e,t){e.qr.U(t),uu(e).yr(t)}function F_(e){e.qr=new hj({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),uu(e).start(),e.Br.Sr()}function U_(e){return Ao(e)&&!uu(e).tr()&&e.$r.size>0}function Ao(e){return me(e).Or.size===0}function WN(e){e.qr=void 0}function m2(e){return Q(this,void 0,void 0,function(){return X(this,function(t){return e.$r.forEach(function(n,r){M_(e,n)}),[2]})})}function g2(e,t){return Q(this,void 0,void 0,function(){return X(this,function(n){return WN(e),U_(e)?(e.Br.Nr(t),F_(e)):e.Br.set("Unknown"),[2]})})}function v2(e,t,n){return Q(this,void 0,void 0,function(){var r,o,s;return X(this,function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof mN&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(c,f){return Q(this,void 0,void 0,function(){var d,g,h,p;return X(this,function(v){switch(v.label){case 0:d=f.cause,g=0,h=f.targetIds,v.label=1;case 1:return g<h.length?(p=h[g],c.$r.has(p)?[4,c.remoteSyncer.rejectListen(p,d)]:[3,3]):[3,5];case 2:v.sent(),c.$r.delete(p),c.qr.removeTarget(p),v.label=3;case 3:v.label=4;case 4:return g++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),ue("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Oh(e,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof eh?e.qr.X(t):t instanceof pN?e.qr.rt(t):e.qr.et(t),n.isEqual(Ge.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,jN(e.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(c,f){var d=c.qr.ut(f);return d.targetChanges.forEach(function(g,h){if(g.resumeToken.approximateByteSize()>0){var p=c.$r.get(h);p&&c.$r.set(h,p.withResumeToken(g.resumeToken,f))}}),d.targetMismatches.forEach(function(g){var h=c.$r.get(g);if(h){c.$r.set(g,h.withResumeToken(er.EMPTY_BYTE_STRING,h.snapshotVersion)),GN(c,g);var p=new Ed(h.target,g,1,h.sequenceNumber);M_(c,p)}}),c.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return ue("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,Oh(e,s)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function Oh(e,t,n){return Q(this,void 0,void 0,function(){var r=this;return X(this,function(o){switch(o.label){case 0:if(!Ps(t))throw t;return e.Or.add(1),[4,su(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return jN(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return Q(r,void 0,void 0,function(){return X(this,function(s){switch(s.label){case 0:return ue("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,gl(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function zN(e,t){return t().catch(function(n){return Oh(e,n,t)})}function au(e){return Q(this,void 0,void 0,function(){var t,n,r,o,s;return X(this,function(u){switch(u.label){case 0:t=me(e),n=_o(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,u.label=1;case 1:if(!function(c){return Ao(c)&&c.Fr.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,Yj(t.localStore,r)];case 3:return(o=u.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(c,f){c.Fr.push(f);var d=_o(c);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return s=u.sent(),[4,Oh(t,s)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return YN(t)&&XN(t),[2]}})})}function YN(e){return Ao(e)&&!_o(e).tr()&&e.Fr.length>0}function XN(e){_o(e).start()}function y2(e){return Q(this,void 0,void 0,function(){return X(this,function(t){return _o(e).Ar(),[2]})})}function _2(e){return Q(this,void 0,void 0,function(){var t,n,r,o;return X(this,function(s){for(t=_o(e),n=0,r=e.Fr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function b2(e,t,n){return Q(this,void 0,void 0,function(){var r,o;return X(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),o=Oj.from(r,t,n),[4,zN(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,au(e)];case 2:return s.sent(),[2]}})})}function w2(e,t){return Q(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return t&&_o(e).pr?[4,function(r,o){return Q(this,void 0,void 0,function(){var s,u;return X(this,function(c){switch(c.label){case 0:return hN(u=o.code)&&u!==K.ABORTED?(s=r.Fr.shift(),_o(r).sr(),[4,zN(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return c.sent(),[4,au(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return YN(e)&&XN(e),[2]}})})}function Bv(e,t){return Q(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return n=me(e),t?(n.Or.delete(2),[4,gl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,su(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function uu(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=me(n);return s.br(),new l2(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:m2.bind(null,e),Ri:g2.bind(null,e),_r:v2.bind(null,e)}),e.Mr.push(function(n){return Q(t,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),U_(e)?F_(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),WN(e),r.label=3;case 3:return[2]}})})})),e.Ur}function _o(e){var t=this;return e.Kr||(e.Kr=function(n,r,o){var s=me(n);return s.br(),new f2(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:y2.bind(null,e),Ri:w2.bind(null,e),Ir:_2.bind(null,e),Tr:b2.bind(null,e)}),e.Mr.push(function(n){return Q(t,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,au(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(ue("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var E2=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return e.createAndSchedule=function(t,n,r,o,s){var u=new e(t,n,Date.now()+r,o,s);return u.start(r),u},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function cu(e,t){if(Wt("AsyncQueue",t+": "+e),Ps(e))return new ne(K.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QN=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||Ae.comparator(n.key,r.key)}:function(n,r){return Ae.comparator(n.key,r.key)},this.keyedMap=Fv(),this.sortedSet=new Nn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),WT=function(){function e(){this.Qr=new Nn(Ae.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):Te():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Rh=function(){function e(t,n,r,o,s,u,c,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(u){s.push({type:0,doc:u})}),new e(t,n,QN.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),I2=function(){this.Wr=void 0,this.listeners=[]},T2=function(){this.queries=new ou(function(e){return nN(e)},fl),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(e,t){return Q(this,void 0,void 0,function(){var n,r,o,s,u,c,f;return X(this,function(d){switch(d.label){case 0:if(n=me(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new I2),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),u=s,[4,n.onListen(r)];case 2:return u.Wr=d.sent(),[3,4];case 3:return c=d.sent(),f=cu(c,"Initialization of query '"+Lv(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&B_(n),[2]}})})}function j_(e,t){return Q(this,void 0,void 0,function(){var n,r,o,s,u;return X(this,function(c){return n=me(e),r=t.query,o=!1,(s=n.queries.get(r))&&(u=s.listeners.indexOf(t))>=0&&(s.listeners.splice(u,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function S2(e,t){for(var n=me(e),r=!1,o=0,s=t;o<s.length;o++){var u=s[o],c=u.query,f=n.queries.get(c);if(f){for(var d=0,g=f.listeners;d<g.length;d++)g[d].Hr(u)&&(r=!0);f.Wr=u}}r&&B_(n)}function A2(e,t,n){var r=me(e),o=r.queries.get(t);if(o)for(var s=0,u=o.listeners;s<u.length;s++)u[s].onError(n);r.queries.delete(t)}function B_(e){e.Gr.forEach(function(t){t.next()})}var $_=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new Rh(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),u=!0):this.eo(t,this.onlineState)&&(this.no(t),u=!0),this.Xr=t,u},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Rh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JN=function(e){this.key=e},ZN=function(e){this.key=e},eC=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=bt(),this.mutatedKeys=bt(),this.lo=rN(t),this.fo=new QN(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new WT,s=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,c=s,f=!1,d=Jf(this.query)&&s.size===this.query.limit?s.last():null,g=Th(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(p,v){var _=s.get(p),E=hl(r.query,v)?v:null,S=!!_&&r.mutatedKeys.has(_.key),b=!!E&&(E.hasLocalMutations||r.mutatedKeys.has(E.key)&&E.hasCommittedMutations),k=!1;_&&E?_.data.isEqual(E.data)?S!==b&&(o.track({type:3,doc:E}),k=!0):r.yo(_,E)||(o.track({type:2,doc:E}),k=!0,(d&&r.lo(E,d)>0||g&&r.lo(E,g)<0)&&(f=!0)):!_&&E?(o.track({type:0,doc:E}),k=!0):_&&!E&&(o.track({type:1,doc:_}),k=!0,(d||g)&&(f=!0)),k&&(E?(c=c.add(E),u=b?u.add(p):u.delete(p)):(c=c.delete(p),u=u.delete(p)))}),Jf(this.query)||Th(this.query))for(;c.size>this.query.limit;){var h=Jf(this.query)?c.last():c.first();c=c.delete(h.key),u=u.delete(h.key),o.track({type:1,doc:h})}return{fo:c,mo:o,Nn:f,mutatedKeys:u}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var u=t.mo.jr();u.sort(function(g,h){return function(p,v){var _=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return _(p)-_(v)}(g.type,h.type)||o.lo(g.doc,h.doc)}),this.po(r);var c=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,u.length!==0||d?{snapshot:new Rh(this.query,t.fo,s,u,t.mutatedKeys,f===0,d,!1),To:c}:{To:c}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new WT,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=bt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new ZN(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new JN(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=bt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Rh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),k2=function(e,t,n){this.query=e,this.targetId=t,this.view=n},N2=function(e){this.key=e,this.bo=!1},C2=function(){function e(t,n,r,o,s,u){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new ou(function(c){return nN(c)},fl),this.Vo=new Map,this.So=new Set,this.Do=new Nn(Ae.comparator),this.Co=new Map,this.No=new D_,this.xo={},this.ko=new Map,this.Fo=kh.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function O2(e,t){return Q(this,void 0,void 0,function(){var n,r,o,s,u,c;return X(this,function(f){switch(f.label){case 0:return n=W_(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Nh(n.localStore,li(t))];case 2:return u=f.sent(),c=n.sharedClientState.addLocalQueryTarget(u.targetId),r=u.targetId,[4,q_(n,t,r,c==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Td(n.remoteStore,u),f.label=4;case 4:return[2,o]}})})}function q_(e,t,n,r){return Q(this,void 0,void 0,function(){var o,s,u,c,f,d;return X(this,function(g){switch(g.label){case 0:return e.Oo=function(h,p,v){return function(_,E,S,b){return Q(this,void 0,void 0,function(){var k,D,O;return X(this,function(U){switch(U.label){case 0:return k=E.view._o(S),k.Nn?[4,Ch(_.localStore,E.query,!1).then(function(L){var Y=L.documents;return E.view._o(Y,k)})]:[3,2];case 1:k=U.sent(),U.label=2;case 2:return D=b&&b.targetChanges.get(E.targetId),O=E.view.applyChanges(k,_.isPrimaryClient,D),[2,($v(_,E.targetId,O.To),O.snapshot)]}})})}(e,h,p,v)},[4,Ch(e.localStore,t,!0)];case 1:return o=g.sent(),s=new eC(t,o.Bn),u=s._o(o.documents),c=k_.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),f=s.applyChanges(u,e.isPrimaryClient,c),$v(e,n,f.To),d=new k2(t,n,s),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function R2(e,t){return Q(this,void 0,void 0,function(){var n,r,o;return X(this,function(s){switch(s.label){case 0:return n=me(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(u){return!fl(u,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ha(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Bc(n.remoteStore,r.targetId),Ka(n,r.targetId)}).catch(xs)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Ka(n,r.targetId),[4,Ha(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function P2(e,t,n){return Q(this,void 0,void 0,function(){var r,o,s,u;return X(this,function(c){switch(c.label){case 0:r=z_(e),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(f,d){var g,h=me(f),p=Jn.now(),v=d.reduce(function(_,E){return _.add(E.key)},bt());return h.persistence.runTransaction("Locally write mutations","readwrite",function(_){return h.Mn.pn(_,v).next(function(E){g=E;for(var S=[],b=0,k=d;b<k.length;b++){var D=k[b],O=ij(D,g.get(D.key));O!=null&&S.push(new So(D.key,O,Jk(O.value.mapValue),Tn.exists(!0)))}return h._n.addMutationBatch(_,p,S,d)})}).then(function(_){return _.applyToLocalDocumentSet(g),{batchId:_.batchId,changes:g}})}(r.localStore,t)];case 2:return o=c.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(f,d,g){var h=f.xo[f.currentUser.toKey()];h||(h=new Nn(Je)),h=h.insert(d,g),f.xo[f.currentUser.toKey()]=h}(r,o.batchId,n),[4,ko(r,o.changes)];case 3:return c.sent(),[4,au(r.remoteStore)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),u=cu(s,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function tC(e,t){return Q(this,void 0,void 0,function(){var n,r;return X(this,function(o){switch(o.label){case 0:n=me(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Wj(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,u){var c=n.Co.get(u);c&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.bo=!0:s.modifiedDocuments.size>0?Ve(c.bo):s.removedDocuments.size>0&&(Ve(c.bo),c.bo=!1))}),[4,ko(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,xs(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function zT(e,t,n){var r=me(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,u){var c=u.view.zr(t);c.snapshot&&o.push(c.snapshot)}),function(s,u){var c=me(s);c.onlineState=u;var f=!1;c.queries.forEach(function(d,g){for(var h=0,p=g.listeners;h<p.length;h++)p[h].zr(u)&&(f=!0)}),f&&B_(c)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function x2(e,t,n){return Q(this,void 0,void 0,function(){var r,o,s,u,c,f;return X(this,function(d){switch(d.label){case 0:return(r=me(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(u=(u=new Nn(Ae.comparator)).insert(s,kn.newNoDocument(s,Ge.min())),c=bt().add(s),f=new A_(Ge.min(),new Map,new rn(Je),u,c),[4,tC(r,f)]):[3,2];case 1:return d.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),G_(r),[3,4];case 2:return[4,Ha(r.localStore,t,!1).then(function(){return Ka(r,t,n)}).catch(xs)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function D2(e,t){return Q(this,void 0,void 0,function(){var n,r,o;return X(this,function(s){switch(s.label){case 0:n=me(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Gj(n.localStore,t)];case 2:return o=s.sent(),K_(n,r,null),H_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,ko(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,xs(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function L2(e,t,n){return Q(this,void 0,void 0,function(){var r,o;return X(this,function(s){switch(s.label){case 0:r=me(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(u,c){var f=me(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var g;return f._n.lookupMutationBatch(d,c).next(function(h){return Ve(h!==null),g=h.keys(),f._n.removeMutationBatch(d,h)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,g)})})}(r.localStore,t)];case 2:return o=s.sent(),K_(r,t,n),H_(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,ko(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,xs(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function M2(e,t){return Q(this,void 0,void 0,function(){var n,r,o,s,u;return X(this,function(c){switch(c.label){case 0:Ao((n=me(e)).remoteStore)||ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(f){var d=me(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(g){return d._n.getHighestUnacknowledgedBatchId(g)})}(n.localStore)];case 2:return(r=c.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return s=c.sent(),u=cu(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function H_(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function K_(e,t,n){var r=me(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function Ka(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(u){e.No.containsKey(u)||nC(e,u)})}function nC(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Bc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),G_(e))}function $v(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof JN?(e.No.addReference(s.key,t),F2(e,s)):s instanceof ZN?(ue("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||nC(e,s.key)):Te()}}function F2(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(ue("SyncEngine","New document in limbo: "+n),e.So.add(r),G_(e))}function G_(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Ae(at.fromString(t)),r=e.Fo.next();e.Co.set(r,new N2(n)),e.Do=e.Do.insert(n,r),Td(e.remoteStore,new Ed(li(ll(n.path)),r,2,fr.o))}}function ko(e,t,n){return Q(this,void 0,void 0,function(){var r,o,s,u;return X(this,function(c){switch(c.label){case 0:return r=me(e),o=[],s=[],u=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(f,d){u.push(r.Oo(d,t,n).then(function(g){if(g){r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,g.fromCache?"not-current":"current"),o.push(g);var h=Hj.Pn(d.targetId,g);s.push(h)}}))}),[4,Promise.all(u)]);case 1:return c.sent(),r.vo._r(o),[4,function(f,d){return Q(this,void 0,void 0,function(){var g,h,p,v,_,E,S,b,k;return X(this,function(D){switch(D.label){case 0:g=me(f),D.label=1;case 1:return D.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(O){return se.forEach(d,function(U){return se.forEach(U.bn,function(L){return g.persistence.referenceDelegate.addReference(O,U.targetId,L)}).next(function(){return se.forEach(U.vn,function(L){return g.persistence.referenceDelegate.removeReference(O,U.targetId,L)})})})})];case 2:return D.sent(),[3,4];case 3:if(!Ps(h=D.sent()))throw h;return ue("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(p=0,v=d;p<v.length;p++)_=v[p],E=_.targetId,_.fromCache||(S=g.kn.get(E),b=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(b),g.kn=g.kn.insert(E,k));return[2]}})})}(r.localStore,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function U2(e,t){return Q(this,void 0,void 0,function(){var n,r;return X(this,function(o){switch(o.label){case 0:return(n=me(e)).currentUser.isEqual(t)?[3,3]:(ue("SyncEngine","User change. New user:",t.toKey()),[4,VN(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,u){s.ko.forEach(function(c){c.forEach(function(f){f.reject(new ne(K.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,ko(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function V2(e,t){var n=me(e),r=n.Co.get(t);if(r&&r.bo)return bt().add(r.key);var o=bt(),s=n.Vo.get(t);if(!s)return o;for(var u=0,c=s;u<c.length;u++){var f=c[u],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function j2(e,t){return Q(this,void 0,void 0,function(){var n,r,o;return X(this,function(s){switch(s.label){case 0:return[4,Ch((n=me(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&$v(n,t.targetId,o.To),o)]}})})}function B2(e){return Q(this,void 0,void 0,function(){var t;return X(this,function(n){return[2,$N((t=me(e)).localStore).then(function(r){return ko(t,r)})]})})}function $2(e,t,n,r){return Q(this,void 0,void 0,function(){var o,s;return X(this,function(u){switch(u.label){case 0:return[4,function(c,f){var d=me(c),g=me(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return g.jt(h,f).next(function(p){return p?d.Mn.pn(h,p):se.resolve(null)})})}((o=me(e)).localStore,t)];case 1:return(s=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,au(o.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(K_(o,t,r||null),H_(o,t),function(c,f){me(me(c)._n).Gt(f)}(o.localStore,t)):Te(),u.label=4;case 4:return[4,ko(o,s)];case 5:return u.sent(),[3,7];case 6:ue("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function q2(e,t){return Q(this,void 0,void 0,function(){var n,r,o,s,u,c,f,d;return X(this,function(g){switch(g.label){case 0:return W_(n=me(e)),z_(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,YT(n,r.toArray())]);case 1:return o=g.sent(),n.$o=!0,[4,Bv(n.remoteStore,!0)];case 2:for(g.sent(),s=0,u=o;s<u.length;s++)c=u[s],Td(n.remoteStore,c);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(h,p){n.sharedClientState.isLocalQueryTarget(p)?f.push(p):d=d.then(function(){return Ka(n,p),Ha(n.localStore,p,!0)}),Bc(n.remoteStore,p)}),[4,d]);case 4:return g.sent(),[4,YT(n,f)];case 5:return g.sent(),function(h){var p=me(h);p.Co.forEach(function(v,_){Bc(p.remoteStore,_)}),p.No.ts(),p.Co=new Map,p.Do=new Nn(Ae.comparator)}(n),n.$o=!1,[4,Bv(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}})})}function YT(e,t,n){return Q(this,void 0,void 0,function(){var r,o,s,u,c,f,d,g,h,p,v,_,E,S;return X(this,function(b){switch(b.label){case 0:r=me(e),o=[],s=[],u=0,c=t,b.label=1;case 1:return u<c.length?(f=c[u],d=void 0,(g=r.Vo.get(f))&&g.length!==0?[4,Nh(r.localStore,li(g[0]))]:[3,7]):[3,13];case 2:d=b.sent(),h=0,p=g,b.label=3;case 3:return h<p.length?(v=p[h],_=r.Po.get(v),[4,j2(r,_)]):[3,6];case 4:(E=b.sent()).snapshot&&s.push(E.snapshot),b.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,BN(r.localStore,f)];case 8:return S=b.sent(),[4,Nh(r.localStore,S)];case 9:return d=b.sent(),[4,q_(r,rC(S),f,!1)];case 10:b.sent(),b.label=11;case 11:o.push(d),b.label=12;case 12:return u++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function rC(e){return eN(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function H2(e){var t=me(e);return me(me(t.localStore).persistence).fn()}function K2(e,t,n,r){return Q(this,void 0,void 0,function(){var o,s,u;return X(this,function(c){switch(c.label){case 0:return(o=me(e)).$o?(ue("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,$N(o.localStore)];case 3:return s=c.sent(),u=A_.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,ko(o,s,u)];case 4:return c.sent(),[3,8];case 5:return[4,Ha(o.localStore,t,!0)];case 6:return c.sent(),Ka(o,t,r),[3,8];case 7:Te(),c.label=8;case 8:return[2]}})})}function G2(e,t,n){return Q(this,void 0,void 0,function(){var r,o,s,u,c,f,d,g,h,p;return X(this,function(v){switch(v.label){case 0:if(!(r=W_(e)).$o)return[3,10];o=0,s=t,v.label=1;case 1:return o<s.length?(u=s[o],r.Vo.has(u)?(ue("SyncEngine","Adding an already active target "+u),[3,5]):[4,BN(r.localStore,u)]):[3,6];case 2:return c=v.sent(),[4,Nh(r.localStore,c)];case 3:return f=v.sent(),[4,q_(r,rC(c),f.targetId,!1)];case 4:v.sent(),Td(r.remoteStore,f),v.label=5;case 5:return o++,[3,1];case 6:d=function(_){return X(this,function(E){switch(E.label){case 0:return r.Vo.has(_)?[4,Ha(r.localStore,_,!1).then(function(){Bc(r.remoteStore,_),Ka(r,_)}).catch(xs)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},g=0,h=n,v.label=7;case 7:return g<h.length?(p=h[g],[5,d(p)]):[3,10];case 8:v.sent(),v.label=9;case 9:return g++,[3,7];case 10:return[2]}})})}function W_(e){var t=me(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=tC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=V2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=x2.bind(null,t),t.vo._r=S2.bind(null,t.eventManager),t.vo.Mo=A2.bind(null,t.eventManager),t}function z_(e){var t=me(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=D2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=L2.bind(null,t),t}var iC=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return Q(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return this.R=Id(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return UN(this.persistence,new FN,t.initialUser,this.R)},e.prototype.qo=function(t){return new n2(i2.bs,this.R)},e.prototype.Bo=function(t){return new qN},e.prototype.terminate=function(){return Q(this,void 0,void 0,function(){return X(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),oC=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return Ce(t,e),t.prototype.initialize=function(n){return Q(this,void 0,void 0,function(){var r=this;return X(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,Xj(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,z_(this.Qo.syncEngine)];case 4:return o.sent(),[4,au(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return UN(this.persistence,new FN,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new Fj(r,n.asyncQueue)},t.prototype.qo=function(n){var r=x_(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?ei.withCacheSize(this.cacheSizeBytes):ei.DEFAULT;return new qj(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,HN(),th(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new qN},t}(iC),W2=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Qo=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return Ce(t,e),t.prototype.initialize=function(n){return Q(this,void 0,void 0,function(){var r,o=this;return X(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof qg?(this.sharedClientState.syncEngine={ui:$2.bind(null,r),ai:K2.bind(null,r),hi:G2.bind(null,r),fn:H2.bind(null,r),ci:B2.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(u){return Q(o,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return[4,q2(this.Qo.syncEngine,u)];case 1:return c.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=HN();if(!qg.yt(r))throw new ne(K.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=x_(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new qg(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(oC),qv=function(){function e(){}return e.prototype.initialize=function(t,n){return Q(this,void 0,void 0,function(){var r=this;return X(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return zT(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=U2.bind(null,this.syncEngine),[4,Bv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new T2},e.prototype.createDatastore=function(t){var n,r=Id(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new c2(n));return function(s,u,c){return new h2(s,u,c)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,u,c=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(f){return zT(c.syncEngine,f,0)},u=GT.yt()?new GT:new s2,new p2(n,r,o,s,u)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,u,c,f,d){var g=new C2(r,o,s,u,c,f);return d&&(g.$o=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return Q(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return n=me(t),ue("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,su(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sd=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),z2=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return Q(this,void 0,void 0,function(){var n,r=this;return X(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ne(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,u){return Q(this,void 0,void 0,function(){var c,f,d,g,h,p;return X(this,function(v){switch(v.label){case 0:return c=me(s),f=jc(c.R)+"/documents",d={documents:u.map(function(_){return Vc(c.R,_)})},[4,c.$i("BatchGetDocuments",f,d)];case 1:return g=v.sent(),h=new Map,g.forEach(function(_){var E=function(S,b){return"found"in b?function(k,D){Ve(!!D.found),D.found.name,D.found.updateTime;var O=Ii(k,D.found.name),U=Vn(D.found.updateTime),L=new lr({mapValue:{fields:D.found.fields}});return kn.newFoundDocument(O,U,L)}(S,b):"missing"in b?function(k,D){Ve(!!D.missing),Ve(!!D.readTime);var O=Ii(k,D.missing),U=Vn(D.readTime);return kn.newNoDocument(O,U)}(S,b):Te()}(c.R,_);h.set(E.key.toString(),E)}),p=[],[2,(u.forEach(function(_){var E=h.get(_.toString());Ve(!!E),p.push(E)}),p)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new ml(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return Q(this,void 0,void 0,function(){var t,n=this;return X(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var u=Ae.fromPath(s);n.mutations.push(new S_(u,n.precondition(u)))}),[4,function(o,s){return Q(this,void 0,void 0,function(){var u,c,f;return X(this,function(d){switch(d.label){case 0:return u=me(o),c=jc(u.R)+"/documents",f={writes:s.map(function(g){return Sh(u.R,g)})},[4,u.Ni("Commit",c,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Te();n=Ge.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new ne(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?Tn.updateTime(n):Tn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Ge.min()))throw new ne(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Tn.updateTime(n)}return Tn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),Y2=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new L_(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Q(t,void 0,void 0,function(){var n,r,o=this;return X(this,function(s){return n=new z2(this.datastore),(r=this.sc(n))&&r.then(function(u){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(u)}).catch(function(c){o.ic(c)})})}).catch(function(u){o.ic(u)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Rs(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!hN(n)}return!1},e}(),X2=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=fn.UNAUTHENTICATED,this.clientId=Gk.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return Q(o,void 0,void 0,function(){return X(this,function(u){switch(u.label){case 0:return ue("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return u.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return Q(this,void 0,void 0,function(){return X(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ne(K.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Q(t,void 0,void 0,function(){var r,o;return X(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=cu(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(e,t){return Q(this,void 0,void 0,function(){var n,r,o=this;return X(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(u){return Q(o,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return r.isEqual(u)?[3,2]:[4,VN(t.localStore,u)];case 1:c.sent(),r=u,c.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function aC(e,t){return Q(this,void 0,void 0,function(){var n,r;return X(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Y_(e)];case 1:return n=o.sent(),ue("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(u,c){return Q(this,void 0,void 0,function(){var f,d;return X(this,function(g){switch(g.label){case 0:return(f=me(u)).asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials"),d=Ao(f),f.Or.add(3),[4,su(f)];case 1:return g.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(c)];case 2:return g.sent(),f.Or.delete(3),[4,gl(f)];case 3:return g.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function Y_(e){return Q(this,void 0,void 0,function(){return X(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ue("FirestoreClient","Using default OfflineComponentProvider"),[4,sC(e,new iC)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Ad(e){return Q(this,void 0,void 0,function(){return X(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ue("FirestoreClient","Using default OnlineComponentProvider"),[4,aC(e,new qv)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function XT(e){return Y_(e).then(function(t){return t.persistence})}function uC(e){return Y_(e).then(function(t){return t.localStore})}function QT(e){return Ad(e).then(function(t){return t.remoteStore})}function cC(e){return Ad(e).then(function(t){return t.syncEngine})}function Ga(e){return Q(this,void 0,void 0,function(){var t,n;return X(this,function(r){switch(r.label){case 0:return[4,Ad(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=O2.bind(null,t.syncEngine),n.onUnlisten=R2.bind(null,t.syncEngine),n)]}})})}function JT(e,t,n){var r=this;n===void 0&&(n={});var o=new tr;return e.asyncQueue.enqueueAndForget(function(){return Q(r,void 0,void 0,function(){var s;return X(this,function(u){switch(u.label){case 0:return s=function(c,f,d,g,h){var p=new Sd({next:function(_){f.enqueueAndForget(function(){return j_(c,v)});var E=_.docs.has(d);!E&&_.fromCache?h.reject(new ne(K.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&g&&g.source==="server"?h.reject(new ne(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),v=new $_(ll(d.path),p,{includeMetadataChanges:!0,so:!0});return V_(c,v)},[4,Ga(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function ZT(e,t,n){var r=this;n===void 0&&(n={});var o=new tr;return e.asyncQueue.enqueueAndForget(function(){return Q(r,void 0,void 0,function(){var s;return X(this,function(u){switch(u.label){case 0:return s=function(c,f,d,g,h){var p=new Sd({next:function(_){f.enqueueAndForget(function(){return j_(c,v)}),_.fromCache&&g.source==="server"?h.reject(new ne(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),v=new $_(d,p,{includeMetadataChanges:!0,so:!0});return V_(c,v)},[4,Ga(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var Q2=function(e,t,n,r,o,s,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.useFetchStreams=c},Ph=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),eS=new Map,lC=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},tS=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(fn.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),J2=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Z2=function(){function e(t){var n=this;this.currentUser=fn.UNAUTHENTICATED,this.oc=new tr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(o){ue("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return r(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?r(o):(ue("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(ue("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Ve(typeof o.accessToken=="string"),new lC(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Q(r,void 0,void 0,function(){return X(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Ve(t===null||typeof t=="string"),new fn(t)},e}(),eB=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=fn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),tB=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new eB(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(fn.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(e,t,n){if(!n)throw new ne(K.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Q_(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new ne(K.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function fC(e,t,n,r){if(t===!0&&r===!0)throw new ne(K.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function nS(e){if(!Ae.isDocumentKey(e))throw new ne(K.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function rS(e){if(Ae.isDocumentKey(e))throw new ne(K.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function kd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Te()}function ut(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ne(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=kd(e);throw new ne(K.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function iS(e,t){if(t<=0)throw new ne(K.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oS=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new ne(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ne(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,fC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),$c=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oS({}),this._settingsFrozen=!1,t instanceof Ph?(this._databaseId=t,this._credentials=new tS):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ne(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ph(r.options.projectId)}(t),this._credentials=new Z2(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new ne(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new ne(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oS(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new tS;switch(n.type){case"gapi":var r=n.client;return Ve(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new tB(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new ne(K.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=eS.get(t))&&(ue("ComponentProvider","Removing Datastore"),eS.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Dt=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new mo(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),pr=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),mo=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,ll(o))||this)._path=o,s.type="collection",s}return Ce(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Dt(this.firestore,null,new Ae(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(pr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=yt(e),X_("collection","path",t),e instanceof $c)return rS(n=at.fromString.apply(at,Rt([t],r))),new mo(e,null,n);if(!(e instanceof Dt||e instanceof mo))throw new ne(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return rS(n=at.fromString.apply(at,Rt([e.path],r)).child(at.fromString(t))),new mo(e.firestore,null,n)}function nh(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=yt(e),arguments.length===1&&(t=Gk.u()),X_("doc","path",t),e instanceof $c)return nS(n=at.fromString.apply(at,Rt([t],r))),new Dt(e,null,new Ae(n));if(!(e instanceof Dt||e instanceof mo))throw new ne(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return nS(n=e._path.child(at.fromString.apply(at,Rt([t],r)))),new Dt(e.firestore,e instanceof mo?e.converter:null,new Ae(n))}function dC(e,t){return e=yt(e),t=yt(t),(e instanceof Dt||e instanceof mo)&&(t instanceof Dt||t instanceof mo)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function pC(e,t){return e=yt(e),t=yt(t),e instanceof pr&&t instanceof pr&&e.firestore===t.firestore&&fl(e._query,t._query)&&e.converter===t.converter}var nB=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new L_(this,"async_queue_retry"),this.Ic=function(){var r=th();r&&ue("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=th();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=th();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new tr;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return Q(this,void 0,void 0,function(){var t,n=this;return X(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ps(t=r.sent()))throw t;return ue("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Wt("INTERNAL UNHANDLED ERROR: ",function(s){var u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=E2.createAndSchedule(this,t,n,r,function(u){return o.vc(u)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&Te()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Q(this,void 0,void 0,function(){var t;return X(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(u,c){return u.targetTimeMs-c.targetTimeMs});for(var r=0,o=n.mc;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Wa(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var u=s[o];if(u in r&&typeof r[u]=="function")return!0}return!1}(e)}var rB=-1,nn=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).type="firestore",o._queue=new nB,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Ce(t,e),t.prototype._terminate=function(){return this._firestoreClient||mC(this),this._firestoreClient.terminate()},t}($c);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(e){return e._firestoreClient||mC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function mC(e){var t,n=e._freezeSettings(),r=function(o,s,u,c){return new Q2(o,s,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new X2(e._credentials,e._queue,r)}function sS(e,t,n){var r=this,o=new tr;return e.asyncQueue.enqueue(function(){return Q(r,void 0,void 0,function(){var s;return X(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,sC(e,n)];case 1:return u.sent(),[4,aC(e,t)];case 2:return u.sent(),o.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===K.FAILED_PRECONDITION||c.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=u.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function aS(e){if(e._initialized||e._terminated)throw new ne(K.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oi=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new ne(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),ks=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(er.fromBase64String(t))}catch(n){throw new ne(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(er.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Ds=function(e){this._methodName=e},Nd=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new ne(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ne(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Je(this._lat,t._lat)||Je(this._long,t._long)},e}(),iB=/^__.*__$/,oB=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new So(t,this.data,this.fieldMask,n,this.fieldTransforms):new pl(t,this.data,n,this.fieldTransforms)},e}(),gC=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new So(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}var yC=function(){function e(t,n,r,o,s,u){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return xh(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(vC(this.Nc)&&iB.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),sB=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Id(t)}return e.prototype.Uc=function(t,n,r,o){return o===void 0&&(o=!1),new yC({Nc:t,methodName:n,qc:r,path:$r.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Ls(e){var t=e._freezeSettings(),n=Id(e._databaseId);return new sB(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Cd(e,t,n,r,o,s){s===void 0&&(s={});var u=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);tb("Data must be an object, but it was:",u,r);var c,f,d=wC(r,u);if(s.merge)c=new xa(u.fieldMask),f=u.fieldTransforms;else if(s.mergeFields){for(var g=[],h=0,p=s.mergeFields;h<p.length;h++){var v=Hv(t,p[h],n);if(!u.contains(v))throw new ne(K.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");IC(g,v)||g.push(v)}c=new xa(g),f=u.fieldTransforms.filter(function(_){return c.covers(_.field)})}else c=null,f=u.fieldTransforms;return new oB(new lr(d),c,f)}var J_=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Ds);function _C(e,t,n){return new yC({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var aB=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype._toFieldTransform=function(n){return new dl(n.path,new Fa)},t.prototype.isEqual=function(n){return n instanceof t},t}(Ds),uB=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Ce(t,e),t.prototype._toFieldTransform=function(n){var r=_C(this,n,!0),o=this.Kc.map(function(u){return Ms(u,r)}),s=new Ss(o);return new dl(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ds),cB=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Ce(t,e),t.prototype._toFieldTransform=function(n){var r=_C(this,n,!0),o=this.Kc.map(function(u){return Ms(u,r)}),s=new As(o);return new dl(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ds),lB=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Qc=r,o}return Ce(t,e),t.prototype._toFieldTransform=function(n){var r=new Ua(n.R,sN(n.R,this.Qc));return new dl(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Ds);function Z_(e,t,n,r){var o=e.Uc(1,t,n);tb("Data must be an object, but it was:",o,r);var s=[],u=lr.empty();Os(r,function(f,d){var g=nb(t,f,n);d=yt(d);var h=o.Oc(g);if(d instanceof J_)s.push(g);else{var p=Ms(d,h);p!=null&&(s.push(g),u.set(g,p))}});var c=new xa(s);return new gC(u,c,o.fieldTransforms)}function eb(e,t,n,r,o,s){var u=e.Uc(1,t,n),c=[Hv(t,r,n)],f=[o];if(s.length%2!=0)throw new ne(K.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<s.length;d+=2)c.push(Hv(t,s[d])),f.push(s[d+1]);for(var g=[],h=lr.empty(),p=c.length-1;p>=0;--p)if(!IC(g,c[p])){var v=c[p],_=f[p];_=yt(_);var E=u.Oc(v);if(_ instanceof J_)g.push(v);else{var S=Ms(_,E);S!=null&&(g.push(v),h.set(v,S))}}var b=new xa(g);return new gC(h,b,u.fieldTransforms)}function bC(e,t,n,r){return r===void 0&&(r=!1),Ms(n,e.Uc(r?4:3,t))}function Ms(e,t){if(EC(e=yt(e)))return tb("Unsupported field value:",t,e),wC(e,t);if(e instanceof Ds)return function(n,r){if(!vC(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,u=0,c=n;u<c.length;u++){var f=Ms(c[u],r.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=yt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return sN(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Jn.fromDate(n);return{timestampValue:Uc(r.R,o)}}if(n instanceof Jn)return o=new Jn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Uc(r.R,o)};if(n instanceof Nd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ks)return{bytesValue:gN(r.R,n._byteString)};if(n instanceof Dt){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:N_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+kd(n))}(e,t)}function wC(e,t){var n={};return zk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Os(e,function(r,o){var s=Ms(o,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function EC(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Jn||e instanceof Nd||e instanceof ks||e instanceof Dt||e instanceof Ds)}function tb(e,t,n){if(!EC(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=kd(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Hv(e,t,n){if((t=yt(t))instanceof oi)return t._internalPath;if(typeof t=="string")return nb(e,t);throw xh("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var fB=new RegExp("[~\\*/\\[\\]]");function nb(e,t,n){if(t.search(fB)>=0)throw xh("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(oi.bind.apply(oi,Rt([void 0],t.split("."))))()._internalPath}catch{throw xh("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function xh(e,t,n,r,o){var s=r&&!r.isEmpty(),u=o!==void 0,c="Function "+t+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var f="";return(s||u)&&(f+=" (found",s&&(f+=" in field "+r),u&&(f+=" in document "+o),f+=")"),new ne(K.INVALID_ARGUMENT,(c+=". ")+e+f)}function IC(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qc=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Dt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new hB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Dh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),hB=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(qc);function Dh(e,t){return typeof t=="string"?nb(e,t):t instanceof oi?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fs=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Si=function(e){function t(n,r,o,s,u,c){var f=this;return(f=e.call(this,n,r,o,s,c)||this)._firestore=n,f._firestoreImpl=n,f.metadata=u,f}return Ce(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(Dh("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(qc),mc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Si),oo=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new fs(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new mc(r._firestore,r._userDataWriter,o.key,o,new fs(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(c){return{type:"added",doc:new mc(r._firestore,r._userDataWriter,c.doc.key,c.doc,new fs(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(c){return o||c.type!==3}).map(function(c){var f=new mc(r._firestore,r._userDataWriter,c.doc.key,c.doc,new fs(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,g=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(g=(u=u.add(c.doc)).indexOf(c.doc.key)),{type:dB(c.type),doc:f,oldIndex:d,newIndex:g}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function dB(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}function TC(e,t){return e instanceof Si&&t instanceof Si?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof oo&&t instanceof oo&&e._firestore===t._firestore&&pC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(e){if(Th(e)&&e.explicitOrderBy.length===0)throw new ne(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vl=function(){};function Wi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var pB=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=o,s.type="where",s}return Ce(t,e),t.prototype._apply=function(n){var r=Ls(n.firestore),o=function(s,u,c,f,d,g,h){var p;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ne(K.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){hS(h,g);for(var v=[],_=0,E=h;_<E.length;_++){var S=E[_];v.push(fS(f,s,S))}p={arrayValue:{values:v}}}else p=fS(f,s,h)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||hS(h,g),p=bC(c,"where",h,g==="in"||g==="not-in");var b=hr.create(d,g,p);return function(k,D){if(D.g()){var O=I_(k);if(O!==null&&!O.isEqual(D.field))throw new ne(K.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+O.toString()+"' and '"+D.field.toString()+"'");var U=E_(k);U!==null&&kC(k,D.field,U)}var L=function(Y,j){for(var H=0,x=Y.filters;H<x.length;H++){var Ie=x[H];if(j.indexOf(Ie.op)>=0)return Ie.op}return null}(k,function(Y){switch(Y){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(D.op));if(L!==null)throw L===D.op?new ne(K.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+D.op.toString()+"' filter."):new ne(K.INVALID_ARGUMENT,"Invalid query. You cannot use '"+D.op.toString()+"' filters with '"+L.toString()+"' filters.")}(s,b),b}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new pr(n.firestore,n.converter,function(s,u){var c=s.filters.concat([u]);return new Pi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(vl),mB=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).jc=n,o.zc=r,o.type="orderBy",o}return Ce(t,e),t.prototype._apply=function(n){var r=function(o,s,u){if(o.startAt!==null)throw new ne(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ne(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new Ia(s,u);return function(f,d){if(E_(f)===null){var g=I_(f);g!==null&&kC(f,g,d.field)}}(o,c),c}(n._query,this.jc,this.zc);return new pr(n.firestore,n.converter,function(o,s){var u=o.explicitOrderBy.concat([s]);return new Pi(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(vl),uS=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return Ce(t,e),t.prototype._apply=function(n){return new pr(n.firestore,n.converter,tN(n._query,this.Hc,this.Jc))},t}(vl),cS=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Ce(t,e),t.prototype._apply=function(n){var r=AC(n,this.type,this.Yc,this.Xc);return new pr(n.firestore,n.converter,function(o,s){return new Pi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(vl),lS=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Ce(t,e),t.prototype._apply=function(n){var r=AC(n,this.type,this.Yc,this.Xc);return new pr(n.firestore,n.converter,function(o,s){return new Pi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(vl);function AC(e,t,n,r){if(n[0]=yt(n[0]),n[0]instanceof qc)return function(s,u,c,f,d){if(!f)throw new ne(K.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var g=[],h=0,p=Ma(s);h<p.length;h++){var v=p[h];if(v.field.isKeyField())g.push(wh(u,f.key));else{var _=f.data.field(v.field);if(__(_))throw new ne(K.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var E=v.field.canonicalString();throw new ne(K.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}g.push(_)}}return new Fc(g,d)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=Ls(e.firestore);return function(s,u,c,f,d,g){var h=s.explicitOrderBy;if(d.length>h.length)throw new ne(K.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var p=[],v=0;v<d.length;v++){var _=d[v];if(h[v].field.isKeyField()){if(typeof _!="string")throw new ne(K.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!T_(s)&&_.indexOf("/")!==-1)throw new ne(K.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var E=s.path.child(at.fromString(_));if(!Ae.isDocumentKey(E))throw new ne(K.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var S=new Ae(E);p.push(wh(u,S))}else{var b=bC(c,f,_);p.push(b)}}return new Fc(p,g)}(e._query,e.firestore._databaseId,o,t,n,r)}function fS(e,t,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new ne(K.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!T_(t)&&n.indexOf("/")!==-1)throw new ne(K.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(at.fromString(n));if(!Ae.isDocumentKey(r))throw new ne(K.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return wh(e,new Ae(r))}if(n instanceof Dt)return wh(e,n._key);throw new ne(K.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+kd(n)+".")}function hS(e,t){if(!Array.isArray(e)||e.length===0)throw new ne(K.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new ne(K.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function kC(e,t,n){if(!n.isEqual(t))throw new ne(K.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rb=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Ts(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Gt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Da(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Te()}},e.prototype.convertObject=function(t,n){var r=this,o={};return Os(t.fields,function(s,u){o[s]=r.convertValue(u,n)}),o},e.prototype.convertGeoPoint=function(t){return new Nd(Gt(t.latitude),Gt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=Xk(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lc(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=yo(t);return new Jn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=at.fromString(t);Ve(TN(r));var o=new Ph(r.get(1),r.get(3)),s=new Ae(r.popFirst(5));return o.isEqual(n)||Wt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var gB=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ce(t,e),t.prototype.convertBytes=function(n){return new ks(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Dt(this.firestore,null,r)},t}(rb),vB=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ls(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=so(t,this._firestore),s=Od(o.converter,n,r),u=Cd(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,r);return this._mutations.push(u.toMutation(o._key,Tn.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var u,c=so(t,this._firestore);return u=typeof(n=yt(n))=="string"||n instanceof oi?eb(this._dataReader,"WriteBatch.update",c._key,n,r,o):Z_(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(u.toMutation(c._key,Tn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=so(t,this._firestore);return this._mutations=this._mutations.concat(new ml(n._key,Tn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new ne(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(e,t){if((e=yt(e)).firestore!==t)throw new ne(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vs=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ce(t,e),t.prototype.convertBytes=function(n){return new ks(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Dt(this.firestore,null,r)},t}(rb);function dS(e,t,n){e=ut(e,Dt);var r=ut(e.firestore,nn),o=Od(e.converter,t,n);return yl(r,[Cd(Ls(r),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,Tn.none())])}function pS(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=ut(e,Dt);var s=ut(e.firestore,nn),u=Ls(s);return yl(s,[(typeof(t=yt(t))=="string"||t instanceof oi?eb(u,"updateDoc",e._key,t,n,r):Z_(u,"updateDoc",e._key,t)).toMutation(e._key,Tn.exists(!0))])}function NC(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=yt(e);var u={includeMetadataChanges:!1},c=0;typeof o[c]!="object"||Wa(o[c])||(u=o[c],c++);var f,d,g,h={includeMetadataChanges:u.includeMetadataChanges};if(Wa(o[c])){var p=o[c];o[c]=(t=p.next)===null||t===void 0?void 0:t.bind(p),o[c+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),o[c+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}if(e instanceof Dt)d=ut(e.firestore,nn),g=ll(e._key.path),f={next:function(E){o[c]&&o[c](Kv(d,e,E))},error:o[c+1],complete:o[c+2]};else{var v=ut(e,pr);d=ut(v.firestore,nn),g=v._query;var _=new vs(d);f={next:function(E){o[c]&&o[c](new oo(d,_,v,E))},error:o[c+1],complete:o[c+2]},SC(e._query)}return function(E,S,b,k){var D=this,O=new Sd(k),U=new $_(S,O,b);return E.asyncQueue.enqueueAndForget(function(){return Q(D,void 0,void 0,function(){var L;return X(this,function(Y){switch(Y.label){case 0:return L=V_,[4,Ga(E)];case 1:return[2,L.apply(void 0,[Y.sent(),U])]}})})}),function(){O.Wo(),E.asyncQueue.enqueueAndForget(function(){return Q(D,void 0,void 0,function(){var L;return X(this,function(Y){switch(Y.label){case 0:return L=j_,[4,Ga(E)];case 1:return[2,L.apply(void 0,[Y.sent(),U])]}})})})}}(wn(d),g,h,f)}function yl(e,t){return function(n,r){var o=this,s=new tr;return n.asyncQueue.enqueueAndForget(function(){return Q(o,void 0,void 0,function(){var u;return X(this,function(c){switch(c.label){case 0:return u=P2,[4,cC(n)];case 1:return[2,u.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(wn(e),t)}function Kv(e,t,n){var r=n.docs.get(t._key),o=new vs(e);return new Si(e,o,t._key,r,new fs(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yB=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return Ce(t,e),t.prototype.get=function(n){var r=this,o=so(n,this._firestore),s=new vs(this._firestore);return e.prototype.get.call(this,n).then(function(u){return new Si(r._firestore,s,o._key,u._document,new fs(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Ls(t)}return e.prototype.get=function(t){var n=this,r=so(t,this._firestore),o=new gB(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return Te();var u=s[0];if(u.isFoundDocument())return new qc(n._firestore,o,u.key,u,r.converter);if(u.isNoDocument())return new qc(n._firestore,o,r._key,null,r.converter);throw Te()})},e.prototype.set=function(t,n,r){var o=so(t,this._firestore),s=Od(o.converter,n,r),u=Cd(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,u),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u,c=so(t,this._firestore);return u=typeof(n=yt(n))=="string"||n instanceof oi?eb(this._dataReader,"Transaction.update",c._key,n,r,o):Z_(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,u),this},e.prototype.delete=function(t){var n=so(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(){if(typeof Uint8Array>"u")throw new ne(K.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function gS(){if(typeof atob>"u")throw new ne(K.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var CC=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return gS(),new e(ks.fromBase64String(t))},e.fromUint8Array=function(t){return mS(),new e(ks.fromUint8Array(t))},e.prototype.toBase64=function(){return gS(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return mS(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),_B=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){aS(r=ut(r,nn));var s=wn(r),u=r._freezeSettings(),c=new qv;return sS(s,c,new oC(c,u.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){aS(n=ut(n,nn));var r=wn(n),o=n._freezeSettings(),s=new qv;return sS(r,s,new W2(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new ne(K.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new tr;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return Q(r,void 0,void 0,function(){var s;return X(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(c){return Q(this,void 0,void 0,function(){var f;return X(this,function(d){switch(d.label){case 0:return Ba.yt()?(f=c+"main",[4,Ba.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(x_(n._databaseId,n._persistenceKey))];case 1:return u.sent(),o.resolve(),[3,3];case 2:return s=u.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),OC=function(){function e(t,n,r){var o=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Ph||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||_h("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(o,s,u,c){var f;c===void 0&&(c={});var d=(o=ut(o,$c))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==s&&_h("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:s+":"+u,ssl:!1})),c.mockUserToken){var g,h;if(typeof c.mockUserToken=="string")g=c.mockUserToken,h=fn.MOCK_USER;else{g=F1(c.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var p=c.mockUserToken.sub||c.mockUserToken.user_id;if(!p)throw new ne(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new fn(p)}o._credentials=new J2(new lC(g,h))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return Q(n,void 0,void 0,function(){var r,o;return X(this,function(s){switch(s.label){case 0:return[4,XT(t)];case 1:return r=s.sent(),[4,QT(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(u){var c=me(u);return c.Or.delete(0),gl(c)}(o))]}})})})}(wn(ut(this._delegate,nn)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return Q(n,void 0,void 0,function(){var r,o;return X(this,function(s){switch(s.label){case 0:return[4,XT(t)];case 1:return r=s.sent(),[4,QT(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(u){return Q(this,void 0,void 0,function(){var c;return X(this,function(f){switch(f.label){case 0:return(c=me(u)).Or.add(0),[4,su(c)];case 1:return f.sent(),c.Br.set("Offline"),[2]}})})}(o))]}})})})}(wn(ut(this._delegate,nn)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&fC("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new tr;return t.asyncQueue.enqueueAndForget(function(){return Q(n,void 0,void 0,function(){var o;return X(this,function(s){switch(s.label){case 0:return o=M2,[4,cC(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(wn(ut(this._delegate,nn)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var u=this,c=new Sd(s);return o.asyncQueue.enqueueAndForget(function(){return Q(u,void 0,void 0,function(){var f;return X(this,function(d){switch(d.label){case 0:return f=function(g,h){me(g).Gr.add(h),h.next()},[4,Ga(o)];case 1:return[2,f.apply(void 0,[d.sent(),c])]}})})}),function(){c.Wo(),o.asyncQueue.enqueueAndForget(function(){return Q(u,void 0,void 0,function(){var f;return X(this,function(d){switch(d.label){case 0:return f=function(g,h){me(g).Gr.delete(h)},[4,Ga(o)];case 1:return[2,f.apply(void 0,[d.sent(),c])]}})})})}}(wn(n=ut(n,nn)),Wa(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new ne(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Lh(this,hC(this._delegate,t))}catch(n){throw Dn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new ys(this,nh(this._delegate,t))}catch(n){throw Dn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new xd(this,function(n,r){if(n=ut(n,$c),X_("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new ne(K.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new pr(n,null,function(o){return new Pi(at.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw Dn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,u){var c=this,f=new tr;return s.asyncQueue.enqueueAndForget(function(){return Q(c,void 0,void 0,function(){var d;return X(this,function(g){switch(g.label){case 0:return[4,function(h){return Ad(h).then(function(p){return p.datastore})}(s)];case 1:return d=g.sent(),new Y2(s.asyncQueue,d,u,f).run(),[2]}})})}),f.promise}(wn(r),function(s){return o(new yB(r,s))})}(this._delegate,function(r){return t(new RC(n,r))})},e.prototype.batch=function(){var t=this;return wn(this._delegate),new PC(new vB(this._delegate,function(n){return yl(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new ne(K.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new ne(K.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Rd=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ce(t,e),t.prototype.convertBytes=function(n){return new CC(new ks(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return ys.eu(r,this.firestore,null)},t}(rb);function bB(e){var t;t=e,Ur.setLogLevel(t)}var RC=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Rd(t)}return e.prototype.get=function(t){var n=this,r=hs(t);return this._delegate.get(r).then(function(o){return new Hc(n._firestore,new Si(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r.converter))})},e.prototype.set=function(t,n,r){var o=hs(t);return r?(Q_("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var c=hs(t);return arguments.length===2?this._delegate.update(c,n):(o=this._delegate).update.apply(o,Rt([c,n,r],s)),this},e.prototype.delete=function(t){var n=hs(t);return this._delegate.delete(n),this},e}(),PC=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=hs(t);return r?(Q_("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var c=hs(t);return arguments.length===2?this._delegate.update(c,n):(o=this._delegate).update.apply(o,Rt([c,n,r],s)),this},e.prototype.delete=function(t){var n=hs(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Pd=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new mc(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Kc(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new Rd(t),n),o.set(n,s)),s},e}();Pd.su=new WeakMap;var ys=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Rd(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new ne(K.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Dt(n._delegate,r,new Ae(t)))},e.eu=function(t,n,r){return new e(n,new Dt(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Lh(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Lh(this.firestore,hC(this._delegate,t))}catch(n){throw Dn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=yt(t))instanceof Dt&&dC(this._delegate,t)},e.prototype.set=function(t,n){n=Q_("DocumentReference.set",n);try{return n?dS(this._delegate,t,n):dS(this._delegate,t)}catch(r){throw Dn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?pS(this._delegate,t):pS.apply(void 0,Rt([this._delegate,t,n],r))}catch(s){throw Dn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return yl(ut((t=this._delegate).firestore,nn),[new ml(t._key,Tn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=xC(n),s=DC(n,function(u){return new Hc(t.firestore,new Si(t.firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,t._delegate.converter))});return NC(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ut(r,Dt);var o=ut(r.firestore,nn),s=wn(o),u=new vs(o);return function(c,f){var d=this,g=new tr;return c.asyncQueue.enqueueAndForget(function(){return Q(d,void 0,void 0,function(){var h;return X(this,function(p){switch(p.label){case 0:return h=function(v,_,E){return Q(this,void 0,void 0,function(){var S,b;return X(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,function(D,O){var U=me(D);return U.persistence.runTransaction("read document","readonly",function(L){return U.Mn.mn(L,O)})}(v,_)];case 1:return(b=k.sent()).isFoundDocument()?E.resolve(b):b.isNoDocument()?E.resolve(null):E.reject(new ne(K.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=k.sent(),b=cu(S,"Failed to get document '"+_+" from cache"),E.reject(b),[3,3];case 3:return[2]}})})},[4,uC(c)];case 1:return[2,h.apply(void 0,[p.sent(),f,g])]}})})}),g.promise}(s,r._key).then(function(c){return new Si(o,u,r._key,c,new fs(c!==null&&c.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ut(r,Dt);var o=ut(r.firestore,nn);return JT(wn(o),r._key,{source:"server"}).then(function(s){return Kv(o,r,s)})}(this._delegate):function(r){r=ut(r,Dt);var o=ut(r.firestore,nn);return JT(wn(o),r._key).then(function(s){return Kv(o,r,s)})}(this._delegate)).then(function(r){return new Hc(n.firestore,new Si(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Pd.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Dn(e,t,n){return e.message=e.message.replace(t,n),e}function xC(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Wa(r))return r}return{}}function DC(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=Wa(e[0])?e[0]:Wa(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var Hc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new ys(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return TC(this._delegate,t._delegate)},e}(),Kc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Hc),xd=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Rd(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Wi(this._delegate,function(o,s,u){var c=s,f=Dh("where",o);return new pB(f,c,u)}(t,n,r)))}catch(o){throw Dn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Wi(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,u=Dh("orderBy",r);return new mB(u,s)}(t,n)))}catch(r){throw Dn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Wi(this._delegate,function(n){return iS("limit",n),new uS("limit",n,"F")}(t)))}catch(n){throw Dn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Wi(this._delegate,function(n){return iS("limitToLast",n),new uS("limitToLast",n,"L")}(t)))}catch(n){throw Dn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Wi(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new cS("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw Dn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Wi(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new cS("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw Dn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Wi(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new lS("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw Dn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Wi(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new lS("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw Dn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return pC(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ut(r,pr);var o=ut(r.firestore,nn),s=wn(o),u=new vs(o);return function(c,f){var d=this,g=new tr;return c.asyncQueue.enqueueAndForget(function(){return Q(d,void 0,void 0,function(){var h;return X(this,function(p){switch(p.label){case 0:return h=function(v,_,E){return Q(this,void 0,void 0,function(){var S,b,k,D,O;return X(this,function(U){switch(U.label){case 0:return U.trys.push([0,2,,3]),[4,Ch(v,_,!0)];case 1:return O=U.sent(),S=new eC(_,O.Bn),b=S._o(O.documents),k=S.applyChanges(b,!1),E.resolve(k.snapshot),[3,3];case 2:return D=U.sent(),O=cu(D,"Failed to execute query '"+_+" against cache"),E.reject(O),[3,3];case 3:return[2]}})})},[4,uC(c)];case 1:return[2,h.apply(void 0,[p.sent(),f,g])]}})})}),g.promise}(s,r._query).then(function(c){return new oo(o,u,r,c)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ut(r,pr);var o=ut(r.firestore,nn),s=wn(o),u=new vs(o);return ZT(s,r._query,{source:"server"}).then(function(c){return new oo(o,u,r,c)})}(this._delegate):function(r){r=ut(r,pr);var o=ut(r.firestore,nn),s=wn(o),u=new vs(o);return SC(r._query),ZT(s,r._query).then(function(c){return new oo(o,u,r,c)})}(this._delegate)).then(function(r){return new Gv(n.firestore,new oo(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=xC(n),s=DC(n,function(u){return new Gv(t.firestore,new oo(t.firestore._delegate,t._userDataWriter,t._delegate,u._snapshot))});return NC(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Pd.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),wB=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Kc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Gv=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new xd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Kc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new wB(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new Kc(r._firestore,o))})},e.prototype.isEqual=function(t){return TC(this._delegate,t._delegate)},e}(),Lh=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return Ce(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new ys(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new ys(this.firestore,n===void 0?nh(this._delegate):nh(this._delegate,n))}catch(r){throw Dn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var u=ut(o.firestore,nn),c=nh(o),f=Od(o.converter,s);return yl(u,[Cd(Ls(o.firestore),"addDoc",c._key,f,o.converter!==null,{}).toMutation(c._key,Tn.exists(!1))]).then(function(){return c})}(this._delegate,n).then(function(o){return new ys(r.firestore,o)})},t.prototype.isEqual=function(n){return dC(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Pd.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(xd);function hs(e){return ut(e,Dt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EB=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(oi.bind.apply(oi,Rt([void 0],t)))}return e.documentId=function(){return new e($r.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=yt(t))instanceof oi&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),IB=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new aB("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new J_("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new uB("arrayUnion",o)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new cB("arrayRemove",o)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new lB("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),TB={Firestore:OC,GeoPoint:Nd,Timestamp:Jn,Blob:CC,Transaction:RC,WriteBatch:PC,DocumentReference:ys,DocumentSnapshot:Hc,Query:xd,QueryDocumentSnapshot:Kc,QuerySnapshot:Gv,CollectionReference:Lh,FieldPath:EB,FieldValue:IB,setLogLevel:bB,CACHE_SIZE_UNLIMITED:rB};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(e){(function(t,n){t.INTERNAL.registerComponent(new Zc("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},TB)))})(e,function(t,n){return new OC(t,new nn(t,n),new _B)}),e.registerVersion("@firebase/firestore","2.4.1")}SB(Pe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LC="firebasestorage.googleapis.com",MC="storageBucket",AB=2*60*1e3,kB=10*60*1e3,Qt=function(e){Ce(t,e);function t(n,r){var o=e.call(this,Hg(n),"Firebase Storage: "+r+" ("+Hg(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return Hg(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(V1);function Hg(e){return"storage/"+e}function ib(){var e="An unknown error occurred, please check the error payload for server response.";return new Qt("unknown",e)}function NB(e){return new Qt("object-not-found","Object '"+e+"' does not exist.")}function CB(e){return new Qt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OB(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qt("unauthenticated",e)}function RB(){return new Qt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function PB(e){return new Qt("unauthorized","User does not have permission to access '"+e+"'.")}function xB(){return new Qt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function FC(){return new Qt("canceled","User canceled the upload/download.")}function DB(e){return new Qt("invalid-url","Invalid URL '"+e+"'.")}function LB(e){return new Qt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function MB(){return new Qt("no-default-bucket","No default bucket found. Did you set the '"+MC+"' property when initializing the app?")}function UC(){return new Qt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function FB(){return new Qt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function UB(){return new Qt("no-download-url","The given file does not have any download URLs.")}function Ta(e){return new Qt("invalid-argument",e)}function VC(){return new Qt("app-deleted","The Firebase app was deleted.")}function jC(e){return new Qt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gc(e,t){return new Qt("invalid-format","String does not match format '"+e+"': "+t)}function Vf(e){throw new Qt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Kg=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function BC(e,t){switch(e){case wr.RAW:return new Kg($C(t));case wr.BASE64:case wr.BASE64URL:return new Kg(qC(e,t));case wr.DATA_URL:return new Kg(BB(t),$B(t))}throw ib()}function $C(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=r,u=e.charCodeAt(++n);r=65536|(s&1023)<<10|u&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function jB(e){var t;try{t=decodeURIComponent(e)}catch{throw gc(wr.DATA_URL,"Malformed data URL.")}return $C(t)}function qC(e,t){switch(e){case wr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var o=n?"-":"_";throw gc(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case wr.BASE64URL:{var s=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(s||u){var o=s?"+":"/";throw gc(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var c;try{c=VB(t)}catch{throw gc(e,"Invalid character found")}for(var f=new Uint8Array(c.length),d=0;d<c.length;d++)f[d]=c.charCodeAt(d);return f}var HC=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw gc(wr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=qB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function BB(e){var t=new HC(e);return t.base64?qC(wr.BASE64,t.rest):jB(t.rest)}function $B(e){var t=new HC(e);return t.contentType}function qB(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HB={STATE_CHANGED:"state_changed"},Ln={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Gg(e){switch(e){case"running":case"pausing":case"canceling":return Ln.RUNNING;case"paused":return Ln.PAUSED;case"success":return Ln.SUCCESS;case"canceled":return Ln.CANCELED;case"error":return Ln.ERROR;default:return Ln.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _s;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(_s||(_s={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KB=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=_s.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=_s.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=_s.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,o){if(this.sent_)throw Vf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Vf("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Vf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Vf("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function GB(){return new KB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WB=function(){function e(){}return e.prototype.createConnection=function(){return GB()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Er=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw LB(t)},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)";function s(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}var u="(/(.*))?$",c=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function d(H){H.path_=decodeURIComponent(H.path)}for(var g="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp("^https?://"+h+"/"+g+"/b/"+o+"/o"+p,"i"),_={bucket:1,path:3},E=n===LC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",b=new RegExp("^https?://"+E+"/"+o+"/"+S,"i"),k={bucket:1,path:2},D=[{regex:c,indices:f,postModify:s},{regex:v,indices:_,postModify:d},{regex:b,indices:k,postModify:d}],O=0;O<D.length;O++){var U=D[O],L=U.regex.exec(t);if(L){var Y=L[U.indices.bucket],j=L[U.indices.path];j||(j=""),r=new e(Y,j),U.postModify(r);break}}if(r==null)throw DB(t);return r},e}(),zB=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(e,t,n){var r=1,o=null,s=!1,u=0;function c(){return u===2}var f=!1;function d(){for(var _=[],E=0;E<arguments.length;E++)_[E]=arguments[E];f||(f=!0,t.apply(null,_))}function g(_){o=setTimeout(function(){o=null,e(h,c())},_)}function h(_){for(var E=[],S=1;S<arguments.length;S++)E[S-1]=arguments[S];if(!f){if(_){d.call.apply(d,Rt([null,_],E));return}var b=c()||s;if(b){d.call.apply(d,Rt([null,_],E));return}r<64&&(r*=2);var k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,g(k)}}var p=!1;function v(_){p||(p=!0,!f&&(o!==null?(_||(u=2),clearTimeout(o),g(0)):_||(u=1)))}return g(0),setTimeout(function(){s=!0,v(!0)},n),v}function XB(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(e){return e!==void 0}function JB(e){return typeof e=="function"}function ZB(e){return typeof e=="object"&&!Array.isArray(e)}function Dd(e){return typeof e=="string"||e instanceof String}function vS(e){return ob()&&e instanceof Blob}function ob(){return typeof Blob<"u"}function Wv(e,t,n,r){if(r<t)throw Ta("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Ta("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],o=t;return r==null&&(o="https://"+t),o+"/v0"+e}function KC(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e$=function(){function e(t,n,r,o,s,u,c,f,d,g,h){var p=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=u.slice(),this.callback_=c,this.errorCallback_=f,this.progressCallback_=g,this.timeout_=d,this.pool_=h,this.promise_=new Promise(function(v,_){p.resolve_=v,p.reject_=_,p.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new jf(!1,null,!0));return}var u=t.pool_.createConnection();t.pendingConnection_=u;function c(f){var d=f.loaded,g=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,g)}t.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&u.removeUploadProgressListener(c),t.pendingConnection_=null;var f=u.getErrorCode()===_s.NO_ERROR,d=u.getStatus();if(!f||t.isRetryStatusCode_(d)){var g=u.getErrorCode()===_s.ABORT;o(!1,new jf(!1,null,g));return}var h=t.successCodes_.indexOf(d)!==-1;o(!0,new jf(h,u))})}function r(o,s){var u=t.resolve_,c=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());QB(d)?u(d):u()}catch(h){c(h)}else if(f!==null){var g=ib();g.serverResponse=f.getResponseText(),t.errorCallback_?c(t.errorCallback_(f,g)):c(g)}else if(s.canceled){var g=t.appDelete_?VC():FC();c(g)}else{var g=xB();c(g)}}this.canceled_?r(!1,new jf(!1,null,!0)):this.backoffId_=YB(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&XB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],o=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),jf=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function t$(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function n$(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function r$(e,t){t&&(e["X-Firebase-GMPID"]=t)}function i$(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function o$(e,t,n,r,o,s){var u=KC(e.urlParams),c=e.url+u,f=Object.assign({},e.headers);return r$(f,t),t$(f,n),n$(f,s),i$(f,r),new e$(c,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function a$(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=s$();if(n!==void 0){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(ob())return new Blob(e);throw new Qt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function u$(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sb=function(){function e(t,n){var r=0,o="";vS(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(vS(this.data_)){var r=this.data_,o=u$(r,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(ob()){var r=t.map(function(f){return f instanceof e?f.data_:f});return new e(a$.apply(null,r))}else{var o=t.map(function(f){return Dd(f)?BC(wr.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var u=new Uint8Array(s),c=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)u[c++]=f[d]}),new e(u,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(e){var t;try{t=JSON.parse(e)}catch{return null}return ZB(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c$(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function l$(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function GC(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(e,t){return t}var Rn=function(){function e(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||f$}return e}(),Bf=null;function h$(e){return!Dd(e)||e.length<2?e:GC(e)}function Ld(){if(Bf)return Bf;var e=[];e.push(new Rn("bucket")),e.push(new Rn("generation")),e.push(new Rn("metageneration")),e.push(new Rn("name","fullPath",!0));function t(s,u){return h$(u)}var n=new Rn("name");n.xform=t,e.push(n);function r(s,u){return u!==void 0?Number(u):u}var o=new Rn("size");return o.xform=r,e.push(o),e.push(new Rn("timeCreated")),e.push(new Rn("updated")),e.push(new Rn("md5Hash",null,!0)),e.push(new Rn("cacheControl",null,!0)),e.push(new Rn("contentDisposition",null,!0)),e.push(new Rn("contentEncoding",null,!0)),e.push(new Rn("contentLanguage",null,!0)),e.push(new Rn("contentType",null,!0)),e.push(new Rn("metadata","customMetadata",!0)),Bf=e,Bf}function d$(e,t){function n(){var r=e.bucket,o=e.fullPath,s=new Er(r,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function p$(e,t,n){var r={};r.type="file";for(var o=n.length,s=0;s<o;s++){var u=n[s];r[u.local]=u.xform(r,t[u.server])}return d$(r,e),r}function WC(e,t,n){var r=ab(t);if(r===null)return null;var o=r;return p$(e,o,n)}function m$(e,t,n){var r=ab(t);if(r===null||!Dd(r.downloadTokens))return null;var o=r.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,u=o.split(","),c=u.map(function(f){var d=e.bucket,g=e.fullPath,h="/b/"+s(d)+"/o/"+s(g),p=No(h,n),v=KC({alt:"media",token:f});return p+v});return c[0]}function ub(e,t){for(var n={},r=t.length,o=0;o<r;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yS="prefixes",_S="items";function g$(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[yS])for(var o=0,s=n[yS];o<s.length;o++){var u=s[o],c=u.replace(/\/$/,""),f=e._makeStorageReference(new Er(t,c));r.prefixes.push(f)}if(n[_S])for(var d=0,g=n[_S];d<g.length;d++){var h=g[d],f=e._makeStorageReference(new Er(t,h.name));r.items.push(f)}return r}function v$(e,t,n){var r=ab(n);if(r===null)return null;var o=r;return g$(e,t,o)}var xi=function(){function e(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(e){if(!e)throw ib()}function Md(e,t){function n(r,o){var s=WC(e,o,t);return si(s!==null),s}return n}function y$(e,t){function n(r,o){var s=v$(e,t,o);return si(s!==null),s}return n}function _$(e,t){function n(r,o){var s=WC(e,o,t);return si(s!==null),m$(s,o,e.host)}return n}function lu(e){function t(n,r){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=RB():o=OB():n.getStatus()===402?o=CB(e.bucket):n.getStatus()===403?o=PB(e.path):o=r,o.serverResponse=r.serverResponse,o}return t}function Fd(e){var t=lu(e);function n(r,o){var s=t(r,o);return r.getStatus()===404&&(s=NB(e.path)),s.serverResponse=o.serverResponse,s}return n}function zC(e,t,n){var r=t.fullServerUrl(),o=No(r,e.host),s="GET",u=e.maxOperationRetryTime,c=new xi(o,s,Md(e,n),u);return c.errorHandler=Fd(t),c}function b$(e,t,n,r,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),o&&(s.maxResults=o);var u=t.bucketOnlyServerUrl(),c=No(u,e.host),f="GET",d=e.maxOperationRetryTime,g=new xi(c,f,y$(e,t.bucket),d);return g.urlParams=s,g.errorHandler=lu(t),g}function w$(e,t,n){var r=t.fullServerUrl(),o=No(r,e.host),s="GET",u=e.maxOperationRetryTime,c=new xi(o,s,_$(e,n),u);return c.errorHandler=Fd(t),c}function E$(e,t,n,r){var o=t.fullServerUrl(),s=No(o,e.host),u="PATCH",c=ub(n,r),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,g=new xi(s,u,Md(e,r),d);return g.headers=f,g.body=c,g.errorHandler=Fd(t),g}function I$(e,t){var n=t.fullServerUrl(),r=No(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function u(f,d){}var c=new xi(r,o,u,s);return c.successCodes=[200,204],c.errorHandler=Fd(t),c}function T$(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function YC(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=T$(null,t)),r}function S$(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function c(){for(var D="",O=0;O<2;O++)D=D+Math.random().toString().slice(2);return D}var f=c();u["Content-Type"]="multipart/related; boundary="+f;var d=YC(t,r,o),g=ub(d,n),h="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,p=`\r
--`+f+"--",v=sb.getBlob(h,r,p);if(v===null)throw UC();var _={name:d.fullPath},E=No(s,e.host),S="POST",b=e.maxUploadRetryTime,k=new xi(E,S,Md(e,n),b);return k.urlParams=_,k.headers=u,k.body=v.uploadData(),k.errorHandler=lu(t),k}var Mh=function(){function e(t,n,r,o){this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null}return e}();function cb(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{si(!1)}var r=t||["active"];return si(!!n&&r.indexOf(n)!==-1),n}function A$(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u=YC(t,r,o),c={name:u.fullPath},f=No(s,e.host),d="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},h=ub(u,n),p=e.maxUploadRetryTime;function v(E){cb(E);var S;try{S=E.getResponseHeader("X-Goog-Upload-URL")}catch{si(!1)}return si(Dd(S)),S}var _=new xi(f,d,v,p);return _.urlParams=c,_.headers=g,_.body=h,_.errorHandler=lu(t),_}function k$(e,t,n,r){var o={"X-Goog-Upload-Command":"query"};function s(d){var g=cb(d,["active","final"]),h=null;try{h=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{si(!1)}h||si(!1);var p=Number(h);return si(!isNaN(p)),new Mh(p,r.size(),g==="final")}var u="POST",c=e.maxUploadRetryTime,f=new xi(n,u,s,c);return f.headers=o,f.errorHandler=lu(t),f}var bS=256*1024;function N$(e,t,n,r,o,s,u,c){var f=new Mh(0,0);if(u?(f.current=u.current,f.total=u.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw FB();var d=f.total-f.current,g=d;o>0&&(g=Math.min(g,o));var h=f.current,p=h+g,v=g===d?"upload, finalize":"upload",_={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":""+f.current},E=r.slice(h,p);if(E===null)throw UC();function S(O,U){var L=cb(O,["active","final"]),Y=f.current+g,j=r.size(),H;return L==="final"?H=Md(t,s)(O,U):H=null,new Mh(Y,j,L==="final",H)}var b="POST",k=t.maxUploadRetryTime,D=new xi(n,b,S,k);return D.headers=_,D.body=E.uploadData(),D.progressCallback=c||null,D.errorHandler=lu(e),D}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C$=function(){function e(t,n,r){var o=JB(t)||n!=null||r!=null;if(o)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XC=function(){function e(t,n,r){var o=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=Ld(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,u){o._resolve=s,o._reject=u,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var o=r[0],s=r[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var o=A$(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._uploadUrl=u,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,o){var s=k$(t._ref.storage,t._ref._location,n,t._blob),u=t._ref.storage._makeRequest(s,r,o);t._request=u,u.getPromise().then(function(c){c=c,t._request=void 0,t._updateProgress(c.current),t._needToFetchStatus=!1,c.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=bS*this._chunkMultiplier,r=new Mh(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,u){var c;try{c=N$(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(c,s,u);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=bS*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var o=zC(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var o=S$(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=FC(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Gg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,o){var s=this,u=new C$(n,r,o);return this._addObserver(u),function(){s._removeObserver(u)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Gg(this._state)){case Ln.SUCCESS:la(this._resolve.bind(null,this.snapshot))();break;case Ln.CANCELED:case Ln.ERROR:var n=this._reject;la(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Gg(this._state);switch(n){case Ln.RUNNING:case Ln.PAUSED:t.next&&la(t.next.bind(t,this.snapshot))();break;case Ln.SUCCESS:t.complete&&la(t.complete.bind(t))();break;case Ln.CANCELED:case Ln.ERROR:t.error&&la(t.error.bind(t,this._error))();break;default:t.error&&la(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ud=function(){function e(t,n){this._service=t,n instanceof Er?this._location=n:this._location=Er.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new Er(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return GC(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=c$(this._location.path);if(t===null)return null;var n=new Er(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw jC(t)},e}();function O$(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new XC(e,new sb(t),n)}function R$(e){var t={prefixes:[],items:[]};return QC(e,t).then(function(){return t})}function QC(e,t,n){return Q(this,void 0,void 0,function(){var r,o,s,u;return X(this,function(c){switch(c.label){case 0:return r={pageToken:n},[4,JC(e,r)];case 1:return o=c.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(u=t.items).push.apply(u,o.items),o.nextPageToken==null?[3,3]:[4,QC(e,t,o.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function JC(e,t){return Q(this,void 0,void 0,function(){var n,r;return X(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Wv("options.maxResults",1,1e3,t.maxResults),n=t||{},r=b$(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,o.sent().getPromise()]}})})}function P$(e){return Q(this,void 0,void 0,function(){var t;return X(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=zC(e.storage,e._location,Ld()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function x$(e,t){return Q(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=E$(e.storage,e._location,t,Ld()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function D$(e){return Q(this,void 0,void 0,function(){var t;return X(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=w$(e.storage,e._location,Ld()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw UB();return r})]}})})}function L$(e){return Q(this,void 0,void 0,function(){var t;return X(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=I$(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function ZC(e,t){var n=l$(e._location.path,t),r=new Er(e._location.bucket,n);return new Ud(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(e){return/^[A-Za-z]+:\/\//.test(e)}function M$(e,t){return new Ud(e,t)}function eO(e,t){if(e instanceof Vd){var n=e;if(n._bucket==null)throw MB();var r=new Ud(n,n._bucket);return t!=null?eO(r,t):r}else return t!==void 0?ZC(e,t):e}function F$(e,t){if(t&&zv(t)){if(e instanceof Vd)return M$(e,t);throw Ta("To use ref(service, url), the first argument must be a Storage instance.")}else return eO(e,t)}function wS(e,t){var n=t==null?void 0:t[MC];return n==null?null:Er.makeFromBucketSpec(n,e)}function U$(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var o=r.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:F1(o,e.app.options.projectId))}var Vd=function(){function e(t,n,r,o,s,u){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=o,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=LC,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AB,this._maxUploadRetryTime=kB,this._requests=new Set,s!=null?this._bucket=Er.makeFromBucketSpec(s,this._host):this._bucket=wS(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=Er.makeFromBucketSpec(this._url,t):this._bucket=wS(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Wv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Wv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Q(this,void 0,void 0,function(){var t,n;return X(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return Q(this,void 0,void 0,function(){var t,n;return X(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Ud(this,t)},e.prototype._makeRequest=function(t,n,r){var o=this;if(this._deleted)return new zB(VC());var s=o$(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return Q(this,void 0,void 0,function(){var n,r,o;return X(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],o=n[1],[2,this._makeRequest(t,r,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(e,t,n){return e=yt(e),O$(e,t,n)}function j$(e){return e=yt(e),P$(e)}function B$(e,t){return e=yt(e),x$(e,t)}function $$(e,t){return e=yt(e),JC(e,t)}function q$(e){return e=yt(e),R$(e)}function H$(e){return e=yt(e),D$(e)}function K$(e){return e=yt(e),L$(e)}function ES(e,t){return e=yt(e),F$(e,t)}function G$(e,t){return ZC(e,t)}function W$(e,t,n,r){r===void 0&&(r={}),U$(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $f=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IS=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new $f(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(o){if(t)return t(new $f(o,r,r._ref))},n)},e.prototype.on=function(t,n,r,o){var s=this,u=void 0;return n&&(typeof n=="function"?u=function(c){return n(new $f(c,s,s._ref))}:u={next:n.next?function(c){return n.next(new $f(c,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,u,r||void 0,o||void 0)},e}(),TS=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Gc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Gc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=G$(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new IS(V$(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=wr.RAW),this._throwIfRoot("putString");var o=BC(n,t),s=Ca({},r);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new IS(new XC(this._delegate,new sb(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return q$(this._delegate).then(function(n){return new TS(n,t.storage)})},e.prototype.list=function(t){var n=this;return $$(this._delegate,t||void 0).then(function(r){return new TS(r,n.storage)})},e.prototype.getMetadata=function(){return j$(this._delegate)},e.prototype.updateMetadata=function(t){return B$(this._delegate,t)},e.prototype.getDownloadURL=function(){return H$(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),K$(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw jC(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z$=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(zv(t))throw Ta("ref() expected a child path but got a URL, use refFromURL instead.");return new Gc(ES(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!zv(t))throw Ta("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Er.makeFromUrl(t,this._delegate.host)}catch{throw Ta("refFromUrl() expected a valid full URL but got an invalid one.")}return new Gc(ES(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),W$(this._delegate,t,n,r)},e}(),Y$="@firebase/storage",X$="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q$="storage";function J$(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),u=new z$(r,new Vd(r,o,s,new WB,n,Pe.SDK_VERSION));return u}function Z$(e){var t={TaskState:Ln,TaskEvent:HB,StringFormat:wr,Storage:Vd,Reference:Gc};e.INTERNAL.registerComponent(new Zc(Q$,J$,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(Y$,X$)}Z$(Pe);const eq={apiKey:"AIzaSyCKDzFxGEDXvs5UnUXtPkaXir0FvZEdsYs",authDomain:"music-1da3c.firebaseapp.com",projectId:"music-1da3c",storageBucket:"music-1da3c.appspot.com",appId:"1:46994571202:web:e313fab0d270d4d381a05b"};Pe.initializeApp(eq);const Br=Pe.auth(),lb=Pe.firestore(),tO=Pe.storage(),tq=lb.collection("users"),Ai=lb.collection("songs"),nO=lb.collection("comments"),_l=qy("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await Br.createUserWithEmailAndPassword(e.email,e.password);await tq.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country}),await t.user.updateProfile({displayName:e.name}),this.userLoggerIn=!0},async authenticate(e){await Br.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await Br.signOut(),this.userLoggedIn=!1}}}),$n=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},nq={name:"AppHeader",computed:{...MF(_l,vv)},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},rq={id:"header",class:"bg-gray-700"},iq={class:"container mx-auto flex justify-start items-center py-5 px-4"},oq={class:"flex flex-grow items-center"},sq={class:"flex flex-row mt-1"},aq={key:0};function uq(e,t,n,r,o,s){const u=At("router-link");return Ye(),ct("div",null,[G("header",rq,[G("nav",iq,[Re(u,{class:"text-white font-bold uppercase text-2xl mr-4",to:{name:"home"},"exact-active-class":"no-active"},{default:jn(()=>[ho(" Music ")]),_:1}),G("div",oq,[G("ul",sq,[G("li",null,[Re(u,{class:"px-2 text-white",to:{name:"about"}},{default:jn(()=>[ho("About")]),_:1})]),e.userStore.userLoggedIn?(Ye(),ct(Vt,{key:1},[G("li",null,[Re(u,{class:"px-2 text-white",to:{name:"manage"}},{default:jn(()=>[ho("Manage")]),_:1})]),G("li",null,[G("a",{class:"px-2 text-white",href:"#",onClick:t[1]||(t[1]=_n((...c)=>s.signOut&&s.signOut(...c),["prevent"]))},"Logout")])],64)):(Ye(),ct("li",aq,[G("a",{class:"px-2 text-white",href:"#",onClick:t[0]||(t[0]=_n((...c)=>s.toggleAuthModal&&s.toggleAuthModal(...c),["prevent"]))},"Login / Register")]))])])])])])}const cq=$n(nq,[["render",uq]]);var Ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yv={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var h=this||n;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var p=this||n;if(h=parseFloat(h),p.ctx||g(),typeof h<"u"&&h>=0&&h<=1){if(p._volume=h,p._muted)return p;p.usingWebAudio&&p.masterGain.gain.setValueAtTime(h,n.ctx.currentTime);for(var v=0;v<p._howls.length;v++)if(!p._howls[v]._webAudio)for(var _=p._howls[v]._getSoundIds(),E=0;E<_.length;E++){var S=p._howls[v]._soundById(_[E]);S&&S._node&&(S._node.volume=S._volume*h)}return p}return p._volume},mute:function(h){var p=this||n;p.ctx||g(),p._muted=h,p.usingWebAudio&&p.masterGain.gain.setValueAtTime(h?0:p._volume,n.ctx.currentTime);for(var v=0;v<p._howls.length;v++)if(!p._howls[v]._webAudio)for(var _=p._howls[v]._getSoundIds(),E=0;E<_.length;E++){var S=p._howls[v]._soundById(_[E]);S&&S._node&&(S._node.muted=h?!0:S._muted)}return p},stop:function(){for(var h=this||n,p=0;p<h._howls.length;p++)h._howls[p].stop();return h},unload:function(){for(var h=this||n,p=h._howls.length-1;p>=0;p--)h._howls[p].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,g()),h},codecs:function(h){return(this||n)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||n;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var p=new Audio;typeof p.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var p=new Audio;p.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||n,p=null;try{p=typeof Audio<"u"?new Audio:null}catch{return h}if(!p||typeof p.canPlayType!="function")return h;var v=p.canPlayType("audio/mpeg;").replace(/^no$/,""),_=h._navigator?h._navigator.userAgent:"",E=_.match(/OPR\/(\d+)/g),S=E&&parseInt(E[0].split("/")[1],10)<33,b=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,k=_.match(/Version\/(.*?) /),D=b&&k&&parseInt(k[1],10)<15;return h._codecs={mp3:!!(!S&&(v||p.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!v,opus:!!p.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!p.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!p.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(p.canPlayType('audio/wav; codecs="1"')||p.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!p.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!p.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(p.canPlayType("audio/x-m4a;")||p.canPlayType("audio/m4a;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(p.canPlayType("audio/x-m4b;")||p.canPlayType("audio/m4b;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(p.canPlayType("audio/x-mp4;")||p.canPlayType("audio/mp4;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!D&&p.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!D&&p.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!p.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(p.canPlayType("audio/x-flac;")||p.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||n;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var p=function(v){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,h._releaseHtml5Audio(_)}catch{h.noAudio=!0;break}for(var E=0;E<h._howls.length;E++)if(!h._howls[E]._webAudio)for(var S=h._howls[E]._getSoundIds(),b=0;b<S.length;b++){var k=h._howls[E]._soundById(S[b]);k&&k._node&&!k._node._unlocked&&(k._node._unlocked=!0,k._node.load())}h._autoResume();var D=h.ctx.createBufferSource();D.buffer=h._scratchBuffer,D.connect(h.ctx.destination),typeof D.start>"u"?D.noteOn(0):D.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),D.onended=function(){D.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",p,!0),document.removeEventListener("touchend",p,!0),document.removeEventListener("click",p,!0),document.removeEventListener("keydown",p,!0);for(var O=0;O<h._howls.length;O++)h._howls[O]._emit("unlock")}};return document.addEventListener("touchstart",p,!0),document.addEventListener("touchend",p,!0),document.addEventListener("click",p,!0),document.addEventListener("keydown",p,!0),h}},_obtainHtml5Audio:function(){var h=this||n;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var p=new Audio().play();return p&&typeof Promise<"u"&&(p instanceof Promise||typeof p.then=="function")&&p.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var p=this||n;return h._unlocked&&p._html5AudioPool.push(h),p},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!n.usingWebAudio)){for(var p=0;p<h._howls.length;p++)if(h._howls[p]._webAudio){for(var v=0;v<h._howls[p]._sounds.length;v++)if(!h._howls[p]._sounds[v]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var _=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(_,_)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!n.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var p=0;p<h._howls.length;p++)h._howls[p]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var n=new t,r=function(h){var p=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}p.init(h)};r.prototype={init:function(h){var p=this;return n.ctx||g(),p._autoplay=h.autoplay||!1,p._format=typeof h.format!="string"?h.format:[h.format],p._html5=h.html5||!1,p._muted=h.mute||!1,p._loop=h.loop||!1,p._pool=h.pool||5,p._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,p._rate=h.rate||1,p._sprite=h.sprite||{},p._src=typeof h.src!="string"?h.src:[h.src],p._volume=h.volume!==void 0?h.volume:1,p._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},p._duration=0,p._state="unloaded",p._sounds=[],p._endTimers={},p._queue=[],p._playLock=!1,p._onend=h.onend?[{fn:h.onend}]:[],p._onfade=h.onfade?[{fn:h.onfade}]:[],p._onload=h.onload?[{fn:h.onload}]:[],p._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],p._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],p._onpause=h.onpause?[{fn:h.onpause}]:[],p._onplay=h.onplay?[{fn:h.onplay}]:[],p._onstop=h.onstop?[{fn:h.onstop}]:[],p._onmute=h.onmute?[{fn:h.onmute}]:[],p._onvolume=h.onvolume?[{fn:h.onvolume}]:[],p._onrate=h.onrate?[{fn:h.onrate}]:[],p._onseek=h.onseek?[{fn:h.onseek}]:[],p._onunlock=h.onunlock?[{fn:h.onunlock}]:[],p._onresume=[],p._webAudio=n.usingWebAudio&&!p._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(p),p._autoplay&&p._queue.push({event:"play",action:function(){p.play()}}),p._preload&&p._preload!=="none"&&p.load(),p},load:function(){var h=this,p=null;if(n.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var v=0;v<h._src.length;v++){var _,E;if(h._format&&h._format[v])_=h._format[v];else{if(E=h._src[v],typeof E!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(E),_||(_=/\.([^.]+)$/.exec(E.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&n.codecs(_)){p=h._src[v];break}}if(!p){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=p,h._state="loading",window.location.protocol==="https:"&&p.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new o(h),h._webAudio&&u(h),h},play:function(h,p){var v=this,_=null;if(typeof h=="number")_=h,h=null;else{if(typeof h=="string"&&v._state==="loaded"&&!v._sprite[h])return null;if(typeof h>"u"&&(h="__default",!v._playLock)){for(var E=0,S=0;S<v._sounds.length;S++)v._sounds[S]._paused&&!v._sounds[S]._ended&&(E++,_=v._sounds[S]._id);E===1?h=null:_=null}}var b=_?v._soundById(_):v._inactiveSound();if(!b)return null;if(_&&!h&&(h=b._sprite||"__default"),v._state!=="loaded"){b._sprite=h,b._ended=!1;var k=b._id;return v._queue.push({event:"play",action:function(){v.play(k)}}),k}if(_&&!b._paused)return p||v._loadQueue("play"),b._id;v._webAudio&&n._autoResume();var D=Math.max(0,b._seek>0?b._seek:v._sprite[h][0]/1e3),O=Math.max(0,(v._sprite[h][0]+v._sprite[h][1])/1e3-D),U=O*1e3/Math.abs(b._rate),L=v._sprite[h][0]/1e3,Y=(v._sprite[h][0]+v._sprite[h][1])/1e3;b._sprite=h,b._ended=!1;var j=function(){b._paused=!1,b._seek=D,b._start=L,b._stop=Y,b._loop=!!(b._loop||v._sprite[h][2])};if(D>=Y){v._ended(b);return}var H=b._node;if(v._webAudio){var x=function(){v._playLock=!1,j(),v._refreshBuffer(b);var xe=b._muted||v._muted?0:b._volume;H.gain.setValueAtTime(xe,n.ctx.currentTime),b._playStart=n.ctx.currentTime,typeof H.bufferSource.start>"u"?b._loop?H.bufferSource.noteGrainOn(0,D,86400):H.bufferSource.noteGrainOn(0,D,O):b._loop?H.bufferSource.start(0,D,86400):H.bufferSource.start(0,D,O),U!==1/0&&(v._endTimers[b._id]=setTimeout(v._ended.bind(v,b),U)),p||setTimeout(function(){v._emit("play",b._id),v._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?x():(v._playLock=!0,v.once("resume",x),v._clearTimer(b._id))}else{var Ie=function(){H.currentTime=D,H.muted=b._muted||v._muted||n._muted||H.muted,H.volume=b._volume*n.volume(),H.playbackRate=b._rate;try{var xe=H.play();if(xe&&typeof Promise<"u"&&(xe instanceof Promise||typeof xe.then=="function")?(v._playLock=!0,j(),xe.then(function(){v._playLock=!1,H._unlocked=!0,p?v._loadQueue():v._emit("play",b._id)}).catch(function(){v._playLock=!1,v._emit("playerror",b._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),b._ended=!0,b._paused=!0})):p||(v._playLock=!1,j(),v._emit("play",b._id)),H.playbackRate=b._rate,H.paused){v._emit("playerror",b._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||b._loop?v._endTimers[b._id]=setTimeout(v._ended.bind(v,b),U):(v._endTimers[b._id]=function(){v._ended(b),H.removeEventListener("ended",v._endTimers[b._id],!1)},H.addEventListener("ended",v._endTimers[b._id],!1))}catch(qe){v._emit("playerror",b._id,qe)}};H.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(H.src=v._src,H.load());var ie=window&&window.ejecta||!H.readyState&&n._navigator.isCocoonJS;if(H.readyState>=3||ie)Ie();else{v._playLock=!0,v._state="loading";var we=function(){v._state="loaded",Ie(),H.removeEventListener(n._canPlayEvent,we,!1)};H.addEventListener(n._canPlayEvent,we,!1),v._clearTimer(b._id)}}return b._id},pause:function(h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"pause",action:function(){p.pause(h)}}),p;for(var v=p._getSoundIds(h),_=0;_<v.length;_++){p._clearTimer(v[_]);var E=p._soundById(v[_]);if(E&&!E._paused&&(E._seek=p.seek(v[_]),E._rateSeek=0,E._paused=!0,p._stopFade(v[_]),E._node))if(p._webAudio){if(!E._node.bufferSource)continue;typeof E._node.bufferSource.stop>"u"?E._node.bufferSource.noteOff(0):E._node.bufferSource.stop(0),p._cleanBuffer(E._node)}else(!isNaN(E._node.duration)||E._node.duration===1/0)&&E._node.pause();arguments[1]||p._emit("pause",E?E._id:null)}return p},stop:function(h,p){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"stop",action:function(){v.stop(h)}}),v;for(var _=v._getSoundIds(h),E=0;E<_.length;E++){v._clearTimer(_[E]);var S=v._soundById(_[E]);S&&(S._seek=S._start||0,S._rateSeek=0,S._paused=!0,S._ended=!0,v._stopFade(_[E]),S._node&&(v._webAudio?S._node.bufferSource&&(typeof S._node.bufferSource.stop>"u"?S._node.bufferSource.noteOff(0):S._node.bufferSource.stop(0),v._cleanBuffer(S._node)):(!isNaN(S._node.duration)||S._node.duration===1/0)&&(S._node.currentTime=S._start||0,S._node.pause(),S._node.duration===1/0&&v._clearSound(S._node))),p||v._emit("stop",S._id))}return v},mute:function(h,p){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"mute",action:function(){v.mute(h,p)}}),v;if(typeof p>"u")if(typeof h=="boolean")v._muted=h;else return v._muted;for(var _=v._getSoundIds(p),E=0;E<_.length;E++){var S=v._soundById(_[E]);S&&(S._muted=h,S._interval&&v._stopFade(S._id),v._webAudio&&S._node?S._node.gain.setValueAtTime(h?0:S._volume,n.ctx.currentTime):S._node&&(S._node.muted=n._muted?!0:h),v._emit("mute",S._id))}return v},volume:function(){var h=this,p=arguments,v,_;if(p.length===0)return h._volume;if(p.length===1||p.length===2&&typeof p[1]>"u"){var E=h._getSoundIds(),S=E.indexOf(p[0]);S>=0?_=parseInt(p[0],10):v=parseFloat(p[0])}else p.length>=2&&(v=parseFloat(p[0]),_=parseInt(p[1],10));var b;if(typeof v<"u"&&v>=0&&v<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,p)}}),h;typeof _>"u"&&(h._volume=v),_=h._getSoundIds(_);for(var k=0;k<_.length;k++)b=h._soundById(_[k]),b&&(b._volume=v,p[2]||h._stopFade(_[k]),h._webAudio&&b._node&&!b._muted?b._node.gain.setValueAtTime(v,n.ctx.currentTime):b._node&&!b._muted&&(b._node.volume=v*n.volume()),h._emit("volume",b._id))}else return b=_?h._soundById(_):h._sounds[0],b?b._volume:0;return h},fade:function(h,p,v,_){var E=this;if(E._state!=="loaded"||E._playLock)return E._queue.push({event:"fade",action:function(){E.fade(h,p,v,_)}}),E;h=Math.min(Math.max(0,parseFloat(h)),1),p=Math.min(Math.max(0,parseFloat(p)),1),v=parseFloat(v),E.volume(h,_);for(var S=E._getSoundIds(_),b=0;b<S.length;b++){var k=E._soundById(S[b]);if(k){if(_||E._stopFade(S[b]),E._webAudio&&!k._muted){var D=n.ctx.currentTime,O=D+v/1e3;k._volume=h,k._node.gain.setValueAtTime(h,D),k._node.gain.linearRampToValueAtTime(p,O)}E._startFadeInterval(k,h,p,v,S[b],typeof _>"u")}}return E},_startFadeInterval:function(h,p,v,_,E,S){var b=this,k=p,D=v-p,O=Math.abs(D/.01),U=Math.max(4,O>0?_/O:_),L=Date.now();h._fadeTo=v,h._interval=setInterval(function(){var Y=(Date.now()-L)/_;L=Date.now(),k+=D*Y,k=Math.round(k*100)/100,D<0?k=Math.max(v,k):k=Math.min(v,k),b._webAudio?h._volume=k:b.volume(k,h._id,!0),S&&(b._volume=k),(v<p&&k<=v||v>p&&k>=v)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,b.volume(v,h._id),b._emit("fade",h._id))},U)},_stopFade:function(h){var p=this,v=p._soundById(h);return v&&v._interval&&(p._webAudio&&v._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(v._interval),v._interval=null,p.volume(v._fadeTo,h),v._fadeTo=null,p._emit("fade",h)),p},loop:function(){var h=this,p=arguments,v,_,E;if(p.length===0)return h._loop;if(p.length===1)if(typeof p[0]=="boolean")v=p[0],h._loop=v;else return E=h._soundById(parseInt(p[0],10)),E?E._loop:!1;else p.length===2&&(v=p[0],_=parseInt(p[1],10));for(var S=h._getSoundIds(_),b=0;b<S.length;b++)E=h._soundById(S[b]),E&&(E._loop=v,h._webAudio&&E._node&&E._node.bufferSource&&(E._node.bufferSource.loop=v,v&&(E._node.bufferSource.loopStart=E._start||0,E._node.bufferSource.loopEnd=E._stop,h.playing(S[b])&&(h.pause(S[b],!0),h.play(S[b],!0)))));return h},rate:function(){var h=this,p=arguments,v,_;if(p.length===0)_=h._sounds[0]._id;else if(p.length===1){var E=h._getSoundIds(),S=E.indexOf(p[0]);S>=0?_=parseInt(p[0],10):v=parseFloat(p[0])}else p.length===2&&(v=parseFloat(p[0]),_=parseInt(p[1],10));var b;if(typeof v=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,p)}}),h;typeof _>"u"&&(h._rate=v),_=h._getSoundIds(_);for(var k=0;k<_.length;k++)if(b=h._soundById(_[k]),b){h.playing(_[k])&&(b._rateSeek=h.seek(_[k]),b._playStart=h._webAudio?n.ctx.currentTime:b._playStart),b._rate=v,h._webAudio&&b._node&&b._node.bufferSource?b._node.bufferSource.playbackRate.setValueAtTime(v,n.ctx.currentTime):b._node&&(b._node.playbackRate=v);var D=h.seek(_[k]),O=(h._sprite[b._sprite][0]+h._sprite[b._sprite][1])/1e3-D,U=O*1e3/Math.abs(b._rate);(h._endTimers[_[k]]||!b._paused)&&(h._clearTimer(_[k]),h._endTimers[_[k]]=setTimeout(h._ended.bind(h,b),U)),h._emit("rate",b._id)}}else return b=h._soundById(_),b?b._rate:h._rate;return h},seek:function(){var h=this,p=arguments,v,_;if(p.length===0)h._sounds.length&&(_=h._sounds[0]._id);else if(p.length===1){var E=h._getSoundIds(),S=E.indexOf(p[0]);S>=0?_=parseInt(p[0],10):h._sounds.length&&(_=h._sounds[0]._id,v=parseFloat(p[0]))}else p.length===2&&(v=parseFloat(p[0]),_=parseInt(p[1],10));if(typeof _>"u")return 0;if(typeof v=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,p)}}),h;var b=h._soundById(_);if(b)if(typeof v=="number"&&v>=0){var k=h.playing(_);k&&h.pause(_,!0),b._seek=v,b._ended=!1,h._clearTimer(_),!h._webAudio&&b._node&&!isNaN(b._node.duration)&&(b._node.currentTime=v);var D=function(){k&&h.play(_,!0),h._emit("seek",_)};if(k&&!h._webAudio){var O=function(){h._playLock?setTimeout(O,0):D()};setTimeout(O,0)}else D()}else if(h._webAudio){var U=h.playing(_)?n.ctx.currentTime-b._playStart:0,L=b._rateSeek?b._rateSeek-b._seek:0;return b._seek+(L+U*Math.abs(b._rate))}else return b._node.currentTime;return h},playing:function(h){var p=this;if(typeof h=="number"){var v=p._soundById(h);return v?!v._paused:!1}for(var _=0;_<p._sounds.length;_++)if(!p._sounds[_]._paused)return!0;return!1},duration:function(h){var p=this,v=p._duration,_=p._soundById(h);return _&&(v=p._sprite[_._sprite][1]/1e3),v},state:function(){return this._state},unload:function(){for(var h=this,p=h._sounds,v=0;v<p.length;v++)p[v]._paused||h.stop(p[v]._id),h._webAudio||(h._clearSound(p[v]._node),p[v]._node.removeEventListener("error",p[v]._errorFn,!1),p[v]._node.removeEventListener(n._canPlayEvent,p[v]._loadFn,!1),p[v]._node.removeEventListener("ended",p[v]._endFn,!1),n._releaseHtml5Audio(p[v]._node)),delete p[v]._node,h._clearTimer(p[v]._id);var _=n._howls.indexOf(h);_>=0&&n._howls.splice(_,1);var E=!0;for(v=0;v<n._howls.length;v++)if(n._howls[v]._src===h._src||h._src.indexOf(n._howls[v]._src)>=0){E=!1;break}return s&&E&&delete s[h._src],n.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,p,v,_){var E=this,S=E["_on"+h];return typeof p=="function"&&S.push(_?{id:v,fn:p,once:_}:{id:v,fn:p}),E},off:function(h,p,v){var _=this,E=_["_on"+h],S=0;if(typeof p=="number"&&(v=p,p=null),p||v)for(S=0;S<E.length;S++){var b=v===E[S].id;if(p===E[S].fn&&b||!p&&b){E.splice(S,1);break}}else if(h)_["_on"+h]=[];else{var k=Object.keys(_);for(S=0;S<k.length;S++)k[S].indexOf("_on")===0&&Array.isArray(_[k[S]])&&(_[k[S]]=[])}return _},once:function(h,p,v){var _=this;return _.on(h,p,v,1),_},_emit:function(h,p,v){for(var _=this,E=_["_on"+h],S=E.length-1;S>=0;S--)(!E[S].id||E[S].id===p||h==="load")&&(setTimeout((function(b){b.call(this,p,v)}).bind(_,E[S].fn),0),E[S].once&&_.off(h,E[S].fn,E[S].id));return _._loadQueue(h),_},_loadQueue:function(h){var p=this;if(p._queue.length>0){var v=p._queue[0];v.event===h&&(p._queue.shift(),p._loadQueue()),h||v.action()}return p},_ended:function(h){var p=this,v=h._sprite;if(!p._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(p._ended.bind(p,h),100),p;var _=!!(h._loop||p._sprite[v][2]);if(p._emit("end",h._id),!p._webAudio&&_&&p.stop(h._id,!0).play(h._id),p._webAudio&&_){p._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=n.ctx.currentTime;var E=(h._stop-h._start)*1e3/Math.abs(h._rate);p._endTimers[h._id]=setTimeout(p._ended.bind(p,h),E)}return p._webAudio&&!_&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,p._clearTimer(h._id),p._cleanBuffer(h._node),n._autoSuspend()),!p._webAudio&&!_&&p.stop(h._id,!0),p},_clearTimer:function(h){var p=this;if(p._endTimers[h]){if(typeof p._endTimers[h]!="function")clearTimeout(p._endTimers[h]);else{var v=p._soundById(h);v&&v._node&&v._node.removeEventListener("ended",p._endTimers[h],!1)}delete p._endTimers[h]}return p},_soundById:function(h){for(var p=this,v=0;v<p._sounds.length;v++)if(h===p._sounds[v]._id)return p._sounds[v];return null},_inactiveSound:function(){var h=this;h._drain();for(var p=0;p<h._sounds.length;p++)if(h._sounds[p]._ended)return h._sounds[p].reset();return new o(h)},_drain:function(){var h=this,p=h._pool,v=0,_=0;if(!(h._sounds.length<p)){for(_=0;_<h._sounds.length;_++)h._sounds[_]._ended&&v++;for(_=h._sounds.length-1;_>=0;_--){if(v<=p)return;h._sounds[_]._ended&&(h._webAudio&&h._sounds[_]._node&&h._sounds[_]._node.disconnect(0),h._sounds.splice(_,1),v--)}}},_getSoundIds:function(h){var p=this;if(typeof h>"u"){for(var v=[],_=0;_<p._sounds.length;_++)v.push(p._sounds[_]._id);return v}else return[h]},_refreshBuffer:function(h){var p=this;return h._node.bufferSource=n.ctx.createBufferSource(),h._node.bufferSource.buffer=s[p._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,n.ctx.currentTime),p},_cleanBuffer:function(h){var p=this,v=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!h.bufferSource)return p;if(n._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),v))try{h.bufferSource.buffer=n._scratchBuffer}catch{}return h.bufferSource=null,p},_clearSound:function(h){var p=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);p||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(h){this._parent=h,this.init()};o.prototype={init:function(){var h=this,p=h._parent;return h._muted=p._muted,h._loop=p._loop,h._volume=p._volume,h._rate=p._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,p._sounds.push(h),h.create(),h},create:function(){var h=this,p=h._parent,v=n._muted||h._muted||h._parent._muted?0:h._volume;return p._webAudio?(h._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),h._node.gain.setValueAtTime(v,n.ctx.currentTime),h._node.paused=!0,h._node.connect(n.masterGain)):n.noAudio||(h._node=n._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(n._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=p._src,h._node.preload=p._preload===!0?"auto":p._preload,h._node.volume=v*n.volume(),h._node.load()),h},reset:function(){var h=this,p=h._parent;return h._muted=p._muted,h._loop=p._loop,h._volume=p._volume,h._rate=p._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,p=h._parent;p._duration=Math.ceil(h._node.duration*10)/10,Object.keys(p._sprite).length===0&&(p._sprite={__default:[0,p._duration*1e3]}),p._state!=="loaded"&&(p._state="loaded",p._emit("load"),p._loadQueue()),h._node.removeEventListener(n._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,p=h._parent;p._duration===1/0&&(p._duration=Math.ceil(h._node.duration*10)/10,p._sprite.__default[1]===1/0&&(p._sprite.__default[1]=p._duration*1e3),p._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},u=function(h){var p=h._src;if(s[p]){h._duration=s[p].duration,d(h);return}if(/^data:[^;]+;base64,/.test(p)){for(var v=atob(p.split(",")[1]),_=new Uint8Array(v.length),E=0;E<v.length;++E)_[E]=v.charCodeAt(E);f(_.buffer,h)}else{var S=new XMLHttpRequest;S.open(h._xhr.method,p,!0),S.withCredentials=h._xhr.withCredentials,S.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(b){S.setRequestHeader(b,h._xhr.headers[b])}),S.onload=function(){var b=(S.status+"")[0];if(b!=="0"&&b!=="2"&&b!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+S.status+".");return}f(S.response,h)},S.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[p],h.load())},c(S)}},c=function(h){try{h.send()}catch{h.onerror()}},f=function(h,p){var v=function(){p._emit("loaderror",null,"Decoding audio data failed.")},_=function(E){E&&p._sounds.length>0?(s[p._src]=E,d(p,E)):v()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(h).then(_).catch(v):n.ctx.decodeAudioData(h,_,v)},d=function(h,p){p&&!h._duration&&(h._duration=p.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},g=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),p=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),v=p?parseInt(p[1],10):null;if(h&&v&&v<9){var _=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!_&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof Ju<"u"?(Ju.HowlerGlobal=t,Ju.Howler=n,Ju.Howl=r,Ju.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,o=typeof o!="number"?s._pos[2]:o,typeof n=="number")s._pos=[n,r,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,o,s,u,c){var f=this;if(!f.ctx||!f.ctx.listener)return f;var d=f._orientation;if(r=typeof r!="number"?d[1]:r,o=typeof o!="number"?d[2]:o,s=typeof s!="number"?d[3]:s,u=typeof u!="number"?d[4]:u,c=typeof c!="number"?d[5]:c,typeof n=="number")f._orientation=[n,r,o,s,u,c],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(c,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,r,o,s,u,c);else return d;return f},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var u=o._getSoundIds(r),c=0;c<u.length;c++){var f=o._soundById(u[c]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,s),s==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(n,r,o,s)}}),u;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof n=="number")u._pos=[n,r,o];else return u._pos;for(var c=u._getSoundIds(s),f=0;f<c.length;f++){var d=u._soundById(c[f]);if(d)if(typeof n=="number")d._pos=[n,r,o],d._node&&((!d._panner||d._panner.pan)&&t(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setPosition(n,r,o)),u._emit("pos",d._id);else return d._pos}return u},Howl.prototype.orientation=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(n,r,o,s)}}),u;if(r=typeof r!="number"?u._orientation[1]:r,o=typeof o!="number"?u._orientation[2]:o,typeof s>"u")if(typeof n=="number")u._orientation=[n,r,o];else return u._orientation;for(var c=u._getSoundIds(s),f=0;f<c.length;f++){var d=u._soundById(c[f]);if(d)if(typeof n=="number")d._orientation=[n,r,o],d._node&&(d._panner||(d._pos||(d._pos=u._pos||[0,0,-.5]),t(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setOrientation(n,r,o)),u._emit("orientation",d._id);else return d._orientation}return u},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,s,u;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return u=n._soundById(parseInt(r[0],10)),u?u._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],s=parseInt(r[1],10));for(var c=n._getSoundIds(s),f=0;f<c.length;f++)if(u=n._soundById(c[f]),u){var d=u._pannerAttr;d={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:d.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:d.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:d.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:d.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:d.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:d.panningModel};var g=u._panner;g||(u._pos||(u._pos=n._pos||[0,0,-.5]),t(u,"spatial"),g=u._panner),g.coneInnerAngle=d.coneInnerAngle,g.coneOuterAngle=d.coneOuterAngle,g.coneOuterGain=d.coneOuterGain,g.distanceModel=d.distanceModel,g.maxDistance=d.maxDistance,g.refDistance=d.refDistance,g.rolloffFactor=d.rolloffFactor,g.panningModel=d.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Yv);const SS={formatTime(e){const t=Math.floor(e/60)||0,n=Math.round(e-t*60)||0;return`${t}:${n<10?"0":""}${n}`}},Fh=qy("player",{state:()=>({currentSong:!1,sound:{},seek:"00:00",duration:"00:00",playerProgress:"0%"}),actions:{async playSong(e){this.sound instanceof Yv.Howl&&this.sound.unload(),this.currentSong=e,this.sound=new Yv.Howl({src:[e.url],html5:!0}),this.sound.play(),this.sound.on("play",()=>{requestAnimationFrame(this.progress)})},async toggleAudio(){this.sound.playing&&(this.sound.playing()?this.sound.pause():this.sound.play())},progress(){this.seek=SS.formatTime(this.sound.seek()),this.duration=SS.formatTime(this.sound.duration()),this.playerProgress=`${this.sound.seek()/this.sound.duration()*100}%`,this.sound.playing()&&requestAnimationFrame(this.progress)},updateSeek(e){if(!this.sound.playing)return;const{x:t,width:n}=e.target.getBoundingClientRect(),o=(e.clientX-t)/n,s=this.sound.duration()*o;this.sound.seek(s),this.sound.once("seek",this.progress)}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1}}),lq={name:"Player",methods:{...id(Fh,["toggleAudio","updateSeek"])},computed:{...Hy(Fh,["playing","seek","duration","playerProgress","currentSong"])}},fq={key:0,class:"fixed bottom-0 left-0 bg-white px-4 py-2 w-full p-16"},hq={class:"text-center"},dq={class:"song-title font-bold"},pq={class:"song-artist"},mq={class:"flex flex-nowrap gap-4 items-center"},gq={class:"player-currenttime"},vq=G("i",{class:"fas fa-circle"},null,-1),yq=[vq],_q={class:"player-duration"};function bq(e,t,n,r,o,s){return e.currentSong?(Ye(),ct("div",fq,[G("div",hq,[G("span",dq,Lt(e.currentSong.modified_name),1),ho(" by "),G("span",pq,Lt(e.currentSong.displayName),1)]),G("div",mq,[G("button",{type:"button",onClick:t[0]||(t[0]=_n((...u)=>e.toggleAudio&&e.toggleAudio(...u),["prevent"]))},[G("i",{class:In(["fa text-gray-500 text-xl",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),G("div",gq,Lt(e.seek),1),G("div",{onClick:t[1]||(t[1]=_n((...u)=>e.updateSeek&&e.updateSeek(...u),["prevent"])),class:"w-full h-2 rounded bg-gray-200 relative cursor-pointer"},[G("span",{class:"absolute -top-2.5 -ml-2.5 text-gray-800 text-lg",style:Sa({left:e.playerProgress})},yq,4),G("span",{class:"block h-2 rounded bg-gradient-to-r from-green-500 to-green-400",style:Sa({width:e.playerProgress})},null,4)]),G("div",_q,Lt(e.duration),1)])])):ka("",!0)}const wq=$n(lq,[["render",bq]]);/**
  * vee-validate v4.11.1
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function hn(e){return typeof e=="function"}function rO(e){return e==null}const Ns=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function fb(e){return Number(e)>=0}function Eq(e){const t=parseFloat(e);return isNaN(t)?e:t}function Iq(e){return typeof e=="object"&&e!==null}function Tq(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function Sq(e){if(!Iq(e)||Tq(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Uh(e,t){return Object.keys(t).forEach(n=>{if(Sq(t[n])){e[n]||(e[n]={}),Uh(e[n],t[n]);return}e[n]=t[n]}),e}function ac(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let r=1;r<t.length;r++){if(fb(t[r])){n+=`[${t[r]}]`;continue}n+=`.${t[r]}`}return n}const iO={};function Or(e,t){kq(e,t),iO[e]=t}function Aq(e){return iO[e]}function kq(e,t){if(!hn(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}const jd=Symbol("vee-validate-form"),Nq=Symbol("vee-validate-field-instance"),Vh=Symbol("Default empty value"),Cq=typeof window<"u";function Xv(e){return hn(e)&&!!e.__locatorRef}function bo(e){return!!e&&hn(e.parse)&&e.__type==="VVTypedSchema"}function jh(e){return!!e&&hn(e.validate)}function bl(e){return e==="checkbox"||e==="radio"}function Oq(e){return Ns(e)||Array.isArray(e)}function Rq(e){return Array.isArray(e)?e.length===0:Ns(e)&&Object.keys(e).length===0}function Bd(e){return/^\[.+\]$/i.test(e)}function Pq(e){return oO(e)&&e.multiple}function oO(e){return e.tagName==="SELECT"}function xq(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function Dq(e,t){return!xq(e,t)&&t.type!=="file"&&!bl(t.type)}function sO(e){return hb(e)&&e.target&&"submit"in e.target}function hb(e){return e?!!(typeof Event<"u"&&hn(Event)&&e instanceof Event||e&&e.srcElement):!1}function AS(e,t){return t in e&&e[t]!==Vh}function Bn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Bn(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!Bn(r[1],t.get(r[0])))return!1;return!0}if(kS(e)&&kS(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(o=Object.keys(e),n=o.length,r=n;r--!==0;){var s=o[r];if(!Bn(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function kS(e){return Cq?e instanceof File:!1}function NS(e,t,n){typeof n.value=="object"&&(n.value=Tt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Tt(e){if(typeof e!="object")return e;var t=0,n,r,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(u){o.add(Tt(u))})):s==="[object Map]"?(o=new Map,e.forEach(function(u,c){o.set(Tt(c),Tt(u))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(Tt(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)NS(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||NS(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function db(e){return Bd(e)?e.replace(/\[|\]/gi,""):e}function Yn(e,t,n){return e?Bd(t)?e[db(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>Oq(o)&&s in o?o[s]:n,e):n}function rs(e,t,n){if(Bd(t)){e[db(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<r.length;s++){if(s===r.length-1){o[r[s]]=n;return}(!(r[s]in o)||rO(o[r[s]]))&&(o[r[s]]=fb(r[s+1])?[]:{}),o=o[r[s]]}}function Wg(e,t){if(Array.isArray(e)&&fb(t)){e.splice(Number(t),1);return}Ns(e)&&delete e[t]}function CS(e,t){if(Bd(t)){delete e[db(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){Wg(r,n[s]);break}if(!(n[s]in r)||rO(r[n[s]]))break;r=r[n[s]]}const o=n.map((s,u)=>Yn(e,n.slice(0,u).join(".")));for(let s=o.length-1;s>=0;s--)if(Rq(o[s])){if(s===0){Wg(e,n[0]);continue}Wg(o[s-1],n[s-1])}}function ni(e){return Object.keys(e)}function aO(e,t=void 0){const n=ui();return(n==null?void 0:n.provides[e])||dr(e,t)}function OS(e,t,n){if(Array.isArray(e)){const r=[...e],o=r.findIndex(s=>Bn(s,t));return o>=0?r.splice(o,1):r.push(t),r}return Bn(e,t)?n:t}function RS(e,t=0){let n=null,r=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const s=e(...o);r.forEach(u=>u(s)),r=[]},t),new Promise(s=>r.push(s))}}function Lq(e,t){return Ns(t)&&t.number?Eq(e):e}function Qv(e,t){let n;return async function(...o){const s=e(...o);n=s;const u=await s;return s!==n||(n=void 0,t(u,o)),u}}function Jv(e){return Array.isArray(e)?e:e?[e]:[]}function Zu(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function Mq(e){let t=null,n=[];return function(...r){const o=_i(()=>{if(t!==o)return;const s=e(...r);n.forEach(u=>u(s)),n=[],t=null});return t=o,new Promise(s=>n.push(s))}}const pb=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,o;return(o=(r=t.slots).default)===null||o===void 0?void 0:o.call(r,n())}}:t.slots.default;function zg(e){if(uO(e))return e._value}function uO(e){return"_value"in e}function Fq(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function Bh(e){if(!hb(e))return e;const t=e.target;if(bl(t.type)&&uO(t))return zg(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(Pq(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(zg);if(oO(t)){const n=Array.from(t.options).find(r=>r.selected);return n?zg(n):t.value}return Fq(t)}function cO(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Ns(e)&&e._$$isNormalized?e:Ns(e)?Object.keys(e).reduce((n,r)=>{const o=Uq(e[r]);return e[r]!==!1&&(n[r]=PS(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const o=Vq(r);return o.name&&(n[o.name]=PS(o.params)),n},t):t}function Uq(e){return e===!0?[]:Array.isArray(e)||Ns(e)?e:[e]}function PS(e){const t=n=>typeof n=="string"&&n[0]==="@"?jq(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const Vq=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function jq(e){const t=n=>Yn(n,e)||n[e];return t.__locatorRef=e,t}function Bq(e){return Array.isArray(e)?e.filter(Xv):ni(e).filter(t=>Xv(e[t])).map(t=>e[t])}const $q={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Zv=Object.assign({},$q);const ao=()=>Zv,qq=e=>{Zv=Object.assign(Object.assign({},Zv),e)},Hq=qq;async function lO(e,t,n={}){const r=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},u=(await Kq(o,e)).errors;return{errors:u,valid:!u.length}}async function Kq(e,t){if(bo(e.rules)||jh(e.rules))return Wq(t,e.rules);if(hn(e.rules)||Array.isArray(e.rules)){const u={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},c=Array.isArray(e.rules)?e.rules:[e.rules],f=c.length,d=[];for(let g=0;g<f;g++){const h=c[g],p=await h(t,u);if(!(typeof p!="string"&&!Array.isArray(p)&&p)){if(Array.isArray(p))d.push(...p);else{const _=typeof p=="string"?p:hO(u);d.push(_)}if(e.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:cO(e.rules)}),r=[],o=Object.keys(n.rules),s=o.length;for(let u=0;u<s;u++){const c=o[u],f=await zq(n,t,{name:c,params:n.rules[c]});if(f.error&&(r.push(f.error),e.bails))return{errors:r}}return{errors:r}}function Gq(e){return!!e&&e.name==="ValidationError"}function fO(e){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!Gq(o))throw o;if(!(!((r=o.inner)===null||r===void 0)&&r.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((u,c)=>{const f=c.path||"";return u[f]||(u[f]={errors:[],path:f}),u[f].errors.push(...c.errors),u},{});return{errors:Object.values(s)}}}}}async function Wq(e,t){const r=await(bo(t)?t:fO(t)).parse(e),o=[];for(const s of r.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function zq(e,t,n){const r=Aq(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const o=Yq(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},u=await r(t,o,s);return typeof u=="string"?{error:u}:{error:u?void 0:hO(s)}}function hO(e){const t=ao().generateMessage;return t?t(e):"Field is invalid"}function Yq(e,t){const n=r=>Xv(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,o)=>(r[o]=n(e[o]),r),{})}async function Xq(e,t){const r=await(bo(e)?e:fO(e)).parse(t),o={},s={};for(const u of r.errors){const c=u.errors,f=(u.path||"").replace(/\["(\d+)"\]/g,(d,g)=>`[${g}]`);o[f]={valid:!c.length,errors:c},c.length&&(s[f]=c[0])}return{valid:!r.errors.length,results:o,errors:s,values:r.value}}async function Qq(e,t,n){const o=ni(e).map(async d=>{var g,h,p;const v=(g=n==null?void 0:n.names)===null||g===void 0?void 0:g[d],_=await lO(Yn(t,d),e[d],{name:(v==null?void 0:v.name)||d,label:v==null?void 0:v.label,values:t,bails:(p=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[d])!==null&&p!==void 0?p:!0});return Object.assign(Object.assign({},_),{path:d})});let s=!0;const u=await Promise.all(o),c={},f={};for(const d of u)c[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,f[d.path]=d.errors[0]);return{valid:s,results:c,errors:f}}let xS=0;function Jq(e,t){const{value:n,initialValue:r,setInitialValue:o}=Zq(e,t.modelValue,t.form);if(!t.form){let p=function(_){var E;"value"in _&&(n.value=_.value),"errors"in _&&d(_.errors),"touched"in _&&(h.touched=(E=_.touched)!==null&&E!==void 0?E:h.touched),"initialValue"in _&&o(_.initialValue)};var c=p;const{errors:f,setErrors:d}=n3(),g=xS>=Number.MAX_SAFE_INTEGER?0:++xS,h=t3(n,r,f);return{id:g,path:e,value:n,initialValue:r,meta:h,flags:{pendingUnmount:{[g]:!1}},errors:f,setState:p}}const s=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate}),u=Le(()=>s.errors);function c(f){var d,g,h;"value"in f&&(n.value=f.value),"errors"in f&&((d=t.form)===null||d===void 0||d.setFieldError(Ue(e),f.errors)),"touched"in f&&((g=t.form)===null||g===void 0||g.setFieldTouched(Ue(e),(h=f.touched)!==null&&h!==void 0?h:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(s.id)?s.id[s.id.length-1]:s.id,path:e,value:n,errors:u,meta:s,initialValue:r,flags:s.__flags,setState:c}}function Zq(e,t,n){const r=St(Ue(t));function o(){return n?Yn(n.initialValues.value,Ue(e),Ue(r)):Ue(r)}function s(d){if(!n){r.value=d;return}n.stageInitialValue(Ue(e),d,!0)}const u=Le(o);if(!n)return{value:St(o()),initialValue:u,setInitialValue:s};const c=e3(t,n,u,e);return n.stageInitialValue(Ue(e),c,!0),{value:Le({get(){return Yn(n.values,Ue(e))},set(d){n.setFieldValue(Ue(e),d,!1)}}),initialValue:u,setInitialValue:s}}function e3(e,t,n,r){return gt(e)?Ue(e):e!==void 0?e:Yn(t.values,Ue(r),Ue(n))}function t3(e,t,n){const r=Ni({touched:!1,pending:!1,valid:!0,validated:!!Ue(n).length,initialValue:Le(()=>Ue(t)),dirty:Le(()=>!Bn(Ue(e),Ue(t)))});return Sn(n,o=>{r.valid=!o.length},{immediate:!0,flush:"sync"}),r}function n3(){const e=St([]);return{errors:e,setErrors:t=>{e.value=Jv(t)}}}function r3(e,t,n){return bl(n==null?void 0:n.type)?o3(e,t,n):dO(e,t,n)}function dO(e,t,n){const{initialValue:r,validateOnMount:o,bails:s,type:u,checkedValue:c,label:f,validateOnValueUpdate:d,uncheckedValue:g,controlled:h,keepValueOnUnmount:p,syncVModel:v,form:_}=i3(n),E=h?aO(jd):void 0,S=_||E,b=Le(()=>ac(Pr(e))),k=Le(()=>{if(Ue(S==null?void 0:S.schema))return;const ye=Ue(t);return jh(ye)||bo(ye)||hn(ye)||Array.isArray(ye)?ye:cO(ye)}),{id:D,value:O,initialValue:U,meta:L,setState:Y,errors:j,flags:H}=Jq(b,{modelValue:r,form:S,bails:s,label:f,type:u,validate:k.value?qe:void 0}),x=Le(()=>j.value[0]);v&&s3({value:O,prop:v,handleChange:ce});const Ie=(ve,ye=!1)=>{L.touched=!0,ye&&we()};async function ie(ve){var ye,$;return S!=null&&S.validateSchema?(ye=(await S.validateSchema(ve)).results[Ue(b)])!==null&&ye!==void 0?ye:{valid:!0,errors:[]}:k.value?lO(O.value,k.value,{name:Ue(b),label:Ue(f),values:($=S==null?void 0:S.values)!==null&&$!==void 0?$:{},bails:s}):{valid:!0,errors:[]}}const we=Qv(async()=>(L.pending=!0,L.validated=!0,ie("validated-only")),ve=>{if(!H.pendingUnmount[st.id])return Y({errors:ve.errors}),L.pending=!1,L.valid=ve.valid,ve}),xe=Qv(async()=>ie("silent"),ve=>(L.valid=ve.valid,ve));function qe(ve){return(ve==null?void 0:ve.mode)==="silent"?xe():we()}function ce(ve,ye=!0){const $=Bh(ve);lt($,ye)}Qc(()=>{if(o)return we();(!S||!S.validateSchema)&&xe()});function De(ve){L.touched=ve}function pe(ve){var ye;const $=ve&&"value"in ve?ve.value:U.value;Y({value:Tt($),initialValue:Tt($),touched:(ye=ve==null?void 0:ve.touched)!==null&&ye!==void 0?ye:!1,errors:(ve==null?void 0:ve.errors)||[]}),L.pending=!1,L.validated=!1,xe()}const nt=ui();function lt(ve,ye=!0){O.value=nt&&v?Lq(ve,nt.props.modelModifiers):ve,(ye?we:xe)()}function wt(ve){Y({errors:Array.isArray(ve)?ve:[ve]})}const _t=Le({get(){return O.value},set(ve){lt(ve,d)}}),st={id:D,name:b,label:f,value:_t,meta:L,errors:j,errorMessage:x,type:u,checkedValue:c,uncheckedValue:g,bails:s,keepValueOnUnmount:p,resetField:pe,handleReset:()=>pe(),validate:qe,handleChange:ce,handleBlur:Ie,setState:Y,setTouched:De,setErrors:wt,setValue:lt};if(Ea(Nq,st),gt(t)&&typeof Ue(t)!="function"&&Sn(t,(ve,ye)=>{Bn(ve,ye)||(L.validated?we():xe())},{deep:!0}),!S)return st;const Jt=Le(()=>{const ve=k.value;return!ve||hn(ve)||jh(ve)||bo(ve)||Array.isArray(ve)?{}:Object.keys(ve).reduce((ye,$)=>{const z=Bq(ve[$]).map(oe=>oe.__locatorRef).reduce((oe,fe)=>{const Se=Yn(S.values,fe)||S.values[fe];return Se!==void 0&&(oe[fe]=Se),oe},{});return Object.assign(ye,z),ye},{})});return Sn(Jt,(ve,ye)=>{if(!Object.keys(ve).length)return;!Bn(ve,ye)&&(L.validated?we():xe())}),xy(()=>{var ve;const ye=(ve=Ue(st.keepValueOnUnmount))!==null&&ve!==void 0?ve:Ue(S.keepValuesOnUnmount),$=Pr(b);if(ye||!S||H.pendingUnmount[st.id]){S==null||S.removePathState($,D);return}H.pendingUnmount[st.id]=!0;const z=S.getPathState($);if(Array.isArray(z==null?void 0:z.id)&&(z!=null&&z.multiple)?z!=null&&z.id.includes(st.id):(z==null?void 0:z.id)===st.id){if(z!=null&&z.multiple&&Array.isArray(z.value)){const fe=z.value.findIndex(Se=>Bn(Se,Ue(st.checkedValue)));if(fe>-1){const Se=[...z.value];Se.splice(fe,1),S.setFieldValue($,Se)}Array.isArray(z.id)&&z.id.splice(z.id.indexOf(st.id),1)}else S.unsetPathValue(Pr(b));S.removePathState($,D)}}),st}function i3(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),r=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?ey(ui(),r):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,u="standalone"in e?!e.standalone:e.controlled,c=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:u??!0,checkedValue:s,syncVModel:c})}function o3(e,t,n){const r=n!=null&&n.standalone?void 0:aO(jd),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function u(c){const f=c.handleChange,d=Le(()=>{const h=Ue(c.value),p=Ue(o);return Array.isArray(h)?h.findIndex(v=>Bn(v,p))>=0:Bn(p,h)});function g(h,p=!0){var v,_;if(d.value===((v=h==null?void 0:h.target)===null||v===void 0?void 0:v.checked)){p&&c.validate();return}const E=Pr(e),S=r==null?void 0:r.getPathState(E),b=Bh(h);let k=(_=Ue(o))!==null&&_!==void 0?_:b;r&&(S!=null&&S.multiple)&&S.type==="checkbox"?k=OS(Yn(r.values,E)||[],k,void 0):(n==null?void 0:n.type)==="checkbox"&&(k=OS(Ue(c.value),k,Ue(s))),f(k,p)}return Object.assign(Object.assign({},c),{checked:d,checkedValue:o,uncheckedValue:s,handleChange:g})}return u(dO(e,t,n))}function s3({prop:e,value:t,handleChange:n}){const r=ui();if(!r||!e)return;const o=typeof e=="string"?e:"modelValue",s=`update:${o}`;o in r.props&&(Sn(t,u=>{Bn(u,ey(r,o))||r.emit(s,u)}),Sn(()=>ey(r,o),u=>{if(u===Vh&&t.value===void 0)return;const c=u===Vh?void 0:u;Bn(c,t.value)||n(c)}))}function ey(e,t){if(e)return e.props[t]}const a3=Eo({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>ao().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Vh},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=no(e,"rules"),r=no(e,"name"),o=no(e,"label"),s=no(e,"uncheckedValue"),u=no(e,"keepValue"),{errors:c,value:f,errorMessage:d,validate:g,handleChange:h,handleBlur:p,setTouched:v,resetField:_,handleReset:E,meta:S,checked:b,setErrors:k}=r3(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:c3(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:u,syncVModel:!0}),D=function(H,x=!0){h(H,x),t.emit("update:modelValue",f.value)},O=Le(()=>{const{validateOnInput:j,validateOnChange:H,validateOnBlur:x,validateOnModelUpdate:Ie}=u3(e);function ie(ce){p(ce,x),hn(t.attrs.onBlur)&&t.attrs.onBlur(ce)}function we(ce){D(ce,j),hn(t.attrs.onInput)&&t.attrs.onInput(ce)}function xe(ce){D(ce,H),hn(t.attrs.onChange)&&t.attrs.onChange(ce)}const qe={name:e.name,onBlur:ie,onInput:we,onChange:xe};return qe["onUpdate:modelValue"]=ce=>D(ce,Ie),qe}),U=Le(()=>{const j=Object.assign({},O.value);bl(t.attrs.type)&&b&&(j.checked=b.value);const H=DS(e,t);return Dq(H,t.attrs)&&(j.value=f.value),j}),L=Le(()=>Object.assign(Object.assign({},O.value),{modelValue:f.value}));function Y(){return{field:U.value,componentField:L.value,value:f.value,meta:S,errors:c.value,errorMessage:d.value,validate:g,resetField:_,handleChange:D,handleInput:j=>D(j,!1),handleReset:E,handleBlur:O.value.onBlur,setTouched:v,setErrors:k}}return t.expose({setErrors:k,setTouched:v,reset:_,validate:g,handleChange:h}),()=>{const j=ed(DS(e,t)),H=pb(j,t,Y);return j?Ci(j,Object.assign(Object.assign({},t.attrs),U.value),H):H}}});function DS(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function u3(e){var t,n,r,o;const{validateOnInput:s,validateOnChange:u,validateOnBlur:c,validateOnModelUpdate:f}=ao();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:u,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:c,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function c3(e,t){return bl(t.attrs.type)?AS(e,"modelValue")?e.modelValue:void 0:AS(e,"modelValue")?e.modelValue:t.attrs.value}const l3=a3;let f3=0;const ec=["bails","fieldsCount","id","multiple","type","validate"];function pO(e){const t=Ue(e==null?void 0:e.initialValues)||{},n=Ue(e==null?void 0:e.validationSchema);return n&&bo(n)&&hn(n.cast)?Tt(n.cast(t)||{}):Tt(t)}function h3(e){var t;const n=f3++;let r=0;const o=St(!1),s=St(!1),u=St(0),c=[],f=Ni(pO(e)),d=St([]),g=St({}),h=St({}),p=Mq(()=>{h.value=d.value.reduce((N,F)=>(N[ac(Pr(F.path))]=F,N),{})});function v(N,F){const q=ce(N);if(!q){typeof N=="string"&&(g.value[ac(N)]=Jv(F));return}if(typeof N=="string"){const J=ac(N);g.value[J]&&delete g.value[J]}q.errors=Jv(F),q.valid=!q.errors.length}function _(N){ni(N).forEach(F=>{v(F,N[F])})}e!=null&&e.initialErrors&&_(e.initialErrors);const E=Le(()=>{const N=d.value.reduce((F,q)=>(q.errors.length&&(F[q.path]=q.errors),F),{});return Object.assign(Object.assign({},g.value),N)}),S=Le(()=>ni(E.value).reduce((N,F)=>{const q=E.value[F];return q!=null&&q.length&&(N[F]=q[0]),N},{})),b=Le(()=>d.value.reduce((N,F)=>(N[F.path]={name:F.path||"",label:F.label||""},N),{})),k=Le(()=>d.value.reduce((N,F)=>{var q;return N[F.path]=(q=F.bails)!==null&&q!==void 0?q:!0,N},{})),D=Object.assign({},(e==null?void 0:e.initialErrors)||{}),O=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:U,originalInitialValues:L,setInitialValues:Y}=p3(d,f,e),j=d3(d,f,L,S),H=Le(()=>d.value.reduce((N,F)=>{const q=Yn(f,F.path);return rs(N,F.path,q),N},{})),x=e==null?void 0:e.validationSchema;function Ie(N,F){var q,J;const ge=Le(()=>Yn(U.value,Pr(N))),he=h.value[Pr(N)];if(he){((F==null?void 0:F.type)==="checkbox"||(F==null?void 0:F.type)==="radio")&&(he.multiple=!0);const Nt=r++;return Array.isArray(he.id)?he.id.push(Nt):he.id=[he.id,Nt],he.fieldsCount++,he.__flags.pendingUnmount[Nt]=!1,he}const Fe=Le(()=>Yn(f,Pr(N))),Ze=Pr(N),Oe=r++,Xe=Ni({id:Oe,path:N,touched:!1,pending:!1,valid:!0,validated:!!(!((q=D[Ze])===null||q===void 0)&&q.length),initialValue:ge,errors:Cy([]),bails:(J=F==null?void 0:F.bails)!==null&&J!==void 0?J:!1,label:F==null?void 0:F.label,type:(F==null?void 0:F.type)||"default",value:Fe,multiple:!1,__flags:{pendingUnmount:{[Oe]:!1}},fieldsCount:1,validate:F==null?void 0:F.validate,dirty:Le(()=>!Bn(Ue(Fe),Ue(ge)))});return d.value.push(Xe),h.value[Ze]=Xe,p(),S.value[Ze]&&!D[Ze]&&_i(()=>{M(Ze,{mode:"silent"})}),gt(N)&&Sn(N,Nt=>{p();const pt=Tt(Fe.value);h.value[Nt]=Xe,_i(()=>{rs(f,Nt,pt)})}),Xe}const ie=RS(ae,5),we=RS(ae,5),xe=Qv(async N=>await N==="silent"?ie():we(),(N,[F])=>{const q=ni(ye.errorBag.value);return[...new Set([...ni(N.results),...d.value.map(ge=>ge.path),...q])].sort().reduce((ge,he)=>{const Fe=he,Ze=ce(Fe)||De(Fe),Oe=(N.results[Fe]||{errors:[]}).errors,Xe={errors:Oe,valid:!Oe.length};return ge.results[Fe]=Xe,Xe.valid||(ge.errors[Fe]=Xe.errors[0]),Ze&&g.value[Fe]&&delete g.value[Fe],Ze?(Ze.valid=Xe.valid,F==="silent"||F==="validated-only"&&!Ze.validated||v(Ze,Xe.errors),ge):(v(Fe,Oe),ge)},{valid:N.valid,results:{},errors:{}})});function qe(N){d.value.forEach(N)}function ce(N){const F=typeof N=="string"?ac(N):N;return typeof F=="string"?h.value[F]:F}function De(N){return d.value.filter(q=>N.startsWith(q.path)).reduce((q,J)=>q?J.path.length>q.path.length?J:q:J,void 0)}let pe=[],nt;function lt(N){return pe.push(N),nt||(nt=_i(()=>{[...pe].sort().reverse().forEach(q=>{CS(f,q)}),pe=[],nt=null})),nt}function wt(N){return function(q,J){return function(he){return he instanceof Event&&(he.preventDefault(),he.stopPropagation()),qe(Fe=>Fe.touched=!0),o.value=!0,u.value++,C().then(Fe=>{const Ze=Tt(f);if(Fe.valid&&typeof q=="function"){const Oe=Tt(H.value);let Xe=N?Oe:Ze;return Fe.values&&(Xe=Fe.values),q(Xe,{evt:he,controlledValues:Oe,setErrors:_,setFieldError:v,setTouched:P,setFieldTouched:Se,setValues:z,setFieldValue:$,resetForm:I,resetField:T})}!Fe.valid&&typeof J=="function"&&J({values:Ze,evt:he,errors:Fe.errors,results:Fe.results})}).then(Fe=>(o.value=!1,Fe),Fe=>{throw o.value=!1,Fe})}}}const st=wt(!1);st.withControlled=wt(!0);function Jt(N,F){const q=d.value.findIndex(ge=>ge.path===N),J=d.value[q];if(!(q===-1||!J)){if(_i(()=>{M(N,{mode:"silent",warn:!1})}),J.multiple&&J.fieldsCount&&J.fieldsCount--,Array.isArray(J.id)){const ge=J.id.indexOf(F);ge>=0&&J.id.splice(ge,1),delete J.__flags.pendingUnmount[F]}(!J.multiple||J.fieldsCount<=0)&&(d.value.splice(q,1),B(N),p(),delete h.value[N])}}function ve(N){return qe(F=>{F.path.startsWith(N)&&ni(F.__flags.pendingUnmount).forEach(q=>{F.__flags.pendingUnmount[q]=!0})})}const ye={formId:n,values:f,controlledValues:H,errorBag:E,errors:S,schema:x,submitCount:u,meta:j,isSubmitting:o,isValidating:s,fieldArrays:c,keepValuesOnUnmount:O,validateSchema:Ue(x)?xe:void 0,validate:C,setFieldError:v,validateField:M,setFieldValue:$,setValues:z,setErrors:_,setFieldTouched:Se,setTouched:P,resetForm:I,resetField:T,handleSubmit:st,stageInitialValue:Z,unsetInitialValue:B,setFieldInitialValue:te,useFieldModel:fe,createPathState:Ie,getPathState:ce,unsetPathValue:lt,removePathState:Jt,initialValues:U,getAllPathStates:()=>d.value,markForUnmount:ve};function $(N,F,q=!0){const J=Tt(F),ge=typeof N=="string"?N:N.path;ce(ge)||Ie(ge),rs(f,ge,J),q&&M(ge)}function z(N,F=!0){Uh(f,N),c.forEach(q=>q&&q.reset()),F&&C()}function oe(N){const F=ce(Ue(N))||Ie(N);return Le({get(){return F.value},set(q){const J=Ue(N);$(J,q,!1),F.validated=!0,F.pending=!0,M(J).then(()=>{F.pending=!1})}})}function fe(N){return Array.isArray(N)?N.map(oe):oe(N)}function Se(N,F){const q=ce(N);q&&(q.touched=F)}function P(N){if(typeof N=="boolean"){qe(F=>{F.touched=N});return}ni(N).forEach(F=>{Se(F,!!N[F])})}function T(N,F){var q;const J=F&&"value"in F?F.value:Yn(U.value,N);te(N,Tt(J)),$(N,J,!1),Se(N,(q=F==null?void 0:F.touched)!==null&&q!==void 0?q:!1),v(N,(F==null?void 0:F.errors)||[])}function I(N){let F=N!=null&&N.values?N.values:L.value;F=bo(x)&&hn(x.cast)?x.cast(F):F,Y(F),qe(q=>{var J;q.validated=!1,q.touched=((J=N==null?void 0:N.touched)===null||J===void 0?void 0:J[q.path])||!1,$(q.path,Yn(F,q.path),!1),v(q.path,void 0)}),z(F,!1),_((N==null?void 0:N.errors)||{}),u.value=(N==null?void 0:N.submitCount)||0,_i(()=>{C({mode:"silent"})})}async function C(N){const F=(N==null?void 0:N.mode)||"force";if(F==="force"&&qe(he=>he.validated=!0),ye.validateSchema)return ye.validateSchema(F);s.value=!0;const q=await Promise.all(d.value.map(he=>he.validate?he.validate(N).then(Fe=>({key:he.path,valid:Fe.valid,errors:Fe.errors})):Promise.resolve({key:he.path,valid:!0,errors:[]})));s.value=!1;const J={},ge={};for(const he of q)J[he.key]={valid:he.valid,errors:he.errors},he.errors.length&&(ge[he.key]=he.errors[0]);return{valid:q.every(he=>he.valid),results:J,errors:ge}}async function M(N,F){var q;const J=ce(N);if(J&&(J.validated=!0),x){const{results:ge}=await xe((F==null?void 0:F.mode)||"validated-only");return ge[N]||{errors:[],valid:!0}}return J!=null&&J.validate?J.validate(F):(!J&&(q=F==null?void 0:F.warn),Promise.resolve({errors:[],valid:!0}))}function B(N){CS(U.value,N)}function Z(N,F,q=!1){te(N,F),rs(f,N,F),q&&!(e!=null&&e.initialValues)&&rs(L.value,N,Tt(F))}function te(N,F){rs(U.value,N,Tt(F))}async function ae(){const N=Ue(x);if(!N)return{valid:!0,results:{},errors:{}};s.value=!0;const F=jh(N)||bo(N)?await Xq(N,f):await Qq(N,f,{names:b.value,bailsMap:k.value});return s.value=!1,F}const re=st((N,{evt:F})=>{sO(F)&&F.target.submit()});Qc(()=>{if(e!=null&&e.initialErrors&&_(e.initialErrors),e!=null&&e.initialTouched&&P(e.initialTouched),e!=null&&e.validateOnMount){C();return}ye.validateSchema&&ye.validateSchema("silent")}),gt(x)&&Sn(x,()=>{var N;(N=ye.validateSchema)===null||N===void 0||N.call(ye,"validated-only")}),Ea(jd,ye);function le(N,F){const q=ce(Pr(N))||Ie(N),J=()=>hn(F)?F(Zu(q,ec)):F||{};function ge(){var Ze;q.touched=!0,((Ze=J().validateOnBlur)!==null&&Ze!==void 0?Ze:ao().validateOnBlur)&&M(q.path)}function he(Ze){var Oe;const Xe=(Oe=J().validateOnModelUpdate)!==null&&Oe!==void 0?Oe:ao().validateOnModelUpdate;$(q.path,Ze,Xe)}return Le(()=>{if(hn(F)){const Xe=F(q),Nt=Xe.model||"modelValue";return Object.assign({onBlur:ge,[Nt]:q.value,[`onUpdate:${Nt}`]:he},Xe.props||{})}const Ze=(F==null?void 0:F.model)||"modelValue",Oe={onBlur:ge,[Ze]:q.value,[`onUpdate:${Ze}`]:he};return F!=null&&F.mapProps?Object.assign(Object.assign({},Oe),F.mapProps(Zu(q,ec))):Oe})}function V(N,F){const q=ce(Pr(N))||Ie(N),J=()=>hn(F)?F(Zu(q,ec)):F||{};function ge(){var Oe;q.touched=!0,((Oe=J().validateOnBlur)!==null&&Oe!==void 0?Oe:ao().validateOnBlur)&&M(q.path)}function he(Oe){var Xe;const Nt=Bh(Oe),pt=(Xe=J().validateOnInput)!==null&&Xe!==void 0?Xe:ao().validateOnInput;$(q.path,Nt,pt)}function Fe(Oe){var Xe;const Nt=Bh(Oe),pt=(Xe=J().validateOnChange)!==null&&Xe!==void 0?Xe:ao().validateOnChange;$(q.path,Nt,pt)}return Le(()=>{const Oe={value:q.value,onChange:Fe,onInput:he,onBlur:ge};return hn(F)?Object.assign(Object.assign({},Oe),F(Zu(q,ec)).attrs||{}):F!=null&&F.mapAttrs?Object.assign(Object.assign({},Oe),F.mapAttrs(Zu(q,ec))):Oe})}return Object.assign(Object.assign({},ye),{values:Ay(f),handleReset:()=>I(),submitForm:re,defineComponentBinds:le,defineInputBinds:V})}function d3(e,t,n,r){const o={touched:"some",pending:"some",valid:"every"},s=Le(()=>!Bn(t,Ue(n)));function u(){const f=e.value;return ni(o).reduce((d,g)=>{const h=o[g];return d[g]=f[h](p=>p[g]),d},{})}const c=Ni(u());return oM(()=>{const f=u();c.touched=f.touched,c.valid=f.valid,c.pending=f.pending}),Le(()=>Object.assign(Object.assign({initialValues:Ue(n)},c),{valid:c.valid&&!ni(r.value).length,dirty:s.value}))}function p3(e,t,n){const r=pO(n),o=n==null?void 0:n.initialValues,s=St(r),u=St(Tt(r));function c(f,d=!1){s.value=Uh(Tt(s.value)||{},Tt(f)),u.value=Uh(Tt(u.value)||{},Tt(f)),d&&e.value.forEach(g=>{if(g.touched)return;const p=Yn(s.value,g.path);rs(t,g.path,Tt(p))})}return gt(o)&&Sn(o,f=>{f&&c(f,!0)},{deep:!0}),{initialValues:s,originalInitialValues:u,setInitialValues:c}}const m3=Eo({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=no(e,"initialValues"),r=no(e,"validationSchema"),o=no(e,"keepValues"),{errors:s,errorBag:u,values:c,meta:f,isSubmitting:d,isValidating:g,submitCount:h,controlledValues:p,validate:v,validateField:_,handleReset:E,resetForm:S,handleSubmit:b,setErrors:k,setFieldError:D,setFieldValue:O,setValues:U,setFieldTouched:L,setTouched:Y,resetField:j}=h3({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),H=b((De,{evt:pe})=>{sO(pe)&&pe.target.submit()},e.onInvalidSubmit),x=e.onSubmit?b(e.onSubmit,e.onInvalidSubmit):H;function Ie(De){hb(De)&&De.preventDefault(),E(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function ie(De,pe){return b(typeof De=="function"&&!pe?De:pe,e.onInvalidSubmit)(De)}function we(){return Tt(c)}function xe(){return Tt(f.value)}function qe(){return Tt(s.value)}function ce(){return{meta:f.value,errors:s.value,errorBag:u.value,values:c,isSubmitting:d.value,isValidating:g.value,submitCount:h.value,controlledValues:p.value,validate:v,validateField:_,handleSubmit:ie,handleReset:E,submitForm:H,setErrors:k,setFieldError:D,setFieldValue:O,setValues:U,setFieldTouched:L,setTouched:Y,resetForm:S,resetField:j,getValues:we,getMeta:xe,getErrors:qe}}return t.expose({setFieldError:D,setErrors:k,setFieldValue:O,setValues:U,setFieldTouched:L,setTouched:Y,resetForm:S,validate:v,validateField:_,resetField:j,getValues:we,getMeta:xe,getErrors:qe}),function(){const pe=e.as==="form"?e.as:ed(e.as),nt=pb(pe,t,ce);if(!e.as)return nt;const lt=e.as==="form"?{novalidate:!0}:{};return Ci(pe,Object.assign(Object.assign(Object.assign({},lt),t.attrs),{onSubmit:x,onReset:Ie}),nt)}}}),g3=m3,v3=Eo({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=dr(jd,void 0),r=Le(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?ed(e.as):e.as,u=pb(s,t,o),c=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(u)||!u)&&(u!=null&&u.length)?u:(Array.isArray(u)||!u)&&!(u!=null&&u.length)?Ci(s||"span",c,r.value):Ci(s,c,u)}}}),$d=v3,y3={name:"Login",data(){return{schema_login:{email:"required|email",password:"required|min:9|max:100|excluded:password"},login_show_alert:!1,login_in_submission:!1,login_alert_variant:"bg-red-500",login_alert_msg:"Please wait! We are logging you in"}},components:{ErrorMessage:$d},methods:{...id(_l,["authenticate"]),async login(e){this.login_show_alert=!0,this.login_in_submission=!0,this.login_alert_variant="bg-blue-500",this.login_alert_msg="Please wait! We are logging you in";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="Invalid login details";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="Logged in successfully!",window.location.reload()}}},_3={class:"mb-3"},b3=G("label",{class:"inline-block mb-2"},"Email",-1),w3={class:"mb-3"},E3=G("label",{class:"inline-block mb-2"},"Password",-1),I3=G("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",-1);function T3(e,t,n,r,o,s){const u=At("vee-field"),c=At("ErrorMessage"),f=At("vee-form");return Ye(),ct(Vt,null,[o.login_show_alert?(Ye(),ct("div",{key:0,class:In(["text-white text-center font-bold p-4 mb-04",o.login_alert_variant])},Lt(o.login_alert_msg),3)):ka("",!0),Re(f,{"validation-schema":o.schema_login,onSubmit:s.login},{default:jn(()=>[G("div",_3,[b3,Re(u,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Re(c,{class:"text-red-600",name:"email"})]),G("div",w3,[E3,Re(u,{name:"password",bails:!1},{default:jn(({field:d,errors:g})=>[G("input",jy({class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password",type:"password"},d),null,16),(Ye(!0),ct(Vt,null,tu(g,h=>(Ye(),ct("div",{class:"text-red-600",key:h},Lt(h),1))),128))]),_:1})]),I3]),_:1},8,["validation-schema","onSubmit"])],64)}const S3=$n(y3,[["render",T3]]),A3={name:"Registration",data(){return{schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:100",password:"required|min:9|max:100|excluded:password",confirm_password:"passwords_mismatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},userData:{country:"BRA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! Your account is being created."}},methods:{...id(_l,{createUser:"register"}),async register(e){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! Your account is being created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",this.reg_alert_msg="An unexpected error occured. Please, Try again later";return}this.reg_alert_variant="bg-green-500",this.reg_alert_msg="Success! Your account has been created",window.location.reload()}},components:{ErrorMessage:$d}},k3={class:"mb-3"},N3=G("label",{class:"inline-block mb-2"},"Name",-1),C3={class:"mb-3"},O3=G("label",{class:"inline-block mb-2"},"Email",-1),R3={class:"mb-3"},P3=G("label",{class:"inline-block mb-2"},"Age",-1),x3={class:"mb-3"},D3=G("label",{class:"inline-block mb-2"},"Password",-1),L3={class:"mb-3"},M3=G("label",{class:"inline-block mb-2"},"Confirm Password",-1),F3={class:"mb-3"},U3=G("label",{class:"inline-block mb-2"},"Country",-1),V3=G("option",{value:"USA"},"USA",-1),j3=G("option",{value:"BRA"},"BRA",-1),B3=G("option",{value:"Mexico"},"Mexico",-1),$3=G("option",{value:"Germany"},"Germany",-1),q3=G("option",{value:"Antarctica"},"Antarctica",-1),H3={class:"mb-3 pl-6"},K3=G("label",{class:"inline-block"},"Accept terms of service",-1),G3=G("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",-1);function W3(e,t,n,r,o,s){const u=At("vee-field"),c=At("ErrorMessage"),f=At("vee-form");return Ye(),ct("div",null,[Sc(G("div",{class:In(["text-white text-center font-bold p-4 rounded mb-04",o.reg_alert_variant])},Lt(o.reg_alert_msg),3),[[pv,o.reg_show_alert]]),Re(f,{"validation-schema":o.schema,onSubmit:s.register,"initial-values":o.userData},{default:jn(()=>[G("div",k3,[N3,Re(u,{type:"text",id:"name",name:"name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),Re(c,{class:"text-red-600",name:"name"})]),G("div",C3,[O3,Re(u,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Re(c,{class:"text-red-600",name:"email"})]),G("div",R3,[P3,Re(u,{name:"age",type:"number",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),Re(c,{class:"text-red-600",name:"age"})]),G("div",x3,[D3,Re(u,{name:"password",bails:!1},{default:jn(({field:d,errors:g})=>[G("input",jy({class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",type:"password",placeholder:"Password"},d),null,16),(Ye(!0),ct(Vt,null,tu(g,h=>(Ye(),ct("div",{class:"text-red-600",key:h},Lt(h),1))),128))]),_:1})]),G("div",L3,[M3,Re(u,{type:"password",name:"confirm_password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),Re(c,{class:"text-red-600",name:"confirm_password"})]),G("div",F3,[U3,Re(u,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:jn(()=>[V3,j3,B3,$3,q3]),_:1}),Re(c,{class:"text-red-600",name:"country"})]),G("div",H3,[Re(u,{type:"checkbox",name:"tos",value:"1",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),K3,Re(c,{class:"text-red-600 block",name:"tos"})]),G3]),_:1},8,["validation-schema","onSubmit","initial-values"])])}const z3=$n(A3,[["render",W3]]),Y3={name:"Auth",data(){return{table:"login"}},components:{Login:S3,Registration:z3},computed:{...Hy(vv,["hiddenClass"]),...L1(vv,["isOpen"])}},X3={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Q3=G("div",{class:"fixed inset-0 transition-opacity"},[G("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),J3=G("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"",-1),Z3={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},e4={class:"py-4 text-left px-6"},t4={class:"flex justify-between items-center pb-4"},n4=G("p",{class:"text-2xl font-bold"},"Your Account",-1),r4=G("i",{class:"fas fa-times"},null,-1),i4=[r4],o4={class:"flex flex-wrap mb-4"},s4={class:"flex-auto text-center"};function a4(e,t,n,r,o,s){const u=At("Login"),c=At("Registration");return Ye(),ct("div",null,[G("div",{class:In(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[G("div",X3,[Q3,J3,G("div",Z3,[G("div",e4,[G("div",t4,[n4,G("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=_n(f=>e.isOpen=!1,["prevent"]))},i4)]),G("ul",o4,[G("li",s4,[G("a",{class:In(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.table=="login","hover:text-blue-600":o.table==="register"}]),href:"#",onClick:t[1]||(t[1]=f=>o.table="login")},"Login",2)]),G("li",{class:In([{"hover:text-white text-white bg-blue-600":o.table=="register","hover:text-blue-600":o.table==="login"},"flex-auto text-center block rounded transition"])},[G("a",{class:"block rounded py-3 px-4 transition",href:"#",onClick:t[2]||(t[2]=f=>o.table="register")},"Register")],2)]),o.table=="login"?(Ye(),bs(u,{key:0})):ka("",!0),o.table=="register"?(Ye(),bs(c,{key:1})):ka("",!0)])])])],2)])}const u4=$n(Y3,[["render",a4]]);const c4={name:"App",components:{AppPlayer:wq,AppHeader:cq,Auth:u4},computed:{...L1(_l,["userLoggedIn"])},created(){Br.currentUser&&(this.userLoggedIn=!0)}};function l4(e,t,n,r,o,s){const u=At("app-header"),c=At("router-view"),f=At("app-player"),d=At("auth");return Ye(),ct(Vt,null,[Re(u),Re(c,null,{default:jn(({Component:g})=>[Re($y,{name:"fade",mode:"out-in"},{default:jn(()=>[(Ye(),bs(ed(g)))]),_:2},1024)]),_:1}),Re(f),Re(d)],64)}const f4=$n(c4,[["render",l4]]);/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const pa=typeof window<"u";function h4(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ht=Object.assign;function Yg(e,t){const n={};for(const r in t){const o=t[r];n[r]=qr(o)?o.map(e):e(o)}return n}const vc=()=>{},qr=Array.isArray,d4=/\/$/,p4=e=>e.replace(d4,"");function Xg(e,t,n="/"){let r,o={},s="",u="";const c=t.indexOf("#");let f=t.indexOf("?");return c<f&&c>=0&&(f=-1),f>-1&&(r=t.slice(0,f),s=t.slice(f+1,c>-1?c:t.length),o=e(s)),c>-1&&(r=r||t.slice(0,c),u=t.slice(c,t.length)),r=y4(r??t,n),{fullPath:r+(s&&"?")+s+u,path:r,query:o,hash:u}}function m4(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function LS(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function g4(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&za(t.matched[r],n.matched[o])&&mO(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function za(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function mO(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!v4(e[n],t[n]))return!1;return!0}function v4(e,t){return qr(e)?MS(e,t):qr(t)?MS(t,e):e===t}function MS(e,t){return qr(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function y4(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let s=n.length-1,u,c;for(u=0;u<r.length;u++)if(c=r[u],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(u-(u===r.length?1:0)).join("/")}var Wc;(function(e){e.pop="pop",e.push="push"})(Wc||(Wc={}));var yc;(function(e){e.back="back",e.forward="forward",e.unknown=""})(yc||(yc={}));function _4(e){if(!e)if(pa){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),p4(e)}const b4=/^[^#]+#/;function w4(e,t){return e.replace(b4,"#")+t}function E4(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const qd=()=>({left:window.pageXOffset,top:window.pageYOffset});function I4(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=E4(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function FS(e,t){return(history.state?history.state.position-t:-1)+e}const ty=new Map;function T4(e,t){ty.set(e,t)}function S4(e){const t=ty.get(e);return ty.delete(e),t}let A4=()=>location.protocol+"//"+location.host;function gO(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let c=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(c);return f[0]!=="/"&&(f="/"+f),LS(f,"")}return LS(n,e)+r+o}function k4(e,t,n,r){let o=[],s=[],u=null;const c=({state:p})=>{const v=gO(e,location),_=n.value,E=t.value;let S=0;if(p){if(n.value=v,t.value=p,u&&u===_){u=null;return}S=E?p.position-E.position:0}else r(v);o.forEach(b=>{b(n.value,_,{delta:S,type:Wc.pop,direction:S?S>0?yc.forward:yc.back:yc.unknown})})};function f(){u=n.value}function d(p){o.push(p);const v=()=>{const _=o.indexOf(p);_>-1&&o.splice(_,1)};return s.push(v),v}function g(){const{history:p}=window;p.state&&p.replaceState(ht({},p.state,{scroll:qd()}),"")}function h(){for(const p of s)p();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:f,listen:d,destroy:h}}function US(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?qd():null}}function N4(e){const{history:t,location:n}=window,r={value:gO(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,d,g){const h=e.indexOf("#"),p=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+f:A4()+e+f;try{t[g?"replaceState":"pushState"](d,"",p),o.value=d}catch(v){console.error(v),n[g?"replace":"assign"](p)}}function u(f,d){const g=ht({},t.state,US(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});s(f,g,!0),r.value=f}function c(f,d){const g=ht({},o.value,t.state,{forward:f,scroll:qd()});s(g.current,g,!0);const h=ht({},US(r.value,f,null),{position:g.position+1},d);s(f,h,!1),r.value=f}return{location:r,state:o,push:c,replace:u}}function C4(e){e=_4(e);const t=N4(e),n=k4(e,t.state,t.location,t.replace);function r(s,u=!0){u||n.pauseListeners(),history.go(s)}const o=ht({location:"",base:e,go:r,createHref:w4.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function O4(e){return typeof e=="string"||e&&typeof e=="object"}function vO(e){return typeof e=="string"||typeof e=="symbol"}const zi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},yO=Symbol("");var VS;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(VS||(VS={}));function Ya(e,t){return ht(new Error,{type:e,[yO]:!0},t)}function gi(e,t){return e instanceof Error&&yO in e&&(t==null||!!(e.type&t))}const jS="[^/]+?",R4={sensitive:!1,strict:!1,start:!0,end:!0},P4=/[.+*?^${}()[\]/\\]/g;function x4(e,t){const n=ht({},R4,t),r=[];let o=n.start?"^":"";const s=[];for(const d of e){const g=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let h=0;h<d.length;h++){const p=d[h];let v=40+(n.sensitive?.25:0);if(p.type===0)h||(o+="/"),o+=p.value.replace(P4,"\\$&"),v+=40;else if(p.type===1){const{value:_,repeatable:E,optional:S,regexp:b}=p;s.push({name:_,repeatable:E,optional:S});const k=b||jS;if(k!==jS){v+=10;try{new RegExp(`(${k})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${_}" (${k}): `+O.message)}}let D=E?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;h||(D=S&&d.length<2?`(?:/${D})`:"/"+D),S&&(D+="?"),o+=D,v+=20,S&&(v+=-8),E&&(v+=-20),k===".*"&&(v+=-50)}g.push(v)}r.push(g)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const u=new RegExp(o,n.sensitive?"":"i");function c(d){const g=d.match(u),h={};if(!g)return null;for(let p=1;p<g.length;p++){const v=g[p]||"",_=s[p-1];h[_.name]=v&&_.repeatable?v.split("/"):v}return h}function f(d){let g="",h=!1;for(const p of e){(!h||!g.endsWith("/"))&&(g+="/"),h=!1;for(const v of p)if(v.type===0)g+=v.value;else if(v.type===1){const{value:_,repeatable:E,optional:S}=v,b=_ in d?d[_]:"";if(qr(b)&&!E)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const k=qr(b)?b.join("/"):b;if(!k)if(S)p.length<2&&(g.endsWith("/")?g=g.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);g+=k}}return g||"/"}return{re:u,score:r,keys:s,parse:c,stringify:f}}function D4(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function L4(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=D4(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(BS(r))return 1;if(BS(o))return-1}return o.length-r.length}function BS(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const M4={type:0,value:""},F4=/[a-zA-Z0-9_]/;function U4(e){if(!e)return[[]];if(e==="/")return[[M4]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${d}": ${v}`)}let n=0,r=n;const o=[];let s;function u(){s&&o.push(s),s=[]}let c=0,f,d="",g="";function h(){d&&(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function p(){d+=f}for(;c<e.length;){if(f=e[c++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(d&&h(),u()):f===":"?(h(),n=1):p();break;case 4:p(),n=r;break;case 1:f==="("?n=2:F4.test(f)?p():(h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&c--);break;case 2:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:n=3:g+=f;break;case 3:h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&c--,g="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),h(),u(),o}function V4(e,t,n){const r=x4(U4(e.path),n),o=ht(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function j4(e,t){const n=[],r=new Map;t=HS({strict:!1,end:!0,sensitive:!1},t);function o(g){return r.get(g)}function s(g,h,p){const v=!p,_=B4(g);_.aliasOf=p&&p.record;const E=HS(t,g),S=[_];if("alias"in g){const D=typeof g.alias=="string"?[g.alias]:g.alias;for(const O of D)S.push(ht({},_,{components:p?p.record.components:_.components,path:O,aliasOf:p?p.record:_}))}let b,k;for(const D of S){const{path:O}=D;if(h&&O[0]!=="/"){const U=h.record.path,L=U[U.length-1]==="/"?"":"/";D.path=h.record.path+(O&&L+O)}if(b=V4(D,h,E),p?p.alias.push(b):(k=k||b,k!==b&&k.alias.push(b),v&&g.name&&!qS(b)&&u(g.name)),_.children){const U=_.children;for(let L=0;L<U.length;L++)s(U[L],b,p&&p.children[L])}p=p||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&f(b)}return k?()=>{u(k)}:vc}function u(g){if(vO(g)){const h=r.get(g);h&&(r.delete(g),n.splice(n.indexOf(h),1),h.children.forEach(u),h.alias.forEach(u))}else{const h=n.indexOf(g);h>-1&&(n.splice(h,1),g.record.name&&r.delete(g.record.name),g.children.forEach(u),g.alias.forEach(u))}}function c(){return n}function f(g){let h=0;for(;h<n.length&&L4(g,n[h])>=0&&(g.record.path!==n[h].record.path||!_O(g,n[h]));)h++;n.splice(h,0,g),g.record.name&&!qS(g)&&r.set(g.record.name,g)}function d(g,h){let p,v={},_,E;if("name"in g&&g.name){if(p=r.get(g.name),!p)throw Ya(1,{location:g});E=p.record.name,v=ht($S(h.params,p.keys.filter(k=>!k.optional).map(k=>k.name)),g.params&&$S(g.params,p.keys.map(k=>k.name))),_=p.stringify(v)}else if("path"in g)_=g.path,p=n.find(k=>k.re.test(_)),p&&(v=p.parse(_),E=p.record.name);else{if(p=h.name?r.get(h.name):n.find(k=>k.re.test(h.path)),!p)throw Ya(1,{location:g,currentLocation:h});E=p.record.name,v=ht({},h.params,g.params),_=p.stringify(v)}const S=[];let b=p;for(;b;)S.unshift(b.record),b=b.parent;return{name:E,path:_,params:v,matched:S,meta:q4(S)}}return e.forEach(g=>s(g)),{addRoute:s,resolve:d,removeRoute:u,getRoutes:c,getRecordMatcher:o}}function $S(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function B4(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:$4(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function $4(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function qS(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function q4(e){return e.reduce((t,n)=>ht(t,n.meta),{})}function HS(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function _O(e,t){return t.children.some(n=>n===e||_O(e,n))}const bO=/#/g,H4=/&/g,K4=/\//g,G4=/=/g,W4=/\?/g,wO=/\+/g,z4=/%5B/g,Y4=/%5D/g,EO=/%5E/g,X4=/%60/g,IO=/%7B/g,Q4=/%7C/g,TO=/%7D/g,J4=/%20/g;function mb(e){return encodeURI(""+e).replace(Q4,"|").replace(z4,"[").replace(Y4,"]")}function Z4(e){return mb(e).replace(IO,"{").replace(TO,"}").replace(EO,"^")}function ny(e){return mb(e).replace(wO,"%2B").replace(J4,"+").replace(bO,"%23").replace(H4,"%26").replace(X4,"`").replace(IO,"{").replace(TO,"}").replace(EO,"^")}function eH(e){return ny(e).replace(G4,"%3D")}function tH(e){return mb(e).replace(bO,"%23").replace(W4,"%3F")}function nH(e){return e==null?"":tH(e).replace(K4,"%2F")}function $h(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function rH(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(wO," "),u=s.indexOf("="),c=$h(u<0?s:s.slice(0,u)),f=u<0?null:$h(s.slice(u+1));if(c in t){let d=t[c];qr(d)||(d=t[c]=[d]),d.push(f)}else t[c]=f}return t}function KS(e){let t="";for(let n in e){const r=e[n];if(n=eH(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(qr(r)?r.map(s=>s&&ny(s)):[r&&ny(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function iH(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=qr(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const oH=Symbol(""),GS=Symbol(""),gb=Symbol(""),SO=Symbol(""),ry=Symbol("");function tc(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function to(e,t,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((u,c)=>{const f=h=>{h===!1?c(Ya(4,{from:n,to:t})):h instanceof Error?c(h):O4(h)?c(Ya(2,{from:t,to:h})):(s&&r.enterCallbacks[o]===s&&typeof h=="function"&&s.push(h),u())},d=e.call(r&&r.instances[o],t,n,f);let g=Promise.resolve(d);e.length<3&&(g=g.then(f)),g.catch(h=>c(h))})}function Qg(e,t,n,r){const o=[];for(const s of e)for(const u in s.components){let c=s.components[u];if(!(t!=="beforeRouteEnter"&&!s.instances[u]))if(sH(c)){const d=(c.__vccOpts||c)[t];d&&o.push(to(d,n,r,s,u))}else{let f=c();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${s.path}"`));const g=h4(d)?d.default:d;s.components[u]=g;const p=(g.__vccOpts||g)[t];return p&&to(p,n,r,s,u)()}))}}return o}function sH(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function WS(e){const t=dr(gb),n=dr(SO),r=Le(()=>t.resolve(Ue(e.to))),o=Le(()=>{const{matched:f}=r.value,{length:d}=f,g=f[d-1],h=n.matched;if(!g||!h.length)return-1;const p=h.findIndex(za.bind(null,g));if(p>-1)return p;const v=zS(f[d-2]);return d>1&&zS(g)===v&&h[h.length-1].path!==v?h.findIndex(za.bind(null,f[d-2])):p}),s=Le(()=>o.value>-1&&lH(n.params,r.value.params)),u=Le(()=>o.value>-1&&o.value===n.matched.length-1&&mO(n.params,r.value.params));function c(f={}){return cH(f)?t[Ue(e.replace)?"replace":"push"](Ue(e.to)).catch(vc):Promise.resolve()}return{route:r,href:Le(()=>r.value.href),isActive:s,isExactActive:u,navigate:c}}const aH=Eo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:WS,setup(e,{slots:t}){const n=Ni(WS(e)),{options:r}=dr(gb),o=Le(()=>({[YS(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[YS(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Ci("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),uH=aH;function cH(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function lH(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!qr(o)||o.length!==r.length||r.some((s,u)=>s!==o[u]))return!1}return!0}function zS(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const YS=(e,t,n)=>e??t??n,fH=Eo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=dr(ry),o=Le(()=>e.route||r.value),s=dr(GS,0),u=Le(()=>{let d=Ue(s);const{matched:g}=o.value;let h;for(;(h=g[d])&&!h.components;)d++;return d}),c=Le(()=>o.value.matched[u.value]);Ea(GS,Le(()=>u.value+1)),Ea(oH,c),Ea(ry,o);const f=St();return Sn(()=>[f.value,c.value,e.name],([d,g,h],[p,v,_])=>{g&&(g.instances[h]=d,v&&v!==g&&d&&d===p&&(g.leaveGuards.size||(g.leaveGuards=v.leaveGuards),g.updateGuards.size||(g.updateGuards=v.updateGuards))),d&&g&&(!v||!za(g,v)||!p)&&(g.enterCallbacks[h]||[]).forEach(E=>E(d))},{flush:"post"}),()=>{const d=o.value,g=e.name,h=c.value,p=h&&h.components[g];if(!p)return XS(n.default,{Component:p,route:d});const v=h.props[g],_=v?v===!0?d.params:typeof v=="function"?v(d):v:null,S=Ci(p,ht({},_,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(h.instances[g]=null)},ref:f}));return XS(n.default,{Component:S,route:d})||S}}});function XS(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const hH=fH;function dH(e){const t=j4(e.routes,e),n=e.parseQuery||rH,r=e.stringifyQuery||KS,o=e.history,s=tc(),u=tc(),c=tc(),f=Cy(zi);let d=zi;pa&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=Yg.bind(null,$=>""+$),h=Yg.bind(null,nH),p=Yg.bind(null,$h);function v($,z){let oe,fe;return vO($)?(oe=t.getRecordMatcher($),fe=z):fe=$,t.addRoute(fe,oe)}function _($){const z=t.getRecordMatcher($);z&&t.removeRoute(z)}function E(){return t.getRoutes().map($=>$.record)}function S($){return!!t.getRecordMatcher($)}function b($,z){if(z=ht({},z||f.value),typeof $=="string"){const I=Xg(n,$,z.path),C=t.resolve({path:I.path},z),M=o.createHref(I.fullPath);return ht(I,C,{params:p(C.params),hash:$h(I.hash),redirectedFrom:void 0,href:M})}let oe;if("path"in $)oe=ht({},$,{path:Xg(n,$.path,z.path).path});else{const I=ht({},$.params);for(const C in I)I[C]==null&&delete I[C];oe=ht({},$,{params:h(I)}),z.params=h(z.params)}const fe=t.resolve(oe,z),Se=$.hash||"";fe.params=g(p(fe.params));const P=m4(r,ht({},$,{hash:Z4(Se),path:fe.path})),T=o.createHref(P);return ht({fullPath:P,hash:Se,query:r===KS?iH($.query):$.query||{}},fe,{redirectedFrom:void 0,href:T})}function k($){return typeof $=="string"?Xg(n,$,f.value.path):ht({},$)}function D($,z){if(d!==$)return Ya(8,{from:z,to:$})}function O($){return Y($)}function U($){return O(ht(k($),{replace:!0}))}function L($){const z=$.matched[$.matched.length-1];if(z&&z.redirect){const{redirect:oe}=z;let fe=typeof oe=="function"?oe($):oe;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=k(fe):{path:fe},fe.params={}),ht({query:$.query,hash:$.hash,params:"path"in fe?{}:$.params},fe)}}function Y($,z){const oe=d=b($),fe=f.value,Se=$.state,P=$.force,T=$.replace===!0,I=L(oe);if(I)return Y(ht(k(I),{state:typeof I=="object"?ht({},Se,I.state):Se,force:P,replace:T}),z||oe);const C=oe;C.redirectedFrom=z;let M;return!P&&g4(r,fe,oe)&&(M=Ya(16,{to:C,from:fe}),wt(fe,fe,!0,!1)),(M?Promise.resolve(M):x(C,fe)).catch(B=>gi(B)?gi(B,2)?B:lt(B):pe(B,C,fe)).then(B=>{if(B){if(gi(B,2))return Y(ht({replace:T},k(B.to),{state:typeof B.to=="object"?ht({},Se,B.to.state):Se,force:P}),z||C)}else B=ie(C,fe,!0,T,Se);return Ie(C,fe,B),B})}function j($,z){const oe=D($,z);return oe?Promise.reject(oe):Promise.resolve()}function H($){const z=Jt.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext($):$()}function x($,z){let oe;const[fe,Se,P]=pH($,z);oe=Qg(fe.reverse(),"beforeRouteLeave",$,z);for(const I of fe)I.leaveGuards.forEach(C=>{oe.push(to(C,$,z))});const T=j.bind(null,$,z);return oe.push(T),ye(oe).then(()=>{oe=[];for(const I of s.list())oe.push(to(I,$,z));return oe.push(T),ye(oe)}).then(()=>{oe=Qg(Se,"beforeRouteUpdate",$,z);for(const I of Se)I.updateGuards.forEach(C=>{oe.push(to(C,$,z))});return oe.push(T),ye(oe)}).then(()=>{oe=[];for(const I of P)if(I.beforeEnter)if(qr(I.beforeEnter))for(const C of I.beforeEnter)oe.push(to(C,$,z));else oe.push(to(I.beforeEnter,$,z));return oe.push(T),ye(oe)}).then(()=>($.matched.forEach(I=>I.enterCallbacks={}),oe=Qg(P,"beforeRouteEnter",$,z),oe.push(T),ye(oe))).then(()=>{oe=[];for(const I of u.list())oe.push(to(I,$,z));return oe.push(T),ye(oe)}).catch(I=>gi(I,8)?I:Promise.reject(I))}function Ie($,z,oe){c.list().forEach(fe=>H(()=>fe($,z,oe)))}function ie($,z,oe,fe,Se){const P=D($,z);if(P)return P;const T=z===zi,I=pa?history.state:{};oe&&(fe||T?o.replace($.fullPath,ht({scroll:T&&I&&I.scroll},Se)):o.push($.fullPath,Se)),f.value=$,wt($,z,oe,T),lt()}let we;function xe(){we||(we=o.listen(($,z,oe)=>{if(!ve.listening)return;const fe=b($),Se=L(fe);if(Se){Y(ht(Se,{replace:!0}),fe).catch(vc);return}d=fe;const P=f.value;pa&&T4(FS(P.fullPath,oe.delta),qd()),x(fe,P).catch(T=>gi(T,12)?T:gi(T,2)?(Y(T.to,fe).then(I=>{gi(I,20)&&!oe.delta&&oe.type===Wc.pop&&o.go(-1,!1)}).catch(vc),Promise.reject()):(oe.delta&&o.go(-oe.delta,!1),pe(T,fe,P))).then(T=>{T=T||ie(fe,P,!1),T&&(oe.delta&&!gi(T,8)?o.go(-oe.delta,!1):oe.type===Wc.pop&&gi(T,20)&&o.go(-1,!1)),Ie(fe,P,T)}).catch(vc)}))}let qe=tc(),ce=tc(),De;function pe($,z,oe){lt($);const fe=ce.list();return fe.length?fe.forEach(Se=>Se($,z,oe)):console.error($),Promise.reject($)}function nt(){return De&&f.value!==zi?Promise.resolve():new Promise(($,z)=>{qe.add([$,z])})}function lt($){return De||(De=!$,xe(),qe.list().forEach(([z,oe])=>$?oe($):z()),qe.reset()),$}function wt($,z,oe,fe){const{scrollBehavior:Se}=e;if(!pa||!Se)return Promise.resolve();const P=!oe&&S4(FS($.fullPath,0))||(fe||!oe)&&history.state&&history.state.scroll||null;return _i().then(()=>Se($,z,P)).then(T=>T&&I4(T)).catch(T=>pe(T,$,z))}const _t=$=>o.go($);let st;const Jt=new Set,ve={currentRoute:f,listening:!0,addRoute:v,removeRoute:_,hasRoute:S,getRoutes:E,resolve:b,options:e,push:O,replace:U,go:_t,back:()=>_t(-1),forward:()=>_t(1),beforeEach:s.add,beforeResolve:u.add,afterEach:c.add,onError:ce.add,isReady:nt,install($){const z=this;$.component("RouterLink",uH),$.component("RouterView",hH),$.config.globalProperties.$router=z,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>Ue(f)}),pa&&!st&&f.value===zi&&(st=!0,O(o.location).catch(Se=>{}));const oe={};for(const Se in zi)Object.defineProperty(oe,Se,{get:()=>f.value[Se],enumerable:!0});$.provide(gb,z),$.provide(SO,QA(oe)),$.provide(ry,f);const fe=$.unmount;Jt.add($),$.unmount=function(){Jt.delete($),Jt.size<1&&(d=zi,we&&we(),we=null,f.value=zi,st=!1,De=!1),fe()}}};function ye($){return $.reduce((z,oe)=>z.then(()=>H(oe)),Promise.resolve())}return ve}function pH(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let u=0;u<s;u++){const c=t.matched[u];c&&(e.matched.find(d=>za(d,c))?r.push(c):n.push(c));const f=e.matched[u];f&&(t.matched.find(d=>za(d,f))||o.push(f))}return[n,r,o]}const mH={name:"SongItem",props:{song:{type:Object,required:!0}},methods:{playSong(){this.$emit("playSong",this.song)}}},gH={class:"flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"},vH={class:"text-gray-500 text-sm"},yH={class:"text-gray-600 text-lg"},_H=["onClick"],bH=G("i",{class:"fa fa-comments text-gray-600"},null,-1);function wH(e,t,n,r,o,s){const u=At("router-link");return Ye(),ct("li",gH,[G("div",null,[Re(u,{to:{name:"song",params:{id:n.song.docID}},class:"font-bold block text-gray-600"},{default:jn(()=>[ho(Lt(n.song.modified_name),1)]),_:1},8,["to"]),G("span",vH,Lt(n.song.display_name),1)]),G("div",yH,[Re(u,{custom:"",to:{name:"song",params:{id:n.song.docID},hash:"#comments"}},{default:jn(({navigate:c})=>[G("span",{onClick:c,class:"comments"},[bH,ho(" "+Lt(n.song.comment_count),1)],8,_H)]),_:1},8,["to"])])])}const EH=$n(mH,[["render",wH]]),IH={beforeMount(e,t){let n=`fa fa-${t.value.icon} text-green-400 text-2xl`;t.value.right&&(n+=" float-right"),e.innerHTML+=`<i class="${n}"></i>`}},TH="/Music/assets/img/introduction-music.png",SH={name:"Home",components:{AppSongItem:EH},directives:{"icon-secondary":IH},data(){return{songs:[],maxPerPage:3,pendingRequest:!1}},async created(){this.getSongs(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.round(e)+n===t&&this.getSongs()},async getSongs(){var t;if(this.pendingRequest)return;this.pendingRequest=!0;let e;if(this.songs.length){const n=await Ai.doc((t=this.songs[this.songs.length-1])==null?void 0:t.docID).get();e=await Ai.orderBy("modified_name").startAfter(n).limit(this.maxPerPage).get()}else e=await Ai.orderBy("modified_name").limit(this.maxPerPage).get();e.forEach(n=>{this.songs.push({docID:n.id,...n.data()})}),this.pendingRequest=!1}}},AH={class:"mb-8 py-20 text-white text-center relative"},kH=G("div",{class:"absolute inset-0 w-full h-full bg-contain introduction-bg",style:{"background-image":"url(assets/img/header.png)"}},null,-1),NH={class:"container mx-auto"},CH={class:"text-white main-header-content"},OH={class:"font-bold text-5xl mb-5"},RH=G("p",{class:"w-full md:w-8/12 mx-auto"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus et dolor mollis, congue augue non, venenatis elit. Nunc justo eros, suscipit ac aliquet imperdiet, venenatis et sapien. Duis sed magna pulvinar, fringilla lorem eget, ullamcorper urna. ",-1),PH=G("img",{class:"relative block mx-auto mt-5 -mb-20 w-auto max-w-full",src:TH},null,-1),xH={class:"container mx-auto"},DH={class:"bg-white rounded border border-gray-200 relative flex flex-col"},LH={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},MH=G("span",{class:"card-title"},"Songs",-1),FH=[MH],UH={id:"playlist"};function VH(e,t,n,r,o,s){const u=At("AppSongItem"),c=bM("icon-secondary");return Ye(),ct("main",null,[G("section",AH,[kH,G("div",NH,[G("div",CH,[G("h1",OH,Lt(e.$t("home.listen")),1),RH])]),PH]),G("section",xH,[G("div",DH,[Sc((Ye(),ct("div",LH,FH)),[[c,{icon:"headphones",right:!0}]]),G("ol",UH,[(Ye(!0),ct(Vt,null,tu(o.songs,f=>(Ye(),bs(u,{key:f.docID,song:f},null,8,["song"]))),128))])])])])}const jH=$n(SH,[["render",VH]]),BH={},$H={class:"about"},qH=G("h1",null,"This is an about page",-1),HH=[qH];function KH(e,t){return Ye(),ct("div",$H,HH)}const GH=$n(BH,[["render",KH]]),WH={name:"Upload",data(){return{isDragging:!1,uploads:[]}},props:["addSong"],methods:{upload(e){this.isDragging=!1,(e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files]).forEach(n=>{if(n.type!=="audio/mpeg")return;const s=tO.ref().child(`songs/${n.name}`).put(n),u=this.uploads.push({task:s,current_progress:0,name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;s.on("state_changed",c=>{const f=c.bytesTransferred/c.totalBytes*100;this.uploads[u].current_progress=f},()=>{this.uploads[u].variant="bg-red-400",this.uploads[u].icon="fas fa-times",this.uploads[u].text_class="text-red-400"},async()=>{const c={uid:Br.currentUser.uid,displayName:Br.currentUser.displayName,original_name:s.snapshot.ref.name,modified_name:s.snapshot.metadata.name,genre:"",comment_count:0};c.url=await s.snapshot.ref.getDownloadURL();const d=await(await Ai.add(c)).get();this.addSong(d),this.uploads[u].variant="bg-green-400",this.uploads[u].icon="fas fa-check",this.uploads[u].text_class="text-green-400"})})},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})}},beforeUnmount(){this.uploads.forEach(e=>{e.task.cancel()})}},zH={class:"col-span-1"},YH={class:"bg-white rounded border border-gray-200 relative flex flex-col"},XH=G("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[G("span",{class:"card-title"},"Upload"),G("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),QH={class:"p-6"},JH=G("h5",null,"Drop your files here",-1),ZH=[JH],eK=G("hr",{class:"my-6"},null,-1),tK={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function nK(e,t,n,r,o,s){return Ye(),ct("div",zH,[G("div",YH,[XH,G("div",QH,[G("div",{class:In(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid",{"bg-green-400 border-green-400 border-solid":o.isDragging}]),onDrag:t[0]||(t[0]=_n(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=_n(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=_n(u=>o.isDragging=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=_n(u=>o.isDragging=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=_n(u=>o.isDragging=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=_n(u=>o.isDragging=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=_n(u=>s.upload(u),["prevent","stop"]))},ZH,34),G("input",{type:"file",multiple:"",onChange:t[7]||(t[7]=u=>s.upload(u))},null,32),eK,(Ye(!0),ct(Vt,null,tu(o.uploads,u=>(Ye(),ct("div",{class:"mb-4",key:u.name},[G("div",{class:In(["font-bold text-sm",u.text_class])},[G("i",{class:In(u.icon)},null,2),ho(" "+Lt(u.name),1)],2),G("div",tK,[G("div",{class:In(["transition-all progress-bar",u.variant]),style:Sa({width:u.current_progress+"%"})},null,6)])]))),128))])])])}const rK=$n(WH,[["render",nK]]),iK={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},index:{type:Number,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function}},data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_message:"Please wait! Updating song info."}},methods:{async edit(e){this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_message="Please wait! Updating song info.";try{await Ai.doc(this.song.docID).update(e)}catch(t){console.log(t),this.in_submission=!1,this.alert_variant="bg-red-500",this.alert_message="Something went wrong! Try again later";return}this.updateSong(this.index,e),this.updateUnsavedFlag(!1),this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_message="Sucess!"},async deleteSong(){await tO.ref().child(`songs/${this.song.original_name}`).delete(),await Ai.doc(this.song.docID).delete(),this.removeSong(this.index)}},components:{ErrorMessage:$d}},oK={class:"border border-gray-200 p-3 mb-4 rounded"},sK={class:"inline-block text-2xl font-bold"},aK=G("i",{class:"fa fa-times"},null,-1),uK=[aK],cK=G("i",{class:"fa fa-pencil-alt"},null,-1),lK=[cK],fK={class:"mb-3"},hK=G("label",{class:"inline-block mb-2"},null,-1),dK={class:"mb-3"},pK=G("label",{class:"inline-block mb-2"},null,-1),mK=["disabled"],gK=["disabled"];function vK(e,t,n,r,o,s){const u=At("vee-field"),c=At("ErrorMessage"),f=At("vee-form");return Ye(),ct("div",oK,[Sc(G("div",null,[G("h4",sK,Lt(n.song.modified_name),1),G("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right",onClick:t[0]||(t[0]=_n((...d)=>s.deleteSong&&s.deleteSong(...d),["prevent"]))},uK),G("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right",onClick:t[1]||(t[1]=_n(d=>o.showForm=!o.showForm,["prevent"]))},lK)],512),[[pv,!o.showForm]]),Sc(G("div",null,[o.show_alert?(Ye(),ct("div",{key:0,class:In(["text-white text-center font-bold p-4 mb-4",o.alert_variant])},Lt(o.alert_message),3)):ka("",!0),Re(f,{"validation-schema":o.schema,"initial-values":n.song,onSubmit:s.edit},{default:jn(()=>[G("div",fK,[hK,Re(u,{type:"text",name:"modified_name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=d=>n.updateUnsavedFlag(!0))}),Re(c,{class:"text-red-600",name:"modified_name"})]),G("div",dK,[pK,Re(u,{type:"text",name:"genre",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=d=>n.updateUnsavedFlag(!0))}),Re(c,{class:"text-red-600",name:"genre"})]),G("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600",disabled:o.in_submission}," Submit ",8,mK),G("button",{type:"button",class:"py-1.5 px-3 rounded text-white bg-gray-600",disabled:o.in_submission,onClick:t[4]||(t[4]=_n(d=>o.showForm=!1,["prevent"]))}," Go Back ",8,gK)]),_:1},8,["validation-schema","initial-values","onSubmit"])],512),[[pv,o.showForm]])])}const yK=$n(iK,[["render",vK]]),_K={name:"manage",components:{AppUpload:rK,CompositionItem:yK},data(){return{songs:[],unsavedFlag:!1}},async created(){(await Ai.where("uid","==",Br.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateUnsavedFlag(e){this.unsavedFlag=e}},beforeRouteLeave(e,t,n){if(!this.unsavedFlag)n();else{const r=confirm("You have unsaved changes. Are you sure you want to leave?");n(r)}}},bK={class:"container mx-auto mt-6"},wK={class:"md:grid md:grid-cols-3 md:gap-4"},EK={class:"col-span-2"},IK={class:"bg-white rounded border border-gray-200 relative flex flex-col"},TK=G("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[G("span",{class:"card-title"},"My Songs"),G("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"})],-1),SK={class:"p-6"};function AK(e,t,n,r,o,s){const u=At("AppUpload"),c=At("composition-item");return Ye(),ct("section",bK,[G("div",wK,[Re(u,{ref:"upload",addSong:s.addSong},null,8,["addSong"]),G("div",EK,[G("div",IK,[TK,G("div",SK,[(Ye(!0),ct(Vt,null,tu(o.songs,(f,d)=>(Ye(),bs(c,{key:f.docID,song:f,updateSong:s.updateSong,index:d,removeSong:s.removeSong,updateUnsavedFlag:s.updateUnsavedFlag},null,8,["song","updateSong","index","removeSong","updateUnsavedFlag"]))),128))])])])])])}const kK=$n(_K,[["render",AK]]),NK={name:"SongsComments",props:{comment:{type:Object,required:!0}}},CK={class:"p-6 bg-gray-50 border border-gray-200"},OK={class:"mb-5"},RK={class:"font-bold"};function PK(e,t,n,r,o,s){return Ye(),ct("li",CK,[G("div",OK,[G("div",RK,Lt(n.comment.user),1),G("time",null,Lt(n.comment.created_at),1)]),G("p",null,Lt(n.comment.comment),1)])}const xK=$n(NK,[["render",PK]]),DK={name:"SongsCommentSubmit",props:{getSong:{type:Function,required:!0},getComments:{type:Function,required:!0}},data(){return{schema_comment:{comment:"required|min:3|max:500"},comment_show_alert:!1,comment_in_submission:!1,comment_alert_variant:"bg-blue-500",comment_alert_message:"Great! Your comment has been submitted.",songs_count:0}},methods:{async comment(e,{resetForm:t}){if(this.comment_in_submission=!0,this.comment_show_alert=!0,this.comment_alert_variant="bg-blue-500",this.comment_alert_message="Please wait while we submit your comment.",!Br.currentUser){this.comment_in_submission=!1,this.comment_show_alert=!0,this.comment_alert_variant="bg-red-500",this.comment_alert_message="Please login to submit a comment.",setTimeout(()=>{this.comment_show_alert=!1},2e3);return}const n={song_id:this.$route.params.id,uid:Br.currentUser.uid,user:Br.currentUser.displayName,comment:e.comment,created_at:new Date().toString()};try{await nO.add(n),await Ai.doc(this.$route.params.id).update({comment_count:Pe.firestore.FieldValue.increment(1)}),this.comment_in_submission=!1,this.comment_show_alert=!0,this.comment_alert_variant="bg-green-500",this.comment_alert_message="Great! Your comment has been submitted.",setTimeout(()=>{this.comment_show_alert=!1},2e3)}catch(r){console.log(r),this.comment_in_submission=!1,this.comment_show_alert=!0,this.comment_alert_variant="bg-red-500",this.comment_alert_message="Sorry! Your comment could not be submitted.",setTimeout(()=>{this.comment_show_alert=!1},2e3)}this.getSong(),this.getComments(),t()}}},LK=["disabled"];function MK(e,t,n,r,o,s){const u=At("vee-field"),c=At("ErrorMessage"),f=At("vee-form");return Ye(),ct(Vt,null,[o.comment_show_alert?(Ye(),ct("div",{key:0,class:In(["text-white text-center font-bold p-4 mb-4",o.comment_alert_variant])},Lt(o.comment_alert_message),3)):ka("",!0),Re(f,{"validation-schema":o.schema_comment,onSubmit:s.comment},{default:jn(()=>[Re(u,{type:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded mb-4",placeholder:"Your comment here..."}),Re(c,{class:"text-red-600",name:"comment"}),G("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_submission}," Submit ",8,LK)]),_:1},8,["validation-schema","onSubmit"])],64)}const FK=$n(DK,[["render",MK]]),UK={name:"Song",components:{SongsComments:xK,SongsCommentSubmit:FK},data(){return{songs:{},comments:[],sort:"1"}},created(){this.getSong(),this.getComments()},methods:{...id(Fh,["playSong"]),async getSong(){const e=await Ai.doc(this.$route.params.id).get();if(!e.exists){this.$router.push({name:"home"});return}this.songs=e.data();const{sort:t}=this.$route.query;(t==="1"||t==="2")&&(this.sort=t)},async getComments(){this.comments=[],(await nO.where("song_id","==",this.$route.params.id).orderBy("created_at","desc").get()).forEach(t=>{this.comments.push({docID:t.id,...t.data()})})}},watch:{sort(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}},computed:{...Hy(Fh,["playing"]),sortedComments(){return this.comments.slice().sort((e,t)=>this.sort==="1"?new Date(t.created_at)-new Date(e.created_at):new Date(e.created_at)-new Date(t.created_at))}}},VK={class:"w-full mb-8 py-14 text-center text-white relative"},jK=G("div",{class:"absolute inset-0 w-full h-full box-border bg-contain music-bg",style:{"background-image":"url(/Music/assets/img/song-header.png)"}},null,-1),BK={class:"container mx-auto flex items-center"},$K={class:"z-50 text-left ml-8"},qK={class:"text-3xl font-bold"},HK={class:"song-price"},KK={class:"container mx-auto mt-6",id:"comments"},GK={class:"bg-white rounded border border-gray-200 relative flex flex-col"},WK={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},zK={class:"card-title"},YK=G("i",{class:"fa fa-comments float-right text-green-400 text-2xl"},null,-1),XK={class:"p-6"},QK=G("option",{value:"1"},"Latest",-1),JK=G("option",{value:"2"},"Oldest",-1),ZK=[QK,JK],eG={class:"container mx-auto"};function tG(e,t,n,r,o,s){const u=At("SongsCommentSubmit"),c=At("SongsComments");return Ye(),ct("main",null,[G("section",VK,[jK,G("div",BK,[G("button",{onClick:t[0]||(t[0]=_n(f=>e.playSong(o.songs),["prevent"])),type:"button",class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none"},[G("i",{class:In(["fas",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),G("div",$K,[G("div",qK,Lt(o.songs.modified_name),1),G("div",null,Lt(o.songs.genre),1),G("div",HK,Lt(e.$n(1,"currency")),1)])])]),G("section",KK,[G("div",GK,[G("div",WK,[G("span",zK,Lt(e.$tc("song.comment_count",o.songs.comment_count,{count:o.songs.comment_count})),1),YK]),G("div",XK,[Re(u,{getSong:s.getSong,getComments:s.getComments},null,8,["getSong","getComments"]),Sc(G("select",{"onUpdate:modelValue":t[1]||(t[1]=f=>o.sort=f),class:"block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},ZK,512),[[wF,o.sort]])])])]),G("ul",eG,[(Ye(!0),ct(Vt,null,tu(s.sortedComments,f=>(Ye(),bs(c,{key:f,comment:f},null,8,["comment"]))),128))])])}const nG=$n(UK,[["render",tG]]),rG=[{name:"home",path:"/",component:jH},{name:"about",path:"/about",component:GH},{name:"manage",path:"/manage-music",component:kK,beforeEnter:(e,t,n)=>{n()},meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{name:"song",path:"/song/:id",component:nG},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],AO=dH({history:C4("/Music/"),routes:rG,linkActiveClass:"text-yellow-500"});AO.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}_l().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.11.1
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const qf={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,kz:/^[-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},iG=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function wl(e,t){return Array.isArray(e)?e[0]:e[t]}function Co(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const kO=(e,t)=>{if(Co(e))return!0;const n=iG(t);if(Array.isArray(e))return e.every(o=>kO(o,{locale:n}));const r=String(e);return n?(qf[n]||qf.en).test(r):Object.keys(qf).some(o=>qf[o].test(r))},oG=(e,t)=>{const n=wl(t,"target");return String(e)===String(n)},sG=e=>{if(Co(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function aG(e){return e==null}function uG(e){return Array.isArray(e)&&e.length===0}const NO=(e,t)=>{if(Co(e))return!0;const n=wl(t,"length");return Array.isArray(e)?e.every(r=>NO(r,{length:n})):[...String(e)].length<=Number(n)},CO=(e,t)=>{if(Co(e))return!0;const n=wl(t,"max");return Array.isArray(e)?e.length>0&&e.every(r=>CO(r,{max:n})):Number(e)<=Number(n)},OO=(e,t)=>{if(Co(e))return!0;const n=wl(t,"length");return Array.isArray(e)?e.every(r=>OO(r,{length:n})):[...String(e)].length>=Number(n)},RO=(e,t)=>{if(Co(e))return!0;const n=wl(t,"min");return Array.isArray(e)?e.length>0&&e.every(r=>RO(r,{min:n})):Number(e)>=Number(n)},PO=(e,t)=>Co(e)?!0:Array.isArray(e)?e.every(n=>PO(n,t)):Array.from(t).some(n=>n==e),QS=(e,t)=>Co(e)?!0:!PO(e,t),JS=e=>aG(e)||uG(e)||e===!1?!1:!!String(e).trim().length,cG={install(e){e.component("VeeForm",g3),e.component("VeeField",l3),e.component("ErrorMessage",$d),Or("required",JS),Or("tos",JS),Or("min",OO),Or("max",NO),Or("alpha_spaces",kO),Or("email",sG),Or("min_value",RO),Or("max_value",CO),Or("passwords_mismatch",oG),Or("excluded",QS),Or("country_excluded",QS),Hq({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short`,max:`The field ${t.field} is too long`,alpha_spaces:`The field ${t.field} may only contain alphabetic characters and spaces.`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,excluded:`You not allow to use this value for the field The field ${t.field}`,country_excluded:"Due to restrictions, we do not accept users from this location.",passwords_mismatch:"The passwords don't match.",tos:"You must accept the Terms of Service"};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1})}},lG={beforeMount(e,t){let n=`fa fa-${t.value} text-2xl`;t.arg==="full"&&(n=t.value),t.modifiers.right&&(n+=" float-right"),t.modifiers.left?n+=" text-yellow-400":n+="text-green-400",e.innerHTML+=`<i class="${n}"></i>`}};/*!
  * shared v9.5.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const iy=typeof window<"u",Oo=(e,t=!1)=>t?Symbol.for(e):Symbol(e),fG=(e,t,n)=>hG({l:e,k:t,s:n}),hG=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),tn=e=>typeof e=="number"&&isFinite(e),dG=e=>DO(e)==="[object Date]",wo=e=>DO(e)==="[object RegExp]",Hd=e=>$e(e)&&Object.keys(e).length===0,gn=Object.assign;let ZS;const bi=()=>ZS||(ZS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function eA(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const pG=Object.prototype.hasOwnProperty;function vb(e,t){return pG.call(e,t)}const kt=Array.isArray,Ut=e=>typeof e=="function",de=e=>typeof e=="string",ze=e=>typeof e=="boolean",dt=e=>e!==null&&typeof e=="object",xO=Object.prototype.toString,DO=e=>xO.call(e),$e=e=>{if(!dt(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},mG=e=>e==null?"":kt(e)||$e(e)&&e.toString===xO?JSON.stringify(e,null,2):String(e);function gG(e,t=""){return e.reduce((n,r,o)=>o===0?n+r:n+t+r,"")}function yb(e){let t=e;return()=>++t}function vG(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}/*!
  * message-compiler v9.5.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function yG(e,t,n){return{line:e,column:t,offset:n}}function oy(e,t,n){const r={start:e,end:t};return n!=null&&(r.source=n),r}const _G=/\{([0-9a-zA-Z]+)\}/g;function bG(e,...t){return t.length===1&&wG(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(_G,(n,r)=>t.hasOwnProperty(r)?t[r]:"")}const LO=Object.assign,tA=e=>typeof e=="string",wG=e=>e!==null&&typeof e=="object";function MO(e,t=""){return e.reduce((n,r,o)=>o===0?n+r:n+t+r,"")}const Me={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},EG={[Me.EXPECTED_TOKEN]:"Expected token: '{0}'",[Me.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Me.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Me.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Me.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Me.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Me.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Me.EMPTY_PLACEHOLDER]:"Empty placeholder",[Me.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Me.INVALID_LINKED_FORMAT]:"Invalid linked format",[Me.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Me.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Me.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Me.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Me.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Me.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function fu(e,t,n={}){const{domain:r,messages:o,args:s}=n,u=bG((o||EG)[e]||"",...s||[]),c=new SyntaxError(String(u));return c.code=e,t&&(c.location=t),c.domain=r,c}function IG(e){throw e}const vi=" ",TG="\r",xn=`
`,SG=String.fromCharCode(8232),AG=String.fromCharCode(8233);function kG(e){const t=e;let n=0,r=1,o=1,s=0;const u=Y=>t[Y]===TG&&t[Y+1]===xn,c=Y=>t[Y]===xn,f=Y=>t[Y]===AG,d=Y=>t[Y]===SG,g=Y=>u(Y)||c(Y)||f(Y)||d(Y),h=()=>n,p=()=>r,v=()=>o,_=()=>s,E=Y=>u(Y)||f(Y)||d(Y)?xn:t[Y],S=()=>E(n),b=()=>E(n+s);function k(){return s=0,g(n)&&(r++,o=0),u(n)&&n++,n++,o++,t[n]}function D(){return u(n+s)&&s++,s++,t[n+s]}function O(){n=0,r=1,o=1,s=0}function U(Y=0){s=Y}function L(){const Y=n+s;for(;Y!==n;)k();s=0}return{index:h,line:p,column:v,peekOffset:_,charAt:E,currentChar:S,currentPeek:b,next:k,peek:D,reset:O,resetPeek:U,skipToPeek:L}}const Yi=void 0,NG=".",nA="'",CG="tokenizer";function OG(e,t={}){const n=t.location!==!1,r=kG(e),o=()=>r.index(),s=()=>yG(r.line(),r.column(),r.index()),u=s(),c=o(),f={currentType:14,offset:c,startLoc:u,endLoc:u,lastType:14,lastOffset:c,lastStartLoc:u,lastEndLoc:u,braceNest:0,inLinked:!1,text:""},d=()=>f,{onError:g}=t;function h(T,I,C,...M){const B=d();if(I.column+=C,I.offset+=C,g){const Z=n?oy(B.startLoc,I):null,te=fu(T,Z,{domain:CG,args:M});g(te)}}function p(T,I,C){T.endLoc=s(),T.currentType=I;const M={type:I};return n&&(M.loc=oy(T.startLoc,T.endLoc)),C!=null&&(M.value=C),M}const v=T=>p(T,14);function _(T,I){return T.currentChar()===I?(T.next(),I):(h(Me.EXPECTED_TOKEN,s(),0,I),"")}function E(T){let I="";for(;T.currentPeek()===vi||T.currentPeek()===xn;)I+=T.currentPeek(),T.peek();return I}function S(T){const I=E(T);return T.skipToPeek(),I}function b(T){if(T===Yi)return!1;const I=T.charCodeAt(0);return I>=97&&I<=122||I>=65&&I<=90||I===95}function k(T){if(T===Yi)return!1;const I=T.charCodeAt(0);return I>=48&&I<=57}function D(T,I){const{currentType:C}=I;if(C!==2)return!1;E(T);const M=b(T.currentPeek());return T.resetPeek(),M}function O(T,I){const{currentType:C}=I;if(C!==2)return!1;E(T);const M=T.currentPeek()==="-"?T.peek():T.currentPeek(),B=k(M);return T.resetPeek(),B}function U(T,I){const{currentType:C}=I;if(C!==2)return!1;E(T);const M=T.currentPeek()===nA;return T.resetPeek(),M}function L(T,I){const{currentType:C}=I;if(C!==8)return!1;E(T);const M=T.currentPeek()===".";return T.resetPeek(),M}function Y(T,I){const{currentType:C}=I;if(C!==9)return!1;E(T);const M=b(T.currentPeek());return T.resetPeek(),M}function j(T,I){const{currentType:C}=I;if(!(C===8||C===12))return!1;E(T);const M=T.currentPeek()===":";return T.resetPeek(),M}function H(T,I){const{currentType:C}=I;if(C!==10)return!1;const M=()=>{const Z=T.currentPeek();return Z==="{"?b(T.peek()):Z==="@"||Z==="%"||Z==="|"||Z===":"||Z==="."||Z===vi||!Z?!1:Z===xn?(T.peek(),M()):b(Z)},B=M();return T.resetPeek(),B}function x(T){E(T);const I=T.currentPeek()==="|";return T.resetPeek(),I}function Ie(T){const I=E(T),C=T.currentPeek()==="%"&&T.peek()==="{";return T.resetPeek(),{isModulo:C,hasSpace:I.length>0}}function ie(T,I=!0){const C=(B=!1,Z="",te=!1)=>{const ae=T.currentPeek();return ae==="{"?Z==="%"?!1:B:ae==="@"||!ae?Z==="%"?!0:B:ae==="%"?(T.peek(),C(B,"%",!0)):ae==="|"?Z==="%"||te?!0:!(Z===vi||Z===xn):ae===vi?(T.peek(),C(!0,vi,te)):ae===xn?(T.peek(),C(!0,xn,te)):!0},M=C();return I&&T.resetPeek(),M}function we(T,I){const C=T.currentChar();return C===Yi?Yi:I(C)?(T.next(),C):null}function xe(T){return we(T,C=>{const M=C.charCodeAt(0);return M>=97&&M<=122||M>=65&&M<=90||M>=48&&M<=57||M===95||M===36})}function qe(T){return we(T,C=>{const M=C.charCodeAt(0);return M>=48&&M<=57})}function ce(T){return we(T,C=>{const M=C.charCodeAt(0);return M>=48&&M<=57||M>=65&&M<=70||M>=97&&M<=102})}function De(T){let I="",C="";for(;I=qe(T);)C+=I;return C}function pe(T){S(T);const I=T.currentChar();return I!=="%"&&h(Me.EXPECTED_TOKEN,s(),0,I),T.next(),"%"}function nt(T){let I="";for(;;){const C=T.currentChar();if(C==="{"||C==="}"||C==="@"||C==="|"||!C)break;if(C==="%")if(ie(T))I+=C,T.next();else break;else if(C===vi||C===xn)if(ie(T))I+=C,T.next();else{if(x(T))break;I+=C,T.next()}else I+=C,T.next()}return I}function lt(T){S(T);let I="",C="";for(;I=xe(T);)C+=I;return T.currentChar()===Yi&&h(Me.UNTERMINATED_CLOSING_BRACE,s(),0),C}function wt(T){S(T);let I="";return T.currentChar()==="-"?(T.next(),I+=`-${De(T)}`):I+=De(T),T.currentChar()===Yi&&h(Me.UNTERMINATED_CLOSING_BRACE,s(),0),I}function _t(T){S(T),_(T,"'");let I="",C="";const M=Z=>Z!==nA&&Z!==xn;for(;I=we(T,M);)I==="\\"?C+=st(T):C+=I;const B=T.currentChar();return B===xn||B===Yi?(h(Me.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),B===xn&&(T.next(),_(T,"'")),C):(_(T,"'"),C)}function st(T){const I=T.currentChar();switch(I){case"\\":case"'":return T.next(),`\\${I}`;case"u":return Jt(T,I,4);case"U":return Jt(T,I,6);default:return h(Me.UNKNOWN_ESCAPE_SEQUENCE,s(),0,I),""}}function Jt(T,I,C){_(T,I);let M="";for(let B=0;B<C;B++){const Z=ce(T);if(!Z){h(Me.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${I}${M}${T.currentChar()}`);break}M+=Z}return`\\${I}${M}`}function ve(T){S(T);let I="",C="";const M=B=>B!=="{"&&B!=="}"&&B!==vi&&B!==xn;for(;I=we(T,M);)C+=I;return C}function ye(T){let I="",C="";for(;I=xe(T);)C+=I;return C}function $(T){const I=(C=!1,M)=>{const B=T.currentChar();return B==="{"||B==="%"||B==="@"||B==="|"||B==="("||B===")"||!B||B===vi?M:B===xn||B===NG?(M+=B,T.next(),I(C,M)):(M+=B,T.next(),I(!0,M))};return I(!1,"")}function z(T){S(T);const I=_(T,"|");return S(T),I}function oe(T,I){let C=null;switch(T.currentChar()){case"{":return I.braceNest>=1&&h(Me.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),T.next(),C=p(I,2,"{"),S(T),I.braceNest++,C;case"}":return I.braceNest>0&&I.currentType===2&&h(Me.EMPTY_PLACEHOLDER,s(),0),T.next(),C=p(I,3,"}"),I.braceNest--,I.braceNest>0&&S(T),I.inLinked&&I.braceNest===0&&(I.inLinked=!1),C;case"@":return I.braceNest>0&&h(Me.UNTERMINATED_CLOSING_BRACE,s(),0),C=fe(T,I)||v(I),I.braceNest=0,C;default:let B=!0,Z=!0,te=!0;if(x(T))return I.braceNest>0&&h(Me.UNTERMINATED_CLOSING_BRACE,s(),0),C=p(I,1,z(T)),I.braceNest=0,I.inLinked=!1,C;if(I.braceNest>0&&(I.currentType===5||I.currentType===6||I.currentType===7))return h(Me.UNTERMINATED_CLOSING_BRACE,s(),0),I.braceNest=0,Se(T,I);if(B=D(T,I))return C=p(I,5,lt(T)),S(T),C;if(Z=O(T,I))return C=p(I,6,wt(T)),S(T),C;if(te=U(T,I))return C=p(I,7,_t(T)),S(T),C;if(!B&&!Z&&!te)return C=p(I,13,ve(T)),h(Me.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,C.value),S(T),C;break}return C}function fe(T,I){const{currentType:C}=I;let M=null;const B=T.currentChar();switch((C===8||C===9||C===12||C===10)&&(B===xn||B===vi)&&h(Me.INVALID_LINKED_FORMAT,s(),0),B){case"@":return T.next(),M=p(I,8,"@"),I.inLinked=!0,M;case".":return S(T),T.next(),p(I,9,".");case":":return S(T),T.next(),p(I,10,":");default:return x(T)?(M=p(I,1,z(T)),I.braceNest=0,I.inLinked=!1,M):L(T,I)||j(T,I)?(S(T),fe(T,I)):Y(T,I)?(S(T),p(I,12,ye(T))):H(T,I)?(S(T),B==="{"?oe(T,I)||M:p(I,11,$(T))):(C===8&&h(Me.INVALID_LINKED_FORMAT,s(),0),I.braceNest=0,I.inLinked=!1,Se(T,I))}}function Se(T,I){let C={type:14};if(I.braceNest>0)return oe(T,I)||v(I);if(I.inLinked)return fe(T,I)||v(I);switch(T.currentChar()){case"{":return oe(T,I)||v(I);case"}":return h(Me.UNBALANCED_CLOSING_BRACE,s(),0),T.next(),p(I,3,"}");case"@":return fe(T,I)||v(I);default:if(x(T))return C=p(I,1,z(T)),I.braceNest=0,I.inLinked=!1,C;const{isModulo:B,hasSpace:Z}=Ie(T);if(B)return Z?p(I,0,nt(T)):p(I,4,pe(T));if(ie(T))return p(I,0,nt(T));break}return C}function P(){const{currentType:T,offset:I,startLoc:C,endLoc:M}=f;return f.lastType=T,f.lastOffset=I,f.lastStartLoc=C,f.lastEndLoc=M,f.offset=o(),f.startLoc=s(),r.currentChar()===Yi?p(f,14):Se(r,f)}return{nextToken:P,currentOffset:o,currentPosition:s,context:d}}const RG="parser",PG=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function xG(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function DG(e={}){const t=e.location!==!1,{onError:n}=e;function r(b,k,D,O,...U){const L=b.currentPosition();if(L.offset+=O,L.column+=O,n){const Y=t?oy(D,L):null,j=fu(k,Y,{domain:RG,args:U});n(j)}}function o(b,k,D){const O={type:b};return t&&(O.start=k,O.end=k,O.loc={start:D,end:D}),O}function s(b,k,D,O){O&&(b.type=O),t&&(b.end=k,b.loc&&(b.loc.end=D))}function u(b,k){const D=b.context(),O=o(3,D.offset,D.startLoc);return O.value=k,s(O,b.currentOffset(),b.currentPosition()),O}function c(b,k){const D=b.context(),{lastOffset:O,lastStartLoc:U}=D,L=o(5,O,U);return L.index=parseInt(k,10),b.nextToken(),s(L,b.currentOffset(),b.currentPosition()),L}function f(b,k){const D=b.context(),{lastOffset:O,lastStartLoc:U}=D,L=o(4,O,U);return L.key=k,b.nextToken(),s(L,b.currentOffset(),b.currentPosition()),L}function d(b,k){const D=b.context(),{lastOffset:O,lastStartLoc:U}=D,L=o(9,O,U);return L.value=k.replace(PG,xG),b.nextToken(),s(L,b.currentOffset(),b.currentPosition()),L}function g(b){const k=b.nextToken(),D=b.context(),{lastOffset:O,lastStartLoc:U}=D,L=o(8,O,U);return k.type!==12?(r(b,Me.UNEXPECTED_EMPTY_LINKED_MODIFIER,D.lastStartLoc,0),L.value="",s(L,O,U),{nextConsumeToken:k,node:L}):(k.value==null&&r(b,Me.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,Zr(k)),L.value=k.value||"",s(L,b.currentOffset(),b.currentPosition()),{node:L})}function h(b,k){const D=b.context(),O=o(7,D.offset,D.startLoc);return O.value=k,s(O,b.currentOffset(),b.currentPosition()),O}function p(b){const k=b.context(),D=o(6,k.offset,k.startLoc);let O=b.nextToken();if(O.type===9){const U=g(b);D.modifier=U.node,O=U.nextConsumeToken||b.nextToken()}switch(O.type!==10&&r(b,Me.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Zr(O)),O=b.nextToken(),O.type===2&&(O=b.nextToken()),O.type){case 11:O.value==null&&r(b,Me.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Zr(O)),D.key=h(b,O.value||"");break;case 5:O.value==null&&r(b,Me.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Zr(O)),D.key=f(b,O.value||"");break;case 6:O.value==null&&r(b,Me.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Zr(O)),D.key=c(b,O.value||"");break;case 7:O.value==null&&r(b,Me.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Zr(O)),D.key=d(b,O.value||"");break;default:r(b,Me.UNEXPECTED_EMPTY_LINKED_KEY,k.lastStartLoc,0);const U=b.context(),L=o(7,U.offset,U.startLoc);return L.value="",s(L,U.offset,U.startLoc),D.key=L,s(D,U.offset,U.startLoc),{nextConsumeToken:O,node:D}}return s(D,b.currentOffset(),b.currentPosition()),{node:D}}function v(b){const k=b.context(),D=k.currentType===1?b.currentOffset():k.offset,O=k.currentType===1?k.endLoc:k.startLoc,U=o(2,D,O);U.items=[];let L=null;do{const H=L||b.nextToken();switch(L=null,H.type){case 0:H.value==null&&r(b,Me.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Zr(H)),U.items.push(u(b,H.value||""));break;case 6:H.value==null&&r(b,Me.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Zr(H)),U.items.push(c(b,H.value||""));break;case 5:H.value==null&&r(b,Me.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Zr(H)),U.items.push(f(b,H.value||""));break;case 7:H.value==null&&r(b,Me.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Zr(H)),U.items.push(d(b,H.value||""));break;case 8:const x=p(b);U.items.push(x.node),L=x.nextConsumeToken||null;break}}while(k.currentType!==14&&k.currentType!==1);const Y=k.currentType===1?k.lastOffset:b.currentOffset(),j=k.currentType===1?k.lastEndLoc:b.currentPosition();return s(U,Y,j),U}function _(b,k,D,O){const U=b.context();let L=O.items.length===0;const Y=o(1,k,D);Y.cases=[],Y.cases.push(O);do{const j=v(b);L||(L=j.items.length===0),Y.cases.push(j)}while(U.currentType!==14);return L&&r(b,Me.MUST_HAVE_MESSAGES_IN_PLURAL,D,0),s(Y,b.currentOffset(),b.currentPosition()),Y}function E(b){const k=b.context(),{offset:D,startLoc:O}=k,U=v(b);return k.currentType===14?U:_(b,D,O,U)}function S(b){const k=OG(b,LO({},e)),D=k.context(),O=o(0,D.offset,D.startLoc);return t&&O.loc&&(O.loc.source=b),O.body=E(k),e.onCacheKey&&(O.cacheKey=e.onCacheKey(b)),D.currentType!==14&&r(k,Me.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,b[D.offset]||""),s(O,k.currentOffset(),k.currentPosition()),O}return{parse:S}}function Zr(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function LG(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function rA(e,t){for(let n=0;n<e.length;n++)_b(e[n],t)}function _b(e,t){switch(e.type){case 1:rA(e.cases,t),t.helper("plural");break;case 2:rA(e.items,t);break;case 6:_b(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function MG(e,t={}){const n=LG(e);n.helper("normalize"),e.body&&_b(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function FG(e){const t=e.body;return t.type===2?iA(t):t.cases.forEach(n=>iA(n)),e}function iA(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=MO(t);for(let n=0;n<e.items.length;n++){const r=e.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const UG="minifier";function ma(e){switch(e.t=e.type,e.type){case 0:const t=e;ma(t.body),t.b=t.body,delete t.body;break;case 1:const n=e,r=n.cases;for(let g=0;g<r.length;g++)ma(r[g]);n.c=r,delete n.cases;break;case 2:const o=e,s=o.items;for(let g=0;g<s.length;g++)ma(s[g]);o.i=s,delete o.items,o.static&&(o.s=o.static,delete o.static);break;case 3:case 9:case 8:case 7:const u=e;u.value&&(u.v=u.value,delete u.value);break;case 6:const c=e;ma(c.key),c.k=c.key,delete c.key,c.modifier&&(ma(c.modifier),c.m=c.modifier,delete c.modifier);break;case 5:const f=e;f.i=f.index,delete f.index;break;case 4:const d=e;d.k=d.key,delete d.key;break;default:throw fu(Me.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:UG,args:[e.type]})}delete e.type}const VG="parser";function jG(e,t){const{sourceMap:n,filename:r,breakLineCode:o,needIndent:s}=t,u=t.location!==!1,c={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:o,needIndent:s,indentLevel:0};u&&e.loc&&(c.source=e.loc.source);const f=()=>c;function d(S,b){c.code+=S}function g(S,b=!0){const k=b?o:"";d(s?k+"  ".repeat(S):k)}function h(S=!0){const b=++c.indentLevel;S&&g(b)}function p(S=!0){const b=--c.indentLevel;S&&g(b)}function v(){g(c.indentLevel)}return{context:f,push:d,indent:h,deindent:p,newline:v,helper:S=>`_${S}`,needIndent:()=>c.needIndent}}function BG(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),Xa(e,t.key),t.modifier?(e.push(", "),Xa(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function $G(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const o=t.items.length;for(let s=0;s<o&&(Xa(e,t.items[s]),s!==o-1);s++)e.push(", ");e.deindent(r()),e.push("])")}function qG(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const o=t.cases.length;for(let s=0;s<o&&(Xa(e,t.cases[s]),s!==o-1);s++)e.push(", ");e.deindent(r()),e.push("])")}}function HG(e,t){t.body?Xa(e,t.body):e.push("null")}function Xa(e,t){const{helper:n}=e;switch(t.type){case 0:HG(e,t);break;case 1:qG(e,t);break;case 2:$G(e,t);break;case 6:BG(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw fu(Me.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:VG,args:[t.type]})}}const KG=(e,t={})=>{const n=tA(t.mode)?t.mode:"normal",r=tA(t.filename)?t.filename:"message.intl",o=!!t.sourceMap,s=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,u=t.needIndent?t.needIndent:n!=="arrow",c=e.helpers||[],f=jG(e,{mode:n,filename:r,sourceMap:o,breakLineCode:s,needIndent:u});f.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),f.indent(u),c.length>0&&(f.push(`const { ${MO(c.map(h=>`${h}: _${h}`),", ")} } = ctx`),f.newline()),f.push("return "),Xa(f,e),f.deindent(u),f.push("}"),delete e.helpers;const{code:d,map:g}=f.context();return{ast:e,code:d,map:g?g.toJSON():void 0}};function GG(e,t={}){const n=LO({},t),r=!!n.jit,o=!!n.minify,s=n.optimize==null?!0:n.optimize,c=DG(n).parse(e);return r?(s&&FG(c),o&&ma(c),{ast:c,code:""}):(MG(c,n),KG(c,n))}/*!
  * core-base v9.5.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function WG(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(bi().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(bi().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(bi().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Ro=[];Ro[0]={w:[0],i:[3,0],"[":[4],o:[7]};Ro[1]={w:[1],".":[2],"[":[4],o:[7]};Ro[2]={w:[2],i:[3,0],0:[3,0]};Ro[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Ro[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Ro[5]={"'":[4,0],o:8,l:[5,0]};Ro[6]={'"':[4,0],o:8,l:[6,0]};const zG=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function YG(e){return zG.test(e)}function XG(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function QG(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function JG(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:YG(t)?XG(t):"*"+t}function ZG(e){const t=[];let n=-1,r=0,o=0,s,u,c,f,d,g,h;const p=[];p[0]=()=>{u===void 0?u=c:u+=c},p[1]=()=>{u!==void 0&&(t.push(u),u=void 0)},p[2]=()=>{p[0](),o++},p[3]=()=>{if(o>0)o--,r=4,p[0]();else{if(o=0,u===void 0||(u=JG(u),u===!1))return!1;p[1]()}};function v(){const _=e[n+1];if(r===5&&_==="'"||r===6&&_==='"')return n++,c="\\"+_,p[0](),!0}for(;r!==null;)if(n++,s=e[n],!(s==="\\"&&v())){if(f=QG(s),h=Ro[r],d=h[f]||h.l||8,d===8||(r=d[0],d[1]!==void 0&&(g=p[d[1]],g&&(c=s,g()===!1))))return;if(r===7)return t}}const oA=new Map;function eW(e,t){return dt(e)?e[t]:null}function tW(e,t){if(!dt(e))return null;let n=oA.get(t);if(n||(n=ZG(t),n&&oA.set(t,n)),!n)return null;const r=n.length;let o=e,s=0;for(;s<r;){const u=o[n[s]];if(u===void 0)return null;o=u,s++}return o}const nW=e=>e,rW=e=>"",iW="text",oW=e=>e.length===0?"":gG(e),sW=mG;function sA(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function aW(e){const t=tn(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(tn(e.named.count)||tn(e.named.n))?tn(e.named.count)?e.named.count:tn(e.named.n)?e.named.n:t:t}function uW(e,t){t.count||(t.count=e),t.n||(t.n=e)}function cW(e={}){const t=e.locale,n=aW(e),r=dt(e.pluralRules)&&de(t)&&Ut(e.pluralRules[t])?e.pluralRules[t]:sA,o=dt(e.pluralRules)&&de(t)&&Ut(e.pluralRules[t])?sA:void 0,s=b=>b[r(n,b.length,o)],u=e.list||[],c=b=>u[b],f=e.named||{};tn(e.pluralIndex)&&uW(n,f);const d=b=>f[b];function g(b){const k=Ut(e.messages)?e.messages(b):dt(e.messages)?e.messages[b]:!1;return k||(e.parent?e.parent.message(b):rW)}const h=b=>e.modifiers?e.modifiers[b]:nW,p=$e(e.processor)&&Ut(e.processor.normalize)?e.processor.normalize:oW,v=$e(e.processor)&&Ut(e.processor.interpolate)?e.processor.interpolate:sW,_=$e(e.processor)&&de(e.processor.type)?e.processor.type:iW,S={list:c,named:d,plural:s,linked:(b,...k)=>{const[D,O]=k;let U="text",L="";k.length===1?dt(D)?(L=D.modifier||L,U=D.type||U):de(D)&&(L=D||L):k.length===2&&(de(D)&&(L=D||L),de(O)&&(U=O||U));const Y=g(b)(S),j=U==="vnode"&&kt(Y)&&L?Y[0]:Y;return L?h(L)(j,U):j},message:g,type:_,interpolate:v,normalize:p,values:gn({},u,f)};return S}let zc=null;function lW(e){zc=e}function fW(e,t,n){zc&&zc.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const hW=dW("function:translate");function dW(e){return t=>zc&&zc.emit(e,t)}const pW={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7,__EXTEND_POINT__:8};function bb(e,t){return t.locale!=null?aA(t.locale):aA(e.locale)}let Jg;function aA(e){return de(e)?e:Jg!=null&&e.resolvedOnce?Jg:Jg=e()}function mW(e,t,n){return[...new Set([n,...kt(t)?t:dt(t)?Object.keys(t):de(t)?[t]:[n]])]}function FO(e,t,n){const r=de(n)?n:Qa,o=e;o.__localeChainCache||(o.__localeChainCache=new Map);let s=o.__localeChainCache.get(r);if(!s){s=[];let u=[n];for(;kt(u);)u=uA(s,u,t);const c=kt(t)||!$e(t)?t:t.default?t.default:null;u=de(c)?[c]:c,kt(u)&&uA(s,u,!1),o.__localeChainCache.set(r,s)}return s}function uA(e,t,n){let r=!0;for(let o=0;o<t.length&&ze(r);o++){const s=t[o];de(s)&&(r=gW(e,t[o],n))}return r}function gW(e,t,n){let r;const o=t.split("-");do{const s=o.join("-");r=vW(e,s,n),o.splice(-1,1)}while(o.length&&r===!0);return r}function vW(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const o=t.replace(/!/g,"");e.push(o),(kt(n)||$e(n))&&n[o]&&(r=n[o])}return r}const yW="9.5.0",Kd=-1,Qa="en-US",cA="",lA=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function _W(){return{upper:(e,t)=>t==="text"&&de(e)?e.toUpperCase():t==="vnode"&&dt(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&de(e)?e.toLowerCase():t==="vnode"&&dt(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&de(e)?lA(e):t==="vnode"&&dt(e)&&"__v_isVNode"in e?lA(e.children):e}}let UO;function fA(e){UO=e}let VO;function bW(e){VO=e}let jO;function wW(e){jO=e}let BO=null;const hA=e=>{BO=e},EW=()=>BO;let $O=null;const dA=e=>{$O=e},IW=()=>$O;let pA=0;function TW(e={}){const t=Ut(e.onWarn)?e.onWarn:vG,n=de(e.version)?e.version:yW,r=de(e.locale)||Ut(e.locale)?e.locale:Qa,o=Ut(r)?Qa:r,s=kt(e.fallbackLocale)||$e(e.fallbackLocale)||de(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:o,u=$e(e.messages)?e.messages:{[o]:{}},c=$e(e.datetimeFormats)?e.datetimeFormats:{[o]:{}},f=$e(e.numberFormats)?e.numberFormats:{[o]:{}},d=gn({},e.modifiers||{},_W()),g=e.pluralRules||{},h=Ut(e.missing)?e.missing:null,p=ze(e.missingWarn)||wo(e.missingWarn)?e.missingWarn:!0,v=ze(e.fallbackWarn)||wo(e.fallbackWarn)?e.fallbackWarn:!0,_=!!e.fallbackFormat,E=!!e.unresolving,S=Ut(e.postTranslation)?e.postTranslation:null,b=$e(e.processor)?e.processor:null,k=ze(e.warnHtmlMessage)?e.warnHtmlMessage:!0,D=!!e.escapeParameter,O=Ut(e.messageCompiler)?e.messageCompiler:UO,U=Ut(e.messageResolver)?e.messageResolver:VO||eW,L=Ut(e.localeFallbacker)?e.localeFallbacker:jO||mW,Y=dt(e.fallbackContext)?e.fallbackContext:void 0,j=e,H=dt(j.__datetimeFormatters)?j.__datetimeFormatters:new Map,x=dt(j.__numberFormatters)?j.__numberFormatters:new Map,Ie=dt(j.__meta)?j.__meta:{};pA++;const ie={version:n,cid:pA,locale:r,fallbackLocale:s,messages:u,modifiers:d,pluralRules:g,missing:h,missingWarn:p,fallbackWarn:v,fallbackFormat:_,unresolving:E,postTranslation:S,processor:b,warnHtmlMessage:k,escapeParameter:D,messageCompiler:O,messageResolver:U,localeFallbacker:L,fallbackContext:Y,onWarn:t,__meta:Ie};return ie.datetimeFormats=c,ie.numberFormats=f,ie.__datetimeFormatters=H,ie.__numberFormatters=x,__INTLIFY_PROD_DEVTOOLS__&&fW(ie,n,Ie),ie}function wb(e,t,n,r,o){const{missing:s,onWarn:u}=e;if(s!==null){const c=s(e,n,t,o);return de(c)?c:t}else return t}function nc(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function Zg(e){return n=>SW(n,e)}function SW(e,t){const n=t.b||t.body;if((n.t||n.type)===1){const r=n,o=r.c||r.cases;return e.plural(o.reduce((s,u)=>[...s,mA(e,u)],[]))}else return mA(e,n)}function mA(e,t){const n=t.s||t.static;if(n)return e.type==="text"?n:e.normalize([n]);{const r=(t.i||t.items).reduce((o,s)=>[...o,sy(e,s)],[]);return e.normalize(r)}}function sy(e,t){const n=t.t||t.type;switch(n){case 3:const r=t;return r.v||r.value;case 9:const o=t;return o.v||o.value;case 4:const s=t;return e.interpolate(e.named(s.k||s.key));case 5:const u=t;return e.interpolate(e.list(u.i!=null?u.i:u.index));case 6:const c=t,f=c.m||c.modifier;return e.linked(sy(e,c.k||c.key),f?sy(e,f):void 0,e.type);case 7:const d=t;return d.v||d.value;case 8:const g=t;return g.v||g.value;default:throw new Error(`unhandled node type on format message part: ${n}`)}}const qO=Me.__EXTEND_POINT__,Hf=yb(qO),uo={INVALID_ARGUMENT:qO,INVALID_DATE_ARGUMENT:Hf(),INVALID_ISO_DATE_ARGUMENT:Hf(),NOT_SUPPORT_NON_STRING_MESSAGE:Hf(),__EXTEND_POINT__:Hf()};function ds(e){return fu(e,null,void 0)}const HO=e=>e;let ya=Object.create(null);const Yc=e=>dt(e)&&(e.t===0||e.type===0)&&("b"in e||"body"in e);function KO(e,t={}){let n=!1;const r=t.onError||IG;return t.onError=o=>{n=!0,r(o)},{...GG(e,t),detectError:n}}const AW=(e,t)=>{if(!de(e))throw ds(uo.NOT_SUPPORT_NON_STRING_MESSAGE);{ze(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||HO)(e),o=ya[r];if(o)return o;const{code:s,detectError:u}=KO(e,t),c=new Function(`return ${s}`)();return u?c:ya[r]=c}};function kW(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&de(e)){ze(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||HO)(e),o=ya[r];if(o)return o;const{ast:s,detectError:u}=KO(e,{...t,location:!1,jit:!0}),c=Zg(s);return u?c:ya[r]=c}else{const n=e.cacheKey;if(n){const r=ya[n];return r||(ya[n]=Zg(e))}else return Zg(e)}}const gA=()=>"",xr=e=>Ut(e);function vA(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:o,messageCompiler:s,fallbackLocale:u,messages:c}=e,[f,d]=ay(...t),g=ze(d.missingWarn)?d.missingWarn:e.missingWarn,h=ze(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn,p=ze(d.escapeParameter)?d.escapeParameter:e.escapeParameter,v=!!d.resolvedMessage,_=de(d.default)||ze(d.default)?ze(d.default)?s?f:()=>f:d.default:n?s?f:()=>f:"",E=n||_!=="",S=bb(e,d);p&&NW(d);let[b,k,D]=v?[f,S,c[S]||{}]:GO(e,f,S,u,h,g),O=b,U=f;if(!v&&!(de(O)||Yc(O)||xr(O))&&E&&(O=_,U=O),!v&&(!(de(O)||Yc(O)||xr(O))||!de(k)))return o?Kd:f;let L=!1;const Y=()=>{L=!0},j=xr(O)?O:WO(e,f,k,O,U,Y);if(L)return O;const H=RW(e,k,D,d),x=cW(H),Ie=CW(e,j,x),ie=r?r(Ie,f):Ie;if(__INTLIFY_PROD_DEVTOOLS__){const we={timestamp:Date.now(),key:de(f)?f:xr(O)?O.key:"",locale:k||(xr(O)?O.locale:""),format:de(O)?O:xr(O)?O.source:"",message:ie};we.meta=gn({},e.__meta,EW()||{}),hW(we)}return ie}function NW(e){kt(e.list)?e.list=e.list.map(t=>de(t)?eA(t):t):dt(e.named)&&Object.keys(e.named).forEach(t=>{de(e.named[t])&&(e.named[t]=eA(e.named[t]))})}function GO(e,t,n,r,o,s){const{messages:u,onWarn:c,messageResolver:f,localeFallbacker:d}=e,g=d(e,r,n);let h={},p,v=null;const _="translate";for(let E=0;E<g.length&&(p=g[E],h=u[p]||{},(v=f(h,t))===null&&(v=h[t]),!(de(v)||Yc(v)||xr(v)));E++){const S=wb(e,t,p,s,_);S!==t&&(v=S)}return[v,p,h]}function WO(e,t,n,r,o,s){const{messageCompiler:u,warnHtmlMessage:c}=e;if(xr(r)){const d=r;return d.locale=d.locale||n,d.key=d.key||t,d}if(u==null){const d=()=>r;return d.locale=n,d.key=t,d}const f=u(r,OW(e,n,o,r,c,s));return f.locale=n,f.key=t,f.source=r,f}function CW(e,t,n){return t(n)}function ay(...e){const[t,n,r]=e,o={};if(!de(t)&&!tn(t)&&!xr(t)&&!Yc(t))throw ds(uo.INVALID_ARGUMENT);const s=tn(t)?String(t):(xr(t),t);return tn(n)?o.plural=n:de(n)?o.default=n:$e(n)&&!Hd(n)?o.named=n:kt(n)&&(o.list=n),tn(r)?o.plural=r:de(r)?o.default=r:$e(r)&&gn(o,r),[s,o]}function OW(e,t,n,r,o,s){return{locale:t,key:n,warnHtmlMessage:o,onError:u=>{throw s&&s(u),u},onCacheKey:u=>fG(t,n,u)}}function RW(e,t,n,r){const{modifiers:o,pluralRules:s,messageResolver:u,fallbackLocale:c,fallbackWarn:f,missingWarn:d,fallbackContext:g}=e,p={locale:t,modifiers:o,pluralRules:s,messages:v=>{let _=u(n,v);if(_==null&&g){const[,,E]=GO(g,v,t,c,f,d);_=u(E,v)}if(de(_)||Yc(_)){let E=!1;const b=WO(e,v,t,_,v,()=>{E=!0});return E?gA:b}else return xr(_)?_:gA}};return e.processor&&(p.processor=e.processor),r.list&&(p.list=r.list),r.named&&(p.named=r.named),tn(r.plural)&&(p.pluralIndex=r.plural),p}function yA(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:o,onWarn:s,localeFallbacker:u}=e,{__datetimeFormatters:c}=e,[f,d,g,h]=uy(...t),p=ze(g.missingWarn)?g.missingWarn:e.missingWarn;ze(g.fallbackWarn)?g.fallbackWarn:e.fallbackWarn;const v=!!g.part,_=bb(e,g),E=u(e,o,_);if(!de(f)||f==="")return new Intl.DateTimeFormat(_,h).format(d);let S={},b,k=null;const D="datetime format";for(let L=0;L<E.length&&(b=E[L],S=n[b]||{},k=S[f],!$e(k));L++)wb(e,f,b,p,D);if(!$e(k)||!de(b))return r?Kd:f;let O=`${b}__${f}`;Hd(h)||(O=`${O}__${JSON.stringify(h)}`);let U=c.get(O);return U||(U=new Intl.DateTimeFormat(b,gn({},k,h)),c.set(O,U)),v?U.formatToParts(d):U.format(d)}const zO=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function uy(...e){const[t,n,r,o]=e,s={};let u={},c;if(de(t)){const f=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!f)throw ds(uo.INVALID_ISO_DATE_ARGUMENT);const d=f[3]?f[3].trim().startsWith("T")?`${f[1].trim()}${f[3].trim()}`:`${f[1].trim()}T${f[3].trim()}`:f[1].trim();c=new Date(d);try{c.toISOString()}catch{throw ds(uo.INVALID_ISO_DATE_ARGUMENT)}}else if(dG(t)){if(isNaN(t.getTime()))throw ds(uo.INVALID_DATE_ARGUMENT);c=t}else if(tn(t))c=t;else throw ds(uo.INVALID_ARGUMENT);return de(n)?s.key=n:$e(n)&&Object.keys(n).forEach(f=>{zO.includes(f)?u[f]=n[f]:s[f]=n[f]}),de(r)?s.locale=r:$e(r)&&(u=r),$e(o)&&(u=o),[s.key||"",c,s,u]}function _A(e,t,n){const r=e;for(const o in n){const s=`${t}__${o}`;r.__datetimeFormatters.has(s)&&r.__datetimeFormatters.delete(s)}}function bA(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:o,onWarn:s,localeFallbacker:u}=e,{__numberFormatters:c}=e,[f,d,g,h]=cy(...t),p=ze(g.missingWarn)?g.missingWarn:e.missingWarn;ze(g.fallbackWarn)?g.fallbackWarn:e.fallbackWarn;const v=!!g.part,_=bb(e,g),E=u(e,o,_);if(!de(f)||f==="")return new Intl.NumberFormat(_,h).format(d);let S={},b,k=null;const D="number format";for(let L=0;L<E.length&&(b=E[L],S=n[b]||{},k=S[f],!$e(k));L++)wb(e,f,b,p,D);if(!$e(k)||!de(b))return r?Kd:f;let O=`${b}__${f}`;Hd(h)||(O=`${O}__${JSON.stringify(h)}`);let U=c.get(O);return U||(U=new Intl.NumberFormat(b,gn({},k,h)),c.set(O,U)),v?U.formatToParts(d):U.format(d)}const YO=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function cy(...e){const[t,n,r,o]=e,s={};let u={};if(!tn(t))throw ds(uo.INVALID_ARGUMENT);const c=t;return de(n)?s.key=n:$e(n)&&Object.keys(n).forEach(f=>{YO.includes(f)?u[f]=n[f]:s[f]=n[f]}),de(r)?s.locale=r:$e(r)&&(u=r),$e(o)&&(u=o),[s.key||"",c,s,u]}function wA(e,t,n){const r=e;for(const o in n){const s=`${t}__${o}`;r.__numberFormatters.has(s)&&r.__numberFormatters.delete(s)}}WG();/*!
  * vue-i18n v9.5.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const PW="9.5.0";function xW(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(bi().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(bi().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(bi().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(bi().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(bi().__INTLIFY_PROD_DEVTOOLS__=!1)}const XO=pW.__EXTEND_POINT__,Xi=yb(XO);Xi(),Xi(),Xi(),Xi(),Xi(),Xi(),Xi(),Xi();const QO=uo.__EXTEND_POINT__,Wn=yb(QO),zt={UNEXPECTED_RETURN_TYPE:QO,INVALID_ARGUMENT:Wn(),MUST_BE_CALL_SETUP_TOP:Wn(),NOT_INSTALLED:Wn(),NOT_AVAILABLE_IN_LEGACY_MODE:Wn(),REQUIRED_VALUE:Wn(),INVALID_VALUE:Wn(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Wn(),NOT_INSTALLED_WITH_PROVIDE:Wn(),UNEXPECTED_ERROR:Wn(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Wn(),BRIDGE_SUPPORT_VUE_2_ONLY:Wn(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Wn(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Wn(),__EXTEND_POINT__:Wn()};function on(e,...t){return fu(e,null,void 0)}const ly=Oo("__translateVNode"),fy=Oo("__datetimeParts"),hy=Oo("__numberParts"),JO=Oo("__setPluralRules"),ZO=Oo("__injectWithOption"),dy=Oo("__dispose");function py(e){if(!dt(e))return e;for(const t in e)if(vb(e,t))if(!t.includes("."))dt(e[t])&&py(e[t]);else{const n=t.split("."),r=n.length-1;let o=e,s=!1;for(let u=0;u<r;u++){if(n[u]in o||(o[n[u]]={}),!dt(o[n[u]])){s=!0;break}o=o[n[u]]}s||(o[n[r]]=e[t],delete e[t]),dt(o[n[r]])&&py(o[n[r]])}return e}function Gd(e,t){const{messages:n,__i18n:r,messageResolver:o,flatJson:s}=t,u=$e(n)?n:kt(r)?{}:{[e]:{}};if(kt(r)&&r.forEach(c=>{if("locale"in c&&"resource"in c){const{locale:f,resource:d}=c;f?(u[f]=u[f]||{},_c(d,u[f])):_c(d,u)}else de(c)&&_c(JSON.parse(c),u)}),o==null&&s)for(const c in u)vb(u,c)&&py(u[c]);return u}const Kf=e=>!dt(e)||kt(e);function _c(e,t){if(Kf(e)||Kf(t))throw on(zt.INVALID_VALUE);for(const n in e)vb(e,n)&&(Kf(e[n])||Kf(t[n])?t[n]=e[n]:_c(e[n],t[n]))}function eR(e){return e.type}function tR(e,t,n){let r=dt(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=Gd(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const o=Object.keys(r);o.length&&o.forEach(s=>{e.mergeLocaleMessage(s,r[s])});{if(dt(t.datetimeFormats)){const s=Object.keys(t.datetimeFormats);s.length&&s.forEach(u=>{e.mergeDateTimeFormat(u,t.datetimeFormats[u])})}if(dt(t.numberFormats)){const s=Object.keys(t.numberFormats);s.length&&s.forEach(u=>{e.mergeNumberFormat(u,t.numberFormats[u])})}}}function EA(e){return Re(Jc,null,e,0)}const IA="__INTLIFY_META__";let TA=0;function SA(e){return(t,n,r,o)=>e(n,r,ui()||void 0,o)}const DW=()=>{const e=ui();let t=null;return e&&(t=eR(e)[IA])?{[IA]:t}:null};function Eb(e={},t){const{__root:n,__injectWithOption:r}=e,o=n===void 0;let s=ze(e.inheritLocale)?e.inheritLocale:!0;const u=St(n&&s?n.locale.value:de(e.locale)?e.locale:Qa),c=St(n&&s?n.fallbackLocale.value:de(e.fallbackLocale)||kt(e.fallbackLocale)||$e(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:u.value),f=St(Gd(u.value,e)),d=St($e(e.datetimeFormats)?e.datetimeFormats:{[u.value]:{}}),g=St($e(e.numberFormats)?e.numberFormats:{[u.value]:{}});let h=n?n.missingWarn:ze(e.missingWarn)||wo(e.missingWarn)?e.missingWarn:!0,p=n?n.fallbackWarn:ze(e.fallbackWarn)||wo(e.fallbackWarn)?e.fallbackWarn:!0,v=n?n.fallbackRoot:ze(e.fallbackRoot)?e.fallbackRoot:!0,_=!!e.fallbackFormat,E=Ut(e.missing)?e.missing:null,S=Ut(e.missing)?SA(e.missing):null,b=Ut(e.postTranslation)?e.postTranslation:null,k=n?n.warnHtmlMessage:ze(e.warnHtmlMessage)?e.warnHtmlMessage:!0,D=!!e.escapeParameter;const O=n?n.modifiers:$e(e.modifiers)?e.modifiers:{};let U=e.pluralRules||n&&n.pluralRules,L;L=(()=>{o&&dA(null);const V={version:PW,locale:u.value,fallbackLocale:c.value,messages:f.value,modifiers:O,pluralRules:U,missing:S===null?void 0:S,missingWarn:h,fallbackWarn:p,fallbackFormat:_,unresolving:!0,postTranslation:b===null?void 0:b,warnHtmlMessage:k,escapeParameter:D,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};V.datetimeFormats=d.value,V.numberFormats=g.value,V.__datetimeFormatters=$e(L)?L.__datetimeFormatters:void 0,V.__numberFormatters=$e(L)?L.__numberFormatters:void 0;const N=TW(V);return o&&dA(N),N})(),nc(L,u.value,c.value);function j(){return[u.value,c.value,f.value,d.value,g.value]}const H=Le({get:()=>u.value,set:V=>{u.value=V,L.locale=u.value}}),x=Le({get:()=>c.value,set:V=>{c.value=V,L.fallbackLocale=c.value,nc(L,u.value,V)}}),Ie=Le(()=>f.value),ie=Le(()=>d.value),we=Le(()=>g.value);function xe(){return Ut(b)?b:null}function qe(V){b=V,L.postTranslation=V}function ce(){return E}function De(V){V!==null&&(S=SA(V)),E=V,L.missing=S}const pe=(V,N,F,q,J,ge)=>{j();let he;try{__INTLIFY_PROD_DEVTOOLS__&&hA(DW()),o||(L.fallbackContext=n?IW():void 0),he=V(L)}finally{__INTLIFY_PROD_DEVTOOLS__&&hA(null),o||(L.fallbackContext=void 0)}if(tn(he)&&he===Kd){const[Fe,Ze]=N();return n&&v?q(n):J(Fe)}else{if(ge(he))return he;throw on(zt.UNEXPECTED_RETURN_TYPE)}};function nt(...V){return pe(N=>Reflect.apply(vA,null,[N,...V]),()=>ay(...V),"translate",N=>Reflect.apply(N.t,N,[...V]),N=>N,N=>de(N))}function lt(...V){const[N,F,q]=V;if(q&&!dt(q))throw on(zt.INVALID_ARGUMENT);return nt(N,F,gn({resolvedMessage:!0},q||{}))}function wt(...V){return pe(N=>Reflect.apply(yA,null,[N,...V]),()=>uy(...V),"datetime format",N=>Reflect.apply(N.d,N,[...V]),()=>cA,N=>de(N))}function _t(...V){return pe(N=>Reflect.apply(bA,null,[N,...V]),()=>cy(...V),"number format",N=>Reflect.apply(N.n,N,[...V]),()=>cA,N=>de(N))}function st(V){return V.map(N=>de(N)||tn(N)||ze(N)?EA(String(N)):N)}const ve={normalize:st,interpolate:V=>V,type:"vnode"};function ye(...V){return pe(N=>{let F;const q=N;try{q.processor=ve,F=Reflect.apply(vA,null,[q,...V])}finally{q.processor=null}return F},()=>ay(...V),"translate",N=>N[ly](...V),N=>[EA(N)],N=>kt(N))}function $(...V){return pe(N=>Reflect.apply(bA,null,[N,...V]),()=>cy(...V),"number format",N=>N[hy](...V),()=>[],N=>de(N)||kt(N))}function z(...V){return pe(N=>Reflect.apply(yA,null,[N,...V]),()=>uy(...V),"datetime format",N=>N[fy](...V),()=>[],N=>de(N)||kt(N))}function oe(V){U=V,L.pluralRules=U}function fe(V,N){if(!V)return!1;const F=de(N)?N:u.value,q=T(F);return L.messageResolver(q,V)!==null}function Se(V){let N=null;const F=FO(L,c.value,u.value);for(let q=0;q<F.length;q++){const J=f.value[F[q]]||{},ge=L.messageResolver(J,V);if(ge!=null){N=ge;break}}return N}function P(V){const N=Se(V);return N??(n?n.tm(V)||{}:{})}function T(V){return f.value[V]||{}}function I(V,N){f.value[V]=N,L.messages=f.value}function C(V,N){f.value[V]=f.value[V]||{},_c(N,f.value[V]),L.messages=f.value}function M(V){return d.value[V]||{}}function B(V,N){d.value[V]=N,L.datetimeFormats=d.value,_A(L,V,N)}function Z(V,N){d.value[V]=gn(d.value[V]||{},N),L.datetimeFormats=d.value,_A(L,V,N)}function te(V){return g.value[V]||{}}function ae(V,N){g.value[V]=N,L.numberFormats=g.value,wA(L,V,N)}function re(V,N){g.value[V]=gn(g.value[V]||{},N),L.numberFormats=g.value,wA(L,V,N)}TA++,n&&iy&&(Sn(n.locale,V=>{s&&(u.value=V,L.locale=V,nc(L,u.value,c.value))}),Sn(n.fallbackLocale,V=>{s&&(c.value=V,L.fallbackLocale=V,nc(L,u.value,c.value))}));const le={id:TA,locale:H,fallbackLocale:x,get inheritLocale(){return s},set inheritLocale(V){s=V,V&&n&&(u.value=n.locale.value,c.value=n.fallbackLocale.value,nc(L,u.value,c.value))},get availableLocales(){return Object.keys(f.value).sort()},messages:Ie,get modifiers(){return O},get pluralRules(){return U||{}},get isGlobal(){return o},get missingWarn(){return h},set missingWarn(V){h=V,L.missingWarn=h},get fallbackWarn(){return p},set fallbackWarn(V){p=V,L.fallbackWarn=p},get fallbackRoot(){return v},set fallbackRoot(V){v=V},get fallbackFormat(){return _},set fallbackFormat(V){_=V,L.fallbackFormat=_},get warnHtmlMessage(){return k},set warnHtmlMessage(V){k=V,L.warnHtmlMessage=V},get escapeParameter(){return D},set escapeParameter(V){D=V,L.escapeParameter=V},t:nt,getLocaleMessage:T,setLocaleMessage:I,mergeLocaleMessage:C,getPostTranslationHandler:xe,setPostTranslationHandler:qe,getMissingHandler:ce,setMissingHandler:De,[JO]:oe};return le.datetimeFormats=ie,le.numberFormats=we,le.rt=lt,le.te=fe,le.tm=P,le.d=wt,le.n=_t,le.getDateTimeFormat=M,le.setDateTimeFormat=B,le.mergeDateTimeFormat=Z,le.getNumberFormat=te,le.setNumberFormat=ae,le.mergeNumberFormat=re,le[ZO]=r,le[ly]=ye,le[fy]=z,le[hy]=$,le}function LW(e){const t=de(e.locale)?e.locale:Qa,n=de(e.fallbackLocale)||kt(e.fallbackLocale)||$e(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=Ut(e.missing)?e.missing:void 0,o=ze(e.silentTranslationWarn)||wo(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,s=ze(e.silentFallbackWarn)||wo(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,u=ze(e.fallbackRoot)?e.fallbackRoot:!0,c=!!e.formatFallbackMessages,f=$e(e.modifiers)?e.modifiers:{},d=e.pluralizationRules,g=Ut(e.postTranslation)?e.postTranslation:void 0,h=de(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,p=!!e.escapeParameterHtml,v=ze(e.sync)?e.sync:!0;let _=e.messages;if($e(e.sharedMessages)){const U=e.sharedMessages;_=Object.keys(U).reduce((Y,j)=>{const H=Y[j]||(Y[j]={});return gn(H,U[j]),Y},_||{})}const{__i18n:E,__root:S,__injectWithOption:b}=e,k=e.datetimeFormats,D=e.numberFormats,O=e.flatJson;return{locale:t,fallbackLocale:n,messages:_,flatJson:O,datetimeFormats:k,numberFormats:D,missing:r,missingWarn:o,fallbackWarn:s,fallbackRoot:u,fallbackFormat:c,modifiers:f,pluralRules:d,postTranslation:g,warnHtmlMessage:h,escapeParameter:p,messageResolver:e.messageResolver,inheritLocale:v,__i18n:E,__root:S,__injectWithOption:b}}function my(e={},t){{const n=Eb(LW(e)),{__extender:r}=e,o={id:n.id,get locale(){return n.locale.value},set locale(s){n.locale.value=s},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(s){n.fallbackLocale.value=s},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return n.getMissingHandler()},set missing(s){n.setMissingHandler(s)},get silentTranslationWarn(){return ze(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(s){n.missingWarn=ze(s)?!s:s},get silentFallbackWarn(){return ze(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(s){n.fallbackWarn=ze(s)?!s:s},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(s){n.fallbackFormat=s},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(s){n.setPostTranslationHandler(s)},get sync(){return n.inheritLocale},set sync(s){n.inheritLocale=s},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){n.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(s){n.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...s){const[u,c,f]=s,d={};let g=null,h=null;if(!de(u))throw on(zt.INVALID_ARGUMENT);const p=u;return de(c)?d.locale=c:kt(c)?g=c:$e(c)&&(h=c),kt(f)?g=f:$e(f)&&(h=f),Reflect.apply(n.t,n,[p,g||h||{},d])},rt(...s){return Reflect.apply(n.rt,n,[...s])},tc(...s){const[u,c,f]=s,d={plural:1};let g=null,h=null;if(!de(u))throw on(zt.INVALID_ARGUMENT);const p=u;return de(c)?d.locale=c:tn(c)?d.plural=c:kt(c)?g=c:$e(c)&&(h=c),de(f)?d.locale=f:kt(f)?g=f:$e(f)&&(h=f),Reflect.apply(n.t,n,[p,g||h||{},d])},te(s,u){return n.te(s,u)},tm(s){return n.tm(s)},getLocaleMessage(s){return n.getLocaleMessage(s)},setLocaleMessage(s,u){n.setLocaleMessage(s,u)},mergeLocaleMessage(s,u){n.mergeLocaleMessage(s,u)},d(...s){return Reflect.apply(n.d,n,[...s])},getDateTimeFormat(s){return n.getDateTimeFormat(s)},setDateTimeFormat(s,u){n.setDateTimeFormat(s,u)},mergeDateTimeFormat(s,u){n.mergeDateTimeFormat(s,u)},n(...s){return Reflect.apply(n.n,n,[...s])},getNumberFormat(s){return n.getNumberFormat(s)},setNumberFormat(s,u){n.setNumberFormat(s,u)},mergeNumberFormat(s,u){n.mergeNumberFormat(s,u)},getChoiceIndex(s,u){return-1}};return o.__extender=r,o}}const Ib={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function MW({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,o)=>[...r,...o.type===Vt?o.children:[o]],[]):t.reduce((n,r)=>{const o=e[r];return o&&(n[r]=o()),n},{})}function nR(e){return Vt}const FW=Eo({name:"i18n-t",props:gn({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>tn(e)||!isNaN(e)}},Ib),setup(e,t){const{slots:n,attrs:r}=t,o=e.i18n||Tb({useScope:e.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(h=>h!=="_"),u={};e.locale&&(u.locale=e.locale),e.plural!==void 0&&(u.plural=de(e.plural)?+e.plural:e.plural);const c=MW(t,s),f=o[ly](e.keypath,c,u),d=gn({},r),g=de(e.tag)||dt(e.tag)?e.tag:nR();return Ci(g,d,f)}}}),AA=FW;function UW(e){return kt(e)&&!de(e[0])}function rR(e,t,n,r){const{slots:o,attrs:s}=t;return()=>{const u={part:!0};let c={};e.locale&&(u.locale=e.locale),de(e.format)?u.key=e.format:dt(e.format)&&(de(e.format.key)&&(u.key=e.format.key),c=Object.keys(e.format).reduce((p,v)=>n.includes(v)?gn({},p,{[v]:e.format[v]}):p,{}));const f=r(e.value,u,c);let d=[u.key];kt(f)?d=f.map((p,v)=>{const _=o[p.type],E=_?_({[p.type]:p.value,index:v,parts:f}):[p.value];return UW(E)&&(E[0].key=`${p.type}-${v}`),E}):de(f)&&(d=[f]);const g=gn({},s),h=de(e.tag)||dt(e.tag)?e.tag:nR();return Ci(h,g,d)}}const VW=Eo({name:"i18n-n",props:gn({value:{type:Number,required:!0},format:{type:[String,Object]}},Ib),setup(e,t){const n=e.i18n||Tb({useScope:"parent",__useComponent:!0});return rR(e,t,YO,(...r)=>n[hy](...r))}}),kA=VW,jW=Eo({name:"i18n-d",props:gn({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Ib),setup(e,t){const n=e.i18n||Tb({useScope:"parent",__useComponent:!0});return rR(e,t,zO,(...r)=>n[fy](...r))}}),NA=jW;function BW(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function $W(e){const t=u=>{const{instance:c,modifiers:f,value:d}=u;if(!c||!c.$)throw on(zt.UNEXPECTED_ERROR);const g=BW(e,c.$),h=CA(d);return[Reflect.apply(g.t,g,[...OA(h)]),g]};return{created:(u,c)=>{const[f,d]=t(c);iy&&e.global===d&&(u.__i18nWatcher=Sn(d.locale,()=>{c.instance&&c.instance.$forceUpdate()})),u.__composer=d,u.textContent=f},unmounted:u=>{iy&&u.__i18nWatcher&&(u.__i18nWatcher(),u.__i18nWatcher=void 0,delete u.__i18nWatcher),u.__composer&&(u.__composer=void 0,delete u.__composer)},beforeUpdate:(u,{value:c})=>{if(u.__composer){const f=u.__composer,d=CA(c);u.textContent=Reflect.apply(f.t,f,[...OA(d)])}},getSSRProps:u=>{const[c]=t(u);return{textContent:c}}}}function CA(e){if(de(e))return{path:e};if($e(e)){if(!("path"in e))throw on(zt.REQUIRED_VALUE,"path");return e}else throw on(zt.INVALID_VALUE)}function OA(e){const{path:t,locale:n,args:r,choice:o,plural:s}=e,u={},c=r||{};return de(n)&&(u.locale=n),tn(o)&&(u.plural=o),tn(s)&&(u.plural=s),[t,c,u]}function qW(e,t,...n){const r=$e(n[0])?n[0]:{},o=!!r.useI18nComponentName;(ze(r.globalInstall)?r.globalInstall:!0)&&([o?"i18n":AA.name,"I18nT"].forEach(u=>e.component(u,AA)),[kA.name,"I18nN"].forEach(u=>e.component(u,kA)),[NA.name,"I18nD"].forEach(u=>e.component(u,NA))),e.directive("t",$W(t))}function HW(e,t,n){return{beforeCreate(){const r=ui();if(!r)throw on(zt.UNEXPECTED_ERROR);const o=this.$options;if(o.i18n){const s=o.i18n;if(o.__i18n&&(s.__i18n=o.__i18n),s.__root=t,this===this.$root)this.$i18n=RA(e,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=my(s);const u=this.$i18n;u.__extender&&(u.__disposer=u.__extender(this.$i18n))}}else if(o.__i18n)if(this===this.$root)this.$i18n=RA(e,o);else{this.$i18n=my({__i18n:o.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=e;o.__i18nGlobal&&tR(t,o,o),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,u)=>this.$i18n.te(s,u),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=ui();if(!r)throw on(zt.UNEXPECTED_ERROR);const o=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,o.__disposer&&(o.__disposer(),delete o.__disposer,delete o.__extender),n.__deleteInstance(r),delete this.$i18n}}}function RA(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[JO](t.pluralizationRules||e.pluralizationRules);const n=Gd(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(r=>e.mergeLocaleMessage(r,n[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const KW=Oo("global-vue-i18n");function GW(e={},t){const n=__VUE_I18N_LEGACY_API__&&ze(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=ze(e.globalInjection)?e.globalInjection:!0,o=__VUE_I18N_LEGACY_API__&&n?!!e.allowComposition:!0,s=new Map,[u,c]=WW(e,n),f=Oo("");function d(p){return s.get(p)||null}function g(p,v){s.set(p,v)}function h(p){s.delete(p)}{const p={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return o},async install(v,..._){if(v.__VUE_I18N_SYMBOL__=f,v.provide(v.__VUE_I18N_SYMBOL__,p),$e(_[0])){const b=_[0];p.__composerExtend=b.__composerExtend,p.__vueI18nExtend=b.__vueI18nExtend}let E=null;!n&&r&&(E=n6(v,p.global)),__VUE_I18N_FULL_INSTALL__&&qW(v,p,..._),__VUE_I18N_LEGACY_API__&&n&&v.mixin(HW(c,c.__composer,p));const S=v.unmount;v.unmount=()=>{E&&E(),p.dispose(),S()}},get global(){return c},dispose(){u.stop()},__instances:s,__getInstance:d,__setInstance:g,__deleteInstance:h};return p}}function Tb(e={}){const t=ui();if(t==null)throw on(zt.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw on(zt.NOT_INSTALLED);const n=zW(t),r=XW(n),o=eR(t),s=YW(e,o);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!e.__useComponent){if(!n.allowComposition)throw on(zt.NOT_AVAILABLE_IN_LEGACY_MODE);return e6(t,s,r,e)}if(s==="global")return tR(r,e,o),r;if(s==="parent"){let f=QW(n,t,e.__useComponent);return f==null&&(f=r),f}const u=n;let c=u.__getInstance(t);if(c==null){const f=gn({},e);"__i18n"in o&&(f.__i18n=o.__i18n),r&&(f.__root=r),c=Eb(f),u.__composerExtend&&(c[dy]=u.__composerExtend(c)),ZW(u,t,c),u.__setInstance(t,c)}return c}function WW(e,t,n){const r=by();{const o=__VUE_I18N_LEGACY_API__&&t?r.run(()=>my(e)):r.run(()=>Eb(e));if(o==null)throw on(zt.UNEXPECTED_ERROR);return[r,o]}}function zW(e){{const t=dr(e.isCE?KW:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw on(e.isCE?zt.NOT_INSTALLED_WITH_PROVIDE:zt.UNEXPECTED_ERROR);return t}}function YW(e,t){return Hd(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function XW(e){return e.mode==="composition"?e.global:e.global.__composer}function QW(e,t,n=!1){let r=null;const o=t.root;let s=JW(t,n);for(;s!=null;){const u=e;if(e.mode==="composition")r=u.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const c=u.__getInstance(s);c!=null&&(r=c.__composer,n&&r&&!r[ZO]&&(r=null))}if(r!=null||o===s)break;s=s.parent}return r}function JW(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function ZW(e,t,n){Qc(()=>{},t),Dy(()=>{const r=n;e.__deleteInstance(t);const o=r[dy];o&&(o(),delete r[dy])},t)}function e6(e,t,n,r={}){const o=t==="local",s=Cy(null);if(o&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw on(zt.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const u=ze(r.inheritLocale)?r.inheritLocale:!de(r.locale),c=St(!o||u?n.locale.value:de(r.locale)?r.locale:Qa),f=St(!o||u?n.fallbackLocale.value:de(r.fallbackLocale)||kt(r.fallbackLocale)||$e(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:c.value),d=St(Gd(c.value,r)),g=St($e(r.datetimeFormats)?r.datetimeFormats:{[c.value]:{}}),h=St($e(r.numberFormats)?r.numberFormats:{[c.value]:{}}),p=o?n.missingWarn:ze(r.missingWarn)||wo(r.missingWarn)?r.missingWarn:!0,v=o?n.fallbackWarn:ze(r.fallbackWarn)||wo(r.fallbackWarn)?r.fallbackWarn:!0,_=o?n.fallbackRoot:ze(r.fallbackRoot)?r.fallbackRoot:!0,E=!!r.fallbackFormat,S=Ut(r.missing)?r.missing:null,b=Ut(r.postTranslation)?r.postTranslation:null,k=o?n.warnHtmlMessage:ze(r.warnHtmlMessage)?r.warnHtmlMessage:!0,D=!!r.escapeParameter,O=o?n.modifiers:$e(r.modifiers)?r.modifiers:{},U=r.pluralRules||o&&n.pluralRules;function L(){return[c.value,f.value,d.value,g.value,h.value]}const Y=Le({get:()=>s.value?s.value.locale.value:c.value,set:I=>{s.value&&(s.value.locale.value=I),c.value=I}}),j=Le({get:()=>s.value?s.value.fallbackLocale.value:f.value,set:I=>{s.value&&(s.value.fallbackLocale.value=I),f.value=I}}),H=Le(()=>s.value?s.value.messages.value:d.value),x=Le(()=>g.value),Ie=Le(()=>h.value);function ie(){return s.value?s.value.getPostTranslationHandler():b}function we(I){s.value&&s.value.setPostTranslationHandler(I)}function xe(){return s.value?s.value.getMissingHandler():S}function qe(I){s.value&&s.value.setMissingHandler(I)}function ce(I){return L(),I()}function De(...I){return s.value?ce(()=>Reflect.apply(s.value.t,null,[...I])):ce(()=>"")}function pe(...I){return s.value?Reflect.apply(s.value.rt,null,[...I]):""}function nt(...I){return s.value?ce(()=>Reflect.apply(s.value.d,null,[...I])):ce(()=>"")}function lt(...I){return s.value?ce(()=>Reflect.apply(s.value.n,null,[...I])):ce(()=>"")}function wt(I){return s.value?s.value.tm(I):{}}function _t(I,C){return s.value?s.value.te(I,C):!1}function st(I){return s.value?s.value.getLocaleMessage(I):{}}function Jt(I,C){s.value&&(s.value.setLocaleMessage(I,C),d.value[I]=C)}function ve(I,C){s.value&&s.value.mergeLocaleMessage(I,C)}function ye(I){return s.value?s.value.getDateTimeFormat(I):{}}function $(I,C){s.value&&(s.value.setDateTimeFormat(I,C),g.value[I]=C)}function z(I,C){s.value&&s.value.mergeDateTimeFormat(I,C)}function oe(I){return s.value?s.value.getNumberFormat(I):{}}function fe(I,C){s.value&&(s.value.setNumberFormat(I,C),h.value[I]=C)}function Se(I,C){s.value&&s.value.mergeNumberFormat(I,C)}const P={get id(){return s.value?s.value.id:-1},locale:Y,fallbackLocale:j,messages:H,datetimeFormats:x,numberFormats:Ie,get inheritLocale(){return s.value?s.value.inheritLocale:u},set inheritLocale(I){s.value&&(s.value.inheritLocale=I)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(d.value)},get modifiers(){return s.value?s.value.modifiers:O},get pluralRules(){return s.value?s.value.pluralRules:U},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:p},set missingWarn(I){s.value&&(s.value.missingWarn=I)},get fallbackWarn(){return s.value?s.value.fallbackWarn:v},set fallbackWarn(I){s.value&&(s.value.missingWarn=I)},get fallbackRoot(){return s.value?s.value.fallbackRoot:_},set fallbackRoot(I){s.value&&(s.value.fallbackRoot=I)},get fallbackFormat(){return s.value?s.value.fallbackFormat:E},set fallbackFormat(I){s.value&&(s.value.fallbackFormat=I)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:k},set warnHtmlMessage(I){s.value&&(s.value.warnHtmlMessage=I)},get escapeParameter(){return s.value?s.value.escapeParameter:D},set escapeParameter(I){s.value&&(s.value.escapeParameter=I)},t:De,getPostTranslationHandler:ie,setPostTranslationHandler:we,getMissingHandler:xe,setMissingHandler:qe,rt:pe,d:nt,n:lt,tm:wt,te:_t,getLocaleMessage:st,setLocaleMessage:Jt,mergeLocaleMessage:ve,getDateTimeFormat:ye,setDateTimeFormat:$,mergeDateTimeFormat:z,getNumberFormat:oe,setNumberFormat:fe,mergeNumberFormat:Se};function T(I){I.locale.value=c.value,I.fallbackLocale.value=f.value,Object.keys(d.value).forEach(C=>{I.mergeLocaleMessage(C,d.value[C])}),Object.keys(g.value).forEach(C=>{I.mergeDateTimeFormat(C,g.value[C])}),Object.keys(h.value).forEach(C=>{I.mergeNumberFormat(C,h.value[C])}),I.escapeParameter=D,I.fallbackFormat=E,I.fallbackRoot=_,I.fallbackWarn=v,I.missingWarn=p,I.warnHtmlMessage=k}return m1(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw on(zt.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const I=s.value=e.proxy.$i18n.__composer;t==="global"?(c.value=I.locale.value,f.value=I.fallbackLocale.value,d.value=I.messages.value,g.value=I.datetimeFormats.value,h.value=I.numberFormats.value):o&&T(I)}),P}const t6=["locale","fallbackLocale","availableLocales"],PA=["t","rt","d","n","tm","te"];function n6(e,t){const n=Object.create(null);return t6.forEach(o=>{const s=Object.getOwnPropertyDescriptor(t,o);if(!s)throw on(zt.UNEXPECTED_ERROR);const u=gt(s.value)?{get(){return s.value.value},set(c){s.value.value=c}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,o,u)}),e.config.globalProperties.$i18n=n,PA.forEach(o=>{const s=Object.getOwnPropertyDescriptor(t,o);if(!s||!s.value)throw on(zt.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${o}`,s)}),()=>{delete e.config.globalProperties.$i18n,PA.forEach(o=>{delete e.config.globalProperties[`$${o}`]})}}xW();__INTLIFY_JIT_COMPILATION__?fA(kW):fA(AW);bW(tW);wW(FO);if(__INTLIFY_PROD_DEVTOOLS__){const e=bi();e.__INTLIFY__=!0,lW(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const r6={listen:"Listen to Great Music!"},i6={comment_count:"No comments | 1 comment | {count} comments"},o6={home:r6,song:i6},s6={listen:"Oua Msica Incrvel!"},a6={home:s6},u6=GW({locale:"en",fallbackLocale:"pt_br",messages:{en:o6,pt_br:a6},numberFormats:{en:{currency:{style:"currency",currency:"USD"}},pt_br:{currency:{style:"currency",currency:"BRL"}}}});let Qi;Br.onAuthStateChanged(()=>{Qi||(Qi=AF(f4),Qi.use(CF()),Qi.use(AO),Qi.use(u6),Qi.use(cG),Qi.directive("icon",lG),Qi.mount("#app"))});
